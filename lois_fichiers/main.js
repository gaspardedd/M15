function ECB(a,b){this.count=a,this.dataCodewords=b,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}function ECBlocks(a,b,c){this.ecCodewordsPerBlock=a,this.ecBlocks=c?new Array(b,c):new Array(b),this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var a=0,b=0;b<this.ecBlocks.length;b++)a+=this.ecBlocks[b].length;return a}),this.getECBlocks=function(){return this.ecBlocks}}function Version(a,b,c,d,e,f){this.versionNumber=a,this.alignmentPatternCenters=b,this.ecBlocks=new Array(c,d,e,f);for(var g=0,h=c.ECCodewordsPerBlock,i=c.getECBlocks(),j=0;j<i.length;j++){var k=i[j];g+=k.Count*(k.DataCodewords+h)}this.totalCodewords=g,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var a=this.DimensionForVersion,b=new BitMatrix(a);b.setRegion(0,0,9,9),b.setRegion(a-8,0,8,9),b.setRegion(0,a-8,9,8);for(var c=this.alignmentPatternCenters.length,d=0;c>d;d++)for(var e=this.alignmentPatternCenters[d]-2,f=0;c>f;f++)0==d&&(0==f||f==c-1)||d==c-1&&0==f||b.setRegion(this.alignmentPatternCenters[f]-2,e,5,5);return b.setRegion(6,9,1,a-17),b.setRegion(9,6,a-17,1),this.versionNumber>6&&(b.setRegion(a-11,0,3,6),b.setRegion(0,a-11,6,3)),b},this.getECBlocksForLevel=function(a){return this.ecBlocks[a.ordinal()]}}function buildVersions(){return new Array(new Version(1,new Array,new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new Version(2,new Array(6,18),new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new Version(3,new Array(6,22),new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new Version(4,new Array(6,26),new ECBlocks(20,new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new Version(5,new Array(6,30),new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new Version(6,new Array(6,34),new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new Version(7,new Array(6,22,38),new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new Version(8,new Array(6,24,42),new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new Version(9,new Array(6,26,46),new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new Version(10,new Array(6,28,50),new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new Version(11,new Array(6,30,54),new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new Version(12,new Array(6,32,58),new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new Version(13,new Array(6,34,62),new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new Version(14,new Array(6,26,46,66),new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new Version(15,new Array(6,26,48,70),new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new Version(16,new Array(6,26,50,74),new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new Version(17,new Array(6,30,54,78),new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new Version(18,new Array(6,30,56,82),new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new Version(19,new Array(6,30,58,86),new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,new ECB(9,13),new ECB(16,14))),new Version(20,new Array(6,34,62,90),new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new Version(21,new Array(6,28,50,72,94),new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new Version(22,new Array(6,26,50,74,98),new ECBlocks(28,new ECB(2,111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new Version(23,new Array(6,30,54,74,102),new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new Version(24,new Array(6,28,54,80,106),new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new Version(25,new Array(6,32,58,84,110),new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new Version(26,new Array(6,30,58,86,114),new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),new Version(27,new Array(6,34,62,90,118),new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new Version(28,new Array(6,26,50,74,98,122),new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new Version(29,new Array(6,30,54,78,102,126),new ECBlocks(30,new ECB(7,116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new Version(30,new Array(6,26,52,78,104,130),new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new Version(31,new Array(6,30,56,82,108,134),new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new Version(32,new Array(6,34,60,86,112,138),new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new Version(33,new Array(6,30,58,86,114,142),new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,new ECB(11,15),new ECB(46,16))),new Version(34,new Array(6,34,62,90,118,146),new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new Version(35,new Array(6,30,54,78,102,126,150),new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new Version(36,new Array(6,24,50,76,102,128,154),new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new Version(37,new Array(6,28,54,80,106,132,158),new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new Version(38,new Array(6,32,58,84,110,136,162),new ECBlocks(30,new ECB(4,122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new Version(39,new Array(6,26,54,82,110,138,166),new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new Version(40,new Array(6,30,58,86,114,142,170),new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16))))}function PerspectiveTransform(a,b,c,d,e,f,g,h,i){this.a11=a,this.a12=d,this.a13=g,this.a21=b,this.a22=e,this.a23=h,this.a31=c,this.a32=f,this.a33=i,this.transformPoints1=function(a){for(var b=a.length,c=this.a11,d=this.a12,e=this.a13,f=this.a21,g=this.a22,h=this.a23,i=this.a31,j=this.a32,k=this.a33,l=0;b>l;l+=2){var m=a[l],n=a[l+1],o=e*m+h*n+k;a[l]=(c*m+f*n+i)/o,a[l+1]=(d*m+g*n+j)/o}},this.transformPoints2=function(a,b){for(var c=a.length,d=0;c>d;d++){var e=a[d],f=b[d],g=this.a13*e+this.a23*f+this.a33;a[d]=(this.a11*e+this.a21*f+this.a31)/g,b[d]=(this.a12*e+this.a22*f+this.a32)/g}},this.buildAdjoint=function(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(a){return new PerspectiveTransform(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}function DetectorResult(a,b){this.bits=a,this.points=b}function Detector(a){this.image=a,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(a,b,c,d){var e=Math.abs(d-b)>Math.abs(c-a);if(e){var f=a;a=b,b=f,f=c,c=d,d=f}for(var g=Math.abs(c-a),h=Math.abs(d-b),i=-g>>1,j=d>b?1:-1,k=c>a?1:-1,l=0,m=a,n=b;m!=c;m+=k){var o=e?n:m,p=e?m:n;if(1==l?this.image[o+p*qrcode.width]&&l++:this.image[o+p*qrcode.width]||l++,3==l){var q=m-a,r=n-b;return Math.sqrt(q*q+r*r)}if(i+=h,i>0){if(n==d)break;n+=j,i-=g}}var s=c-a,t=d-b;return Math.sqrt(s*s+t*t)},this.sizeOfBlackWhiteBlackRunBothWays=function(a,b,c,d){var e=this.sizeOfBlackWhiteBlackRun(a,b,c,d),f=1,g=a-(c-a);0>g?(f=a/(a-g),g=0):g>=qrcode.width&&(f=(qrcode.width-1-a)/(g-a),g=qrcode.width-1);var h=Math.floor(b-(d-b)*f);return f=1,0>h?(f=b/(b-h),h=0):h>=qrcode.height&&(f=(qrcode.height-1-b)/(h-b),h=qrcode.height-1),g=Math.floor(a+(g-a)*f),e+=this.sizeOfBlackWhiteBlackRun(a,b,g,h),e-1},this.calculateModuleSizeOneWay=function(a,b){var c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.X),Math.floor(a.Y),Math.floor(b.X),Math.floor(b.Y)),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(b.X),Math.floor(b.Y),Math.floor(a.X),Math.floor(a.Y));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14},this.calculateModuleSize=function(a,b,c){return(this.calculateModuleSizeOneWay(a,b)+this.calculateModuleSizeOneWay(a,c))/2},this.distance=function(a,b){return xDiff=a.X-b.X,yDiff=a.Y-b.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this.computeDimension=function(a,b,c,d){var e=Math.round(this.distance(a,b)/d),f=Math.round(this.distance(a,c)/d),g=(e+f>>1)+7;switch(3&g){case 0:g++;break;case 2:g--;break;case 3:throw"Error"}return g},this.findAlignmentInRegion=function(a,b,c,d){var e=Math.floor(d*a),f=Math.max(0,b-e),g=Math.min(qrcode.width-1,b+e);if(3*a>g-f)throw"Error";var h=Math.max(0,c-e),i=Math.min(qrcode.height-1,c+e),j=new AlignmentPatternFinder(this.image,f,h,g-f,i-h,a,this.resultPointCallback);return j.find()},this.createTransform=function(a,b,c,d,e){var f,g,h,i,j=e-3.5;null!=d?(f=d.X,g=d.Y,h=i=j-3):(f=b.X-a.X+c.X,g=b.Y-a.Y+c.Y,h=i=j);var k=PerspectiveTransform.quadrilateralToQuadrilateral(3.5,3.5,j,3.5,h,i,3.5,j,a.X,a.Y,b.X,b.Y,f,g,c.X,c.Y);return k},this.sampleGrid=function(a,b,c){var d=GridSampler;return d.sampleGrid3(a,c,b)},this.processFinderPatternInfo=function(a){var b=a.TopLeft,c=a.TopRight,d=a.BottomLeft,e=this.calculateModuleSize(b,c,d);if(1>e)throw"Error";var f=this.computeDimension(b,c,d,e),g=Version.getProvisionalVersionForDimension(f),h=g.DimensionForVersion-7,i=null;if(g.AlignmentPatternCenters.length>0)for(var j=c.X-b.X+d.X,k=c.Y-b.Y+d.Y,l=1-3/h,m=Math.floor(b.X+l*(j-b.X)),n=Math.floor(b.Y+l*(k-b.Y)),o=4;16>=o;o<<=1){i=this.findAlignmentInRegion(e,m,n,o);break}var p,q=this.createTransform(b,c,d,i,f),r=this.sampleGrid(this.image,q,f);return p=null==i?new Array(d,b,c):new Array(d,b,c,i),new DetectorResult(r,p)},this.detect=function(){var a=(new FinderPatternFinder).findFinderPattern(this.image);return this.processFinderPatternInfo(a)}}function FormatInformation(a){this.errorCorrectionLevel=ErrorCorrectionLevel.forBits(a>>3&3),this.dataMask=7&a,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(a){var b=a;return this.errorCorrectionLevel==b.errorCorrectionLevel&&this.dataMask==b.dataMask}}function ErrorCorrectionLevel(a,b,c){this.ordinal_Renamed_Field=a,this.bits=b,this.name=c,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}}function BitMatrix(a,b){if(b||(b=a),1>a||1>b)throw"Both dimensions must be greater than 0";this.width=a,this.height=b;var c=a>>5;0!=(31&a)&&c++,this.rowSize=c,this.bits=new Array(c*b);for(var d=0;d<this.bits.length;d++)this.bits[d]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(a,b){var c=b*this.rowSize+(a>>5);return 0!=(1&URShift(this.bits[c],31&a))},this.set_Renamed=function(a,b){var c=b*this.rowSize+(a>>5);this.bits[c]|=1<<(31&a)},this.flip=function(a,b){var c=b*this.rowSize+(a>>5);this.bits[c]^=1<<(31&a)},this.clear=function(){for(var a=this.bits.length,b=0;a>b;b++)this.bits[b]=0},this.setRegion=function(a,b,c,d){if(0>b||0>a)throw"Left and top must be nonnegative";if(1>d||1>c)throw"Height and width must be at least 1";var e=a+c,f=b+d;if(f>this.height||e>this.width)throw"The region must fit inside the matrix";for(var g=b;f>g;g++)for(var h=g*this.rowSize,i=a;e>i;i++)this.bits[h+(i>>5)]|=1<<(31&i)}}function DataBlock(a,b){this.numDataCodewords=a,this.codewords=b,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})}function BitMatrixParser(a){var b=a.Dimension;if(21>b||1!=(3&b))throw"Error BitMatrixParser";this.bitMatrix=a,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(a,b,c){return this.bitMatrix.get_Renamed(a,b)?c<<1|1:c<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var a=0,b=0;6>b;b++)a=this.copyBit(b,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(var c=5;c>=0;c--)a=this.copyBit(8,c,a);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(a),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var d=this.bitMatrix.Dimension;a=0;for(var e=d-8,b=d-1;b>=e;b--)a=this.copyBit(b,8,a);for(var c=d-7;d>c;c++)a=this.copyBit(8,c,a);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(a),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var a=this.bitMatrix.Dimension,b=a-17>>2;if(6>=b)return Version.getVersionForNumber(b);for(var c=0,d=a-11,e=5;e>=0;e--)for(var f=a-9;f>=d;f--)c=this.copyBit(f,e,c);if(this.parsedVersion=Version.decodeVersionInformation(c),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==a)return this.parsedVersion;c=0;for(var f=5;f>=0;f--)for(var e=a-9;e>=d;e--)c=this.copyBit(f,e,c);if(this.parsedVersion=Version.decodeVersionInformation(c),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==a)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var a=this.readFormatInformation(),b=this.readVersion(),c=DataMask.forReference(a.DataMask),d=this.bitMatrix.Dimension;c.unmaskBitMatrix(this.bitMatrix,d);for(var e=b.buildFunctionPattern(),f=!0,g=new Array(b.TotalCodewords),h=0,i=0,j=0,k=d-1;k>0;k-=2){6==k&&k--;for(var l=0;d>l;l++)for(var m=f?d-1-l:l,n=0;2>n;n++)e.get_Renamed(k-n,m)||(j++,i<<=1,this.bitMatrix.get_Renamed(k-n,m)&&(i|=1),8==j&&(g[h++]=i,j=0,i=0));f^=!0}if(h!=b.TotalCodewords)throw"Error readCodewords";return g}}function DataMask000(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==(a+b&1)}}function DataMask001(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a){return 0==(1&a)}}function DataMask010(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return b%3==0}}function DataMask011(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return(a+b)%3==0}}function DataMask100(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==(URShift(a,1)+b/3&1)}}function DataMask101(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){var c=a*b;return(1&c)+c%3==0}}function DataMask110(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){var c=a*b;return 0==((1&c)+c%3&1)}}function DataMask111(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==((a+b&1)+a*b%3&1)}}function ReedSolomonDecoder(a){this.field=a,this.decode=function(a,b){for(var c=new GF256Poly(this.field,a),d=new Array(b),e=0;e<d.length;e++)d[e]=0;for(var f=!1,g=!0,e=0;b>e;e++){var h=c.evaluateAt(this.field.exp(f?e+1:e));d[d.length-1-e]=h,0!=h&&(g=!1)}if(!g)for(var i=new GF256Poly(this.field,d),j=this.runEuclideanAlgorithm(this.field.buildMonomial(b,1),i,b),k=j[0],l=j[1],m=this.findErrorLocations(k),n=this.findErrorMagnitudes(l,m,f),e=0;e<m.length;e++){var o=a.length-1-this.field.log(m[e]);if(0>o)throw"ReedSolomonException Bad error location";a[o]=GF256.addOrSubtract(a[o],n[e])}},this.runEuclideanAlgorithm=function(a,b,c){if(a.Degree<b.Degree){var d=a;a=b,b=d}for(var e=a,f=b,g=this.field.One,h=this.field.Zero,i=this.field.Zero,j=this.field.One;f.Degree>=Math.floor(c/2);){var k=e,l=g,m=i;if(e=f,g=h,i=j,e.Zero)throw"r_{i-1} was zero";f=k;for(var n=this.field.Zero,o=e.getCoefficient(e.Degree),p=this.field.inverse(o);f.Degree>=e.Degree&&!f.Zero;){var q=f.Degree-e.Degree,r=this.field.multiply(f.getCoefficient(f.Degree),p);n=n.addOrSubtract(this.field.buildMonomial(q,r)),f=f.addOrSubtract(e.multiplyByMonomial(q,r))}h=n.multiply1(g).addOrSubtract(l),j=n.multiply1(i).addOrSubtract(m)}var s=j.getCoefficient(0);if(0==s)throw"ReedSolomonException sigmaTilde(0) was zero";var t=this.field.inverse(s),u=j.multiply2(t),v=f.multiply2(t);return new Array(u,v)},this.findErrorLocations=function(a){var b=a.Degree;if(1==b)return new Array(a.getCoefficient(1));for(var c=new Array(b),d=0,e=1;256>e&&b>d;e++)0==a.evaluateAt(e)&&(c[d]=this.field.inverse(e),d++);if(d!=b)throw"Error locator degree does not match number of roots";return c},this.findErrorMagnitudes=function(a,b,c){for(var d=b.length,e=new Array(d),f=0;d>f;f++){for(var g=this.field.inverse(b[f]),h=1,i=0;d>i;i++)f!=i&&(h=this.field.multiply(h,GF256.addOrSubtract(1,this.field.multiply(b[i],g))));e[f]=this.field.multiply(a.evaluateAt(g),this.field.inverse(h)),c&&(e[f]=this.field.multiply(e[f],g))}return e}}function GF256Poly(a,b){if(null==b||0==b.length)throw"System.ArgumentException";this.field=a;var c=b.length;if(c>1&&0==b[0]){for(var d=1;c>d&&0==b[d];)d++;if(d==c)this.coefficients=a.Zero.coefficients;else{this.coefficients=new Array(c-d);for(var e=0;e<this.coefficients.length;e++)this.coefficients[e]=0;for(var f=0;f<this.coefficients.length;f++)this.coefficients[f]=b[d+f]}}else this.coefficients=b;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(a){return this.coefficients[this.coefficients.length-1-a]},this.evaluateAt=function(a){if(0==a)return this.getCoefficient(0);var b=this.coefficients.length;if(1==a){for(var c=0,d=0;b>d;d++)c=GF256.addOrSubtract(c,this.coefficients[d]);return c}for(var e=this.coefficients[0],d=1;b>d;d++)e=GF256.addOrSubtract(this.field.multiply(a,e),this.coefficients[d]);return e},this.addOrSubtract=function(b){if(this.field!=b.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return b;if(b.Zero)return this;var c=this.coefficients,d=b.coefficients;if(c.length>d.length){var e=c;c=d,d=e}for(var f=new Array(d.length),g=d.length-c.length,h=0;g>h;h++)f[h]=d[h];for(var i=g;i<d.length;i++)f[i]=GF256.addOrSubtract(c[i-g],d[i]);return new GF256Poly(a,f)},this.multiply1=function(a){if(this.field!=a.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||a.Zero)return this.field.Zero;for(var b=this.coefficients,c=b.length,d=a.coefficients,e=d.length,f=new Array(c+e-1),g=0;c>g;g++)for(var h=b[g],i=0;e>i;i++)f[g+i]=GF256.addOrSubtract(f[g+i],this.field.multiply(h,d[i]));return new GF256Poly(this.field,f)},this.multiply2=function(a){if(0==a)return this.field.Zero;if(1==a)return this;for(var b=this.coefficients.length,c=new Array(b),d=0;b>d;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new GF256Poly(this.field,c)},this.multiplyByMonomial=function(a,b){if(0>a)throw"System.ArgumentException";if(0==b)return this.field.Zero;for(var c=this.coefficients.length,d=new Array(c+a),e=0;e<d.length;e++)d[e]=0;for(var e=0;c>e;e++)d[e]=this.field.multiply(this.coefficients[e],b);return new GF256Poly(this.field,d)},this.divide=function(a){if(this.field!=a.field)throw"GF256Polys do not have same GF256 field";if(a.Zero)throw"Divide by 0";for(var b=this.field.Zero,c=this,d=a.getCoefficient(a.Degree),e=this.field.inverse(d);c.Degree>=a.Degree&&!c.Zero;){var f=c.Degree-a.Degree,g=this.field.multiply(c.getCoefficient(c.Degree),e),h=a.multiplyByMonomial(f,g),i=this.field.buildMonomial(f,g);b=b.addOrSubtract(i),c=c.addOrSubtract(h)}return new Array(b,c)}}function GF256(a){this.expTable=new Array(256),this.logTable=new Array(256);for(var b=1,c=0;256>c;c++)this.expTable[c]=b,b<<=1,b>=256&&(b^=a);for(var c=0;255>c;c++)this.logTable[this.expTable[c]]=c;var d=new Array(1);d[0]=0,this.zero=new GF256Poly(this,new Array(d));var e=new Array(1);e[0]=1,this.one=new GF256Poly(this,new Array(e)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(a,b){if(0>a)throw"System.ArgumentException";if(0==b)return zero;for(var c=new Array(a+1),d=0;d<c.length;d++)c[d]=0;return c[0]=b,new GF256Poly(this,c)},this.exp=function(a){return this.expTable[a]},this.log=function(a){if(0==a)throw"System.ArgumentException";return this.logTable[a]},this.inverse=function(a){if(0==a)throw"System.ArithmeticException";return this.expTable[255-this.logTable[a]]},this.multiply=function(a,b){return 0==a||0==b?0:1==a?b:1==b?a:this.expTable[(this.logTable[a]+this.logTable[b])%255]}}function URShift(a,b){return a>=0?a>>b:(a>>b)+(2<<~b)}function FinderPattern(a,b,c){this.x=a,this.y=b,this.count=1,this.estimatedModuleSize=c,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(a,b,c){if(Math.abs(b-this.y)<=a&&Math.abs(c-this.x)<=a){var d=Math.abs(a-this.estimatedModuleSize);return 1>=d||d/this.estimatedModuleSize<=1}return!1}}function FinderPatternInfo(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})}function FinderPatternFinder(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(a){for(var b=0,c=0;5>c;c++){var d=a[c];if(0==d)return!1;b+=d}if(7>b)return!1;var e=Math.floor((b<<INTEGER_MATH_SHIFT)/7),f=Math.floor(e/2);return Math.abs(e-(a[0]<<INTEGER_MATH_SHIFT))<f&&Math.abs(e-(a[1]<<INTEGER_MATH_SHIFT))<f&&Math.abs(3*e-(a[2]<<INTEGER_MATH_SHIFT))<3*f&&Math.abs(e-(a[3]<<INTEGER_MATH_SHIFT))<f&&Math.abs(e-(a[4]<<INTEGER_MATH_SHIFT))<f},this.centerFromEnd=function(a,b){return b-a[4]-a[3]-a[2]/2},this.crossCheckVertical=function(a,b,c,d){for(var e=this.image,f=qrcode.height,g=this.CrossCheckStateCount,h=a;h>=0&&e[b+h*qrcode.width];)g[2]++,h--;if(0>h)return 0/0;for(;h>=0&&!e[b+h*qrcode.width]&&g[1]<=c;)g[1]++,h--;if(0>h||g[1]>c)return 0/0;for(;h>=0&&e[b+h*qrcode.width]&&g[0]<=c;)g[0]++,h--;if(g[0]>c)return 0/0;for(h=a+1;f>h&&e[b+h*qrcode.width];)g[2]++,h++;if(h==f)return 0/0;for(;f>h&&!e[b+h*qrcode.width]&&g[3]<c;)g[3]++,h++;if(h==f||g[3]>=c)return 0/0;for(;f>h&&e[b+h*qrcode.width]&&g[4]<c;)g[4]++,h++;if(g[4]>=c)return 0/0;var i=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(i-d)>=2*d?0/0:this.foundPatternCross(g)?this.centerFromEnd(g,h):0/0},this.crossCheckHorizontal=function(a,b,c,d){for(var e=this.image,f=qrcode.width,g=this.CrossCheckStateCount,h=a;h>=0&&e[h+b*qrcode.width];)g[2]++,h--;if(0>h)return 0/0;for(;h>=0&&!e[h+b*qrcode.width]&&g[1]<=c;)g[1]++,h--;if(0>h||g[1]>c)return 0/0;for(;h>=0&&e[h+b*qrcode.width]&&g[0]<=c;)g[0]++,h--;if(g[0]>c)return 0/0;for(h=a+1;f>h&&e[h+b*qrcode.width];)g[2]++,h++;if(h==f)return 0/0;for(;f>h&&!e[h+b*qrcode.width]&&g[3]<c;)g[3]++,h++;if(h==f||g[3]>=c)return 0/0;for(;f>h&&e[h+b*qrcode.width]&&g[4]<c;)g[4]++,h++;if(g[4]>=c)return 0/0;var i=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(i-d)>=d?0/0:this.foundPatternCross(g)?this.centerFromEnd(g,h):0/0},this.handlePossibleCenter=function(a,b,c){var d=a[0]+a[1]+a[2]+a[3]+a[4],e=this.centerFromEnd(a,c),f=this.crossCheckVertical(b,Math.floor(e),a[2],d);if(!isNaN(f)&&(e=this.crossCheckHorizontal(Math.floor(e),Math.floor(f),a[2],d),!isNaN(e))){for(var g=d/7,h=!1,i=this.possibleCenters.length,j=0;i>j;j++){var k=this.possibleCenters[j];if(k.aboutEquals(g,f,e)){k.incrementCount(),h=!0;break}}if(!h){var l=new FinderPattern(e,f,g);this.possibleCenters.push(l),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(l)}return!0}return!1},this.selectBestPatterns=function(){var a=this.possibleCenters.length;if(3>a)throw"Couldn't find enough finder patterns";if(a>3){for(var b=0,c=0,d=0;a>d;d++){var e=this.possibleCenters[d].EstimatedModuleSize;b+=e,c+=e*e}var f=b/a;this.possibleCenters.sort(function(a,b){var c=Math.abs(b.EstimatedModuleSize-f),d=Math.abs(a.EstimatedModuleSize-f);return d>c?-1:c==d?0:1});for(var g=Math.sqrt(c/a-f*f),h=Math.max(.2*f,g),d=0;d<this.possibleCenters.length&&this.possibleCenters.length>3;d++){var i=this.possibleCenters[d];Math.abs(i.EstimatedModuleSize-f)>h&&(this.possibleCenters.remove(d),d--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(a,b){return a.count>b.count?-1:a.count<b.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var a=this.possibleCenters.length;if(1>=a)return 0;for(var b=null,c=0;a>c;c++){var d=this.possibleCenters[c];if(d.Count>=CENTER_QUORUM){if(null!=b)return this.hasSkipped=!0,Math.floor((Math.abs(b.X-d.X)-Math.abs(b.Y-d.Y))/2);b=d}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var a=0,b=0,c=this.possibleCenters.length,d=0;c>d;d++){var e=this.possibleCenters[d];e.Count>=CENTER_QUORUM&&(a++,b+=e.EstimatedModuleSize)}if(3>a)return!1;for(var f=b/c,g=0,d=0;c>d;d++)e=this.possibleCenters[d],g+=Math.abs(e.EstimatedModuleSize-f);return.05*b>=g},this.findFinderPattern=function(a){var b=!1;this.image=a;var c=qrcode.height,d=qrcode.width,e=Math.floor(3*c/(4*MAX_MODULES));(MIN_SKIP>e||b)&&(e=MIN_SKIP);for(var f=!1,g=new Array(5),h=e-1;c>h&&!f;h+=e){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;for(var i=0,j=0;d>j;j++)if(a[j+h*qrcode.width])1==(1&i)&&i++,g[i]++;else if(0==(1&i))if(4==i)if(this.foundPatternCross(g)){var k=this.handlePossibleCenter(g,h,j);if(k)if(e=2,this.hasSkipped)f=this.haveMultiplyConfirmedCenters();else{var l=this.findRowSkip();l>g[2]&&(h+=l-g[2]-e,j=d-1)}else{do j++;while(d>j&&!a[j+h*qrcode.width]);j--}i=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,i=3;else g[++i]++;else g[i]++;if(this.foundPatternCross(g)){var k=this.handlePossibleCenter(g,h,d);k&&(e=g[0],this.hasSkipped&&(f=haveMultiplyConfirmedCenters()))
}}var m=this.selectBestPatterns();return qrcode.orderBestPatterns(m),new FinderPatternInfo(m)}}function AlignmentPattern(a,b,c){this.x=a,this.y=b,this.count=1,this.estimatedModuleSize=c,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(a,b,c){if(Math.abs(b-this.y)<=a&&Math.abs(c-this.x)<=a){var d=Math.abs(a-this.estimatedModuleSize);return 1>=d||d/this.estimatedModuleSize<=1}return!1}}function AlignmentPatternFinder(a,b,c,d,e,f,g){this.image=a,this.possibleCenters=new Array,this.startX=b,this.startY=c,this.width=d,this.height=e,this.moduleSize=f,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=g,this.centerFromEnd=function(a,b){return b-a[2]-a[1]/2},this.foundPatternCross=function(a){for(var b=this.moduleSize,c=b/2,d=0;3>d;d++)if(Math.abs(b-a[d])>=c)return!1;return!0},this.crossCheckVertical=function(a,b,c,d){var e=this.image,f=qrcode.height,g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;for(var h=a;h>=0&&e[b+h*qrcode.width]&&g[1]<=c;)g[1]++,h--;if(0>h||g[1]>c)return 0/0;for(;h>=0&&!e[b+h*qrcode.width]&&g[0]<=c;)g[0]++,h--;if(g[0]>c)return 0/0;for(h=a+1;f>h&&e[b+h*qrcode.width]&&g[1]<=c;)g[1]++,h++;if(h==f||g[1]>c)return 0/0;for(;f>h&&!e[b+h*qrcode.width]&&g[2]<=c;)g[2]++,h++;if(g[2]>c)return 0/0;var i=g[0]+g[1]+g[2];return 5*Math.abs(i-d)>=2*d?0/0:this.foundPatternCross(g)?this.centerFromEnd(g,h):0/0},this.handlePossibleCenter=function(a,b,c){var d=a[0]+a[1]+a[2],e=this.centerFromEnd(a,c),f=this.crossCheckVertical(b,Math.floor(e),2*a[1],d);if(!isNaN(f)){for(var g=(a[0]+a[1]+a[2])/3,h=this.possibleCenters.length,i=0;h>i;i++){var j=this.possibleCenters[i];if(j.aboutEquals(g,f,e))return new AlignmentPattern(e,f,g)}var k=new AlignmentPattern(e,f,g);this.possibleCenters.push(k),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(k)}return null},this.find=function(){for(var b=this.startX,e=this.height,f=b+d,g=c+(e>>1),h=new Array(0,0,0),i=0;e>i;i++){var j=g+(0==(1&i)?i+1>>1:-(i+1>>1));h[0]=0,h[1]=0,h[2]=0;for(var k=b;f>k&&!a[k+qrcode.width*j];)k++;for(var l=0;f>k;){if(a[k+j*qrcode.width])if(1==l)h[l]++;else if(2==l){if(this.foundPatternCross(h)){var m=this.handlePossibleCenter(h,j,k);if(null!=m)return m}h[0]=h[2],h[1]=1,h[2]=0,l=1}else h[++l]++;else 1==l&&l++,h[l]++;k++}if(this.foundPatternCross(h)){var m=this.handlePossibleCenter(h,j,f);if(null!=m)return m}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function QRCodeDataBlockReader(a,b,c){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=a,this.numErrorCorrectionCode=c,9>=b?this.dataLengthMode=0:b>=10&&26>=b?this.dataLengthMode=1:b>=27&&40>=b&&(this.dataLengthMode=2),this.getNextBits=function(a){var b=0;if(a<this.bitPointer+1){for(var c=0,d=0;a>d;d++)c+=1<<d;return c<<=this.bitPointer-a+1,b=(this.blocks[this.blockPointer]&c)>>this.bitPointer-a+1,this.bitPointer-=a,b}if(a<this.bitPointer+1+8){for(var e=0,d=0;d<this.bitPointer+1;d++)e+=1<<d;return b=(this.blocks[this.blockPointer]&e)<<a-(this.bitPointer+1),this.blockPointer++,b+=this.blocks[this.blockPointer]>>8-(a-(this.bitPointer+1)),this.bitPointer=this.bitPointer-a%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),b}if(a<this.bitPointer+1+16){for(var e=0,f=0,d=0;d<this.bitPointer+1;d++)e+=1<<d;var g=(this.blocks[this.blockPointer]&e)<<a-(this.bitPointer+1);this.blockPointer++;var h=this.blocks[this.blockPointer]<<a-(this.bitPointer+1+8);this.blockPointer++;for(var d=0;d<a-(this.bitPointer+1+8);d++)f+=1<<d;f<<=8-(a-(this.bitPointer+1+8));var i=(this.blocks[this.blockPointer]&f)>>8-(a-(this.bitPointer+1+8));return b=g+h+i,this.bitPointer=this.bitPointer-(a-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),b}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(a){for(var b=0;;){if(a>>b==1)break;b++}return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][b])},this.getRomanAndFigureString=function(a){var b=a,c=0,d="",e=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(b>1){c=this.getNextBits(11);var f=Math.floor(c/45),g=c%45;d+=e[f],d+=e[g],b-=2}else 1==b&&(c=this.getNextBits(6),d+=e[c],b-=1);while(b>0);return d},this.getFigureString=function(a){var b=a,c=0,d="";do b>=3?(c=this.getNextBits(10),100>c&&(d+="0"),10>c&&(d+="0"),b-=3):2==b?(c=this.getNextBits(7),10>c&&(d+="0"),b-=2):1==b&&(c=this.getNextBits(4),b-=1),d+=c;while(b>0);return d},this.get8bitByteArray=function(a){var b=a,c=0,d=new Array;do c=this.getNextBits(8),d.push(c),b--;while(b>0);return d},this.getKanjiString=function(a){var b=a,c=0,d="";do{c=getNextBits(13);var e=c%192,f=c/192,g=(f<<8)+e,h=0;h=40956>=g+33088?g+33088:g+49472,d+=String.fromCharCode(h),b--}while(b>0);return d},this.__defineGetter__("DataByte",function(){for(var a=new Array,b=1,c=2,d=4,e=8;;){var f=this.NextMode();if(0==f){if(a.length>0)break;throw"Empty data block"}if(f!=b&&f!=c&&f!=d&&f!=e)throw"Invalid mode: "+f+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(dataLength=this.getDataLength(f),1>dataLength)throw"Invalid data length: "+dataLength;switch(f){case b:for(var g=this.getFigureString(dataLength),h=new Array(g.length),i=0;i<g.length;i++)h[i]=g.charCodeAt(i);a.push(h);break;case c:for(var g=this.getRomanAndFigureString(dataLength),h=new Array(g.length),i=0;i<g.length;i++)h[i]=g.charCodeAt(i);a.push(h);break;case d:var j=this.get8bitByteArray(dataLength);a.push(j);break;case e:var g=this.getKanjiString(dataLength);a.push(g)}}return a})}require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"/Gy1bM":[function(a,b){(function(c){(function(){c.$=a("jquery"),c.Backbone=a("backbone"),c._=a("underscore"),function(){"use strict";var a,b=[];Backbone.NestedModel=Backbone.Model.extend({get:function(a){var b,c=Backbone.NestedModel.attrPath(a);return Backbone.NestedModel.walkPath(this.attributes,c,function(a,d){var e=_.last(d);d.length===c.length&&(b=a[e])}),b},has:function(a){var b=this.get(a);return!(null===b||_.isUndefined(b))},set:function(b,c,d){var e,f,g,h=Backbone.NestedModel.deepClone(this.attributes);if(_.isString(b)?e=Backbone.NestedModel.attrPath(b):_.isArray(b)&&(e=b),e)d=d||{},this._setAttr(h,e,c,d);else{d=c||{};var i=b;for(var j in i)i.hasOwnProperty(j)&&this._setAttr(h,Backbone.NestedModel.attrPath(j),d.unset?void 0:i[j],d)}return a=Backbone.NestedModel.__super__.changedAttributes.call(this),d.unset&&e&&1===e.length?(f={},f[b]=void 0,a=_.omit(a,_.keys(f)),g=Backbone.NestedModel.__super__.set.call(this,f,d)):(f=h,d.unset&&e?(d=_.extend({},d),delete d.unset):d.unset&&_.isObject(b)&&(f=b),a=_.omit(a,_.keys(f)),g=Backbone.NestedModel.__super__.set.call(this,f,d)),g?(this._runDelayedTriggers(),this):(this.changed={},a={},!1)},unset:function(a,b){return this.set(a,void 0,_.extend({},b,{unset:!0}))},clear:function(b){a={},b=b||{};var c=_.clone(this.attributes);if(!b.silent&&this.validate&&!this.validate(c,b))return!1;var d=this.changed={},e=this,f=function(a,b,c){_.each(a,function(g,h){var i=b;_.isArray(a)?i+="["+h+"]":b?i+="."+h:i=h,g=a[h],_.isObject(g)&&f(g,i,c),c.silent||e._delayedChange(i,null,c),d[i]=null})};return f(this.attributes,"",b),this.attributes={},b.silent||this._delayedTrigger("change"),this._runDelayedTriggers(),this},add:function(a,b,c){var d=this.get(a);if(!_.isArray(d))throw new Error("current value is not an array");return this.set(a+"["+d.length+"]",b,c)},remove:function(a,b){b=b||{};var c=Backbone.NestedModel.attrPath(a),d=_.initial(c),e=this.get(d),f=_.last(c);if(!_.isArray(e))throw new Error("remove() must be called on a nested array");var g=!b.silent&&e.length>=f+1,h=e[f];if(e.splice(f,1),b.silent=!0,this.set(d,e,b),g){a=Backbone.NestedModel.createAttrStr(d),this.trigger("remove:"+a,this,h);for(var i=d.length;i>=1;i--)a=Backbone.NestedModel.createAttrStr(_.first(d,i)),this.trigger("change:"+a,this,h);this.trigger("change",this,h)}return this},changedAttributes:function(b){var c=Backbone.NestedModel.__super__.changedAttributes.call(this,b);return _.isObject(c)?_.extend({},a,c):!1},toJSON:function(){return Backbone.NestedModel.deepClone(this.attributes)},_delayedTrigger:function(){b.push(arguments)},_delayedChange:function(a,b,c){this._delayedTrigger("change:"+a,this,b,c),this.changed||(this.changed={}),this.changed[a]=b},_runDelayedTriggers:function(){for(;b.length>0;)this.trigger.apply(this,b.shift())},_setAttr:function(a,b,c,d){d=d||{};var e=b.length,f=this;Backbone.NestedModel.walkPath(a,b,function(a,g){var h=_.last(g),i=Backbone.NestedModel.createAttrStr(g),j=!_.isEqual(a[h],c);if(g.length===e){if(d.unset){if(delete a[h],_.isArray(a)){var k=Backbone.NestedModel.createAttrStr(_.initial(b));f._delayedTrigger("remove:"+k,f,a[h])}}else a[h]=c;if(!d.silent&&_.isObject(c)&&j){var l=[],m=function(a,b){if(!(_.indexOf(l,a)>-1)){l.push(a);var c,e;for(var g in a)a.hasOwnProperty(g)&&(c=b+"."+g,e=a[g],_.isEqual(f.get(c),e)||f._delayedChange(c,e,d),_.isObject(e)&&m(e,c))}};m(c,i)}}else a[h]||(a[h]=_.isNumber(h)?[]:{});d.silent||(g.length>1&&j&&f._delayedChange(i,a[h],d),_.isArray(a[h])&&f._delayedTrigger("add:"+i,f,a[h]))})}},{attrPath:function(a){var b;return _.isString(a)?(b=""===a?[""]:a.match(/[^\.\[\]]+/g),b=_.map(b,function(a){return a.match(/^\d+$/)?parseInt(a,10):a})):b=a,b},createAttrStr:function(a){var b=a[0];return _.each(_.rest(a),function(a){b+=_.isNumber(a)?"["+a+"]":"."+a}),b},deepClone:function(a){return $.extend(!0,{},a)},walkPath:function(a,b,c,d){for(var e,f=a,g=0;g<b.length&&(c.call(d||this,f,b.slice(0,g+1)),e=b[g],f=f[e],f);g++);}})}()}).call(c,b,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{backbone:"vjmgVM",jquery:"fbqNuu",underscore:"tgXgDt"}],"backbone-nested":[function(a,b){b.exports=a("/Gy1bM")},{}],backbone:[function(a,b){b.exports=a("vjmgVM")},{}],vjmgVM:[function(a,b){(function(c){(function(b,d,e,f){c.underscore=a("underscore"),c.$=a("jquery"),function(b,c){if("function"==typeof e&&e.amd)e(["underscore","jquery","exports"],function(a,d,e){b.Backbone=c(b,e,a,d)});else if("undefined"!=typeof d){var f=a("underscore");c(b,d,f)}else b.Backbone=c(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(this,function(a,b,c,d){{var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice}b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),f("undefined"!=typeof Backbone?Backbone:window.Backbone)}).call(c,void 0,void 0,void 0,function(a){b.exports=a})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:"fbqNuu",underscore:"tgXgDt"}],jquery:[function(a,b){b.exports=a("fbqNuu")},{}],fbqNuu:[function(a,b){(function(a){(function(a,b,c,d){!function(b,c){"object"==typeof a&&"object"==typeof a.exports?a.exports=b.document?c(b,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(b)}("undefined"!=typeof window?window:this,function(a,b){function d(a){var b=a.length,c=gb.type(a);return"function"===c||gb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function e(a,b,c){if(gb.isFunction(b))return gb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return gb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ob.test(b))return gb.filter(b,a,c);b=gb.filter(b,a)}return gb.grep(a,function(a){return gb.inArray(a,b)>=0!==c})}function f(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function g(a){var b=wb[a]={};return gb.each(a.match(vb)||[],function(a,c){b[c]=!0}),b}function h(){qb.addEventListener?(qb.removeEventListener("DOMContentLoaded",i,!1),a.removeEventListener("load",i,!1)):(qb.detachEvent("onreadystatechange",i),a.detachEvent("onload",i))}function i(){(qb.addEventListener||"load"===event.type||"complete"===qb.readyState)&&(h(),gb.ready())}function j(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Bb,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Ab.test(c)?gb.parseJSON(c):c}catch(e){}gb.data(a,b,c)}else c=void 0}return c}function k(a){var b;for(b in a)if(("data"!==b||!gb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function l(a,b,c,d){if(gb.acceptData(a)){var e,f,g=gb.expando,h=a.nodeType,i=h?gb.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=X.pop()||gb.guid++:g),i[j]||(i[j]=h?{}:{toJSON:gb.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=gb.extend(i[j],b):i[j].data=gb.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[gb.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[gb.camelCase(b)])):e=f,e
}}function m(a,b,c){if(gb.acceptData(a)){var d,e,f=a.nodeType,g=f?gb.cache:a,h=f?a[gb.expando]:gb.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){gb.isArray(b)?b=b.concat(gb.map(b,gb.camelCase)):b in d?b=[b]:(b=gb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!k(d):!gb.isEmptyObject(d))return}(c||(delete g[h].data,k(g[h])))&&(f?gb.cleanData([a],!0):eb.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function n(){return!0}function o(){return!1}function p(){try{return qb.activeElement}catch(a){}}function q(a){var b=Mb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function r(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==zb?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==zb?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||gb.nodeName(d,b)?f.push(d):gb.merge(f,r(d,b));return void 0===b||b&&gb.nodeName(a,b)?gb.merge([a],f):f}function s(a){Gb.test(a.type)&&(a.defaultChecked=a.checked)}function t(a,b){return gb.nodeName(a,"table")&&gb.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function u(a){return a.type=(null!==gb.find.attr(a,"type"))+"/"+a.type,a}function v(a){var b=Xb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function w(a,b){for(var c,d=0;null!=(c=a[d]);d++)gb._data(c,"globalEval",!b||gb._data(b[d],"globalEval"))}function x(a,b){if(1===b.nodeType&&gb.hasData(a)){var c,d,e,f=gb._data(a),g=gb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)gb.event.add(b,c,h[c][d])}g.data&&(g.data=gb.extend({},g.data))}}function y(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!eb.noCloneEvent&&b[gb.expando]){e=gb._data(b);for(d in e.events)gb.removeEvent(b,d,e.handle);b.removeAttribute(gb.expando)}"script"===c&&b.text!==a.text?(u(b).text=a.text,v(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),eb.html5Clone&&a.innerHTML&&!gb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Gb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function z(b,c){var d=gb(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:gb.css(d[0],"display");return d.detach(),e}function A(a){var b=qb,c=bc[a];return c||(c=z(a,b),"none"!==c&&c||(ac=(ac||gb("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(ac[0].contentWindow||ac[0].contentDocument).document,b.write(),b.close(),c=z(a,b),ac.detach()),bc[a]=c),c}function B(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=oc.length;e--;)if(b=oc[e]+c,b in a)return b;return d}function D(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=gb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Eb(d)&&(f[g]=gb._data(d,"olddisplay",A(d.nodeName)))):f[g]||(e=Eb(d),(c&&"none"!==c||!e)&&gb._data(d,"olddisplay",e?c:gb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function E(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function F(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=gb.css(a,c+Db[f],!0,e)),d?("content"===c&&(g-=gb.css(a,"padding"+Db[f],!0,e)),"margin"!==c&&(g-=gb.css(a,"border"+Db[f]+"Width",!0,e))):(g+=gb.css(a,"padding"+Db[f],!0,e),"padding"!==c&&(g+=gb.css(a,"border"+Db[f]+"Width",!0,e)));return g}function G(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=cc(a),g=eb.boxSizing()&&"border-box"===gb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=dc(a,b,f),(0>e||null==e)&&(e=a.style[b]),fc.test(e))return e;d=g&&(eb.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+F(a,b,c||(g?"border":"content"),d,f)+"px"}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return setTimeout(function(){pc=void 0}),pc=gb.now()}function J(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Db[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function K(a,b,c){for(var d,e=(vc[b]||[]).concat(vc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Eb(a),p=gb._data(a,"fxshow");c.queue||(h=gb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,gb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=gb.css(a,"display"),k=A(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===gb.css(a,"float")&&(eb.inlineBlockNeedsLayout&&"inline"!==k?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",eb.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],rc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||gb.style(a,d)}if(!gb.isEmptyObject(m)){p?"hidden"in p&&(o=p.hidden):p=gb._data(a,"fxshow",{}),f&&(p.hidden=!o),o?gb(a).show():l.done(function(){gb(a).hide()}),l.done(function(){var b;gb._removeData(a,"fxshow");for(b in m)gb.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=gb.camelCase(c),e=b[d],f=a[c],gb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=gb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=uc.length,h=gb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=pc||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:gb.extend({},b),opts:gb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:pc||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=gb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);g>f;f++)if(d=uc[f].call(j,a,k,j.opts))return d;return gb.map(k,K,j),gb.isFunction(j.opts.start)&&j.opts.start.call(a,j),gb.fx.timer(gb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(vb)||[];if(gb.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function P(a,b,c,d){function e(h){var i;return f[h]=!0,gb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Tc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function Q(a,b){var c,d,e=gb.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&gb.extend(!0,a,c),a}function R(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function S(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function T(a,b,c,d){var e;if(gb.isArray(b))gb.each(b,function(b,e){c||Xc.test(a)?d(a,e):T(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==gb.type(b))d(a,b);else for(e in b)T(a+"["+e+"]",b[e],c,d)}function U(){try{return new a.XMLHttpRequest}catch(b){}}function V(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function W(a){return gb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var X=[],Y=X.slice,Z=X.concat,$=X.push,_=X.indexOf,ab={},bb=ab.toString,cb=ab.hasOwnProperty,db="".trim,eb={},fb="1.11.0",gb=function(a,b){return new gb.fn.init(a,b)},hb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ib=/^-ms-/,jb=/-([\da-z])/gi,kb=function(a,b){return b.toUpperCase()};gb.fn=gb.prototype={jquery:fb,constructor:gb,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=gb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return gb.each(this,a,b)},map:function(a){return this.pushStack(gb.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:X.sort,splice:X.splice},gb.extend=gb.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||gb.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(gb.isPlainObject(c)||(b=gb.isArray(c)))?(b?(b=!1,f=a&&gb.isArray(a)?a:[]):f=a&&gb.isPlainObject(a)?a:{},g[d]=gb.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},gb.extend({expando:"jQuery"+(fb+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===gb.type(a)},isArray:Array.isArray||function(a){return"array"===gb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==gb.type(a)||a.nodeType||gb.isWindow(a))return!1;try{if(a.constructor&&!cb.call(a,"constructor")&&!cb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(eb.ownLast)for(b in a)return cb.call(a,b);for(b in a);return void 0===b||cb.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ab[bb.call(a)]||"object":typeof a},globalEval:function(b){b&&gb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ib,"ms-").replace(jb,kb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=d(a);if(c){if(h)for(;g>f&&(e=b.apply(a[f],c),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:db&&!db.call("﻿ ")?function(a){return null==a?"":db.call(a)}:function(a){return null==a?"":(a+"").replace(hb,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?gb.merge(c,"string"==typeof a?[a]:a):$.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(_)return _.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,c),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&i.push(e);return Z.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),gb.isFunction(a)?(c=Y.call(arguments,2),d=function(){return a.apply(b||this,c.concat(Y.call(arguments)))},d.guid=a.guid=a.guid||gb.guid++,d):void 0},now:function(){return+new Date},support:eb}),gb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ab["[object "+b+"]"]=b.toLowerCase()});var lb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(o=l=N,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(ub,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=tb.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return _.apply(c,p.querySelectorAll(q)),c}catch(r){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>y.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in y.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):_.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){if(b=(y.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return _.apply(c,d),c;break}}return B(a,j)(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")"+db+"*(?:([*^$|!~]?=)"+db+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fb+")|)|)"+db+"*\\]",hb=":("+eb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+gb.replace(3,8)+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!A(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=rb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!x.detectDuplicates,D=!x.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c},y=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&mb.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(U).join("")===N,x.detectDuplicates=!!E,F(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);gb.find=lb,gb.expr=lb.selectors,gb.expr[":"]=gb.expr.pseudos,gb.unique=lb.uniqueSort,gb.text=lb.getText,gb.isXMLDoc=lb.isXML,gb.contains=lb.contains;var mb=gb.expr.match.needsContext,nb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ob=/^.[^:#\[\.,]*$/;gb.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?gb.find.matchesSelector(d,a)?[d]:[]:gb.find.matches(a,gb.grep(b,function(a){return 1===a.nodeType}))},gb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(gb(a).filter(function(){for(b=0;e>b;b++)if(gb.contains(d[b],this))return!0
}));for(b=0;e>b;b++)gb.find(a,d[b],c);return c=this.pushStack(e>1?gb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&mb.test(a)?gb(a):a||[],!1).length}});var pb,qb=a.document,rb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,sb=gb.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:rb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||pb).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof gb?b[0]:b,gb.merge(this,gb.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:qb,!0)),nb.test(c[1])&&gb.isPlainObject(b))for(c in b)gb.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=qb.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return pb.find(a);this.length=1,this[0]=d}return this.context=qb,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):gb.isFunction(a)?"undefined"!=typeof pb.ready?pb.ready(a):a(gb):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),gb.makeArray(a,this))};sb.prototype=gb.fn,pb=gb(qb);var tb=/^(?:parents|prev(?:Until|All))/,ub={children:!0,contents:!0,next:!0,prev:!0};gb.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!gb(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),gb.fn.extend({has:function(a){var b,c=gb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(gb.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=mb.test(a)||"string"!=typeof a?gb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&gb.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?gb.unique(f):f)},index:function(a){return a?"string"==typeof a?gb.inArray(this[0],gb(a)):gb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(gb.unique(gb.merge(this.get(),gb(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),gb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return gb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return gb.dir(a,"parentNode",c)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return gb.dir(a,"nextSibling")},prevAll:function(a){return gb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return gb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return gb.dir(a,"previousSibling",c)},siblings:function(a){return gb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return gb.sibling(a.firstChild)},contents:function(a){return gb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:gb.merge([],a.childNodes)}},function(a,b){gb.fn[a]=function(c,d){var e=gb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=gb.filter(d,e)),this.length>1&&(ub[a]||(e=gb.unique(e)),tb.test(a)&&(e=e.reverse())),this.pushStack(e)}});var vb=/\S+/g,wb={};gb.Callbacks=function(a){a="string"==typeof a?wb[a]||g(a):gb.extend({},a);var b,c,d,e,f,h,i=[],j=!a.once&&[],k=function(g){for(c=a.memory&&g,d=!0,f=h||0,h=0,e=i.length,b=!0;i&&e>f;f++)if(i[f].apply(g[0],g[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){gb.each(b,function(b,c){var d=gb.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&gb.each(arguments,function(a,c){for(var d;(d=gb.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?gb.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},gb.extend({Deferred:function(a){var b=[["resolve","done",gb.Callbacks("once memory"),"resolved"],["reject","fail",gb.Callbacks("once memory"),"rejected"],["notify","progress",gb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return gb.Deferred(function(c){gb.each(b,function(b,f){var g=gb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&gb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?gb.extend(a,d):d}},e={};return d.pipe=d.then,gb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&gb.isFunction(a.promise)?g:0,i=1===h?a:gb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&gb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var xb;gb.fn.ready=function(a){return gb.ready.promise().done(a),this},gb.extend({isReady:!1,readyWait:1,holdReady:function(a){a?gb.readyWait++:gb.ready(!0)},ready:function(a){if(a===!0?!--gb.readyWait:!gb.isReady){if(!qb.body)return setTimeout(gb.ready);gb.isReady=!0,a!==!0&&--gb.readyWait>0||(xb.resolveWith(qb,[gb]),gb.fn.trigger&&gb(qb).trigger("ready").off("ready"))}}}),gb.ready.promise=function(b){if(!xb)if(xb=gb.Deferred(),"complete"===qb.readyState)setTimeout(gb.ready);else if(qb.addEventListener)qb.addEventListener("DOMContentLoaded",i,!1),a.addEventListener("load",i,!1);else{qb.attachEvent("onreadystatechange",i),a.attachEvent("onload",i);var c=!1;try{c=null==a.frameElement&&qb.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!gb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}h(),gb.ready()}}()}return xb.promise(b)};var yb,zb="undefined";for(yb in gb(eb))break;eb.ownLast="0"!==yb,eb.inlineBlockNeedsLayout=!1,gb(function(){var a,b,c=qb.getElementsByTagName("body")[0];c&&(a=qb.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=qb.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==zb&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(eb.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=qb.createElement("div");if(null==eb.deleteExpando){eb.deleteExpando=!0;try{delete a.test}catch(b){eb.deleteExpando=!1}}a=null}(),gb.acceptData=function(a){var b=gb.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var Ab=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bb=/([A-Z])/g;gb.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?gb.cache[a[gb.expando]]:a[gb.expando],!!a&&!k(a)},data:function(a,b,c){return l(a,b,c)},removeData:function(a,b){return m(a,b)},_data:function(a,b,c){return l(a,b,c,!0)},_removeData:function(a,b){return m(a,b,!0)}}),gb.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=gb.data(f),1===f.nodeType&&!gb._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=gb.camelCase(d.slice(5)),j(f,d,e[d]));gb._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){gb.data(this,a)}):arguments.length>1?this.each(function(){gb.data(this,a,b)}):f?j(f,a,gb.data(f,a)):void 0},removeData:function(a){return this.each(function(){gb.removeData(this,a)})}}),gb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=gb._data(a,b),c&&(!d||gb.isArray(c)?d=gb._data(a,b,gb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=gb.queue(a,b),d=c.length,e=c.shift(),f=gb._queueHooks(a,b),g=function(){gb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return gb._data(a,c)||gb._data(a,c,{empty:gb.Callbacks("once memory").add(function(){gb._removeData(a,b+"queue"),gb._removeData(a,c)})})}}),gb.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?gb.queue(this[0],a):void 0===b?this:this.each(function(){var c=gb.queue(this,a,b);gb._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&gb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){gb.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=gb.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=gb._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Cb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Db=["Top","Right","Bottom","Left"],Eb=function(a,b){return a=b||a,"none"===gb.css(a,"display")||!gb.contains(a.ownerDocument,a)},Fb=gb.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===gb.type(c)){e=!0;for(h in c)gb.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,gb.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(gb(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Gb=/^(?:checkbox|radio)$/i;!function(){var a=qb.createDocumentFragment(),b=qb.createElement("div"),c=qb.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",eb.leadingWhitespace=3===b.firstChild.nodeType,eb.tbody=!b.getElementsByTagName("tbody").length,eb.htmlSerialize=!!b.getElementsByTagName("link").length,eb.html5Clone="<:nav></:nav>"!==qb.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),eb.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",eb.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",eb.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,eb.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){eb.noCloneEvent=!1}),b.cloneNode(!0).click()),null==eb.deleteExpando){eb.deleteExpando=!0;try{delete b.test}catch(d){eb.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=qb.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(eb[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),eb[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Hb=/^(?:input|select|textarea)$/i,Ib=/^key/,Jb=/^(?:mouse|contextmenu)|click/,Kb=/^(?:focusinfocus|focusoutblur)$/,Lb=/^([^.]*)(?:\.(.+)|)$/;gb.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=gb._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=gb.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof gb===zb||a&&gb.event.triggered===a.type?void 0:gb.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(vb)||[""],h=b.length;h--;)f=Lb.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=gb.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=gb.event.special[n]||{},l=gb.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&gb.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),gb.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=gb.hasData(a)&&gb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(vb)||[""],j=b.length;j--;)if(h=Lb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=gb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||gb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)gb.event.remove(a,n+b[j],c,d,!0);gb.isEmptyObject(k)&&(delete q.handle,gb._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||qb],n=cb.call(b,"type")?b.type:b,o=cb.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||qb,3!==d.nodeType&&8!==d.nodeType&&!Kb.test(n+gb.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[gb.expando]?b:new gb.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:gb.makeArray(c,[b]),j=gb.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!gb.isWindow(d)){for(i=j.delegateType||n,Kb.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||qb)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(gb._data(h,"events")||{})[b.type]&&gb._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&gb.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&gb.acceptData(d)&&g&&d[n]&&!gb.isWindow(d)){k=d[g],k&&(d[g]=null),gb.event.triggered=n;try{d[n]()}catch(p){}gb.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=gb.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(gb._data(this,"events")||{})[a.type]||[],j=gb.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=gb.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((gb.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?gb(c,this).index(i)>=0:gb.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[gb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Jb.test(e)?this.mouseHooks:Ib.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new gb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||qb),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||qb,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return gb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return gb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=gb.extend(new gb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?gb.event.trigger(e,null,b):gb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},gb.removeEvent=qb.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===zb&&(a[d]=null),a.detachEvent(d,c))},gb.Event=function(a,b){return this instanceof gb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?n:o):this.type=a,b&&gb.extend(this,b),this.timeStamp=a&&a.timeStamp||gb.now(),void(this[gb.expando]=!0)):new gb.Event(a,b)},gb.Event.prototype={isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()}},gb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){gb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!gb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),eb.submitBubbles||(gb.event.special.submit={setup:function(){return gb.nodeName(this,"form")?!1:void gb.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=gb.nodeName(b,"input")||gb.nodeName(b,"button")?b.form:void 0;c&&!gb._data(c,"submitBubbles")&&(gb.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),gb._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&gb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return gb.nodeName(this,"form")?!1:void gb.event.remove(this,"._submit")}}),eb.changeBubbles||(gb.event.special.change={setup:function(){return Hb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(gb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),gb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),gb.event.simulate("change",this,a,!0)})),!1):void gb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Hb.test(b.nodeName)&&!gb._data(b,"changeBubbles")&&(gb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||gb.event.simulate("change",this.parentNode,a,!0)}),gb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return gb.event.remove(this,"._change"),!Hb.test(this.nodeName)}}),eb.focusinBubbles||gb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){gb.event.simulate(b,a.target,gb.event.fix(a),!0)};gb.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=gb._data(d,b);e||d.addEventListener(a,c,!0),gb._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=gb._data(d,b)-1;e?gb._data(d,b,e):(d.removeEventListener(a,c,!0),gb._removeData(d,b))}}}),gb.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=o;else if(!d)return this;return 1===e&&(g=d,d=function(a){return gb().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=gb.guid++)),this.each(function(){gb.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,gb(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=o),this.each(function(){gb.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){gb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?gb.event.trigger(a,b,c,!0):void 0}});var Mb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Nb=/ jQuery\d+="(?:null|\d+)"/g,Ob=new RegExp("<(?:"+Mb+")[\\s/>]","i"),Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/checked\s*(?:[^=]|=\s*.checked.)/i,Wb=/^$|\/(?:java|ecma)script/i,Xb=/^true\/(.*)/,Yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Zb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:eb.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},$b=q(qb),_b=$b.appendChild(qb.createElement("div"));Zb.optgroup=Zb.option,Zb.tbody=Zb.tfoot=Zb.colgroup=Zb.caption=Zb.thead,Zb.th=Zb.td,gb.extend({clone:function(a,b,c){var d,e,f,g,h,i=gb.contains(a.ownerDocument,a);if(eb.html5Clone||gb.isXMLDoc(a)||!Ob.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(_b.innerHTML=a.outerHTML,_b.removeChild(f=_b.firstChild)),!(eb.noCloneEvent&&eb.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||gb.isXMLDoc(a)))for(d=r(f),h=r(a),g=0;null!=(e=h[g]);++g)d[g]&&y(e,d[g]);if(b)if(c)for(h=h||r(a),d=d||r(f),g=0;null!=(e=h[g]);g++)x(e,d[g]);else x(a,f);return d=r(f,"script"),d.length>0&&w(d,!i&&r(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=q(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===gb.type(f))gb.merge(n,f.nodeType?[f]:f);else if(Tb.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Rb.exec(f)||["",""])[1].toLowerCase(),k=Zb[i]||Zb._default,h.innerHTML=k[1]+f.replace(Qb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!eb.leadingWhitespace&&Pb.test(f)&&n.push(b.createTextNode(Pb.exec(f)[0])),!eb.tbody)for(f="table"!==i||Sb.test(f)?"<table>"!==k[1]||Sb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)gb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(gb.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),eb.appendChecked||gb.grep(r(n,"input"),s),o=0;f=n[o++];)if((!d||-1===gb.inArray(f,d))&&(g=gb.contains(f.ownerDocument,f),h=r(m.appendChild(f),"script"),g&&w(h),c))for(e=0;f=h[e++];)Wb.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=gb.expando,i=gb.cache,j=eb.deleteExpando,k=gb.event.special;null!=(c=a[g]);g++)if((b||gb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?gb.event.remove(c,d):gb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==zb?c.removeAttribute(h):c[h]=null,X.push(e))}}}),gb.fn.extend({text:function(a){return Fb(this,function(a){return void 0===a?gb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||qb).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=t(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=t(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?gb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||gb.cleanData(r(c)),c.parentNode&&(b&&gb.contains(c.ownerDocument,c)&&w(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&gb.cleanData(r(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&gb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return gb.clone(this,a,b)})},html:function(a){return Fb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Nb,""):void 0;if(!("string"!=typeof a||Ub.test(a)||!eb.htmlSerialize&&Ob.test(a)||!eb.leadingWhitespace&&Pb.test(a)||Zb[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(gb.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,gb.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Z.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=gb.isFunction(m);if(n||j>1&&"string"==typeof m&&!eb.checkClone&&Vb.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=gb.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=gb.map(r(h,"script"),u),e=f.length;j>i;i++)d=h,i!==l&&(d=gb.clone(d,!0,!0),e&&gb.merge(f,r(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,gb.map(f,v),i=0;e>i;i++)d=f[i],Wb.test(d.type||"")&&!gb._data(d,"globalEval")&&gb.contains(g,d)&&(d.src?gb._evalUrl&&gb._evalUrl(d.src):gb.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Yb,"")));h=c=null}return this}}),gb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){gb.fn[a]=function(a){for(var c,d=0,e=[],f=gb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),gb(f[d])[b](c),$.apply(e,c.get());return this.pushStack(e)}});var ac,bc={};!function(){var a,b,c=qb.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",eb.opacity=/^0.5/.test(a.style.opacity),eb.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",eb.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,eb.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=qb.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=qb.createElement("div"),e=qb.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==zb&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var cc,dc,ec=/^margin/,fc=new RegExp("^("+Cb+")(?!px)[a-z%]+$","i"),gc=/^(top|right|bottom|left)$/;a.getComputedStyle?(cc=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},dc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||cc(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||gb.contains(a.ownerDocument,a)||(g=gb.style(a,b)),fc.test(g)&&ec.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):qb.documentElement.currentStyle&&(cc=function(a){return a.currentStyle},dc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||cc(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),fc.test(g)&&!gc.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d=qb.getElementsByTagName("body")[0];d&&(b=qb.createElement("div"),c=qb.createElement("div"),b.style.cssText=j,d.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",gb.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){e=4===c.offsetWidth}),f=!0,g=!1,h=!0,a.getComputedStyle&&(g="1%"!==(a.getComputedStyle(c,null)||{}).top,f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),d.removeChild(b),c=d=null)}var c,d,e,f,g,h,i=qb.createElement("div"),j="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",k="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=i.getElementsByTagName("a")[0],c.style.cssText="float:left;opacity:.5",eb.opacity=/^0.5/.test(c.style.opacity),eb.cssFloat=!!c.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",eb.clearCloneStyle="content-box"===i.style.backgroundClip,c=i=null,gb.extend(eb,{reliableHiddenOffsets:function(){if(null!=d)return d;var a,b,c,e=qb.createElement("div"),f=qb.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=qb.createElement("div"),a.style.cssText=j,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",d=c&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,d
},boxSizing:function(){return null==e&&b(),e},boxSizingReliable:function(){return null==f&&b(),f},pixelPosition:function(){return null==g&&b(),g},reliableMarginRight:function(){var b,c,d,e;if(null==h&&a.getComputedStyle){if(b=qb.getElementsByTagName("body")[0],!b)return;c=qb.createElement("div"),d=qb.createElement("div"),c.style.cssText=j,b.appendChild(c).appendChild(d),e=d.appendChild(qb.createElement("div")),e.style.cssText=d.style.cssText=k,e.style.marginRight=e.style.width="0",d.style.width="1px",h=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return h}})}(),gb.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var hc=/alpha\([^)]*\)/i,ic=/opacity\s*=\s*([^)]*)/,jc=/^(none|table(?!-c[ea]).+)/,kc=new RegExp("^("+Cb+")(.*)$","i"),lc=new RegExp("^([+-])=("+Cb+")","i"),mc={position:"absolute",visibility:"hidden",display:"block"},nc={letterSpacing:0,fontWeight:400},oc=["Webkit","O","Moz","ms"];gb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=dc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":eb.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=gb.camelCase(b),i=a.style;if(b=gb.cssProps[h]||(gb.cssProps[h]=C(i,h)),g=gb.cssHooks[b]||gb.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=lc.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(gb.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||gb.cssNumber[h]||(c+="px"),eb.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=gb.camelCase(b);return b=gb.cssProps[h]||(gb.cssProps[h]=C(a.style,h)),g=gb.cssHooks[b]||gb.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=dc(a,b,d)),"normal"===f&&b in nc&&(f=nc[b]),""===c||c?(e=parseFloat(f),c===!0||gb.isNumeric(e)?e||0:f):f}}),gb.each(["height","width"],function(a,b){gb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&jc.test(gb.css(a,"display"))?gb.swap(a,mc,function(){return G(a,b,d)}):G(a,b,d):void 0},set:function(a,c,d){var e=d&&cc(a);return E(a,c,d?F(a,b,d,eb.boxSizing()&&"border-box"===gb.css(a,"boxSizing",!1,e),e):0)}}}),eb.opacity||(gb.cssHooks.opacity={get:function(a,b){return ic.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=gb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===gb.trim(f.replace(hc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=hc.test(f)?f.replace(hc,e):f+" "+e)}}),gb.cssHooks.marginRight=B(eb.reliableMarginRight,function(a,b){return b?gb.swap(a,{display:"inline-block"},dc,[a,"marginRight"]):void 0}),gb.each({margin:"",padding:"",border:"Width"},function(a,b){gb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Db[d]+b]=f[d]||f[d-2]||f[0];return e}},ec.test(a)||(gb.cssHooks[a+b].set=E)}),gb.fn.extend({css:function(a,b){return Fb(this,function(a,b,c){var d,e,f={},g=0;if(gb.isArray(b)){for(d=cc(a),e=b.length;e>g;g++)f[b[g]]=gb.css(a,b[g],!1,d);return f}return void 0!==c?gb.style(a,b,c):gb.css(a,b)},a,b,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Eb(this)?gb(this).show():gb(this).hide()})}}),gb.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(gb.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.pos=b=this.options.duration?gb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=gb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){gb.fx.step[a.prop]?gb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[gb.cssProps[a.prop]]||gb.cssHooks[a.prop])?gb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},gb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},gb.fx=H.prototype.init,gb.fx.step={};var pc,qc,rc=/^(?:toggle|show|hide)$/,sc=new RegExp("^(?:([+-])=|)("+Cb+")([a-z%]*)$","i"),tc=/queueHooks$/,uc=[L],vc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=sc.exec(b),f=e&&e[3]||(gb.cssNumber[a]?"":"px"),g=(gb.cssNumber[a]||"px"!==f&&+d)&&sc.exec(gb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,gb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};gb.Animation=gb.extend(N,{tweener:function(a,b){gb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],vc[c]=vc[c]||[],vc[c].unshift(b)},prefilter:function(a,b){b?uc.unshift(a):uc.push(a)}}),gb.speed=function(a,b,c){var d=a&&"object"==typeof a?gb.extend({},a):{complete:c||!c&&b||gb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!gb.isFunction(b)&&b};return d.duration=gb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in gb.fx.speeds?gb.fx.speeds[d.duration]:gb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){gb.isFunction(d.old)&&d.old.call(this),d.queue&&gb.dequeue(this,d.queue)},d},gb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Eb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=gb.isEmptyObject(a),f=gb.speed(b,c,d),g=function(){var b=N(this,gb.extend({},a),f);(e||gb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=gb.timers,g=gb._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&tc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&gb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=gb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=gb.timers,g=d?d.length:0;for(c.finish=!0,gb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),gb.each(["toggle","show","hide"],function(a,b){var c=gb.fn[b];gb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),gb.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){gb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),gb.timers=[],gb.fx.tick=function(){var a,b=gb.timers,c=0;for(pc=gb.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||gb.fx.stop(),pc=void 0},gb.fx.timer=function(a){gb.timers.push(a),a()?gb.fx.start():gb.timers.pop()},gb.fx.interval=13,gb.fx.start=function(){qc||(qc=setInterval(gb.fx.tick,gb.fx.interval))},gb.fx.stop=function(){clearInterval(qc),qc=null},gb.fx.speeds={slow:600,fast:200,_default:400},gb.fn.delay=function(a,b){return a=gb.fx?gb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=qb.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=qb.createElement("select"),d=c.appendChild(qb.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",eb.getSetAttribute="t"!==e.className,eb.style=/top/.test(a.getAttribute("style")),eb.hrefNormalized="/a"===a.getAttribute("href"),eb.checkOn=!!b.value,eb.optSelected=d.selected,eb.enctype=!!qb.createElement("form").enctype,c.disabled=!0,eb.optDisabled=!d.disabled,b=qb.createElement("input"),b.setAttribute("value",""),eb.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),eb.radioValue="t"===b.value,a=b=c=d=e=null}();var wc=/\r/g;gb.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=gb.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,gb(this).val()):a,null==e?e="":"number"==typeof e?e+="":gb.isArray(e)&&(e=gb.map(e,function(a){return null==a?"":a+""})),b=gb.valHooks[this.type]||gb.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=gb.valHooks[e.type]||gb.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(wc,""):null==c?"":c)}}}),gb.extend({valHooks:{option:{get:function(a){var b=gb.find.attr(a,"value");return null!=b?b:gb.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(eb.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&gb.nodeName(c.parentNode,"optgroup"))){if(b=gb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=gb.makeArray(b),g=e.length;g--;)if(d=e[g],gb.inArray(gb.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),gb.each(["radio","checkbox"],function(){gb.valHooks[this]={set:function(a,b){return gb.isArray(b)?a.checked=gb.inArray(gb(a).val(),b)>=0:void 0}},eb.checkOn||(gb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var xc,yc,zc=gb.expr.attrHandle,Ac=/^(?:checked|selected)$/i,Bc=eb.getSetAttribute,Cc=eb.input;gb.fn.extend({attr:function(a,b){return Fb(this,gb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){gb.removeAttr(this,a)})}}),gb.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===zb?gb.prop(a,b,c):(1===f&&gb.isXMLDoc(a)||(b=b.toLowerCase(),d=gb.attrHooks[b]||(gb.expr.match.bool.test(b)?yc:xc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=gb.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void gb.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(vb);if(f&&1===a.nodeType)for(;c=f[e++];)d=gb.propFix[c]||c,gb.expr.match.bool.test(c)?Cc&&Bc||!Ac.test(c)?a[d]=!1:a[gb.camelCase("default-"+c)]=a[d]=!1:gb.attr(a,c,""),a.removeAttribute(Bc?c:d)},attrHooks:{type:{set:function(a,b){if(!eb.radioValue&&"radio"===b&&gb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),yc={set:function(a,b,c){return b===!1?gb.removeAttr(a,c):Cc&&Bc||!Ac.test(c)?a.setAttribute(!Bc&&gb.propFix[c]||c,c):a[gb.camelCase("default-"+c)]=a[c]=!0,c}},gb.each(gb.expr.match.bool.source.match(/\w+/g),function(a,b){var c=zc[b]||gb.find.attr;zc[b]=Cc&&Bc||!Ac.test(b)?function(a,b,d){var e,f;return d||(f=zc[b],zc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,zc[b]=f),e}:function(a,b,c){return c?void 0:a[gb.camelCase("default-"+b)]?b.toLowerCase():null}}),Cc&&Bc||(gb.attrHooks.value={set:function(a,b,c){return gb.nodeName(a,"input")?void(a.defaultValue=b):xc&&xc.set(a,b,c)}}),Bc||(xc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},zc.id=zc.name=zc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},gb.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:xc.set},gb.attrHooks.contenteditable={set:function(a,b,c){xc.set(a,""===b?!1:b,c)}},gb.each(["width","height"],function(a,b){gb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),eb.style||(gb.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Dc=/^(?:input|select|textarea|button|object)$/i,Ec=/^(?:a|area)$/i;gb.fn.extend({prop:function(a,b){return Fb(this,gb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=gb.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),gb.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!gb.isXMLDoc(a),f&&(b=gb.propFix[b]||b,e=gb.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=gb.find.attr(a,"tabindex");return b?parseInt(b,10):Dc.test(a.nodeName)||Ec.test(a.nodeName)&&a.href?0:-1}}}}),eb.hrefNormalized||gb.each(["href","src"],function(a,b){gb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),eb.optSelected||(gb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),gb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){gb.propFix[this.toLowerCase()]=this}),eb.enctype||(gb.propFix.enctype="encoding");var Fc=/[\t\r\n\f]/g;gb.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(gb.isFunction(a))return this.each(function(b){gb(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(vb)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=gb.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(gb.isFunction(a))return this.each(function(b){gb(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(vb)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?gb.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(gb.isFunction(a)?function(c){gb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=gb(this),f=a.match(vb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&gb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":gb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Fc," ").indexOf(b)>=0)return!0;return!1}}),gb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){gb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),gb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Gc=gb.now(),Hc=/\?/,Ic=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;gb.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=gb.trim(b+"");return e&&!gb.trim(e.replace(Ic,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():gb.error("Invalid JSON: "+b)},gb.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||gb.error("Invalid XML: "+b),c};var Jc,Kc,Lc=/#.*$/,Mc=/([?&])_=[^&]*/,Nc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pc=/^(?:GET|HEAD)$/,Qc=/^\/\//,Rc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Sc={},Tc={},Uc="*/".concat("*");try{Kc=location.href}catch(Vc){Kc=qb.createElement("a"),Kc.href="",Kc=Kc.href}Jc=Rc.exec(Kc.toLowerCase())||[],gb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Kc,type:"GET",isLocal:Oc.test(Jc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Uc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":gb.parseJSON,"text xml":gb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Q(Q(a,gb.ajaxSettings),b):Q(gb.ajaxSettings,a)},ajaxPrefilter:O(Sc),ajaxTransport:O(Tc),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=R(l,v,c)),s=S(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(gb.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(gb.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--gb.active||gb.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=gb.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?gb(m):gb.event,o=gb.Deferred(),p=gb.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Nc.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Kc)+"").replace(Lc,"").replace(Qc,Jc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=gb.trim(l.dataType||"*").toLowerCase().match(vb)||[""],null==l.crossDomain&&(d=Rc.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Jc[1]&&d[2]===Jc[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Jc[3]||("http:"===Jc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=gb.param(l.data,l.traditional)),P(Sc,l,b,v),2===t)return v;i=l.global,i&&0===gb.active++&&gb.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Pc.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Hc.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Mc.test(f)?f.replace(Mc,"$1_="+Gc++):f+(Hc.test(f)?"&":"?")+"_="+Gc++)),l.ifModified&&(gb.lastModified[f]&&v.setRequestHeader("If-Modified-Since",gb.lastModified[f]),gb.etag[f]&&v.setRequestHeader("If-None-Match",gb.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Uc+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=P(Tc,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return gb.get(a,b,c,"json")},getScript:function(a,b){return gb.get(a,void 0,b,"script")}}),gb.each(["get","post"],function(a,b){gb[b]=function(a,c,d,e){return gb.isFunction(c)&&(e=e||d,d=c,c=void 0),gb.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),gb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){gb.fn[b]=function(a){return this.on(b,a)}}),gb._evalUrl=function(a){return gb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},gb.fn.extend({wrapAll:function(a){if(gb.isFunction(a))return this.each(function(b){gb(this).wrapAll(a.call(this,b))});if(this[0]){var b=gb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(gb.isFunction(a)?function(b){gb(this).wrapInner(a.call(this,b))}:function(){var b=gb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=gb.isFunction(a);return this.each(function(c){gb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){gb.nodeName(this,"body")||gb(this).replaceWith(this.childNodes)}).end()}}),gb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!eb.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||gb.css(a,"display"))},gb.expr.filters.visible=function(a){return!gb.expr.filters.hidden(a)};var Wc=/%20/g,Xc=/\[\]$/,Yc=/\r?\n/g,Zc=/^(?:submit|button|image|reset|file)$/i,$c=/^(?:input|select|textarea|keygen)/i;gb.param=function(a,b){var c,d=[],e=function(a,b){b=gb.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=gb.ajaxSettings&&gb.ajaxSettings.traditional),gb.isArray(a)||a.jquery&&!gb.isPlainObject(a))gb.each(a,function(){e(this.name,this.value)});else for(c in a)T(c,a[c],b,e);return d.join("&").replace(Wc,"+")},gb.fn.extend({serialize:function(){return gb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=gb.prop(this,"elements");return a?gb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!gb(this).is(":disabled")&&$c.test(this.nodeName)&&!Zc.test(a)&&(this.checked||!Gb.test(a))}).map(function(a,b){var c=gb(this).val();return null==c?null:gb.isArray(c)?gb.map(c,function(a){return{name:b.name,value:a.replace(Yc,"\r\n")}}):{name:b.name,value:c.replace(Yc,"\r\n")}}).get()}}),gb.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var _c=0,ad={},bd=gb.ajaxSettings.xhr();a.ActiveXObject&&gb(a).on("unload",function(){for(var a in ad)ad[a](void 0,!0)}),eb.cors=!!bd&&"withCredentials"in bd,bd=eb.ajax=!!bd,bd&&gb.ajaxTransport(function(a){if(!a.crossDomain||eb.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++_c;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete ad[g],b=void 0,f.onreadystatechange=gb.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=ad[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),gb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return gb.globalEval(a),a}}}),gb.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),gb.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=qb.head||gb("head")[0]||qb.documentElement;return{send:function(d,e){b=qb.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var cd=[],dd=/(=)\?(?=&|$)|\?\?/;gb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cd.pop()||gb.expando+"_"+Gc++;return this[a]=!0,a}}),gb.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(dd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&dd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=gb.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(dd,"$1"+e):b.jsonp!==!1&&(b.url+=(Hc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||gb.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,cd.push(e)),g&&gb.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),gb.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||qb;var d=nb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=gb.buildFragment([a],b,e),e&&e.length&&gb(e).remove(),gb.merge([],d.childNodes))};var ed=gb.fn.load;gb.fn.load=function(a,b,c){if("string"!=typeof a&&ed)return ed.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),gb.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&gb.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?gb("<div>").append(gb.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},gb.expr.filters.animated=function(a){return gb.grep(gb.timers,function(b){return a===b.elem}).length};var fd=a.document.documentElement;gb.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=gb.css(a,"position"),l=gb(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=gb.css(a,"top"),i=gb.css(a,"left"),j=("absolute"===k||"fixed"===k)&&gb.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),gb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},gb.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){gb.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,gb.contains(b,e)?(typeof e.getBoundingClientRect!==zb&&(d=e.getBoundingClientRect()),c=W(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===gb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),gb.nodeName(a[0],"html")||(c=a.offset()),c.top+=gb.css(a[0],"borderTopWidth",!0),c.left+=gb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-gb.css(d,"marginTop",!0),left:b.left-c.left-gb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||fd;a&&!gb.nodeName(a,"html")&&"static"===gb.css(a,"position");)a=a.offsetParent;return a||fd})}}),gb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);gb.fn[a]=function(d){return Fb(this,function(a,d,e){var f=W(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?gb(f).scrollLeft():e,c?e:gb(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),gb.each(["top","left"],function(a,b){gb.cssHooks[b]=B(eb.pixelPosition,function(a,c){return c?(c=dc(a,b),fc.test(c)?gb(a).position()[b]+"px":c):void 0})}),gb.each({Height:"height",Width:"width"},function(a,b){gb.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){gb.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Fb(this,function(b,c,d){var e;return gb.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?gb.css(b,c,g):gb.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),gb.fn.size=function(){return this.length},gb.fn.andSelf=gb.fn.addBack,"function"==typeof c&&c.amd&&c("jquery",[],function(){return gb});var gd=a.jQuery,hd=a.$;return gb.noConflict=function(b){return a.$===gb&&(a.$=hd),b&&a.jQuery===gb&&(a.jQuery=gd),gb},typeof b===zb&&(a.jQuery=a.$=gb),gb}),d("undefined"!=typeof $?$:window.$)}).call(a,void 0,void 0,void 0,function(a){b.exports=a})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"jquery.mobile":[function(a,b){b.exports=a("h7SyXY")},{}],h7SyXY:[function(a,b){(function(c){(function(b,d){c.$=a("jquery"),$(document).bind("mobileinit",function(){$.mobile.ajaxEnabled=!1,$.mobile.linkBindingEnabled=!1,$.mobile.hashListeningEnabled=!1,$.mobile.pushStateEnabled=!1}),function(a,b,c){"function"==typeof d&&d.amd?d(["jquery"],function(d){return c(d,a,b),d.mobile}):c(a.jQuery,a,b)}(this,document,function(a,b,c){!function(a){a.mobile={}}(a),function(a){a.extend(a.mobile,{version:"1.4.2",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:a(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})
}(a,this),function(a,b,c){var d={},e=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,g=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,c){var d;b=b.jquery?b[0]:b,b&&b.getAttribute&&(d=b.getAttribute("data-"+a.mobile.ns+c));try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:f.test(d)?JSON.parse(d):d}catch(e){}return d},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(b,d){var e;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||d===c?this.data(b):this.data(b,d)),e},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.find=function(b,c,d,f){return b.indexOf(":jqmData")>-1&&(b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]")),e.call(this,b,c,d,f)},a.extend(a.find,e)}(a,this),function(a,b){function d(b,c){var d,f,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,f=d.name,b.href&&f&&"map"===d.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&e(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||c):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in c.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length)for(var e,f,g=a(this[0]);g.length&&g[0]!==c;){if(e=g.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f))return f;g=g.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}(a),function(a,b){var d=function(b,c){var d=b.parent(),e=[],f=d.children(":jqmData(role='header')"),g=b.children(":jqmData(role='header')"),h=d.children(":jqmData(role='footer')"),i=b.children(":jqmData(role='footer')");return 0===g.length&&f.length>0&&(e=e.concat(f.toArray())),0===i.length&&h.length>0&&(e=e.concat(h.toArray())),a.each(e,function(b,d){c-=a(d).outerHeight()}),Math.max(0,c)};a.extend(a.mobile,{window:a(b),document:a(c),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){var c=a(b).closest(".ui-page").jqmData("url"),d=a.mobile.path.documentBase.hrefNoHash;return a.mobile.dynamicBaseEnabled&&c&&a.mobile.path.isPath(c)||(c=d),a.mobile.path.makeUrlAbsolute(c,d)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass),a.mobile.activeClickedLink=null},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(d=g.exec(c))&&(f=d[2])));)e=e.parentNode;return f||b||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;var d,e,f,g,h,i=b.length,j=a();for(g=0;i>g;g++){for(e=b.eq(g),f=!1,d=b[g];d;){if(h=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"","false"===h){f=!0;break}d=d.parentNode}f||(j=j.add(e))}return j},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),e=c.height(),f=c.outerHeight(!0);b=d(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",b-(f-e))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),c=b.loader.apply(b,arguments);return this.loading._widget=b,c}}),a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,c={},d=a.mobile.page.prototype.keepNativeSelector(),e=this;a.mobile.nojs&&a.mobile.nojs(this),a.mobile.links&&a.mobile.links(this),a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this),a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(d).jqmEnhanceable().buttonMarkup(),a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(d).jqmEnhanceable().fieldcontain(),a.each(a.mobile.widgets,function(b,f){if(f.initSelector){var g=a.mobile.enhanceable(e.find(f.initSelector));g.length>0&&(g=g.not(d)),g.length>0&&(c[f.prototype.widgetName]=g)}});for(b in c)c[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}}),a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return"instance"===g?(j=e,!1):e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a){var b=/[A-Z]/g,c=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var d,e,f=this.element[0],g={};if(!a.mobile.getAttribute(f,"defaults"))for(d in this.options)e=a.mobile.getAttribute(f,d.replace(b,c)),null!=e&&(g[d]=e);return g}}),a.mobile.widget=a.Widget}(a),function(a){var b="ui-loader",c=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=this.window.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(d,e,f){var g,h,i;this.resetHtml(),"object"===a.type(d)?(i=a.extend({},this.options,d),d=i.theme):(i=this.options,d=d||i.theme),h=e||(i.text===!1?"":i.text),c.addClass("ui-loading"),g=i.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+d+" ui-loader-"+(g||e||d.text?"verbose":"default")+(i.textonly||f?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(h),this.element.appendTo(a.mobile.pageContainer),this.checkLoaderPosition(),this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),a.mobile.window.unbind("scroll",this.fakeFixLoader),a.mobile.window.unbind("scroll",this.checkLoaderPosition)}})}(a,this),function(a,b,d){"$:nomunge";function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return k?!1:void a(f.start)},teardown:function(){return k?!1:void a(f.stop)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a){b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a){var b={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,b),a.extend(a.mobile.support,b)}(a),function(a){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b,c=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(c+" ")+c).split(" ");for(b in e)if(n[e[b]]!==d)return!0}function f(){var c=b,d=!(!c.document.createElementNS||!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||c.opera&&-1===navigator.userAgent.indexOf("Chrome")),e=function(b){b&&d||a("html").addClass("ui-nosvg")},f=new c.Image;f.onerror=function(){e(!1)},f.onload=function(){e(1===f.width&&1===f.height)},f.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function g(){var e,f,g,h="transform-3d",i=a.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")");if(i)return!!i;e=c.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},m.append(e);for(g in f)e.style[g]!==d&&(e.style[g]="translate3d( 100px, 1px, 1px )",i=b.getComputedStyle(e).getPropertyValue(f[g]));return!!i&&"none"!==i}function h(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(m),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}function i(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style?(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a):!1}function j(){var a=c.createElement("div");return"undefined"!=typeof a.getBoundingClientRect}function k(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return(d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&534>f||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&7458>j||c.indexOf("Android")>-1&&f&&533>f||h&&6>h||"palmGetResource"in b&&f&&534>f||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var l,m=a("<body>").prependTo("html"),n=m[0].style,o=["Webkit","Moz","O"],p="palmGetResource"in b,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->";while(d[0]);return a>4?a:!a}(),a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&-1===b.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:g(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:k(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in m[0])&&!p&&!q,dynamicBaseTag:h(),cssPointerEvents:i(),boundingRect:j(),inlineSVG:f}),m.remove(),l=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=8)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||l,l&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-noboxshadow")}(a),function(a,b){var c,d=a.mobile.window,e=function(){};a.event.special.beforenavigate={setup:function(){d.on("navigate",e)},teardown:function(){d.off("navigate",e)}},a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:b,isPushStateEnabled:function(){return a.support.pushState&&a.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return a.mobile.hashListeningEnabled===!0},popstate:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=a?this.parseUrl(a):location,c=this.parseUrl(a||location.href).hash;return c="#"===c?"":c,b.protocol+"//"+b.host+b.pathname+b.search+c},getDocumentUrl:function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain===d.parseUrl(b).domain},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname,k=d.makePathAbsolute(e.pathname||f.filename,f.pathname),l=e.search||!j&&f.search||"",m=e.hash;return g+h+i+k+l+m},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=d.parseUrl(a);return d.isEmbeddedPage(c)?c.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(c,this.documentBase)?c.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]:b.decodeURIComponent(a)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return b.protocol&&b.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h=this.isPath(a),i=this.parseUrl(a),j=i.hash,k="";return b=b||(d.isPath(a)?d.getLocation():d.getDocumentUrl()),e=h?d.stripHash(a):a,e=d.isPath(i.hash)?d.stripHash(i.hash):e,g=e.indexOf(this.uiStateKey),g>-1&&(k=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,h?((d.isPath(j)||0===j.replace("#","").indexOf(this.uiStateKey))&&(j=""),k&&-1===j.indexOf(this.uiStateKey)&&(j+=k),-1===j.indexOf("#")&&""!==j&&(j="#"+j),c=d.parseUrl(c),c=c.protocol+"//"+c.host+c.pathname+f+j):c+=c.indexOf("#")>-1?k:"#"+k,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(f)[0]},isFirstPageUrl:function(b){var e=d.parseUrl(d.makeUrlAbsolute(b,this.documentBase)),f=e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash,g=a.mobile.firstPage,h=g&&g[0]?g[0].id:c;return f&&(!e.hash||"#"===e.hash||h&&e.hash.replace(/^#/,"")===h)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&-1!==c.search(/^https?:/)}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href},a.extend(a.mobile,{getDocumentUrl:d.getDocumentUrl,getDocumentBase:d.getDocumentBase})}(a),function(a,b){a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&-1===b.hash.indexOf("#")&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){b=b||this.stack;var d,e,f,g=b.length;for(e=0;g>e;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return c=this.find(a,this.stack.slice(0,d)),c===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),e>d?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a){var d=a.mobile.path,e=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(e,f){var g,h,i=d.isPath(e)?d.stripHash(e):e;return h=d.squash(e),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,e,f,g;return c=d.parseUrl(a),e=d.parseLocation(),e.pathname+e.search===c.pathname+c.search?f=c.hash?c.hash:c.pathname+c.search:d.isPath(a)?(g=d.parseUrl(b),f=g.pathname+g.search+(d.isPreservableHash(g.hash)?g.hash.replace("#",""):"")):f=a,f},go:function(e,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();i=d.squash(e),j=this.hash(e,i),g&&j!==d.stripHash(d.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(e,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,f;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void b.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===e)?void b.preventDefault():(c=d.parseLocation().hash,!b.originalEvent.state&&c?(f=this.squash(c),this.history.add(f.url,f),void(b.historyState=f)):void this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}))},hashchange:function(b){var e,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void b.stopImmediatePropagation();e=this.history,f=d.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d
},missing:function(){e.add(f,{hash:f,title:c.title})}})}}})}(a),function(a){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var b=a.mobile.path.parseLocation();a.mobile.navigate.history.add(b.href,{hash:b.hash})}(a),function(a,b){var d={animation:{},transition:{}},e=c.createElement("a"),f=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(c,g){var h=0===c?g+"-name":g;a.each(f,function(c,f){return e.style[a.camelCase(f+h)]!==b?(d[g].prefix=f,!1):void 0}),d[g].duration=a.camelCase(d[g].prefix+g+"-duration"),d[g].event=a.camelCase(d[g].prefix+g+"-end"),""===d[g].prefix&&(d[g].event=d[g].event.toLowerCase())}),a.support.cssTransitions=d.transition.prefix!==b,a.support.cssAnimations=d.animation.prefix!==b,a(e).remove(),a.fn.animationComplete=function(e,f,g){var h,i,j=this,k=f&&"animation"!==f?"transition":"animation";return a.support.cssTransitions&&"transition"===k||a.support.cssAnimations&&"animation"===k?(g===b&&(a(this).context!==c&&(i=3e3*parseFloat(a(this).css(d[k].duration))),(0===i||i===b||isNaN(i))&&(i=a.fn.animationComplete.defaultDuration)),h=setTimeout(function(){a(j).off(d[k].event),e.apply(j)},i),a(this).one(d[k].event,function(){clearTimeout(h),e.call(this,arguments)})):(setTimeout(a.proxy(e,this),0),a(this))},a.fn.animationComplete.defaultDuration=1e3}(a),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),-1!==o.search(/^touch/)&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=C.length;n>m;m++)i=C[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,z);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if(d=a.data(b,z),d&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){M=!1}function j(){M=!0}function k(){Q=0,K.length=0,L=!1,j()}function l(){i()}function m(){n(),G=setTimeout(function(){G=0,k()},a.vmouse.resetTimerDuration)}function n(){G&&(clearTimeout(G),G=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c,d=a.data(b.target,A);L||Q&&Q===d||(c=o("v"+b.type,b),c&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation()))}function q(b){var c,d,f,h=e(b).touches;h&&1===h.length&&(c=b.target,d=g(c),d.hasVirtualBinding&&(Q=P++,a.data(c,A,Q),n(),l(),J=!1,f=e(b).touches[0],H=f.pageX,I=f.pageY,o("vmouseover",b,d),o("vmousedown",b,d)))}function r(a){M||(J||o("vmousecancel",a,g(a.target)),J=!0,m())}function s(b){if(!M){var c=e(b).touches[0],d=J,f=a.vmouse.moveDistanceThreshold,h=g(b.target);J=J||Math.abs(c.pageX-H)>f||Math.abs(c.pageY-I)>f,J&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!M){j();var b,c,d=g(a.target);o("vmouseup",a,d),J||(b=o("vclick",a,d),b&&b.isDefaultPrevented()&&(c=e(a).changedTouches[0],K.push({touchID:Q,x:c.clientX,y:c.clientY}),L=!0)),o("vmouseout",a,d),J=!1,m()}}function u(b){var c,d=a.data(b,z);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}function w(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,z,{});var d=a.data(this,z);d[b]=!0,F[b]=(F[b]||0)+1,1===F[b]&&O.bind(c,p),a(this).bind(c,v),N&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--F[b],F[b]||O.unbind(c,p),N&&(--F.touchstart,F.touchstart||O.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,z);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(z)}}}var x,y,z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=w(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;i>f;f++)if(g=K[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,b,c),function(a,b,d){function e(b,c,e,f){var g=e.type;e.type=c,f?a.event.trigger(e,d,b):a.event.dispatch.call(b,e),e.type=g}var f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,e(f,c?"scrollstart":"scrollstop",a)}var c,d,f=this,g=a(f);g.bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var b=this,c=a(b),d=!1;c.bind("vmousedown",function(g){function h(){clearTimeout(k)}function i(){h(),c.unbind("vclick",j).unbind("vmouseup",h),f.unbind("vmousecancel",i)}function j(a){i(),d||l!==a.target?d&&a.stopPropagation():e(b,"tap",a)}if(d=!1,g.which&&1!==g.which)return!1;var k,l=g.target;c.bind("vmouseup",h).bind("vclick",j),f.bind("vmousecancel",i),k=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0),e(b,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),f.unbind("vmousecancel")}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var c=b.pageXOffset,d=b.pageYOffset,e=a.clientX,f=a.clientY;return 0===a.pageY&&Math.floor(f)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX)?(e-=c,f-=d):(f<a.pageY-d||e<a.pageX-c)&&(e=a.pageX-c,f=a.pageY-d),{x:e,y:f}},start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y],origin:a(b.target)}},stop:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var g=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";return e(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0),e(d,g,a.Event(g,{target:f,swipestart:b,swipestop:c}),!0),!0}return!1},eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};b=a.data(this,"mobile-events"),b||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=function(b){g&&(d=a.event.special.swipe.stop(b),i||(i=a.event.special.swipe.handleSwipe(g,d,c,h),i&&(a.event.special.swipe.eventInProgress=!1)),Math.abs(g.coords[0]-d.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())},e.stop=function(){i=!0,a.event.special.swipe.eventInProgress=!1,f.off(k,e.move),e.move=null},f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:function(){var b,c;b=a.data(this,"mobile-events"),b&&(c=b.swipe,delete b.swipe,b.length--,0===b.length&&a.removeData(this,"mobile-events")),c&&(c.start&&a(this).off(i,c.start),c.move&&f.off(k,c.move),c.stop&&f.off(j,c.stop))}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,e=250,f=function(){c=(new Date).getTime(),d=c-g,d>=e?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,e-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,l.trigger(m))}var e,f,g,h,i,j,k,l=a(b),m="orientationchange",n={0:!0,180:!0};a.support.orientation&&(i=b.innerWidth||l.width(),j=b.innerHeight||l.height(),k=50,g=i>j&&i-j>k,h=n[b.orientation],(g&&h||!g&&!h)&&(n={"-90":!0,90:!0})),a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:(f=e(),void l.bind("throttledresize",d))},teardown:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:void l.unbind("throttledresize",d)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var d=!0,e=c.documentElement;return d=a.support.orientation?n[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1,d?"portrait":"landscape"},a.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)},a.attrFn&&(a.attrFn[m]=!0)}(a,this),function(a){var b=a("head").children("base"),c={element:b.length?b:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&c.element.attr("href",a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,d){var e=a.mobile.path.get(b);d.find(c.linkSelector).each(function(b,c){var d=a(c).is("[href]")?"href":a(c).is("[src]")?"src":"action",f=a(c).attr(d);f=f.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(f)||a(c).attr(d,e+f)})},reset:function(){c.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=c}(a),function(a,b){a.mobile.widgets={};var c=a.widget,d=a.mobile.keepNative;a.widget=function(c){return function(){var d=c.apply(this,arguments),e=d.prototype.widgetName;return d.initSelector=d.prototype.initSelector!==b?d.prototype.initSelector:":jqmData(role='"+e+"')",a.mobile.widgets[e]=d,d}}(a.widget),a.extend(a.widget,c),a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()}),a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()))},_enhance:function(){var c="data-"+a.mobile.ns,d=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+c+"role='content']").each(function(){var e=a(this),f=this.getAttribute(c+"theme")||b;d.options.contentTheme=f||d.options.contentTheme||d.options.dialog&&d.options.theme||"dialog"===d.element.jqmData("role")&&d.options.theme,e.addClass("ui-content"),d.options.contentTheme&&e.addClass("ui-body-"+d.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var c=this.element;!c.data("mobile-page").options.domCache&&c.is(":jqmData(external-page='true')")&&c.bind("pagehide.remove",b||function(b,c){if(!c.samePage){var d=a(this),e=new a.Event("pageremove");d.trigger(e),e.isDefaultPrevented()||d.removeWithDependents()}})},_setOptions:function(c){c.theme!==b&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+c.theme),c.contentTheme!==b&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+c.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,c=a.trim(b.keepNative||""),e=a.trim(a.mobile.keepNative),f=a.trim(b.keepNativeDefault),g=d===e?"":e,h=""===g?f:"";return(c?[c]:[]).concat(g?[g]:[]).concat(h?[h]:[]).join(", ")}})}(a),function(a,d){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==d&&"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==d&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a,b,c,d=this._getActiveHistory();d&&(a=this._getScroll(),b=this._getMinScroll(),c=this._getDefaultScroll(),d.lastScroll=b>a?c:a)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||(d=b.originalEvent.type.indexOf("hashchange")>-1?c.state.hash:c.state.url,d||(d=this._getHash()),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),this._handleNavigate(d,c.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return a.mobile.navigate.history.getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(a.mobile.hashListeningEnabled)b.history.go(c);else{var d=a.mobile.navigate.history.activeIndex,e=d+parseInt(c,10),f=a.mobile.navigate.history.stack[e].url,g=c>=1?"forward":"back";a.mobile.navigate.history.activeIndex=e,a.mobile.navigate.history.previousIndex=d,this.change(f,{direction:g,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){var c;return"string"===a.type(b)&&(b=a.mobile.path.stripHash(b)),b&&(c=this._getHistory(),b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase()),b===a.mobile.path.makeUrlAbsolute("#"+c.initialDst,this._getDocumentBase())&&c.stack.length&&c.stack[0].url!==c.initialDst.replace(a.mobile.dialogHashKey,"")&&(b=this._getInitialContent())),b||this._getInitialContent()},_handleDialog:function(b,c){var d,e,f=this.getActivePage();return f&&!f.hasClass("ui-dialog")?("back"===c.direction?this.back():this.forward(),!1):(d=c.pageUrl,e=this._getActiveHistory(),a.extend(b,{role:e.role,transition:e.transition,reverse:"back"===c.direction}),d)},_handleNavigate:function(b,c){var e=a.mobile.path.stripHash(b),f=this._getHistory(),g=0===f.stack.length?"none":d,h={changeHash:!1,fromHashChange:!0,reverse:"back"===c.direction};a.extend(h,c,{transition:(f.getLast()||{}).transition||g}),f.activeIndex>0&&e.indexOf(a.mobile.dialogHashKey)>-1&&f.initialDst!==e&&(e=this._handleDialog(h,c),e===!1)||this._changeContent(this._handleDestination(e),h)},_changeContent:function(b,c){a.mobile.changePage(b,c)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,b){return a.page({role:b})},_include:function(a,b){a.appendTo(this.element),this._enhance(a,b.role),a.page("bindRemove")},_find:function(b){var c,d=this._createFileUrl(b),e=this._createDataUrl(b),f=this._getInitialContent();return c=this.element.children("[data-"+this._getNs()+"url='"+e+"']"),0===c.length&&e&&!a.mobile.path.isPath(e)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+e)).attr("data-"+this._getNs()+"url",e).jqmData("url",e)),0===c.length&&a.mobile.path.isFirstPageUrl(d)&&f&&f.parent().length&&(c=a(f)),c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,c,d,e){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",c,d,e),this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,c){var d,e=a("<div></div>");return e.get(0).innerHTML=b,d=e.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),d.length||(d=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),d.attr("data-"+this._getNs()+"url",a.mobile.path.convertUrlToDataUrl(c)).attr("data-"+this._getNs()+"external-page",!0),d},_setLoadedTitle:function(b,c){var d=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;d&&!b.jqmData("title")&&(d=a("<div>"+d+"</div>").text(),b.jqmData("title",d))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,d){var e=a.Event("page"+b),f=a.Event(this.widgetName+b);return(d||this.element).trigger(e,c),this.element.trigger(f,c),{deprecatedEvent:e,event:f}},_loadSuccess:function(b,c,e,f){var g=this._createFileUrl(b),h=this._createDataUrl(b);return a.proxy(function(i,j,k){var l,m=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),n=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");m.test(i)&&RegExp.$1&&n.test(RegExp.$1)&&RegExp.$1&&(g=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text())),e.prefetch===d&&this._getBase().set(g),l=this._parse(i,g),this._setLoadedTitle(l,i),c.xhr=k,c.textStatus=j,c.page=l,c.content=l,this._trigger("load",d,c)&&(this._isRewritableBaseTag()&&l&&this._getBase().rewrite(g,l),this._include(l,e),b.indexOf("&"+a.mobile.subPageUrlKey)>-1&&(l=this.element.children("[data-"+this._getNs()+"url='"+h+"']")),e.showLoadMsg&&this._hideLoading(),this.element.trigger("pageload"),f.resolve(b,e,l))},this)},_loadDefaults:{type:"get",data:d,reloadPage:!1,reload:!1,role:d,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e,f,g,h,i=c&&c.deferred||a.Deferred(),j=a.extend({},this._loadDefaults,c),k=null,l=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault());return j.reload=j.reloadPage,j.data&&"get"===j.type&&(l=a.mobile.path.addSearchParams(l,j.data),j.data=d),j.data&&"post"===j.type&&(j.reload=!0),e=this._createFileUrl(l),f=this._createDataUrl(l),k=this._find(l),0===k.length&&a.mobile.path.isEmbeddedPage(e)&&!a.mobile.path.isFirstPageUrl(e)?void i.reject(l,j):(this._getBase().reset(),k.length&&!j.reload?(this._enhance(k,j.role),i.resolve(l,j,k),void(j.prefetch||this._getBase().set(b))):(h={url:b,absUrl:l,dataUrl:f,deferred:i,options:j},g=this._triggerWithDeprecated("beforeload",h),g.deprecatedEvent.isDefaultPrevented()||g.event.isDefaultPrevented()?void 0:(j.showLoadMsg&&this._showLoading(j.loadMsgDelay),j.prefetch===d&&this._getBase().reset(),a.mobile.allowCrossDomainPages||a.mobile.path.isSameDomain(a.mobile.path.documentUrl,l)?void a.ajax({url:e,type:j.type,data:j.data,contentType:j.contentType,dataType:"html",success:this._loadSuccess(l,h,j,i),error:this._loadError(l,h,j,i)}):void i.reject(l,j))))},_loadError:function(b,c,d,e){return a.proxy(function(f,g,h){this._getBase().set(a.mobile.path.get()),c.xhr=f,c.textStatus=g,c.errorThrown=h;var i=this._triggerWithDeprecated("loadfailed",c);i.deprecatedEvent.isDefaultPrevented()||i.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),e.reject(b,d))},this)},_getTransitionHandler:function(b){return b=a.mobile._maybeDegradeTransition(b),a.mobile.transitionHandlers[b]||a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var e=!1;d=d||"",c&&(b[0]===c[0]&&(e=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,samePage:e},c)),this._triggerWithDeprecated(d+"show",{prevPage:c||a("")},b)},_cssTransition:function(b,c,d){var e,f,g=d.transition,h=d.reverse,i=d.deferred;this._triggerCssTransitionEvents(b,c,"before"),this._hideLoading(),e=this._getTransitionHandler(g),f=new e(g,h,b,c).transition(),f.done(function(){i.resolve.apply(i,arguments)}),f.done(a.proxy(function(){this._triggerCssTransitionEvents(b,c)},this))},_releaseTransitionLock:function(){f=!1,e.length>0&&a.mobile.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,d){d.target=b,d.deferred=a.Deferred(),this.load(b,d),d.deferred.done(a.proxy(function(a,b,d){f=!1,b.absUrl=c.absUrl,this.transition(d,c,b)},this)),d.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",c)},this))},_triggerPageBeforeChange:function(b,c,d){var e=new a.Event("pagebeforechange");return a.extend(c,{toPage:b,options:d}),c.absUrl="string"===a.type(b)?a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):d.absUrl,this.element.trigger(e,c),e.isDefaultPrevented()?!1:!0},change:function(b,c){if(f)return void e.unshift(arguments);var d=a.extend({},a.mobile.changePage.defaults,c),g={};d.fromPage=d.fromPage||this.activePage,this._triggerPageBeforeChange(b,g,d)&&(b=g.toPage,"string"===a.type(b)?(f=!0,this._loadUrl(b,g,d)):this.transition(b,g,d))},transition:function(b,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(f)return void e.unshift([b,h]);if(this._triggerPageBeforeChange(b,g,h)&&(v=this._triggerWithDeprecated("beforetransition",g),!v.deprecatedEvent.isDefaultPrevented()&&!v.event.isDefaultPrevented())){if(f=!0,b[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=a.mobile.path.documentUrl.hrefNoHash),i=h.fromPage,j=h.dataUrl&&a.mobile.path.convertUrlToDataUrl(h.dataUrl)||b.jqmData("url"),k=j,l=a.mobile.path.getFilePath(j),m=a.mobile.navigate.history.getActive(),n=0===a.mobile.navigate.history.activeIndex,o=0,p=c.title,q=("dialog"===h.role||"dialog"===b.jqmData("role"))&&b.jqmData("dialog")!==!0,i&&i[0]===b[0]&&!h.allowSamePageTransition)return f=!1,this._triggerWithDeprecated("transition",g),this.element.trigger("pagechange",g),void(h.fromHashChange&&a.mobile.navigate.history.direct({url:j}));b.page({role:h.role}),h.fromHashChange&&(o="back"===h.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(w){}r=!1,q&&m&&(m.url&&m.url.indexOf(a.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&a.mobile.navigate.history.activeIndex>0&&(h.changeHash=!1,r=!0),j=m.url||"",j+=!r&&j.indexOf("#")>-1?a.mobile.dialogHashKey:"#"+a.mobile.dialogHashKey,0===a.mobile.navigate.history.activeIndex&&j===a.mobile.navigate.history.initialDst&&(j+=a.mobile.dialogHashKey)),s=m?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():p,s&&p===c.title&&(p=s),b.jqmData("title")||b.jqmData("title",p),h.transition=h.transition||(o&&!n?m.transition:d)||(q?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!o&&r&&(a.mobile.navigate.history.getActive().pageUrl=k),j&&!h.fromHashChange&&(!a.mobile.path.isPath(j)&&j.indexOf("#")<0&&(j="#"+j),t={transition:h.transition,title:p,pageUrl:k,role:h.role},h.changeHash!==!1&&a.mobile.hashListeningEnabled?a.mobile.navigate(j,t,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(j,t)),c.title=p,a.mobile.activePage=b,this.activePage=b,h.reverse=h.reverse||0>o,u=a.Deferred(),this._cssTransition(b,i,{transition:h.transition,reverse:h.reverse,deferred:u}),u.done(a.proxy(function(c,d,e,f,i){a.mobile.removeActiveLinkClass(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),this._releaseTransitionLock(),this.element.trigger("pagechange",g),this._triggerWithDeprecated("transition",g)},this))}},_findBaseWithDefault:function(){var b=this.activePage&&a.mobile.getClosestBaseUrl(this.activePage);return b||a.mobile.path.documentBase.hrefNoHash}}),a.mobile.navreadyDeferred=a.Deferred();var e=[],f=!1}(a),function(a,c){function d(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var e=a.Deferred(),f=a.Deferred(),g=a.mobile.path.documentUrl,h=null;a.mobile.loadPage=function(b,c){var d;return c=c||{},d=c.pageContainer||a.mobile.pageContainer,c.deferred=a.Deferred(),d.pagecontainer("load",b,c),c.deferred.promise()},a.mobile.back=function(){var c=b.navigator;this.phonegapNavigationEnabled&&c&&c.app&&c.app.backHistory?c.app.backHistory():a.mobile.pageContainer.pagecontainer("back")},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?void b.focus():void(c.length?c.focus():a.focus())},a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",b,c)},a.mobile.changePage.defaults={transition:c,reverse:!1,changeHash:!0,fromHashChange:!1,role:c,duplicateCachedPage:c,pageContainer:c,showLoadMsg:!0,dataUrl:c,fromPage:c,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){var e=function(b,c){var d,e,f,i,j=!0;return!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target")?!1:(d=h&&h.attr("formaction")||b.attr("action"),i=(b.attr("method")||"get").toLowerCase(),d||(d=a.mobile.getClosestBaseUrl(b),"get"===i&&(d=a.mobile.path.parseUrl(d).hrefNoSearch),d===a.mobile.path.documentBase.hrefNoHash&&(d=g.hrefNoSearch)),d=a.mobile.path.makeUrlAbsolute(d,a.mobile.getClosestBaseUrl(b)),a.mobile.path.isExternal(d)&&!a.mobile.path.isPermittedCrossDomainRequest(g,d)?!1:(c||(e=b.serializeArray(),h&&h[0].form===b[0]&&(f=h.attr("name"),f&&(a.each(e,function(a,b){return b.name===f?(f="",!1):void 0}),f&&e.push({name:f,value:h.attr("value")}))),j={url:d,options:{type:i,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),j))};a.mobile.document.delegate("form","submit",function(b){var c;b.isDefaultPrevented()||(c=e(a(this)),c&&(a.mobile.changePage(c.url,c.options),b.preventDefault()))}),a.mobile.document.bind("vclick",function(b){var c,f,g=b.target,i=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(h=a(g),a.data(g,"mobile-button")){if(!e(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(g=d(g),!g||"#"===a.mobile.path.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:i=!0,c=a(g),i&&(c=c.closest(".ui-btn")),c.length>0&&!c.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=c,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(e){if(a.mobile.linkBindingEnabled&&!e.isDefaultPrevented()){var f,h,i,j,k,l,m,n=d(e.target),o=a(n),p=function(){b.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)};if(a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===e.target.parentNode&&p(),n&&!(e.which>1)&&o.jqmHijackable().length){if(o.is(":jqmData(rel='back')"))return a.mobile.back(),!1;if(f=a.mobile.getClosestBaseUrl(o),h=a.mobile.path.makeUrlAbsolute(o.attr("href")||"#",f),!a.mobile.ajaxEnabled&&!a.mobile.path.isEmbeddedPage(h))return void p();if(-1!==h.search("#")){if(h=h.replace(/[^#]*#/,""),!h)return void e.preventDefault();h=a.mobile.path.isPath(h)?a.mobile.path.makeUrlAbsolute(h,f):a.mobile.path.makeUrlAbsolute("#"+h,g.hrefNoHash)}if(i=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),j=i||a.mobile.path.isExternal(h)&&!a.mobile.path.isPermittedCrossDomainRequest(g,h))return void p();k=o.jqmData("transition"),l="reverse"===o.jqmData("direction")||o.jqmData("back"),m=o.attr("data-"+a.mobile.ns+"rel")||c,a.mobile.changePage(h,{transition:k,reverse:l,role:m,link:o}),e.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile.pageContainer.pagecontainer(),a.mobile.document.bind("pageshow",function(){f?f.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()}),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){e.resolve()}),a.mobile.window.load(function(){f.resolve(),f=null}),a.when(e,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a,b){a.mobile.Transition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(b,c,d,e){a.extend(this,{name:b,reverse:c,$to:d,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(a.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,d){this.beforeDoneOut(),this.startIn(a,b,c,d)},hideIn:function(a){this.$to.css("z-index",-10),a.call(this),this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1,(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&b.scrollTo(0,this.toScroll),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(b,c,d,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass),e||a.mobile.focusPage(this.$to),this.$to.height(b+this.toScroll),d||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+c),d?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()
},this))},startOut:function(b,c,d){this.beforeStartOut(b,c,d),this.$from.height(b+a.mobile.window.scrollTop()).addClass(this.name+" out"+c)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var b,c=this.reverse?" reverse":"",d=a.mobile.getScreenHeight(),e=a.mobile.maxTransitionWidth!==!1&&a.mobile.window.width()>a.mobile.maxTransitionWidth;return this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll,b=!a.support.cssTransitions||!a.support.cssAnimations||e||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!b?this.startOut(d,c,b):this.doneOut(d,c,b,!0),this.deferred.promise()}})}(a,this),function(a){a.mobile.SerialTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(b,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(b,c,d)},this))}})}(a),function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(a,b,c){this.doneOut(a,b,c)}})}(a),function(a){var b=function(){return 3*a.mobile.getScreenHeight()};a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition},a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential,a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||b}(a),function(a){a.mobile.transitionFallbacks.flip="fade"}(a,this),function(a){a.mobile.transitionFallbacks.flow="fade"}(a,this),function(a){a.mobile.transitionFallbacks.pop="fade"}(a,this),function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidedown="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidefade="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slideup="fade"}(a,this),function(a){a.mobile.transitionFallbacks.turn="fade"}(a,this),function(a){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs,a.mobile.degradeInputsWithin=function(b){b=a(b),b.find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var b,c,d,e,f=a(this),g=this.getAttribute("type"),h=a.mobile.degradeInputs[g]||"text";a.mobile.degradeInputs[g]&&(b=a("<div>").html(f.clone()).html(),c=b.indexOf(" type=")>-1,d=c?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+h+'" data-'+a.mobile.ns+'type="'+g+'"'+(c?"":">"),f.replaceWith(b.replace(d,e)))})}}(a),function(a,b,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).attr("data-"+a.mobile.ns+"rel","back").text(c||this.options.closeBtnText||"").prependTo(d)),this._headerCloseButton=e}})}(a,this),function(a,b,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",d.attr(c))},_create:function(){var b=this.element,c=this.options;b.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(c.corners?" ui-corner-all":"")})),a.extend(this,{_isCloseable:!1,_inner:b.children(),_headerCloseButton:null}),this._on(b,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(c.closeBtn)},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).text(c||this.options.closeBtnText||"").prependTo(d),this._on(e,{click:"close"})),this._headerCloseButton=e},close:function(){var b=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&b.activeIndex>0?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})}(a,this),function(a,b){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(c.heading=a(".ui-collapsible-heading",this.element[0]),c.content=c.heading.next(),c.anchor=a("a",c.heading[0]).first(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c),this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed")),a.preventDefault(),a.stopPropagation()}})},_getOptions:function(b){var d,e=this._ui.accordion,f=this._ui.accordionWidget;b=a.extend({},b),e.length&&!f&&(this._ui.accordionWidget=f=e.data("mobile-collapsibleset"));for(d in b)b[d]=null!=b[d]?b[d]:f?f.options[d]:e.length?a.mobile.getAttribute(e[0],d.replace(c,"-$1").toLowerCase()):null,null==b[d]&&(b[d]=a.mobile.collapsible.defaults[d]);return b},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_enhance:function(b,c){var e,f=this._renderedOptions,g=this._themeClassFromOption("ui-body-",f.contentTheme);return b.addClass("ui-collapsible "+(f.inset?"ui-collapsible-inset ":"")+(f.inset&&f.corners?"ui-corner-all ":"")+(g?"ui-collapsible-themed-content ":"")),c.originalHeading=b.children(this.options.heading).first(),c.content=b.wrapInner("<div class='ui-collapsible-content "+g+"'></div>").children(".ui-collapsible-content"),c.heading=c.originalHeading,c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div><!-- placeholder for legend --></div>").insertBefore(c.originalHeading),c.originalHeading.remove()),e=f.collapsed?f.collapsedIcon?"ui-icon-"+f.collapsedIcon:"":f.expandedIcon?"ui-icon-"+f.expandedIcon:"",c.status=a("<span class='ui-collapsible-heading-status'></span>"),c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(f.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",f.theme)+" "+(f.mini?"ui-mini ":"")),c.heading.insertBefore(c.content),this._handleExpandCollapse(this.options.collapsed),c},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,f,g,h,i=this.element,j=this._renderedOptions,k=this._ui,l=k.anchor,m=k.status,n=this._getOptions(a);a.collapsed!==b&&this._handleExpandCollapse(a.collapsed),c=i.hasClass("ui-collapsible-collapsed"),c?n.expandCueText!==b&&m.text(n.expandCueText):n.collapseCueText!==b&&m.text(n.collapseCueText),h=n.collapsedIcon!==b?n.collapsedIcon!==!1:j.collapsedIcon!==!1,(n.iconpos!==b||n.collapsedIcon!==b||n.expandedIcon!==b)&&(l.removeClass([d(j.iconpos)].concat(j.expandedIcon?["ui-icon-"+j.expandedIcon]:[]).concat(j.collapsedIcon?["ui-icon-"+j.collapsedIcon]:[]).join(" ")),h&&l.addClass([d(n.iconpos!==b?n.iconpos:j.iconpos)].concat(c?["ui-icon-"+(n.collapsedIcon!==b?n.collapsedIcon:j.collapsedIcon)]:["ui-icon-"+(n.expandedIcon!==b?n.expandedIcon:j.expandedIcon)]).join(" "))),n.theme!==b&&(f=this._themeClassFromOption("ui-btn-",j.theme),e=this._themeClassFromOption("ui-btn-",n.theme),l.removeClass(f).addClass(e)),n.contentTheme!==b&&(f=this._themeClassFromOption("ui-body-",j.contentTheme),e=this._themeClassFromOption("ui-body-",n.contentTheme),k.content.removeClass(f).addClass(e)),n.inset!==b&&(i.toggleClass("ui-collapsible-inset",n.inset),g=!(!n.inset||!n.corners&&!j.corners)),n.corners!==b&&(g=!(!n.corners||!n.inset&&!j.inset)),g!==b&&i.toggleClass("ui-corner-all",g),n.mini!==b&&l.toggleClass("ui-mini",n.mini)},_setOptions:function(a){this._applyOptions(a),this._super(a),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText),d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",b),d.content.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b).trigger("updatelayout"),this.options.collapsed=b,this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui,b=this.options;b.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(a),function(a){a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,b){var c;return b?c=a.not(".ui-screen-hidden"):(c=a.filter(":visible"),0===c.length&&(c=a.not(".ui-screen-hidden"))),c},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}}(a),function(a,b){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var b=this.element,c=this.options;a.extend(this,{_classes:""}),c.enhanced||(b.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",c.theme)+" "+(c.corners&&c.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible()),this._on(b,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0),this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(a){var c,d,e=this.element,f=this._themeClassFromOption("ui-group-theme-",a.theme);return f&&e.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(f),a.inset!==b&&(d=!(!a.inset||!a.corners&&!this.options.corners)),a.corners!==b&&(d=!(!a.corners||!a.inset&&!this.options.inset)),d!==b&&e.toggleClass("ui-corner-all",d),c=this._super(a),this.element.children(":mobile-collapsible").collapsible("refresh"),c},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c)),a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(b){var d=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(d,this._getVisibles(d,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(a),function(a){a.fn.grid=function(b){return this.each(function(){var c,d,e=a(this),f=a.extend({grid:null},b),g=e.children(),h={solo:1,a:2,b:3,c:4,d:5},i=f.grid;if(!i)if(g.length<=5)for(d in h)h[d]===g.length&&(i=d);else i="a",e.addClass("ui-grid-duo");c=h[i],e.addClass("ui-grid-"+i),g.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&g.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&g.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&g.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&g.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var d=this.element,e=d.find("a"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:b;d.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.each(function(){var b=a.mobile.getAttribute(this,"icon"),c=a.mobile.getAttribute(this,"theme"),d="ui-btn";c&&(d+=" ui-btn-"+c),b&&(d+=" ui-icon-"+b+" ui-btn-icon-"+f),a(this).addClass(d)}),d.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(e.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(c).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})}(a),function(a){var b=a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(" ui-listview"+b),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,_afterListviewRefresh:a.noop,refresh:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.options,y=this.element,z=!!a.nodeName(y[0],"ol"),A=y.attr("start"),B={},C=y.find(".ui-li-count"),D=b(y[0],"counttheme")||this.options.countTheme,E=D?"ui-body-"+D:"ui-body-inherit";for(x.theme&&y.addClass("ui-group-theme-"+x.theme),z&&(A||0===A)&&(n=parseInt(A,10)-1,y.css("counter-reset","listnumbering "+n)),this._beforeListviewRefresh(),w=this._getChildrenByTagName(y[0],"li","LI"),e=0,f=w.length;f>e;e++)g=w.eq(e),h="",(c||g[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(l=this._getChildrenByTagName(g[0],"a","A"),m="list-divider"===b(g[0],"role"),p=g.attr("value"),i=b(g[0],"theme"),l.length&&l[0].className.search(/\bui-btn\b/)<0&&!m?(j=b(g[0],"icon"),k=j===!1?!1:j||x.icon,l.removeClass("ui-link"),d="ui-btn",i&&(d+=" ui-btn-"+i),l.length>1?(h="ui-li-has-alt",q=l.last(),r=b(q[0],"theme")||x.splitTheme||b(g[0],"theme",!0),s=r?" ui-btn-"+r:"",t=b(q[0],"icon")||b(g[0],"icon")||x.splitIcon,u="ui-btn ui-btn-icon-notext ui-icon-"+t+s,q.attr("title",a.trim(q.getEncodedText())).addClass(u).empty()):k&&(d+=" ui-btn-icon-right ui-icon-"+k),l.first().addClass(d)):m?(v=b(g[0],"theme")||x.dividerTheme||x.theme,h="ui-li-divider ui-bar-"+(v?v:"inherit"),g.attr("role","heading")):l.length<=0&&(h="ui-li-static ui-body-"+(i?i:"inherit")),z&&p&&(o=parseInt(p,10)-1,g.css("counter-reset","listnumbering "+o))),B[h]||(B[h]=[]),B[h].push(g[0]);for(h in B)a(B[h]).addClass(h);C.each(function(){a(this).closest("li").addClass("ui-li-has-count")}),E&&C.addClass(E),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,c),c)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){function b(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null}a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:b},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var b,d,e,f,g,h=null,i=this.element;for(i.children("li:jqmData(role='list-divider')").remove(),d=i.children("li"),b=0;b<d.length;b++)e=d[b],f=this.options.autodividersSelector(a(e)),f&&h!==f&&(g=c.createElement("li"),g.appendChild(c.createTextNode(f)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(g,e)),h=f}})}(a),function(a){var b=/(^|\s)ui-li-divider($|\s)/,c=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,d,e,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),d=a.length-1;d>-1;d--)e=a[d],e.className.match(b)?(f&&(e.className=e.className+" ui-screen-hidden"),f=!0):e.className.match(c)||(f=!1)}})}(a),function(a){a.mobile.nojs=function(b){a(":jqmData(role='nojs')",b).addClass("ui-nojs")}}(a),function(a){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a,b){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var b=this.element,d=this.options,e=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},f=b.closest("label"),g=f.length?f:b.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+c(b[0].id)+"']").first(),h=b[0].type,i="ui-"+h+"-on",j="ui-"+h+"-off";("checkbox"===h||"radio"===h)&&(this.element[0].disabled&&(this.options.disabled=!0),d.iconpos=e(b,"iconpos")||g.attr("data-"+a.mobile.ns+"iconpos")||d.iconpos,d.mini=e(b,"mini")||d.mini,a.extend(this,{input:b,label:g,parentLabel:f,inputtype:h,checkedClass:i,uncheckedClass:j}),this.options.enhanced||this._enhance(),this._on(g,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(b,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.parentLabel.length>0?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll()},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;return b.is(":disabled")?void a.preventDefault():(this._cacheVals(),b.prop("checked","radio"===this.inputtype&&!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var b,d,e=this.element[0],f=e.name,g=e.form,h=this.element.parents().last().get(0),i=this.element;return f&&"radio"===this.inputtype&&h&&(b="input[type='radio'][name='"+c(f)+"']",g?(d=g.id,d&&(i=a(b+"[form='"+c(d)+"']",h)),i=a(g).find(b).filter(function(){return this.form===g}).add(i)):i=a(b,h).filter(function(){return!this.form})),i},_updateAll:function(){var b=this;this._getInputSet().each(function(){var c=a(this);(this.checked||"checkbox"===b.inputtype)&&c.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var b,c,d=a.mobile.controlgroup;return d&&(b=this.element.closest(":mobile-controlgroup,"+d.prototype.initSelector),b.length>0)?(c=a.data(b[0],"mobile-controlgroup"),"horizontal"!==(c?c.options.type:b.attr("data-"+a.mobile.ns+"type"))):!0},refresh:function(){var b=this._hasIcon(),c=this.element[0].checked,d=a.mobile.activeBtnClass,e="ui-btn-icon-"+this.options.iconpos,f=[],g=[];b?(g.push(d),f.push(e)):(g.push(e),(c?f:g).push(d)),c?(f.push(this.checkedClass),g.push(this.uncheckedClass)):(f.push(this.uncheckedClass),g.push(this.checkedClass)),this.label.addClass(f.join(" ")).removeClass(g.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(a){var c=this.label,d=this.options,e=this.widget(),f=this._hasIcon();a.disabled!==b&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled)),a.mini!==b&&e.toggleClass("ui-mini",!!a.mini),a.theme!==b&&c.removeClass("ui-btn-"+d.theme).addClass("ui-btn-"+a.theme),a.wrapperClass!==b&&e.removeClass(d.wrapperClass).addClass(a.wrapperClass),a.iconpos!==b&&f?c.removeClass("ui-btn-icon-"+d.iconpos).addClass("ui-btn-icon-"+a.iconpos):f||c.removeClass("ui-btn-icon-"+d.iconpos),this._super(a)}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),a.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},blur:function(){this.widget().removeClass(a.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var b=this.options,c=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(b.wrapperClass?" "+b.wrapperClass:"")+(b.theme?" ui-btn-"+b.theme:"")+(b.corners?" ui-corner-all":"")+(b.shadow?" ui-shadow":"")+(b.inline?" ui-btn-inline":"")+(b.mini?" ui-mini":"")+(b.disabled?" ui-state-disabled":"")+(c?" "+c:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.button),this.button.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==b&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme),c.corners!==b&&d.toggleClass("ui-corner-all",c.corners),c.shadow!==b&&d.toggleClass("ui-shadow",c.shadow),c.inline!==b&&d.toggleClass("ui-btn-inline",c.inline),c.mini!==b&&d.toggleClass("ui-mini",c.mini),c.disabled!==b&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled)),(c.icon!==b||c.iconshadow!==b||c.iconpos!==b)&&d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c))),this._super(c)},refresh:function(b){var c,d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),b||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c)),this.options.disabled!==d&&this._setOptions({disabled:d})}})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&c!==!0||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a,b){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var b=this.options,c=this.element.is("[type='search'], :jqmData(type='search')"),d="TEXTAREA"===this.element[0].tagName,e=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),f=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!e;this.element.prop("disabled")&&(b.disabled=!0),a.extend(this,{classes:this._classesFromOptions(),isSearch:c,isTextarea:d,isRange:e,inputNeedsWrap:f}),this._autoCorrect(),b.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text"),(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes),this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,b=[];return b.push("ui-body-"+(null===a.theme?"inherit":a.theme)),a.corners&&b.push("ui-corner-all"),a.mini&&b.push("ui-mini"),a.disabled&&b.push("ui-state-disabled"),a.wrapperClass&&b.push(a.wrapperClass),b},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass),this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0),this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var c=this.widget();this._super(a),(a.disabled!==b||a.mini!==b||a.corners!==b||a.theme!==b||a.wrapperClass!==b)&&(c.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),c.addClass(this.classes.join(" "))),a.disabled!==b&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(a),function(a,d){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var e,f,g,h,i,j,k,l,m,n,o=this,p=this.element,q=this.options.trackTheme||a.mobile.getAttribute(p[0],"theme"),r=q?" ui-bar-"+q:" ui-bar-inherit",s=this.options.corners||p.jqmData("corners")?" ui-corner-all":"",t=this.options.mini||p.jqmData("mini")?" ui-mini":"",u=p[0].nodeName.toLowerCase(),v="select"===u,w=p.parent().is(":jqmData(role='rangeslider')"),x=v?"ui-slider-switch":"",y=p.attr("id"),z=a("[for='"+y+"']"),A=z.attr("id")||y+"-label",B=v?0:parseFloat(p.attr("min")),C=v?p.find("option").length-1:parseFloat(p.attr("max")),D=b.parseFloat(p.attr("step")||1),E=c.createElement("a"),F=a(E),G=c.createElement("div"),H=a(G),I=this.options.highlight&&!v?function(){var b=c.createElement("div");
return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(H)}():!1;if(z.attr("id",A),this.isToggleSwitch=v,E.setAttribute("href","#"),G.setAttribute("role","application"),G.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",x,r,s,t].join(""),E.className="ui-slider-handle",G.appendChild(E),F.attr({role:"slider","aria-valuemin":B,"aria-valuemax":C,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":A}),a.extend(this,{slider:H,handle:F,control:p,type:u,step:D,max:C,min:B,valuebg:I,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),v){for(k=p.attr("tabindex"),k&&F.attr("tabindex",k),p.attr("tabindex","-1").focus(function(){a(this).blur(),F.focus()}),f=c.createElement("div"),f.className="ui-slider-inneroffset",g=0,h=G.childNodes.length;h>g;g++)f.appendChild(G.childNodes[g]);for(G.appendChild(f),F.addClass("ui-slider-handle-snapping"),e=p.find("option"),i=0,j=e.length;j>i;i++)l=i?"a":"b",m=i?" "+a.mobile.activeBtnClass:"",n=c.createElement("span"),n.className=["ui-slider-label ui-slider-label-",l,m].join(""),n.setAttribute("role","img"),n.appendChild(c.createTextNode(e[i].innerHTML)),a(n).prependTo(H);o._labels=a(".ui-slider-label",H)}p.addClass(v?"ui-slider-switch":"ui-slider-input"),this._on(p,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),H.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(H.add(c),{vmouseup:"_sliderVMouseUp"}),H.insertAfter(p),v||w||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",p.add(H).wrapAll(f)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_setOptions:function(a){a.theme!==d&&this._setTheme(a.theme),a.trackTheme!==d&&this._setTrackTheme(a.trackTheme),a.corners!==d&&this._setCorners(a.corners),a.mini!==d&&this._setMini(a.mini),a.highlight!==d&&this._setHighlight(a.highlight),a.disabled!==d&&this._setDisabled(a.disabled),this._super(a)},_controlChange:function(a){return this._trigger("controlchange",a)===!1?!1:void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d?!1:this._trigger("beforestart",a)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(a){return this._trigger("drag",a)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this,A=a.mobile.getAttribute(this.element[0],"theme"),B=this.options.theme||A,C=B?" ui-btn-"+B:"",D=this.options.trackTheme||A,E=D?" ui-bar-"+D:" ui-bar-inherit",F=this.options.corners?" ui-corner-all":"",G=this.options.mini?" ui-mini":"";if(z.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",E,F,G].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(z.slider)}()),this.handle.addClass("ui-btn"+C+" ui-shadow"),l=this.element,m=!this.isToggleSwitch,n=m?[]:l.find("option"),o=m?parseFloat(l.attr("min")):0,p=m?parseFloat(l.attr("max")):n.length-1,q=m&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1,"object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),j=g/((p-o)/q),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;k=j>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=m?parseFloat(l.val()||0):l[0].selectedIndex),k=(parseFloat(b)-o)/(p-o)*100;if(!isNaN(k)&&(r=k/100*(p-o)+o,s=(r-o)%q,t=r-s,2*Math.abs(s)>=q&&(t+=s>0?q:-q),u=100/((p-o)/q),r=parseFloat(t.toFixed(5)),"undefined"==typeof j&&(j=g/((p-o)/q)),j>1&&m&&(k=(r-o)*u*(1/q)),0>k&&(k=0),k>100&&(k=100),o>r&&(r=o),r>p&&(r=p),this.handle.css("left",k+"%"),this.handle[0].setAttribute("aria-valuenow",m?r:n.eq(r).attr("value")),this.handle[0].setAttribute("aria-valuetext",m?r:n.eq(r).getEncodedText()),this.handle[0].setAttribute("title",m?r:n.eq(r).getEncodedText()),this.valuebg&&this.valuebg.css("width",k+"%"),this._labels&&(v=this.handle.width()/this.slider.width()*100,w=k&&v+(100-v)*k/100,x=100===k?0:Math.min(v+100-w,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?w:x)+"%")})),!e)){if(y=!1,m?(y=l.val()!==r,l.val(r)):(y=l[0].selectedIndex!==r,l[0].selectedIndex=r),this._trigger("beforechange",b)===!1)return!1;!d&&y&&l.trigger("change")}},_setHighlight:function(a){a=!!a,a?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+a);var b=this.options.theme?this.options.theme:"inherit",c=a?a:"inherit";this.control.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setTrackTheme:function(a){var b=this.options.trackTheme?this.options.trackTheme:"inherit",c=a?a:"inherit";this.slider.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setMini:function(a){a=!!a,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a)),this.slider.toggleClass("ui-mini",a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a,this.element.prop("disabled",a),this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a)}},a.mobile.behaviors.formReset))}(a),function(a){function b(){return c||(c=a("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),c.clone()}var c;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),a.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(a,c){this._super(a,c),"showValue"===a?this.handle.html(c&&!this.options.mini?this._value():""):"popupEnabled"===a&&c&&!this._popup&&(this._popup=b().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var a,b=this.options;b.popupEnabled&&this.handle.removeAttr("title"),a=this._value(),a!==this._currentValue&&(this._currentValue=a,b.popupEnabled&&this._popup?(this._positionPopup(),this._popup.html(a)):b.showValue&&!this.options.mini&&this.handle.html(a))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(a),function(a,b){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var b=a("<div>"),c=this.options,d=this.element,e=c.theme?c.theme:"inherit",f=a("<a></a>",{href:"#"}),g=a("<span></span>"),h=d.get(0).tagName,i="INPUT"===h?c.onText:d.find("option").eq(1).text(),j="INPUT"===h?c.offText:d.find("option").eq(0).text();f.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(i),g.addClass("ui-flipswitch-off").text(j),b.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+e+" "+(c.wrapperClass?c.wrapperClass:"")+" "+(d.is(":checked")||d.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(d.is(":disabled")?" ui-state-disabled":"")+(c.corners?" ui-corner-all":"")+(c.mini?" ui-mini":"")).append(f,g),d.addClass("ui-flipswitch-input").after(b).appendTo(b),a.extend(this,{flipswitch:b,on:f,off:g,type:h})},_reset:function(){this.refresh()},refresh:function(){var a,b=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";a="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",a!==b&&this[a]()},_toggle:function(){var a=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[a]()},_keydown:function(b){b.which===a.mobile.keyCode.LEFT?this._left():b.which===a.mobile.keyCode.RIGHT?this._right():b.which===a.mobile.keyCode.SPACE&&(this._toggle(),b.preventDefault())},_setOptions:function(a){if(a.theme!==b){var c=a.theme?a.theme:"inherit",d=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}a.onText!==b&&this.on.text(a.onText),a.offText!==b&&this.off.text(a.offText),a.disabled!==b&&this.widget().toggleClass("ui-state-disabled",a.disabled),a.mini!==b&&this.widget().toggleClass("ui-mini",a.mini),a.corners!==b&&this.widget().toggleClass("ui-corner-all",a.corners),this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var b=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",d=b.find("input").first(),e=b.find("input").last(),f=b.find("label").first(),g=a.data(d.get(0),"mobile-slider")||a.data(d.slider().get(0),"mobile-slider"),h=a.data(e.get(0),"mobile-slider")||a.data(e.slider().get(0),"mobile-slider"),i=g.slider,j=h.slider,k=g.handle,l=a("<div class='ui-rangeslider-sliders' />").appendTo(b);d.addClass("ui-rangeslider-first"),e.addClass("ui-rangeslider-last"),b.addClass(c),i.appendTo(l),j.appendTo(l),f.insertBefore(b),k.prependTo(j),a.extend(this,{_inputFirst:d,_inputLast:e,_sliderFirst:i,_sliderLast:j,_label:f,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(k,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,a.data(this._inputFirst.get(0),"mobile-slider").refresh(b),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c?(a.data(d.get(0),"mobile-slider").dragging=!0,a.data(d.get(0),"mobile-slider").refresh(b),!1):void 0},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOptions:function(a){a.theme!==b&&this._setTheme(a.theme),a.trackTheme!==b&&this._setTrackTheme(a.trackTheme),a.mini!==b&&this._setMini(a.mini),a.highlight!==b&&this._setHighlight(a.highlight),this._super(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,corners:b.corners,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobile-slider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobile-slider").handle.css("z-index",1),a.data(h.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(h.get(0),"mobile-slider").handle.css("z-index",""),a.data(g.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),d>=e?!1:void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),c=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),d=c-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_setTheme:function(a){this._inputFirst.slider("option","theme",a),this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a),this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a),this._inputLast.slider("option","mini",a),this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a),this._inputLast.slider("option","highlight",a)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),(this.options.clearBtn||this.isSearch)&&this._addClearBtn()},clearButton:function(){return a("<a href='#' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all' title='"+this.options.clearBtnText+"'>"+this.options.clearBtnText+"</a>")},_clearBtnClick:function(a){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a),a.clearBtn===b||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear()),a.clearBtnText!==b&&this._clearBtn!==b&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this._destroyClear()}})}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(b){a.contains(b.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==b.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._timeout())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout),a===b?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,b,c,d,e,f,g,h,i,j=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),d=this.element[0].scrollHeight,e=this.element[0].clientHeight,f=parseFloat(this.element.css("border-top-width")),g=parseFloat(this.element.css("border-bottom-width")),h=f+g,i=d+h+15,0===e&&(a=parseFloat(this.element.css("padding-top")),b=parseFloat(this.element.css("padding-bottom")),c=a+b,i+=c),this.element.css({height:i,"min-height":"","max-height":""}),this.window.scrollTop(j)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a),a.autogrow!==b&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})}(a),function(a){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b=this.options.inline||this.element.jqmData("inline"),c=this.options.mini||this.element.jqmData("mini"),d="";~this.element[0].className.indexOf("ui-btn-left")&&(d=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(d=" ui-btn-right"),b&&(d+=" ui-btn-inline"),c&&(d+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+d+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=a("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this.button=this._button();var c=this,d=this.options,e=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,f=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+e+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(f.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&this.blur()}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder,e?f.text(e):f.html("&#160;"),f.addClass(b.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))}(a),function(a){a.mobile.links=function(b){a(b).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this,b=a.getAttribute("href").substring(1);b&&(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",b),a.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(a),function(a,c){function d(a,b,c,d){var e=d;return e=b>a?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function e(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_create:function(){var b=this.element,c=b.attr("id"),d=this.options;d.history=d.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=a("body")),d.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(d.transition)),this._setTolerance(d.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var d=this.options,e=d.wrapperClass,f={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",d.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'><!-- placeholder --></div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'></div>")},g=this.document[0].createDocumentFragment();return g.appendChild(f.screen[0]),g.appendChild(f.container[0]),c&&(f.screen.attr("id",c+"-screen"),f.container.attr("id",c+"-popup"),f.placeholder.attr("id",c+"-placeholder").html("<!-- placeholder for "+c+" -->")),this._page[0].appendChild(g),f.placeholder.insertAfter(b),b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",d.theme)+" "+(d.shadow?"ui-overlay-shadow ":"")+(d.corners?"ui-corner-all ":"")).appendTo(f.container),f},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.screen,b=this._ui.container.outerHeight(!0),c=a.removeAttr("style").height(),d=this.document.height()-1;d>c?a.height(d):b>c&&a.height(b)},_handleWindowKeyUp:function(b){return this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE?this._eatEventAndClose(b):void 0},_expectResizeEvent:function(){var a=e(this.window);if(this._resizeData){if(a.x===this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,d=b.target,e=this._ui;if(this._isOpen){if(d!==e.container[0]){if(c=a(d),0===c.parents().filter(e.container[0]).length)return a(this.document[0].activeElement).one("focus",function(){c.blur()}),e.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;e.focusElement[0]===e.container[0]&&(e.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:a+"inherit"},_applyTransition:function(b){return b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(a){var b=this.options,d=this.element,e=this._ui.screen;return a.wrapperClass!==c&&this._ui.container.removeClass(b.wrapperClass).addClass(a.wrapperClass),a.theme!==c&&d.removeClass(this._themeClassFromOption("ui-body-",b.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme)),a.overlayTheme!==c&&(e.removeClass(this._themeClassFromOption("ui-overlay-",b.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",a.overlayTheme)),this._isOpen&&e.addClass("in")),a.shadow!==c&&d.toggleClass("ui-overlay-shadow",a.shadow),a.corners!==c&&d.toggleClass("ui-corner-all",a.corners),a.transition!==c&&(this._currentTransition||this._applyTransition(a.transition)),a.tolerance!==c&&this._setTolerance(a.tolerance),a.disabled!==c&&a.disabled&&this.close(),this._super(a)
},_setTolerance:function(b){var d,e={t:30,r:15,b:30,l:15};if(b!==c)switch(d=String(b).split(","),a.each(d,function(a,b){d[a]=parseInt(b,10)}),d.length){case 1:isNaN(d[0])||(e.t=e.r=e.b=e.l=d[0]);break;case 2:isNaN(d[0])||(e.t=e.b=d[0]),isNaN(d[1])||(e.l=e.r=d[1]);break;case 4:isNaN(d[0])||(e.t=d[0]),isNaN(d[1])||(e.r=d[1]),isNaN(d[2])||(e.b=d[2]),isNaN(d[3])||(e.l=d[3])}return this._tolerance=e,this},_clampPopupWidth:function(a){var b,c=e(this.window),d={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};return a||this._ui.container.css("max-width",d.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:d,menuSize:b}},_calculateFinalLocation:function(a,b){var c,e=b.rc,f=b.menuSize;return c={left:d(e.cx,f.cx,e.x,a.x),top:d(e.cy,f.cy,e.y,a.y)},c.top=Math.max(0,c.top),c.top-=Math.min(c.top,Math.max(0,c.top+f.cy-this.document.height())),c},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,d){var e,f=this;e={screen:a.Deferred(),container:a.Deferred()},e.screen.then(function(){e===f._prerequisites&&b()}),e.container.then(function(){e===f._prerequisites&&c()}),a.when(e.screen,e.container).done(function(){e===f._prerequisites&&(f._prerequisites=null,d())}),f._prerequisites=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prerequisites.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?void this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,"resolve")):(this._ui.container.removeClass(b.classToRemove),void b.prerequisites.container.resolve())},_desiredCoords:function(b){var c,d=null,f=e(this.window),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=f.cx/2+f.x,h=f.cy/2+f.y;else{try{d=a(i)}catch(j){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=f.cx/2+f.x),("number"!==a.type(h)||isNaN(h))&&(h=f.cy/2+f.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",c,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_openPrerequisitesComplete:function(){var a=this.element.attr("id");this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),a&&this.document.find("[aria-haspopup='true'][aria-owns='"+a+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return null!==d&&"4.0"===e&&c&&c>534.13&&!f?!0:!1}();this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(c),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,d=this.element.attr("id");b.removeAttr("tabindex"),a.mobile.popup.active=c,a(":focus",b[0]).add(b[0]).blur(),d&&this.document.find("[aria-haspopup='true'][aria-owns='"+d+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(c,d){var e,f,g=this.options,h=!1;c&&c.isDefaultPrevented()||a.mobile.popup.active!==this||(b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),this.window.off(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,e,f,g,h,i=this,j=this.options;return a.mobile.popup.active||j.disabled?this:(a.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),j.history?(h=a.mobile.navigate.history,d=a.mobile.dialogHashKey,e=a.mobile.activePage,f=e?e.hasClass("ui-dialog"):!1,this._myUrl=c=h.getActive().url,(g=c.indexOf(d)>-1&&!f&&h.activeIndex>0)?(i._open(b),i._bindContainerClose(),this):(-1!==c.indexOf(d)||f?c=a.mobile.path.parseLocation().hash+d:c+=c.indexOf("#")>-1?d:"#"+d,0===h.activeIndex&&c===h.initialDst&&(c+=d),this.window.one("beforenavigate",function(a){a.preventDefault(),i._open(b),i._bindContainerClose()}),this.urlAltered=!0,a.mobile.navigate(c,{role:"dialog"}),this)):(i._open(b),i._bindContainerClose(),i.element.delegate(j.closeLinkSelector,j.closeLinkEvents,function(a){i.close(),a.preventDefault()}),this))},close:function(){return a.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),a.mobile.popup.handleLink=function(b){var c,d=a.mobile.path,e=a(d.hashToSelector(d.parseUrl(b.attr("href")).hash)).first();e.length>0&&e.data("mobile-popup")&&(c=b.offset(),e.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})}(a),function(a,b){var d=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",e=function(a,b,c){var e=a[c+"All"]().not(d).first();e.length&&(b.blur().attr("tabindex","-1"),e.find("a").first().focus())};a.widget("mobile.selectmenu",a.mobile.selectmenu,{_create:function(){var a=this.options;return a.nativeMenu=a.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(a){this._super(a),this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(b){this.options.disabled||this.isOpen||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(b){var c="focusin"===b.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(b.target).attr("tabindex",c.tabindex).trigger(c.event)},_handleListKeydown:function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return e(d,c,"prev"),!1;case 40:return e(d,c,"next"),!1;case 13:case 32:return c.trigger("click"),!1}},_handleMenuPageHide:function(){this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},build:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this.options;return w.nativeMenu?this._super():(v=this,c=this.selectId,d=c+"-listbox",e=c+"-dialog",f=this.label,g=this.element.closest(".ui-page"),h=this.element[0].multiple,i=c+"-menu",j=w.theme?" data-"+a.mobile.ns+"theme='"+w.theme+"'":"",k=w.overlayTheme||w.theme||null,l=k?" data-"+a.mobile.ns+"overlay-theme='"+k+"'":"",m=w.dividerTheme&&h?" data-"+a.mobile.ns+"divider-theme='"+w.dividerTheme+"'":"",n=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+e+"'"+j+l+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+f.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),o=a("<div id='"+d+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup({theme:w.overlayTheme}),p=a("<ul class='ui-selectmenu-list' id='"+i+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+j+m+"></ul>").appendTo(o),q=a("<div class='ui-header ui-bar-"+(w.theme?w.theme:"inherit")+"'></div>").prependTo(o),r=a("<h1 class='ui-title'></h1>").appendTo(q),this.isMultiple&&(u=a("<a>",{role:"button",text:w.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(q)),a.extend(this,{selectId:c,menuId:i,popupId:d,dialogId:e,thisPage:g,menuPage:n,label:f,isMultiple:h,theme:w.theme,listbox:o,list:p,header:q,headerTitle:r,headerClose:u,menuPageContent:s,menuPageClose:t,placeholder:""}),this.refresh(),this._origTabIndex===b&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown"}),this.list.delegate("li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)","click",function(b){var c=v.select[0].selectedIndex,d=a.mobile.getAttribute(this,"option-index"),e=v._selectOptions().eq(d)[0];e.selected=v.isMultiple?!e.selected:!0,v.isMultiple&&a(this).find("a").toggleClass("ui-checkbox-on",e.selected).toggleClass("ui-checkbox-off",!e.selected),(v.isMultiple||c!==d)&&v.select.trigger("change"),v.isMultiple?v.list.find("li:not(.ui-li-divider)").eq(d).find("a").first().focus():v.close(),b.preventDefault()}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"close"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_isRebuildRequired:function(){var a=this.list.find("li"),b=this._selectOptions().not(".ui-screen-hidden");return b.text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c,d;return this.options.nativeMenu?this._super(b):(c=this,(b||this._isRebuildRequired())&&c._buildList(),d=this.selectedIndices(),c.setButtonText(),c.setButtonCount(),void c.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(b){if(a.inArray(b,d)>-1){var e=a(this);e.attr("aria-selected",!0),c.isMultiple?e.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):e.hasClass("ui-screen-hidden")?e.next().find("a").addClass(a.mobile.activeBtnClass):e.find("a").addClass(a.mobile.activeBtnClass)}}))},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var b=this.list.find("a."+a.mobile.activeBtnClass);0===b.length&&(b=this.list.find("li:not("+d+") a.ui-btn")),b.first().focus()},_decideFormat:function(){var b=this,c=this.window,d=b.list.parent(),e=d.outerHeight(),f=c.scrollTop(),g=b.button.offset().top,h=c.height();e>h-80||!a.support.scrollTop?(b.menuPage.appendTo(a.mobile.pageContainer).page(),b.menuPageContent=b.menuPage.find(".ui-content"),b.menuPageClose=b.menuPage.find(".ui-header a"),b.thisPage.unbind("pagehide.remove"),0===f&&g>h&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",g)}),b.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.text())):(b.menuType="overlay",b.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")}))},_buildList:function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=this.options,s=this.placeholder,t=!0,u="false",v="data-"+a.mobile.ns,w=v+"option-index",x=v+"icon",y=v+"role",z=v+"placeholder",A=c.createDocumentFragment(),B=!1;for(q.list.empty().filter(".ui-listview").listview("destroy"),b=this._selectOptions(),d=b.length,e=this.select[0],g=0;d>g;g++,B=!1)h=b[g],i=a(h),i.hasClass("ui-screen-hidden")||(j=h.parentNode,k=i.text(),l=c.createElement("a"),m=[],l.setAttribute("href","#"),l.appendChild(c.createTextNode(k)),j!==e&&"optgroup"===j.nodeName.toLowerCase()&&(n=j.getAttribute("label"),n!==f&&(o=c.createElement("li"),o.setAttribute(y,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex","-1"),o.appendChild(c.createTextNode(n)),A.appendChild(o),f=n)),!t||h.getAttribute("value")&&0!==k.length&&!i.jqmData("placeholder")||(t=!1,B=!0,null===h.getAttribute(z)&&(this._removePlaceholderAttr=!0),h.setAttribute(z,!0),r.hidePlaceholderMenuItems&&m.push("ui-screen-hidden"),s!==k&&(s=q.placeholder=k)),p=c.createElement("li"),h.disabled&&(m.push("ui-state-disabled"),p.setAttribute("aria-disabled",!0)),p.setAttribute(w,g),p.setAttribute(x,u),B&&p.setAttribute(z,!0),p.className=m.join(" "),p.setAttribute("role","option"),l.setAttribute("tabindex","-1"),this.isMultiple&&a(l).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),p.appendChild(l),A.appendChild(p));q.list[0].appendChild(A),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),q.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==b&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(a),function(a,b){function c(a,b){var c=b?b:[];return c.push("ui-btn"),a.theme&&c.push("ui-btn-"+a.theme),a.icon&&(c=c.concat(["ui-icon-"+a.icon,"ui-btn-icon-"+a.iconpos]),a.iconshadow&&c.push("ui-shadow-icon")),a.inline&&c.push("ui-btn-inline"),a.shadow&&c.push("ui-shadow"),a.corners&&c.push("ui-corner-all"),a.mini&&c.push("ui-mini"),c}function d(a){var c,d,e,g=!1,h=!0,i={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},j=[];for(a=a.split(" "),c=0;c<a.length;c++)e=!0,d=f[a[c]],d!==b?(e=!1,i[d]=!0):0===a[c].indexOf("ui-btn-icon-")?(e=!1,h=!1,i.iconpos=a[c].substring(12)):0===a[c].indexOf("ui-icon-")?(e=!1,i.icon=a[c].substring(8)):0===a[c].indexOf("ui-btn-")&&8===a[c].length?(e=!1,i.theme=a[c].substring(7)):"ui-btn"===a[c]&&(e=!1,g=!0),e&&j.push(a[c]);return h&&(i.icon=""),{options:i,unknownClasses:j,alreadyEnhanced:g}}function e(a){return"-"+a.toLowerCase()}var f={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},g=function(){var c=a.mobile.getAttribute.apply(this,arguments);return null==c?b:c},h=/[A-Z]/g;a.fn.buttonMarkup=function(f,i){var j,k,l,m,n,o=a.fn.buttonMarkup.defaults;for(j=0;j<this.length;j++){if(l=this[j],k=i?{alreadyEnhanced:!1,unknownClasses:[]}:d(l.className),m=a.extend({},k.alreadyEnhanced?k.options:{},f),!k.alreadyEnhanced)for(n in o)m[n]===b&&(m[n]=g(l,n.replace(h,e)));l.className=c(a.extend({},o,m),k.unknownClasses).join(" "),"button"!==l.tagName.toLowerCase()&&l.setAttribute("role","button")}return this},a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button"})}(a),function(a,b){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var b=this.element,c=this.options;a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).buttonMarkup(),a.each(this._childWidgets,a.proxy(function(b,c){a.mobile[c]&&this.element.find(a.mobile[c].initSelector).not(a.mobile.page.prototype.keepNativeSelector())[c]()},this)),a.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=c.enhanced?{groupLegend:b.children(".ui-controlgroup-label").children(),childWrapper:b.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var b=this.element,c=this.options,d={groupLegend:b.children("legend"),childWrapper:b.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===c.type?"horizontal":"vertical")+" "+this._themeClassFromOption(c.theme)+" "+(c.corners?"ui-corner-all ":"")+(c.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(c.shadow===!0?"ui-shadow":"")+"'></div>").children()};return d.groupLegend.length>0&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(b),d},_init:function(){this.refresh()},_setOptions:function(a){var c,d,e=this.element;return a.type!==b&&(e.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),c=!0),a.theme!==b&&e.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme)),a.corners!==b&&e.toggleClass("ui-corner-all",a.corners),a.mini!==b&&e.toggleClass("ui-mini",a.mini),a.shadow!==b&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow),a.excludeInvisible!==b&&(this.options.excludeInvisible=a.excludeInvisible,c=!0),d=this._super(a),c&&this.refresh(),d},container:function(){return this._ui.childWrapper},refresh:function(){var b=this.container(),c=b.find(".ui-btn").not(".ui-slider-handle"),d=this._initialRefresh;a.mobile.checkboxradio&&b.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(c,this.options.excludeInvisible?this._getVisibles(c,d):c,d),this._initialRefresh=!1},_destroy:function(){var a,b,c=this.options;return c.enhanced?this:(a=this._ui,b=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(c.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(b),a.groupLegend.unwrap(),void a.childWrapper.children().unwrap())}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var b,c,d=this.element.is(":jqmData(role='header')")?"header":"footer",e=this.element.closest(".ui-page");0===e.length&&(e=!1,this._on(this.document,{pageshow:"refresh"})),a.extend(this,{role:d,page:e,leftbtn:b,rightbtn:c}),this.element.attr("role","header"===d?"banner":"contentinfo").addClass("ui-"+d),this.refresh(),this._setOptions(this.options)},_setOptions:function(c){if(c.addBackBtn!==b&&(this.options.addBackBtn&&"header"===this.role&&a(".ui-page").length>1&&this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash)&&!this.leftbtn?this._addBackButton():this.element.find(".ui-toolbar-back-btn").remove()),null!=c.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+c.backBtnTheme),c.backBtnText!==b&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(c.backBtnText),c.theme!==b){var d=this.options.theme?this.options.theme:"inherit",e=c.theme?c.theme:"inherit";this.element.removeClass("ui-bar-"+d).addClass("ui-bar-"+e)}this._super(c)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role&&this.element.appendTo("body")),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left"),this.rightbtn=a.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_addBackButton:function(){var b=this.options,c=b.backBtnTheme||b.theme;a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(c?"ui-btn-"+c+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+b.backBtnText+"</a>").prependTo(this.element)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super(),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(c){if("fixed"===c.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:a(".ui-page-active").length>0?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==b&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d,e,f,g,h=this.options;h.disablePageZoom&&a.mobile.zoom.enable(!0),h.updatePagePadding&&this._off(this.window,"throttledresize"),h.trackPersistentToolbars&&(d=a(".ui-footer-fixed:jqmData(id)",this.page),e=a(".ui-header-fixed:jqmData(id)",this.page),f=d.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+d.jqmData("id")+"')",c.nextPage)||a(),g=e.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),(f.length||g.length)&&(f.add(g).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){g.prependTo(this),f.appendTo(this)})))},_visible:!0,updatePagePadding:function(c){var d=this.element,e="header"===this.role,f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=this.window,d=this.element,e=c.scrollTop(),f=d.height(),g=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),h=a.mobile.getScreenHeight();return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&e>f||"footer"===this.role&&!this.options.fullscreen&&g-f>e+h)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=!0,g=this.page?this.page:a(".ui-page");g.bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(g){screen.width<1025&&a(g.target).is(e.hideDuringFocus)&&!a(g.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==g.type||f?"focusin"===g.type&&f&&(clearTimeout(b),f=!1,c=setTimeout(function(){d.hide()},0)):(f=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var a=this.element,b=a.hasClass("ui-header");a.closest(".ui-page").css("padding-"+(b?"top":"bottom"),""),a.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),a.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}})}(a),function(a){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&534>d))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,b=a.hasClass("ui-header"),c=Math.abs(a.offset().top-this.window.scrollTop());return b||(c=Math.round(c-this.window.height()+a.outerHeight())-60),c},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){var b=a._viewportOffset();b>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,b){function c(){var a=e.clone(),b=a.eq(0),c=a.eq(1),d=c.children();return{arEls:c.add(b),gd:b,ct:c,ar:d}}var d=a.mobile.browser.oldIE&&a.mobile.browser.oldIE<=8,e=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(d?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var a,b=this._super();return this.options.arrow&&(this._ui.arrow=a=this._addArrow()),b},_addArrow:function(){var a,b=this.options,d=c();return a=this._themeClassFromOption("ui-body-",b.theme),d.ar.addClass(a+(b.shadow?" ui-overlay-shadow":"")),d.arEls.hide().appendTo(this.element),d},_unenhance:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()},_tryAnArrow:function(a,b,c,d,e){var f,g,h,i={},j={};return d.arFull[a.dimKey]>d.guideDims[a.dimKey]?e:(i[a.fst]=c[a.fst]+(d.arHalf[a.oDimKey]+d.menuHalf[a.oDimKey])*a.offsetFactor-d.contentBox[a.fst]+(d.clampInfo.menuSize[a.oDimKey]-d.contentBox[a.oDimKey])*a.arrowOffsetFactor,i[a.snd]=c[a.snd],f=d.result||this._calculateFinalLocation(i,d.clampInfo),g={x:f.left,y:f.top},j[a.fst]=g[a.fst]+d.contentBox[a.fst]+a.tipOffset,j[a.snd]=Math.max(f[a.prop]+d.guideOffset[a.prop]+d.arHalf[a.dimKey],Math.min(f[a.prop]+d.guideOffset[a.prop]+d.guideDims[a.dimKey]-d.arHalf[a.dimKey],c[a.snd])),h=Math.abs(c.x-j.x)+Math.abs(c.y-j.y),(!e||h<e.diff)&&(j[a.snd]-=d.arHalf[a.dimKey]+f[a.prop]+d.contentBox[a.snd],e={dir:b,diff:h,result:f,posProp:a.prop,posVal:j[a.snd]}),e)},_getPlacementState:function(a){var b,c,d=this._ui.arrow,e={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};return b=this.element.offset(),d.gd.css({left:0,top:0,right:0,bottom:0}),c=d.gd.offset(),e.contentBox={x:c.left-b.left,y:c.top-b.top,cx:d.gd.width(),cy:d.gd.height()},d.gd.removeAttr("style"),e.guideOffset={left:e.guideOffset.left-b.left,top:e.guideOffset.top-b.top},e.arHalf={cx:e.arFull.cx/2,cy:e.arFull.cy/2},e.menuHalf={cx:e.clampInfo.menuSize.cx/2,cy:e.clampInfo.menuSize.cy/2},e},_placementCoords:function(b){var c,e,f,g,h,i=this.options.arrow,j=this._ui.arrow;return j?(j.arEls.show(),h={},c=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-c.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:c.arHalf.cx+c.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:c.arHalf.cy+c.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-c.arHalf.cy,arrowOffsetFactor:0}},a.each((i===!0?"l,t,r,b":i).split(","),a.proxy(function(a,d){e=this._tryAnArrow(f[d],d,b,c,e)},this)),e?(j.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show(),d||(g=this.element.offset(),h[f[e.dir].fst]=j.ct.offset(),h[f[e.dir].snd]={left:g.left+c.contentBox.x,top:g.top+c.contentBox.y}),e.result):(j.arEls.hide(),this._super(b))):this._super(b)
},_setOptions:function(a){var c,d=this.options.theme,e=this._ui.arrow,f=this._super(a);if(a.arrow!==b){if(!e&&a.arrow)return void(this._ui.arrow=this._addArrow());e&&!a.arrow&&(e.arEls.remove(),this._ui.arrow=null)}return e=this._ui.arrow,e&&(a.theme!==b&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),e.ar.removeClass(d).addClass(c)),a.shadow!==b&&e.ar.toggleClass("ui-overlay-shadow",a.shadow)),f},_destroy:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()}})}(a),function(a,c){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var b=this.element,c=b.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:b.find(":jqmData(rel='close')"),_parentPage:c.length>0?c:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);return 0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),a},_createModal:function(){var b=this,c=b._parentPage?b._parentPage.parent():b.element.parent();b._modal=a("<div class='"+b.options.classes.modal+"'></div>").on("mousedown",function(){b.close()}).appendTo(c)},_getPage:function(){var b=this._openedPage||this._parentPage||a("."+a.mobile.activePageClass);return b},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=a},_getFixedToolbars:function(){var b=a("body").children(".ui-header-fixed, .ui-footer-fixed"),c=this._page().find(".ui-header-fixed, .ui-footer-fixed"),d=b.add(c).addClass(this.options.classes.pageFixedToolbar);return d},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClickAndEatEvent:function(a){return a.isDefaultPrevented()?void 0:(a.preventDefault(),this.close(),!1)},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(b){var c=this,d=c._panelInner.outerHeight(),e=d>a.mobile.getScreenHeight();e||!c.options.positionFixed?(e&&(c._unfixPanel(),a.mobile.resetActivePageHeight(d)),b&&this.window[0].scrollTo(0,a.mobile.defaultHomeScroll)):c._fixPanel()},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(b){var d,e=this.element.attr("id");return b.currentTarget.href.split("#")[1]===e&&e!==c?(b.preventDefault(),d=a(b.target),d.hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle(),!1):void 0},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:"_getWrapper"}),a._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){a._open&&a.close(!0)}):this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c.document.off("panelclose"),c._page().jqmData("panel","open"),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.addClass(d.classes.animate),c._fixedToolbars().addClass(d.classes.animate)),!b&&a.support.cssTransform3d&&d.animate?c.element.animationComplete(f,"transition"):setTimeout(f,0),d.theme&&"overlay"!==d.display&&c._page().parent().addClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(!0),c._pageContentOpenClasses=c._getPosDisplayClasses(d.classes.pageContentPrefix),"overlay"!==d.display&&(c._page().parent().addClass(d.classes.pageContainer),c._wrapper.addClass(c._pageContentOpenClasses),c._fixedToolbars().addClass(c._pageContentOpenClasses)),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses).height(Math.max(c._modal.height(),c.document.height()))},f=function(){"overlay"!==d.display&&(c._wrapper.addClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().addClass(d.classes.pageContentPrefix+"-open")),c._bindFixListener(),c._trigger("open"),c._openedPage=c._page()};c._trigger("beforeopen"),"open"===c._page().jqmData("panel")?c.document.on("panelclose",function(){e()}):e(),c._open=!0}},close:function(b){if(this._open){var c=this,d=this.options,e=function(){c.element.removeClass(d.classes.panelOpen),"overlay"!==d.display&&(c._wrapper.removeClass(c._pageContentOpenClasses),c._fixedToolbars().removeClass(c._pageContentOpenClasses)),!b&&a.support.cssTransform3d&&d.animate?c.element.animationComplete(f,"transition"):setTimeout(f,0),c._modal&&c._modal.removeClass(c._modalOpenClasses)},f=function(){d.theme&&"overlay"!==d.display&&c._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.addClass(d.classes.panelClosed),"overlay"!==d.display&&(c._page().parent().removeClass(d.classes.pageContainer),c._wrapper.removeClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open")),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.removeClass(d.classes.animate),c._fixedToolbars().removeClass(d.classes.animate)),c._fixPanel(),c._unbindFixListener(),a.mobile.resetActivePageHeight(),c._page().jqmRemoveData("panel"),c._trigger("close"),c._openedPage=null};c._trigger("beforeclose"),e(),c._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var b,c=this.options,d=a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==c.display&&(b=a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")),0===b.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(c.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&c.animate&&this._fixedToolbars().removeClass(c.classes.animate),this._page().parent().removeClass(c.classes.pageContainer),c.theme&&this._page().parent().removeClass(c.classes.pageContainer+"-themed "+c.classes.pageContainer+"-"+c.theme))),d||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),c.classes.panelOpen,c.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(a),function(a,b){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),a.extend(this,{headers:b,allHeaders:b}),this._refresh(!0)},_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var b=this.element,c=b.find("thead tr");this._setHeaders(),c.each(function(){var d=0;a(this).children().each(function(){var e,f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(d+1)+")";if(this.setAttribute("data-"+a.mobile.ns+"colstart",d+1),f)for(e=0;f-1>e;e++)d++,g+=", :nth-child("+(d+1)+")";a(this).jqmData("cells",b.find("tr").not(c.eq(0)).not(this).children(g)),d++})})}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(b,c){var d,e=0,f=this.options,g=b.controlgroup("container");c?d=b.find("input"):g.empty(),this.headers.not("td").each(function(){var b=a(this),h=a.mobile.getAttribute(this,"priority"),i=b.add(b.jqmData("cells"));h&&(i.addClass(f.classes.priorityPrefix+h),(c?d.eq(e++):a("<label><input type='checkbox' checked />"+(b.children("abbr").first().attr("title")||b.text())+"</label>").appendTo(g).children(0).checkboxradio({theme:f.columnPopupTheme})).jqmData("cells",i))}),c||b.controlgroup("refresh")},_menuInputChange:function(b){var c=a(b.target),d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d),c[0].getAttribute("locked")?(c.removeAttr("locked"),this._unlockCells(c.jqmData("cells"))):c.attr("locked",!0)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var b,c,d,e,f=this.element,g=this.options,h=a.mobile.ns,i=this.document[0].createDocumentFragment();return b=this._id()+"-popup",c=a("<a href='#"+b+"' class='"+g.classes.columnBtn+" ui-btn ui-btn-"+(g.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+h+"rel='popup'>"+g.columnBtnText+"</a>"),d=a("<div class='"+g.classes.popup+"' id='"+b+"'></div>"),e=a("<fieldset></fieldset>").controlgroup(),this._addToggles(e,!1),e.appendTo(d),i.appendChild(d[0]),i.appendChild(c[0]),f.before(i),d.popup(),e},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"columntoggle"!==this.options.mode||(this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,a),this._setToggleState())},_setToggleState:function(){this._menu.find("input").each(function(){var b=a(this);this.checked="table-cell"===b.jqmData("cells").eq(0).css("display"),b.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var b=this,c=this.options;a(b.allHeaders.get().reverse()).each(function(){var d,e,f=a(this).jqmData("cells"),g=a.mobile.getAttribute(this,"colstart"),h=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",i=a(this).text();""!==i&&(h?(d=parseInt(this.getAttribute("colspan"),10),e="",d&&(e="td:nth-child("+d+"n + "+g+")"),b._addLabels(f.filter(e),c.classes.cellLabels+h,i)):b._addLabels(f,c.classes.cellLabels,i))})},_addLabels:function(a,b,c){a.not(":has(b."+b+")").prepend("<b class='"+b+"'>"+c+"</b>")}})}(a),function(a,c){var d=function(b,c){return-1===(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(c)};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:d,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var b=this.options;a.extend(this,{_search:null,_timer:0}),this._setInput(b.input),b.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,d,e=this._search;if(e){if(c=e.val().toLowerCase(),d=a.mobile.getAttribute(e[0],"lastval")+"",d&&d===c)return;this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){this._trigger("beforefilter",null,{input:e}),e[0].setAttribute("data-"+a.mobile.ns+"lastval",c),this._filterItems(c),this._timer=0},250)}},_getFilterableItems:function(){var b=this.element,c=this.options.children,d=c?a.isFunction(c)?c():c.nodeName?a(c):c.jquery?c:this.element.find(c):{length:0};return 0===d.length&&(d=b.children()),d},_filterItems:function(b){var c,e,f,g,h=[],i=[],j=this.options,k=this._getFilterableItems();if(null!=b)for(e=j.filterCallback||d,f=k.length,c=0;f>c;c++)g=e.call(k[c],c,b)?i:h,g.push(k[c]);0===i.length?k[j.filterReveal?"addClass":"removeClass"]("ui-screen-hidden"):(a(i).addClass("ui-screen-hidden"),a(h).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:k})},_refreshChildWidget:function(){var b,c,d=["collapsibleset","selectmenu","controlgroup","listview"];for(c=d.length-1;c>-1;c--)b=d[c],a.mobile[b]&&(b=this.element.data("mobile-"+b),b&&a.isFunction(b.refresh)&&b.refresh())},_setInput:function(c){var d=this._search;this._timer&&(b.clearTimeout(this._timer),this._timer=0),d&&(this._off(d,"keyup change input"),d=null),c&&(d=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(d,{keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=d},_setOptions:function(a){var b=!(a.filterReveal===c&&a.filterCallback===c&&a.children===c);this._super(a),a.input!==c&&(this._setInput(a.input),b=!0),b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(a),function(a,b){var c=function(a,b){return function(c){b.call(this,c),a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,e=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,b){return!this.className.match(d)&&e.call(this,a,b)},a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var b,c,d=this.element,e=["collapsibleset","selectmenu","controlgroup","listview"],f={};for(this._super(),a.extend(this,{_widget:null}),b=e.length-1;b>-1;b--)if(c=e[b],a.mobile[c]){if(this._setWidget(d.data("mobile-"+c)))break;f[c+"create"]="_handleCreate"}this._widget||this._on(d,f)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===a&&this._widget._trigger("beforefilter",b,c),this._super(a,b,c)},_setWidget:function(a){return!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(b){var c=this.options,d=!0,e={};if(!b){if(this._isSearchInternal())return;d=!1,b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault(),b.blur()}).insertBefore(this.element),a.mobile.textinput&&(null!=this.options.filterTheme&&(e.theme=c.filterTheme),b.textinput(e))}this._super(b),this._isSearchInternal()&&d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(c){var d=this._super(c);return c.filterPlaceholder!==b&&this._isSearchInternal()&&this._search.attr("placeholder",c.filterPlaceholder),c.filterTheme!==b&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",c.filterTheme),d},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(c){var d,e={};if(this._isSearchInternal()&&a.mobile.textinput){for(d in a.mobile.textinput.prototype.options)c[d]!==b&&(e[d]="theme"===d&&null!=this.options.filterTheme?this.options.filterTheme:c[d]);this._search.textinput("option",e)}}})}(a),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(a),function(){}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&8>g||8>h&&g>6)&&f>5)?d.enabled&&d.disable():d.enabled||d.enable()}a.mobile.iosorientationfixEnabled=!0;var d,e,f,g,h,i,j=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(j)&&j.indexOf("AppleWebKit")>-1?(d=a.mobile.zoom,void a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)})):void(a.mobile.iosorientationfixEnabled=!1)}(a,this),function(a,b){function d(){e.removeClass("ui-mobile-rendering")}var e=a("html"),f=a.mobile.window;a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),e.addClass("ui-mobile ui-mobile-rendering"),setTimeout(d,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,e=a(":jqmData(role='page'), :jqmData(role='dialog')"),g=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),h=c.getElementById(g);
e.length||(e=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),e.each(function(){var b=a(this);b[0].getAttribute("data-"+a.mobile.ns+"url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)}),a.mobile.firstPage=e.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),a.mobile.navreadyDeferred.resolve(),f.trigger("pagecontainercreate"),a.mobile.loading("show"),d(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(h).is(":jqmData(role='page')")||a.mobile.path.isPath(g)||g===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):f.trigger("hashchange",[!0]):(a.mobile.path.isHashValid(location.hash)&&(a.mobile.navigate.history.initialDst=g.replace("#","")),a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG(),a.mobile.hideUrlBar&&b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),a.mobile.hideUrlBar&&f.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)})}).call(c,b,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:"fbqNuu"}],underscore:[function(a,b){b.exports=a("tgXgDt")},{}],tgXgDt:[function(a,b){(function(a){(function(a,b,c,d){(function(){function d(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=w(d,f,4);var g=!D(c)&&v.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function e(a){return function(b,c,d){c=x(c,d);for(var e=C(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function f(a,b,c){return function(d,e,f){var g=0,h=C(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(n.call(d,g,h),v.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}}function g(a,b){var c=I.length,d=a.constructor,e=v.isFunction(d)&&d.prototype||k,f="constructor";for(v.has(a,f)&&!v.contains(b,f)&&b.push(f);c--;)f=I[c],f in a&&a[f]!==e[f]&&!v.contains(b,f)&&b.push(f)}var h=this,i=h._,j=Array.prototype,k=Object.prototype,l=Function.prototype,m=j.push,n=j.slice,o=k.toString,p=k.hasOwnProperty,q=Array.isArray,r=Object.keys,s=l.bind,t=Object.create,u=function(){},v=function(a){return a instanceof v?a:this instanceof v?void(this._wrapped=a):new v(a)};"undefined"!=typeof b?("undefined"!=typeof a&&a.exports&&(b=a.exports=v),b._=v):h._=v,v.VERSION="1.8.3";var w=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},x=function(a,b,c){return null==a?v.identity:v.isFunction(a)?w(a,b,c):v.isObject(a)?v.matcher(a):v.property(a)};v.iteratee=function(a,b){return x(a,b,1/0)};var y=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},z=function(a){if(!v.isObject(a))return{};if(t)return t(a);u.prototype=a;var b=new u;return u.prototype=null,b},A=function(a){return function(b){return null==b?void 0:b[a]}},B=Math.pow(2,53)-1,C=A("length"),D=function(a){var b=C(a);return"number"==typeof b&&b>=0&&B>=b};v.each=v.forEach=function(a,b,c){b=w(b,c);var d,e;if(D(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=v.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},v.map=v.collect=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},v.reduce=v.foldl=v.inject=d(1),v.reduceRight=v.foldr=d(-1),v.find=v.detect=function(a,b,c){var d;return d=D(a)?v.findIndex(a,b,c):v.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},v.filter=v.select=function(a,b,c){var d=[];return b=x(b,c),v.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},v.reject=function(a,b,c){return v.filter(a,v.negate(x(b)),c)},v.every=v.all=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},v.some=v.any=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},v.contains=v.includes=v.include=function(a,b,c,d){return D(a)||(a=v.values(a)),("number"!=typeof c||d)&&(c=0),v.indexOf(a,b,c)>=0},v.invoke=function(a,b){var c=n.call(arguments,2),d=v.isFunction(b);return v.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},v.pluck=function(a,b){return v.map(a,v.property(b))},v.where=function(a,b){return v.filter(a,v.matcher(b))},v.findWhere=function(a,b){return v.find(a,v.matcher(b))},v.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=D(a)?a:v.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=x(b,c),v.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},v.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=D(a)?a:v.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=x(b,c),v.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},v.shuffle=function(a){for(var b,c=D(a)?a:v.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=v.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},v.sample=function(a,b,c){return null==b||c?(D(a)||(a=v.values(a)),a[v.random(a.length-1)]):v.shuffle(a).slice(0,Math.max(0,b))},v.sortBy=function(a,b,c){return b=x(b,c),v.pluck(v.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=x(c,d),v.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};v.groupBy=E(function(a,b,c){v.has(a,c)?a[c].push(b):a[c]=[b]}),v.indexBy=E(function(a,b,c){a[c]=b}),v.countBy=E(function(a,b,c){v.has(a,c)?a[c]++:a[c]=1}),v.toArray=function(a){return a?v.isArray(a)?n.call(a):D(a)?v.map(a,v.identity):v.values(a):[]},v.size=function(a){return null==a?0:D(a)?a.length:v.keys(a).length},v.partition=function(a,b,c){b=x(b,c);var d=[],e=[];return v.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},v.first=v.head=v.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:v.initial(a,a.length-b)},v.initial=function(a,b,c){return n.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},v.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:v.rest(a,Math.max(0,a.length-b))},v.rest=v.tail=v.drop=function(a,b,c){return n.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,v.identity)};var F=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=C(a);h>g;g++){var i=a[g];if(D(i)&&(v.isArray(i)||v.isArguments(i))){b||(i=F(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};v.flatten=function(a,b){return F(a,b,!1)},v.without=function(a){return v.difference(a,n.call(arguments,1))},v.uniq=v.unique=function(a,b,c,d){v.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=x(c,d));for(var e=[],f=[],g=0,h=C(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?v.contains(f,j)||(f.push(j),e.push(i)):v.contains(e,i)||e.push(i)}return e},v.union=function(){return v.uniq(F(arguments,!0,!0))},v.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=C(a);e>d;d++){var f=a[d];if(!v.contains(b,f)){for(var g=1;c>g&&v.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},v.difference=function(a){var b=F(arguments,!0,!0,1);return v.filter(a,function(a){return!v.contains(b,a)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(a){for(var b=a&&v.max(a,C).length||0,c=Array(b),d=0;b>d;d++)c[d]=v.pluck(a,d);return c},v.object=function(a,b){for(var c={},d=0,e=C(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(a,b,c,d){c=x(c,d,1);for(var e=c(b),f=0,g=C(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},v.indexOf=f(1,v.findIndex,v.sortedIndex),v.lastIndexOf=f(-1,v.findLastIndex),v.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var G=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=z(a.prototype),g=a.apply(f,e);return v.isObject(g)?g:f};v.bind=function(a,b){if(s&&a.bind===s)return s.apply(a,n.call(arguments,1));if(!v.isFunction(a))throw new TypeError("Bind must be called on a function");var c=n.call(arguments,2),d=function(){return G(a,d,b,this,c.concat(n.call(arguments)))};return d},v.partial=function(a){var b=n.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===v?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return G(a,c,this,this,f)};return c},v.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=v.bind(a[c],a);return a},v.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return v.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},v.delay=function(a,b){var c=n.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=v.partial(v.delay,v,1),v.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:v.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=v.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},v.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=v.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=v.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},v.wrap=function(a,b){return v.partial(b,a)},v.negate=function(a){return function(){return!a.apply(this,arguments)}},v.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},v.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},v.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},v.once=v.partial(v.before,2);var H=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(a){if(!v.isObject(a))return[];if(r)return r(a);var b=[];for(var c in a)v.has(a,c)&&b.push(c);return H&&g(a,b),b},v.allKeys=function(a){if(!v.isObject(a))return[];var b=[];for(var c in a)b.push(c);return H&&g(a,b),b},v.values=function(a){for(var b=v.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},v.mapObject=function(a,b,c){b=x(b,c);for(var d,e=v.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},v.pairs=function(a){for(var b=v.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},v.invert=function(a){for(var b={},c=v.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},v.functions=v.methods=function(a){var b=[];for(var c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=y(v.allKeys),v.extendOwn=v.assign=y(v.keys),v.findKey=function(a,b,c){b=x(b,c);for(var d,e=v.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},v.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;v.isFunction(b)?(e=v.allKeys(g),d=w(b,c)):(e=F(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},v.omit=function(a,b,c){if(v.isFunction(b))b=v.negate(b);else{var d=v.map(F(arguments,!1,!1,1),String);b=function(a,b){return!v.contains(d,b)}}return v.pick(a,b,c)},v.defaults=y(v.allKeys,!0),v.create=function(a,b){var c=z(a);return b&&v.extendOwn(c,b),c},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isMatch=function(a,b){var c=v.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var J=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof v&&(a=a._wrapped),b instanceof v&&(b=b._wrapped);var e=o.call(a);if(e!==o.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(v.isFunction(g)&&g instanceof g&&v.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!J(a[i],b[i],c,d))return!1}else{var j,k=v.keys(a);if(i=k.length,v.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!v.has(b,j)||!J(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};v.isEqual=function(a,b){return J(a,b)},v.isEmpty=function(a){return null==a?!0:D(a)&&(v.isArray(a)||v.isString(a)||v.isArguments(a))?0===a.length:0===v.keys(a).length},v.isElement=function(a){return!(!a||1!==a.nodeType)},v.isArray=q||function(a){return"[object Array]"===o.call(a)},v.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){v["is"+a]=function(b){return o.call(b)==="[object "+a+"]"}}),v.isArguments(arguments)||(v.isArguments=function(a){return v.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(a){return"function"==typeof a||!1}),v.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},v.isNaN=function(a){return v.isNumber(a)&&a!==+a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===o.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return null!=a&&p.call(a,b)},v.noConflict=function(){return h._=i,this},v.identity=function(a){return a},v.constant=function(a){return function(){return a}},v.noop=function(){},v.property=A,v.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},v.matcher=v.matches=function(a){return a=v.extendOwn({},a),function(b){return v.isMatch(b,a)}},v.times=function(a,b,c){var d=Array(Math.max(0,a));b=w(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},v.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},v.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=v.invert(K),M=function(a){var b=function(b){return a[b]},c="(?:"+v.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};v.escape=M(K),v.unescape=M(L),v.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),v.isFunction(d)?d.call(a):d};var N=0;v.uniqueId=function(a){var b=++N+"";return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,R=function(a){return"\\"+P[a]};v.template=function(a,b,c){!b&&c&&(b=c),b=v.defaults({},b,v.templateSettings);var d=RegExp([(b.escape||O).source,(b.interpolate||O).source,(b.evaluate||O).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(Q,R),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,v)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},v.chain=function(a){var b=v(a);return b._chain=!0,b};var S=function(a,b){return a._chain?v(b).chain():b};v.mixin=function(a){v.each(v.functions(a),function(b){var c=v[b]=a[b];v.prototype[b]=function(){var a=[this._wrapped];return m.apply(a,arguments),S(this,c.apply(v,a))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=j[a];v.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],S(this,c)}}),v.each(["concat","join","slice"],function(a){var b=j[a];v.prototype[a]=function(){return S(this,b.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof c&&c.amd&&c("underscore",[],function(){return v})}).call(this),_.is=function(a){return!this.isUndefined(a)},_.isN=function(a){return this.is(a)&&!isNaN(parseFloat(a))&&isFinite(a)},_.isI=function(a){return this.isN(a)&&a%1==0},_.isF=function(a){return this.isN(a)&&a%1!=0},_.not=function(a){return this.isUndefined(a)},_.neg=function(a){if(!a||"0"===a)return!0;if("object"==typeof a){for(key in a)if("imageUrl"!=key||"imageUrl"==key&&_.pos(a[key]))return!1;return!0}return!1},_.pos=function(a){return!_.neg(a)},_.inArray=function(a,b){return-1!==this.indexOf(b,a)},_.contains=function(a,b){return-1!=a.indexOf(b)},_.getObjectById=function(a,b){var c=this.findIndex(a,function(a){return a.id==b});return-1==c?void 0:a[c]},_.fmap=function(a,b){return this.isArray(a)?_.map(a,b):_.mapObject(a,b)},_.textMetrics=function(a){var b=0,c=0,d=document.createElement("div");document.body.appendChild(d),$(d).css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),$(d).html($(a).html());var e=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];$(e).each(function(){var b=this.toString();$(d).css(b,$(a).css(b))}),b=$(d).outerHeight(),c=$(d).outerWidth(),$(d).remove();var f={height:b,width:c};return f},_.textWidth=function(a){return this.textMetrics(a).width},_.textHeight=function(a){return this.textMetrics(a).width},d("undefined"!=typeof _?_:window._)}).call(a,void 0,void 0,void 0,function(a){b.exports=a})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},["/Gy1bM","vjmgVM","fbqNuu","h7SyXY","tgXgDt"]),function c(a,b,d){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=b[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,c,a,b,d)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=function(b){var c=a("underscore"),d={findNested:function(a,b,d,e){var f;c(d).isArray()||(d=[]);for(f in a)c(a).has(f)&&(f===b?d.push(e&&c(a).has("localFont")?{font:a[f],url:a.localFont,googleFont:!1}:e?{font:a[f],googleFont:!0}:a[f]):c(a[f]).isObject()&&this.findNested(a[f],b,d,e));return c.uniq(d)},buildFontsUrls:function(a,b,e){var f="",g="",e=e||[],h=d.findNested(a.appSettings,"fontType",[],!0),i=d.findNested(a.appSections,"fontType",[],!0),j=[],k=[];if(c.each(c.union(h,i),function(a){a.font&&a.font.length>0&&(b||a.googleFont?j.push(a.font):k.push(a.url))},this),j.length>0){var l=c.filter(c.union(c.uniq(j),e),function(a){return a.length<1?!1:!0});f="http://fonts.googleapis.com/css?family="+l.join("|")}return c.each(c.uniq(k),function(a){g+='<link rel="stylesheet" href="'+a+'" />'}),{googleFontsUrl:f,gbFontsUrls:""}}};return d}},{underscore:!1}],2:[function(a,b,c){var d=window.contentLoader={log:!1,cache:{},requestQueue:[],runningRequests:{},maxConcurrentRequests:2,maxConcurrentRequestsAfterFirstFinished:1,firstRequestReturned:!1,statuses:{ABORTED:"ABORTED",QUEUED:"QUEUED",FETCHING:"FETCHING",AVAILABLE:"AVAILABLE",ERROR:"ERROR"},registerCallback:function(a,b){_.not(this.cache[a])&&(this.cache[a]={}),_.not(this.cache[a].callbacks)&&(this.cache[a].callbacks=[]),this.cache[a].callbacks.push(b)},requestContent:function(a,b,c,d,e){if(_.is(a)&&null!=a&&"string"==typeof a&&a.length>0){e=e||{},e=this.getRequestContext(a,e);var f=this;util.MAP.replaceGeolocTokenInUrl(a,function(a){f.executeRequest(a,b,c,d,e)})}else this.log},APIMethods:["getLastItems","getItemsByCategorie","getGeolocItemsByCategorie","getGeolocItems","getPopularItems","search","getAdSettings","listUsers","getBookmarks"],getMethodType:function(a){return"getItemsByCategorie"==a||"getGeolocItemsByCategorie"==a?"contentsByCategory":"getLastItems"==a||"getGeolocItems"==a||"getPopularItems"==a||"listUsers"==a?"contents":"other"},getRequestContext:function(a,b){var c,d,e,f,g,h,i,j="other",k="",l=/https?:\/\/(?:www\.)?([-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,}\b)(\/apiv3\/)([\d\w\.-]*)\/(?:\?url=([-a-zA-Z0-9@:%._\+~#=]*))?/i;if(l.test(a)){var m=a.match(l);k=m[3]}return _.each(this.APIMethods,function(l){if(!c&&l==k&&(c=l,j=this.getMethodType(l),d=a.split(l+"/"),_.is(d[1]))){if(d=d[1].split("/"),e=d[0],"getLastItems"==c||"getPopularItems"==l)g=parseInt(d[1]),h=parseInt(d[2]);else if("getItemsByCategorie"==c)g=parseInt(d[2]),h=parseInt(d[3]);else if("getGeolocItems"==c)g=parseInt(d[2]),h=parseInt(d[3]);else if("getGeolocItemsByCategorie"==c)g=parseInt(d[3]),h=parseInt(d[4]);else if("listUsers"==c&&(d[d.length-1].length<1&&d.pop(),g=parseInt(d[d.length-2]),h=parseInt(d[d.length-1]),_.not(b.sectionID))){var m=!0,n=!0;4==d.length?m=!1:f=d[0];var o=d.indexOf("[SORT]");-1!=o?n=!1:i=m?d[1]:d[0];var p=rules.getSelectedSection();p&&(e=p.get("id"))}"listUsers"!=c&&(f=util.getSubsectionIDFromSubsectionContentUrl(a))}},this),"other"==j?(b.saveData=!1,b.appendResultToExistingData=!1):g>1?(b.saveData=!0,b.appendResultToExistingData=!0):(b.saveData=!0,b.appendResultToExistingData=!1),b.method=c,b.methodType=j,b.pageNumber=g,b.pageLength=h,b.sectionID||(_.is(e)&&(b.sectionID=e),_.is(f)&&(b.subsectionID=f),_.is(i)&&(b.tabID=i)),b},executeRequest:function(a,b,c,d,e){e.noProxy||!devMode||a.contains("api.goodbarber.net/userapi")||(a=util.proxifyUrl(a)),devMode||e.absoluteHostname||0==a.indexOf("http://api.goodbarber.net/")||(a=util.replaceHostname(a)),_.not(b)&&(b=!1),_.not(c)&&(c=!1);var f=a;if(_.is(d)&&null!==d&&(f+=d),f=f,util.hashCode(f),this.log,c&&_.is(this.cache[f])&&(this.cache[f].status==this.statuses.QUEUED&&(_.each(this.requestQueue,function(a,b){a&&a.key==f&&delete this.requestQueue[b]},this),this.queueRequest(a,f,c,e)),_.is(this.runningRequests[f])&&(this.runningRequests[f].prioritary=!0)),void 0==this.cache[f]||this.cache[f].status==this.statuses.ABORTED||e.noCache)this.cache[f]={status:this.statuses.QUEUED},b&&this.registerCallback(f,b),this.queueRequest(a,f,c,e);else if(!e.noCache&&_.is(this.cache[f].status)&&this.cache[f].status==this.statuses.AVAILABLE){this.log;var g=_.not(this.cache[f].data)?!1:this.cache[f].data;b&&b(g,!1,{fromCache:!0})}else _.is(this.cache[f].status)&&this.cache[f].status==this.statuses.QUEUED||this.cache[f].status==this.statuses.FETCHING?(this.log,b&&this.registerCallback(f,b)):_.is(this.cache[f].status)&&this.cache[f].status==this.statuses.ERROR?(this.log,b&&b({},!0)):this.log},stopCurrentTasks:function(){this.requestQueue=[],_.each(this.runningRequests,function(a,b){_.is(a)&&!a.prioritary&&(a.xhr.abort(),d.cache[b].status=this.statuses.ABORTED)},this),this.runningRequests={},_.each(this.cache,function(a){a.status==this.statuses.FETCHING&&(a.status=this.statuses.ABORTED)},this),this.maxConcurrentRequests=1},queueRequest:function(a,b,c,d){var e={url:a,key:b,prioritary:c,options:d};c?this.requestQueue.unshift(e):this.requestQueue.push(e),this.startRequests()},startRequests:function(){for(;this.requestQueue.length>0&&_.size(this.runningRequests)<this.maxConcurrentRequests;){var a=this.requestQueue.shift();if(_.is(a))if(this.cache[a.key].status=this.statuses.FETCHING,"getBookmarks"==a.options.method)a.options.noCache=!0,util.getFavs(function(b){d.onRequestSuccess(a.key,{items:b},a.options)});else{var b=$.ajax({dataType:a.options.dataType||"json",url:a.url,method:a.options.type||"GET",headers:a.options.headers||{}}).done(function(b){d.onRequestSuccess(a.key,b,a.options)}).fail(function(b,c,e){d.onRequestFail(a.key,c,e,b.status,b.statusText)}).always(function(){d.maxConcurrentRequests!==d.maxConcurrentRequestsAfterFirstFinished&&(d.maxConcurrentRequests=d.maxConcurrentRequestsAfterFirstFinished),delete d.runningRequests[a.key],d.startRequests()});this.runningRequests[a.key]={xhr:b,prioritary:a.prioritary}}}},onRequestSuccess:function(a,b,c){if(window.preview&&b.users&&!b.users.length&&(b.users=[modules.login.getJohnDoe(),modules.login.getJohnDoe(),modules.login.getJohnDoe()]),b.users&&!b.items&&(devMode&&(b.users=b.users),b.items=b.users),!c.noCache&&(_.not(this.cache[a])&&(this.cache[a]={}),this.cache[a].data=b,this.cache[a].status=this.statuses.AVAILABLE,c.saveData&&c.sectionID)){var d=appSections[c.sectionID];d&&b.items&&b.items.length>0&&util.setSectionDataArray({sectionID:c.sectionID,subsectionID:c.subsectionID,tabID:c.tabID,catID:c.catID,data:b,append:c.appendResultToExistingData})}_.is(this.cache[a].callbacks)&&_.each(this.cache[a].callbacks,function(a){a(b)},this),c.noCache&&delete this.cache[a]},onRequestFail:function(a,b,c,d,e){_.not(this.cache[a])&&(this.cache[a]={}),this.cache[a].status=this.statuses.ERROR,"abort"!==c&&(this.cache[a].error=c,_.is(this.cache[a].callbacks)&&_.each(this.cache[a].callbacks,function(a){a({},!0,{errorCode:d,errorMessage:e})},this))}};c=b.exports=d},{}],3:[function(a,b){var c=[[50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24,30,36,44,50,56,44,50,56,68,56,44,44,52,68,38,32,32,24,24],[62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14,26,38,50,62,50,36,50,50,56,50,38,38,64,64,44,26,26,18,14],[55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18,27,36,45,55,68,68,76,44,50,44,38,44,78,68,44,38,25,18,18],[50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18,30,36,44,50,80,63,76,44,50,44,38,44,70,64,38,38,18,14,18],[44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25,30,35,40,44,78,50,62,80,50,44,38,38,46,50,38,44,20,25,25],[63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18,29,40,51,63,56,36,50,64,64,51,32,37,44,56,38,32,18,56,18],[63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32,40,48,56,63,56,38,44,64,56,50,32,38,44,50,38,25,18,50,32],[63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25,29,40,51,63,68,50,56,50,50,68,44,32,44,64,38,31,14,44,25],[63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25,29,40,51,63,68,63,80,50,68,64,38,38,44,56,38,31,18,38,25],[56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25,33,41,49,56,68,64,80,80,80,64,38,44,44,56,32,32,18,38,25],[50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18,26,34,42,50,63,55,80,80,76,56,50,38,38,51,32,44,18,31,18],[50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26,32,38,44,50,50,43,68,68,64,56,44,38,50,38,44,44,14,26,26],[62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18,29,40,51,62,50,38,64,64,56,50,38,38,44,38,38,38,14,25,18],[55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18,27,35,44,55,51,38,56,56,50,50,31,31,38,38,56,38,31,14,18],[55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18,27,35,44,55,44,31,56,69,50,44,31,38,38,50,31,31,14,18,18],[50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14,23,32,41,50,44,80,78,64,44,44,44,38,38,50,38,25,18,18,14],[43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14,22,30,38,43,38,80,80,56,44,44,38,32,50,44,30,30,18,14,14],[36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25,25,31,34,36,30,68,68,50,38,38,38,32,38,38,38,25,25,38,25],[68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18,32,32,44,68,80,56,56,44,38,56,32,32,32,32,32,18,26,26,18],[68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18,18,44,32,68,80,50,50,44,38,50,25,31,50,31,31,18,25,25,18],[56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14,24,35,46,56,68,44,44,38,38,44,31,38,50,50,38,30,18,25,14],[56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14,24,35,46,56,80,80,50,38,38,38,44,44,51,44,31,31,18,18,14],[50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14,23,32,40,50,64,68,38,31,31,31,44,31,38,38,31,26,18,14,14],[44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18,27,35,44,44,55,64,30,44,30,50,56,30,38,30,30,25,25,25,18],[68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14,18,44,32,68,50,56,30,56,44,44,51,51,56,41,38,25,18,18,14],[55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18,24,35,46,55,44,50,44,64,64,38,44,44,50,25,31,37,56,18,18],[51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18,26,35,43,51,80,80,68,56,56,64,38,38,44,44,26,31,50,18,18],[80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14,28,42,56,80,80,76,80,44,51,44,38,38,31,38,31,38,31,14,14],[78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32,45,57,68,78,64,56,68,80,80,51,25,38,32,32,25,38,25,32,32],[68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31,40,49,58,68,68,80,63,78,80,50,31,38,31,38,38,31,18,25,31],[68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26,37,48,59,68,63,80,68,63,68,44,32,37,37,32,32,25,18,18,26],[63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20,31,42,55,63,50,77,56,56,56,44,32,38,32,50,32,26,14,14,20],[55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18,27,35,44,55,78,68,80,50,56,44,38,38,32,44,25,25,25,18,18],[78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18,33,48,63,78,64,56,68,50,44,44,32,38,25,38,25,18,25,25,18],[78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,14,30,45,69,78,55,50,62,44,44,38,26,32,26,32,18,18,18,18,1]];
b.exports={fakeSpectrumValues:c}},{}],4:[function(a,b){function c(a,b){"use strict";function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(b=b||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=b.touchBoundary||10,this.layer=a,this.tapDelay=b.tapDelay||200,!c.notNeeded(a)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);d&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(f=a.onclick,a.addEventListener("click",function(a){f(a)},!1),a.onclick=null)}}var d=navigator.userAgent.indexOf("Android")>0,e=/iP(ad|hone|od)/.test(navigator.userAgent),f=e&&/OS 4_\d(_\d)?/.test(navigator.userAgent),g=e&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);c.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(e&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},c.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!d;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},c.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},c.prototype.determineEventType=function(a){"use strict";return d&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},c.prototype.focus=function(a){"use strict";var b;e&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},c.prototype.updateScrollParent=function(a){"use strict";var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},c.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},c.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],e){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!f){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},c.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},c.prototype.onTouchMove=function(a){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},c.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},c.prototype.onTouchEnd=function(a){"use strict";var b,c,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,g&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),d)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-c>100||e&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),e&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return e&&!f&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},c.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},c.prototype.onMouse=function(a){"use strict";return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},c.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},c.prototype.destroy=function(){"use strict";var a=this.layer;d&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},c.notNeeded=function(a){"use strict";var b,c;if("undefined"==typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!d)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===a.style.msTouchAction?!0:!1},c.attach=function(a,b){"use strict";return new c(a,b)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return c}):"undefined"!=typeof b&&b.exports?(b.exports=c.attach,b.exports.FastClick=c):window.FastClick=c},{}],5:[function(a,b){var c=a("./views/viewFactory"),d=a("./util");init={start:function(){this.surchargeFunctions(),this.changeOrientation($.event.special.orientationchange.orientation()),this.addContextClassesToBody(),user.device.mobile||this.addOrientationChangeEvent(),globalsAppVars=d.getGlobalsAppVars(),modules.ads.init()},changeOrientation:function(a){if(window.orient=a,$("body").removeClass("portrait landscape"),$("body").addClass(a),$("body").hasClass("locked")&&$("html, body").css({"min-height":d.getContentHeight()+"px",height:d.getContentHeight()+"px"}),!user.device.mobile){var b=$("#fake-bg-hidden"),c=$("#fake-bg");c.attr("id","fake-bg-hidden"),b.attr("id","fake-bg")}},addOrientationChangeEvent:function(){var a=this;$(window).on("orientationchange",function(b){a.changeOrientation(b.orientation);var e;e=user.os.android?200:0,setTimeout(function(){d.updateOrientableImages(),c.currentView&&c.currentView.fireOnOrientationChangeHandlers()},e)})},addContextClassesToBody:function(){d.setContextClassesForBody()},surchargeFunctions:function(){String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),b)}}},b.exports=init},{"./util":177,"./views/viewFactory":183}],6:[function(a,b){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition||(navigator=navigator||{},navigator.geolocation=navigator.geolocation||{},navigator.geolocation.getCurrentPosition=navigator.geolocation.getCurrentPosition||function(){}),!function(a,c,d){function e(){var b=a.L;f.noConflict=function(){return a.L=b,this},a.L=f}var f={version:"0.8-dev"};"object"==typeof b&&"object"==typeof b.exports?b.exports=f:"function"==typeof define&&define.amd&&define(f),"undefined"!=typeof a&&e(),f.Util={extend:function(a){var b,c,d,e;for(c=1,d=arguments.length;d>c;c++){e=arguments[c];for(b in e)a[b]=e[b]}return a},create:Object.create||function(){function a(){}return function(b){return a.prototype=b,new a}}(),bind:function(a,b){var c=Array.prototype.slice;if(a.bind)return a.bind.apply(a,c.call(arguments,1));var d=c.call(arguments,2);return function(){return a.apply(b,d.length?d.concat(c.call(arguments)):arguments)}},stamp:function(a){return a._leaflet_id=a._leaflet_id||++f.Util.lastId,a._leaflet_id},lastId:0,throttle:function(a,b,c){var d,e,f,g;return g=function(){d=!1,e&&(f.apply(c,e),e=!1)},f=function(){d?e=arguments:(a.apply(c,arguments),setTimeout(g,b),d=!0)}},wrapNum:function(a,b,c){var d=b[1],e=b[0],f=d-e;return a===d&&c?a:((a-e)%f+f)%f+e},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return f.Util.trim(a).split(/\s+/)},setOptions:function(a,b){a.hasOwnProperty("options")||(a.options=a.options?f.Util.create(a.options):{});for(var c in b)a.options[c]=b[c];return a.options},getParamString:function(a,b,c){var d=[];for(var e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(f.Util.templateRe,function(a,c){var e=b[c];if(e===d)throw new Error("No value provided for variable "+a);return"function"==typeof e&&(e=e(b)),e})},templateRe:/\{ *([\w_]+) *\}/g,isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function b(b){return a["webkit"+b]||a["moz"+b]||a["ms"+b]}function c(b){var c=+new Date,e=Math.max(0,16-(c-d));return d=c+e,a.setTimeout(b,e)}var d=0,e=a.requestAnimationFrame||b("RequestAnimationFrame")||c,g=a.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(b){a.clearTimeout(b)};f.Util.requestAnimFrame=function(b,d,g){return g&&e===c?void b.call(d):e.call(a,f.bind(b,d))},f.Util.cancelAnimFrame=function(b){b&&g.call(a,b)}}(),f.extend=f.Util.extend,f.bind=f.Util.bind,f.stamp=f.Util.stamp,f.setOptions=f.Util.setOptions,f.Class=function(){},f.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=b.__super__=this.prototype,d=f.Util.create(c);d.constructor=b,b.prototype=d;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&(b[e]=this[e]);return a.statics&&(f.extend(b,a.statics),delete a.statics),a.includes&&(f.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes),d.options&&(a.options=f.Util.extend(f.Util.create(d.options),a.options)),f.extend(d,a),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;b>a;a++)d._initHooks[a].call(this)}},b},f.Class.include=function(a){f.extend(this.prototype,a)},f.Class.mergeOptions=function(a){f.extend(this.prototype.options,a)},f.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c="function"==typeof a?a:function(){this[a].apply(this,b)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c)},f.Evented=f.Class.extend({on:function(a,b,c){if("object"==typeof a)for(var d in a)this._on(d,a[d],b);else{a=f.Util.splitWords(a);for(var e=0,g=a.length;g>e;e++)this._on(a[e],b,c)}return this},off:function(a,b,c){if(a)if("object"==typeof a)for(var d in a)this._off(d,a[d],b);else{a=f.Util.splitWords(a);for(var e=0,g=a.length;g>e;e++)this._off(a[e],b,c)}else delete this._events;return this},_on:function(a,b,c){var d=this._events=this._events||{},e=c&&c!==this&&f.stamp(c);if(e){var g=a+"_idx",h=a+"_len",i=d[g]=d[g]||{},j=f.stamp(b)+"_"+e;i[j]||(i[j]={fn:b,ctx:c},d[h]=(d[h]||0)+1)}else d[a]=d[a]||[],d[a].push({fn:b})},_off:function(a,b,c){var d=this._events,e=a+"_idx",g=a+"_len";if(d){if(!b)return delete d[a],delete d[e],void delete d[g];var h,i,j,k,l,m=c&&c!==this&&f.stamp(c);if(m)l=f.stamp(b)+"_"+m,h=d[e],h&&h[l]&&(k=h[l],delete h[l],d[g]--);else if(h=d[a])for(i=0,j=h.length;j>i;i++)if(h[i].fn===b){k=h[i],h.splice(i,1);break}k&&(k.fn=f.Util.falseFn)}},fire:function(a,b,c){if(!this.listens(a,c))return this;var d=f.Util.extend({},b,{type:a,target:this}),e=this._events;if(e){var g,h,i,j,k=e[a+"_idx"];if(e[a])for(i=e[a].slice(),g=0,h=i.length;h>g;g++)i[g].fn.call(this,d);for(j in k)k[j].fn.call(k[j].ctx,d)}return c&&this._propagateEvent(d),this},listens:function(a,b){var c=this._events;if(c&&(c[a]||c[a+"_len"]))return!0;if(b)for(var d in this._eventParents)if(this._eventParents[d].listens(a,b))return!0;return!1},once:function(a,b,c){if("object"==typeof a){for(var d in a)this.once(d,a[d],b);return this}var e=f.bind(function(){this.off(a,b,c).off(a,e,c)},this);return this.on(a,b,c).on(a,e,c)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[f.stamp(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[f.stamp(a)],this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,f.extend({layer:a.target},a),!0)}});var g=f.Evented.prototype;g.addEventListener=g.on,g.removeEventListener=g.clearAllEventListeners=g.off,g.addOneTimeEventListener=g.once,g.fireEvent=g.fire,g.hasEventListeners=g.listens,f.Mixin={Events:g},function(){var b=navigator.userAgent.toLowerCase(),d=c.documentElement,e="ActiveXObject"in a,g=-1!==b.indexOf("webkit"),h=-1!==b.indexOf("phantom"),i=-1!==b.search("android [23]"),j=-1!==b.indexOf("chrome"),k="undefined"!=typeof orientation,l=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!a.PointerEvent,m=a.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints||l,n=e&&"transition"in d.style,o="WebKitCSSMatrix"in a&&"m11"in new a.WebKitCSSMatrix&&!i,p="MozPerspective"in d.style,q="OTransition"in d.style,r=!a.L_NO_TOUCH&&!h&&(m||"ontouchstart"in a||a.DocumentTouch&&c instanceof a.DocumentTouch);f.Browser={ie:e,ielt9:e&&!c.addEventListener,webkit:g,gecko:-1!==b.indexOf("gecko")&&!g&&!a.opera&&!e,android:-1!==b.indexOf("android"),android23:i,chrome:j,safari:!j&&-1!==b.indexOf("safari"),ie3d:n,webkit3d:o,gecko3d:p,opera3d:q,any3d:!a.L_DISABLE_3D&&(n||o||p||q)&&!h,mobile:k,mobileWebkit:k&&g,mobileWebkit3d:k&&o,mobileOpera:k&&a.opera,touch:!!r,msPointer:!!l,pointer:!!m,retina:(a.devicePixelRatio||a.screen.deviceXDPI/a.screen.logicalXDPI)>1}}(),f.Point=function(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b},f.Point.prototype={clone:function(){return new f.Point(this.x,this.y)},add:function(a){return this.clone()._add(f.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(f.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(a){a=f.point(a);var b=a.x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return a=f.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=f.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+f.Util.formatNum(this.x)+", "+f.Util.formatNum(this.y)+")"}},f.point=function(a,b,c){return a instanceof f.Point?a:f.Util.isArray(a)?new f.Point(a[0],a[1]):a===d||null===a?a:new f.Point(a,b,c)},f.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},f.Bounds.prototype={extend:function(a){return a=f.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new f.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new f.Point(this.min.x,this.max.y)},getTopRight:function(){return new f.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return a="number"==typeof a[0]||a instanceof f.Point?f.point(a):f.bounds(a),a instanceof f.Bounds?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=f.bounds(a);var b=this.min,c=this.max,d=a.min,e=a.max,g=e.x>=b.x&&d.x<=c.x,h=e.y>=b.y&&d.y<=c.y;return g&&h},isValid:function(){return!(!this.min||!this.max)}},f.bounds=function(a,b){return!a||a instanceof f.Bounds?a:new f.Bounds(a,b)},f.Transformation=function(a,b,c,d){this._a=a,this._b=b,this._c=c,this._d=d},f.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new f.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}},f.DomUtil={get:function(a){return"string"==typeof a?c.getElementById(a):a},getStyle:function(a,b){var d=a.style[b]||a.currentStyle&&a.currentStyle[b];if((!d||"auto"===d)&&c.defaultView){var e=c.defaultView.getComputedStyle(a,null);d=e?e[b]:null}return"auto"===d?null:d},create:function(a,b,d){var e=c.createElement(a);return e.className=b,d&&d.appendChild(e),e},remove:function(a){var b=a.parentNode;b&&b.removeChild(a)},empty:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},toFront:function(a){a.parentNode.appendChild(a)},toBack:function(a){var b=a.parentNode;b.insertBefore(a,b.firstChild)},hasClass:function(a,b){if(a.classList!==d)return a.classList.contains(b);var c=f.DomUtil.getClass(a);return c.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(c)},addClass:function(a,b){if(a.classList!==d)for(var c=f.Util.splitWords(b),e=0,g=c.length;g>e;e++)a.classList.add(c[e]);else if(!f.DomUtil.hasClass(a,b)){var h=f.DomUtil.getClass(a);f.DomUtil.setClass(a,(h?h+" ":"")+b)}},removeClass:function(a,b){a.classList!==d?a.classList.remove(b):f.DomUtil.setClass(a,f.Util.trim((" "+f.DomUtil.getClass(a)+" ").replace(" "+b+" "," ")))},setClass:function(a,b){a.className.baseVal===d?a.className=b:a.className.baseVal=b},getClass:function(a){return a.className.baseVal===d?a.className:a.className.baseVal},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=a.filters.item(d)}catch(e){if(1===b)return}b=Math.round(100*b),c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:"+d+"(opacity="+b+")"}},testProp:function(a){for(var b=c.documentElement.style,d=0;d<a.length;d++)if(a[d]in b)return a[d];return!1},setTransform:function(a,b,c){var d=b||new f.Point(0,0);a.style[f.DomUtil.TRANSFORM]="translate3d("+d.x+"px,"+d.y+"px,0)"+(c?" scale("+c+")":"")},setPosition:function(a,b,c){a._leaflet_pos=b,f.Browser.any3d&&!c?f.DomUtil.setTransform(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}},function(){f.DomUtil.TRANSFORM=f.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var b=f.DomUtil.TRANSITION=f.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(f.DomUtil.TRANSITION_END="webkitTransition"===b||"OTransition"===b?b+"End":"transitionend","onselectstart"in c)f.DomUtil.disableTextSelection=function(){f.DomEvent.on(a,"selectstart",f.DomEvent.preventDefault)},f.DomUtil.enableTextSelection=function(){f.DomEvent.off(a,"selectstart",f.DomEvent.preventDefault)};else{var d=f.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);f.DomUtil.disableTextSelection=function(){if(d){var a=c.documentElement.style;this._userSelect=a[d],a[d]="none"}},f.DomUtil.enableTextSelection=function(){d&&(c.documentElement.style[d]=this._userSelect,delete this._userSelect)}}f.DomUtil.disableImageDrag=function(){f.DomEvent.on(a,"dragstart",f.DomEvent.preventDefault)},f.DomUtil.enableImageDrag=function(){f.DomEvent.off(a,"dragstart",f.DomEvent.preventDefault)}}(),f.LatLng=function(a,b,c){if(isNaN(a)||isNaN(b))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a,this.lng=+b,c!==d&&(this.alt=+c)},f.LatLng.prototype={equals:function(a,b){if(!a)return!1;a=f.latLng(a);var c=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return(b===d?1e-9:b)>=c},toString:function(a){return"LatLng("+f.Util.formatNum(this.lat,a)+", "+f.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){return f.CRS.Earth.distance(this,f.latLng(a))},wrap:function(){return f.CRS.Earth.wrapLatLng(this)},toBounds:function(a){var b=180*a/40075017,c=b/Math.cos(Math.PI/180*this.lat);return f.latLngBounds([this.lat-b,this.lng-c],[this.lat+b,this.lng+c])}},f.latLng=function(a,b){return a instanceof f.LatLng?a:f.Util.isArray(a)&&"object"!=typeof a[0]?3===a.length?new f.LatLng(a[0],a[1],a[2]):new f.LatLng(a[0],a[1]):a===d||null===a?a:"object"==typeof a&&"lat"in a?new f.LatLng(a.lat,"lng"in a?a.lng:a.lon):b===d?null:new f.LatLng(a,b)},f.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},f.LatLngBounds.prototype={extend:function(a){var b,c,d=this._southWest,e=this._northEast;if(a instanceof f.LatLng)b=a,c=a;else{if(!(a instanceof f.LatLngBounds))return a?this.extend(f.latLng(a)||f.latLngBounds(a)):this;if(b=a._southWest,c=a._northEast,!b||!c)return this}return d||e?(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),e.lat=Math.max(c.lat,e.lat),e.lng=Math.max(c.lng,e.lng)):(this._southWest=new f.LatLng(b.lat,b.lng),this._northEast=new f.LatLng(c.lat,c.lng)),this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a,e=Math.abs(b.lng-c.lng)*a;return new f.LatLngBounds(new f.LatLng(b.lat-d,b.lng-e),new f.LatLng(c.lat+d,c.lng+e))},getCenter:function(){return new f.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new f.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new f.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof f.LatLng?f.latLng(a):f.latLngBounds(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof f.LatLngBounds?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=e.lng},intersects:function(a){a=f.latLngBounds(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),g=e.lat>=b.lat&&d.lat<=c.lat,h=e.lng>=b.lng&&d.lng<=c.lng;return g&&h},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=f.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},f.latLngBounds=function(a,b){return!a||a instanceof f.LatLngBounds?a:new f.LatLngBounds(a,b)},f.Projection={},f.Projection.LonLat={project:function(a){return new f.Point(a.lng,a.lat)},unproject:function(a){return new f.LatLng(a.y,a.x)},bounds:f.bounds([-180,-90],[180,90])},f.Projection.SphericalMercator={R:6378137,project:function(a){var b=Math.PI/180,c=1-1e-15,d=Math.max(Math.min(Math.sin(a.lat*b),c),-c);return new f.Point(this.R*a.lng*b,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(a){var b=180/Math.PI;return new f.LatLng((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:function(){var a=6378137*Math.PI;return f.bounds([-a,-a],[a,a])}()},f.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},getProjectedBounds:function(a){if(this.infinite)return null;var b=this.projection.bounds,c=this.scale(a),d=this.transformation.transform(b.min,c),e=this.transformation.transform(b.max,c);return f.bounds(d,e)},wrapLatLng:function(a){var b=this.wrapLng?f.Util.wrapNum(a.lng,this.wrapLng,!0):a.lng,c=this.wrapLat?f.Util.wrapNum(a.lat,this.wrapLat,!0):a.lat;return f.latLng(c,b)}},f.CRS.Simple=f.extend({},f.CRS,{projection:f.Projection.LonLat,transformation:new f.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!0}),f.CRS.Earth=f.extend({},f.CRS,{wrapLng:[-180,180],R:6378137,distance:function(a,b){var c=Math.PI/180,d=a.lat*c,e=b.lat*c,f=Math.sin(d)*Math.sin(e)+Math.cos(d)*Math.cos(e)*Math.cos((b.lng-a.lng)*c);return this.R*Math.acos(Math.min(f,1))}}),f.CRS.EPSG3857=f.extend({},f.CRS.Earth,{code:"EPSG:3857",projection:f.Projection.SphericalMercator,transformation:function(){var a=.5/(Math.PI*f.Projection.SphericalMercator.R);return new f.Transformation(a,.5,-a,.5)}()}),f.CRS.EPSG900913=f.extend({},f.CRS.EPSG3857,{code:"EPSG:900913"}),f.CRS.EPSG4326=f.extend({},f.CRS.Earth,{code:"EPSG:4326",projection:f.Projection.LonLat,transformation:new f.Transformation(1/180,1,-1/180,.5)}),f.Map=f.Evented.extend({options:{crs:f.CRS.EPSG3857,fadeAnimation:!0,trackResize:!0,markerZoomAnimation:!0},initialize:function(a,b){b=f.setOptions(this,b),this._initContainer(a),this._initLayout(),this._onResize=f.bind(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==d&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==d&&this.setView(f.latLng(b.center),b.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(a,b){return b=b===d?this.getZoom():b,this._resetView(f.latLng(a),this._limitZoom(b)),this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2),g=a instanceof f.Point?a:this.latLngToContainerPoint(a),h=g.subtract(e).multiplyBy(1-1/d),i=this.containerPointToLatLng(e.add(h));return this.setView(i,b,{zoom:c})},fitBounds:function(a,b){b=b||{},a=a.getBounds?a.getBounds():f.latLngBounds(a);var c=f.point(b.paddingTopLeft||b.padding||[0,0]),d=f.point(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,c.add(d));e=b.maxZoom?Math.min(b.maxZoom,e):e;var g=d.subtract(c).divideBy(2),h=this.project(a.getSouthWest(),e),i=this.project(a.getNorthEast(),e),j=this.unproject(h.add(i).divideBy(2).add(g),e);return this.setView(j,e,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(f.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=f.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):this.off("moveend",this._panInsideMaxBounds)},panInsideBounds:function(a,b){var c=this.getCenter(),d=this._limitCenter(c,this._zoom,a);return c.equals(d)?this:this.panTo(d,b)},invalidateSize:function(a){if(!this._loaded)return this;a=f.extend({animate:!1,pan:!0},a===!0?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var c=this.getSize(),d=b.divideBy(2).round(),e=c.divideBy(2).round(),g=d.subtract(e);return g.x||g.y?(a.animate&&a.pan?this.panBy(g):(a.pan&&this._rawPanBy(g),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:c})):this},stop:function(){return f.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=d}return f.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this},createPane:function(a,b){var c="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),d=f.DomUtil.create("div",c,b||this._mapPane);return a&&(this._panes[a]=d),d},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),c=this.unproject(a.getTopRight());return new f.LatLngBounds(b,c)},getMinZoom:function(){return this.options.minZoom===d?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===d?this._layersMaxZoom===d?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=f.latLngBounds(a);var d,e=this.getMinZoom()-(b?1:0),g=this.getMaxZoom(),h=this.getSize(),i=a.getNorthWest(),j=a.getSouthEast(),k=!0;c=f.point(c||[0,0]);do e++,d=this.project(j,e).subtract(this.project(i,e)).add(c).floor(),k=b?d.x<h.x||d.y<h.y:h.contains(d);while(k&&g>=e);return k&&b?null:b?e:e-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new f.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new f.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===d?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes
},getContainer:function(){return this._container},getZoomScale:function(a,b){var c=this.options.crs;return b=b===d?this._zoom:b,c.scale(a)/c.scale(b)},getScaleZoom:function(a,b){return b=b===d?this._zoom:b,b+Math.log(a)/Math.LN2},project:function(a,b){return b=b===d?this._zoom:b,this.options.crs.latLngToPoint(f.latLng(a),b)},unproject:function(a,b){return b=b===d?this._zoom:b,this.options.crs.pointToLatLng(f.point(a),b)},layerPointToLatLng:function(a){var b=f.point(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){var b=this.project(f.latLng(a))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(f.latLng(a))},distance:function(a,b){return this.options.crs.distance(f.latLng(a),f.latLng(b))},containerPointToLayerPoint:function(a){return f.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return f.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(f.point(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(f.latLng(a)))},mouseEventToContainerPoint:function(a){return f.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=f.DomUtil.get(a);if(!b)throw new Error("Map container not found.");if(b._leaflet)throw new Error("Map container is already initialized.");b._leaflet=!0},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&f.Browser.any3d,f.DomUtil.addClass(a,"leaflet-container"+(f.Browser.touch?" leaflet-touch":"")+(f.Browser.retina?" leaflet-retina":"")+(f.Browser.ielt9?" leaflet-oldie":"")+(f.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=f.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=this.createPane("mapPane",this._container),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(f.DomUtil.addClass(a.markerPane,"leaflet-zoom-hide"),f.DomUtil.addClass(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,b,c,d){var e=this._zoom!==b;d||(this.fire("movestart"),e&&this.fire("zoomstart")),this._zoom=b,this._initialCenter=a,c||f.DomUtil.setPosition(this._mapPane,new f.Point(0,0)),this._pixelOrigin=this._getNewPixelOrigin(a);var g=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!c}),g&&this.fire("load"),this.fire("move"),(e||d)&&this.fire("zoomend"),this.fire("moveend",{hard:!c})},_rawPanBy:function(a){f.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(b){f.DomEvent&&(b=b||"on",f.DomEvent[b](this._container,"click dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu",this._handleMouseEvent,this),this.options.trackResize&&f.DomEvent[b](a,"resize",this._onResize,this))},_onResize:function(){f.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=f.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_handleMouseEvent:function(a){this._loaded&&this._fireMouseEvent(this,a,"mouseenter"===a.type?"mouseover":"mouseleave"===a.type?"mouseout":a.type)},_fireMouseEvent:function(a,b,c,d,e){if(c=c||b.type,!f.DomEvent._skipped(b)){if("click"===c){var g=a.options.draggable===!0?a:this;if(!b._simulated&&(g.dragging&&g.dragging.moved()||this.boxZoom&&this.boxZoom.moved()))return void f.DomEvent.stopPropagation(b);a.fire("preclick")}if(a.listens(c,d)){"contextmenu"===c&&f.DomEvent.preventDefault(b),("click"===c||"dblclick"===c||"contextmenu"===c)&&f.DomEvent.stopPropagation(b);var h={originalEvent:b,containerPoint:this.mouseEventToContainerPoint(b)};h.layerPoint=this.containerPointToLayerPoint(h.containerPoint),h.latlng=e||this.layerPointToLatLng(h.layerPoint),a.fire(c,h,d)}}},_clearHandlers:function(){for(var a=0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,{target:this}):this.on("load",a,b),this},_getMapPanePos:function(){return f.DomUtil.getPosition(this._mapPane)||new f.Point(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,b,c){var d=this._getNewPixelOrigin(c,b);return this.project(a,b)._subtract(d)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){if(!c)return a;var d=this.project(a,b),e=this.getSize().divideBy(2),g=new f.Bounds(d.subtract(e),d.add(e)),h=this._getBoundsOffset(g,c,b);return this.unproject(d.add(h),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds(),d=new f.Bounds(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,b,c){var d=this.project(b.getNorthWest(),c).subtract(a.min),e=this.project(b.getSouthEast(),c).subtract(a.max),g=this._rebound(d.x,-e.x),h=this._rebound(d.y,-e.y);return new f.Point(g,h)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}}),f.map=function(a,b){return new f.Map(a,b)},f.Layer=f.Evented.extend({options:{pane:"overlayPane"},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},_layerAdd:function(a){var b=a.target;b.hasLayer(this)&&(this._map=b,this._zoomAnimated=b._zoomAnimated,this.onAdd(b),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.getEvents&&b.on(this.getEvents(),this),this.fire("add"),b.fire("layeradd",{layer:this}))}}),f.Map.include({addLayer:function(a){var b=f.stamp(a);return this._layers[b]?a:(this._layers[b]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var b=f.stamp(a);return this._layers[b]?(this._loaded&&a.onRemove(this),a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution()),a.getEvents&&this.off(a.getEvents(),a),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return!!a&&f.stamp(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){a=a?f.Util.isArray(a)?a:[a]:[];for(var b=0,c=a.length;c>b;b++)this.addLayer(a[b])},_addZoomLimit:function(a){(isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[f.stamp(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var b=f.stamp(a);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,b=-1/0,c=this._getZoomSpan();for(var e in this._zoomBoundLayers){var f=this._zoomBoundLayers[e].options;a=f.minZoom===d?a:Math.min(a,f.minZoom),b=f.maxZoom===d?b:Math.max(b,f.maxZoom)}this._layersMaxZoom=b===-1/0?d:b,this._layersMinZoom=1/0===a?d:a,c!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),f.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:f.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(a){var b=Math.PI/180,c=this.R,d=a.lat*b,e=this.R_MINOR/c,g=Math.sqrt(1-e*e),h=g*Math.sin(d),i=Math.tan(Math.PI/4-d/2)/Math.pow((1-h)/(1+h),g/2);return d=-c*Math.log(Math.max(i,1e-10)),new f.Point(a.lng*b*c,d)},unproject:function(a){for(var b,c=180/Math.PI,d=this.R,e=this.R_MINOR/d,g=Math.sqrt(1-e*e),h=Math.exp(-a.y/d),i=Math.PI/2-2*Math.atan(h),j=0,k=.1;15>j&&Math.abs(k)>1e-7;j++)b=g*Math.sin(i),b=Math.pow((1-b)/(1+b),g/2),k=Math.PI/2-2*Math.atan(h*b)-i,i+=k;return new f.LatLng(i*c,a.x*c/d)}},f.CRS.EPSG3395=f.extend({},f.CRS.Earth,{code:"EPSG:3395",projection:f.Projection.Mercator,transformation:function(){var a=.5/(Math.PI*f.Projection.Mercator.R);return new f.Transformation(a,.5,-a,.5)}()}),f.GridLayer=f.Layer.extend({options:{pane:"tilePane",tileSize:256,opacity:1,unloadInvisibleTiles:f.Browser.mobile,updateWhenIdle:f.Browser.mobile,updateInterval:200,attribution:null,zIndex:null,bounds:null,minZoom:0},initialize:function(a){a=f.setOptions(this,a)},onAdd:function(){this._initContainer(),this._pruneTiles=f.Util.throttle(this._pruneTiles,200,this),this._levels={},this._tiles={},this._loaded={},this._retain={},this._tilesToLoad=0,this._reset(),this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){f.DomUtil.remove(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(f.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(f.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewreset:this._reset,moveend:this._update};return this.options.updateWhenIdle||(a.move=f.Util.throttle(this._update,this.options.updateInterval,this)),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return c.createElement("div")},_updateZIndex:function(){this._container&&this.options.zIndex!==d&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,c=this.getPane().children,d=-a(-1/0,1/0),e=0,f=c.length;f>e;e++)b=c[e].style.zIndex,c[e]!==this._container&&b&&(d=a(d,+b));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){var a=this.options.opacity;if(f.Browser.ielt9)for(var b in this._tiles)f.DomUtil.setOpacity(this._tiles[b],a);else f.DomUtil.setOpacity(this._container,a)},_initContainer:function(){this._container||(this._container=f.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom;for(var b in this._levels)this._levels[b].el.style.zIndex=-Math.abs(a-b);var c=this._levels[a],d=this._map;return c||(c=this._levels[a]={},c.el=f.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=0,c.origin=d.project(d.unproject(d.getPixelOrigin()),a).round(),c.zoom=a),this._level=c,c},_pruneTiles:function(){if(this._map){this._retain={};var a,b,c,d,e=this._map.getBounds(),g=this._tileZoom,h=this._getTileRange(e,g);for(a=h.min.x;a<=h.max.x;a++)for(b=h.min.y;b<=h.max.y;b++)c=a+":"+b+":"+g,this._retain[c]=!0,this._loaded[c]||(d=this._retainParent(a,b,g,g-5)||this._retainChildren(a,b,g,g+2));for(c in this._tiles)this._retain[c]||(this._loaded[c]?this._map._fadeAnimated?setTimeout(f.bind(this._deferRemove,this,c),250):this._removeTile(c):(this._removeTile(c),this._tilesToLoad--))}},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a);this._tilesToLoad=0},_deferRemove:function(a){this._retain[a]||this._removeTile(a)},_retainParent:function(a,b,c,d){var e=Math.floor(a/2),f=Math.floor(b/2),g=c-1,h=e+":"+f+":"+g;return this._loaded[h]?(this._retain[h]=!0,!0):g>d?this._retainParent(e,f,g,d):!1},_retainChildren:function(a,b,c,d){for(var e=2*a;2*a+2>e;e++)for(var f=2*b;2*b+2>f;f++){var g=e+":"+f+":"+(c+1);this._loaded[g]?this._retain[g]=!0:d>c+1&&this._retainChildren(e,f,c+1,d)}},_reset:function(a){var b=this._map,c=b.getZoom(),d=Math.round(c),e=this._tileZoom!==d;(e||a&&a.hard)&&(this._abortLoading&&this._abortLoading(),this._tileZoom=d,this._updateLevels(),this._resetGrid()),this._setZoomTransforms(b.getCenter(),c)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],a,b)},_setZoomTransform:function(a,b,c){var d=this._map.getZoomScale(c,a.zoom),e=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,c)).round();f.DomUtil.setTransform(a.el,e,d)},_resetGrid:function(){var a=this._map,b=a.options.crs,c=this._tileSize=this._getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e)),this._wrapX=b.wrapLng&&[Math.floor(a.project([0,b.wrapLng[0]],d).x/c),Math.ceil(a.project([0,b.wrapLng[1]],d).x/c)],this._wrapY=b.wrapLat&&[Math.floor(a.project([b.wrapLat[0],0],d).y/c),Math.ceil(a.project([b.wrapLat[1],0],d).y/c)]},_getTileSize:function(){return this.options.tileSize},_update:function(){if(this._map){var a=this._map.getBounds();this.options.unloadInvisibleTiles&&this._removeOtherTiles(a),this._addTiles(a)}},_getTileRange:function(a,b){var c=new f.Bounds(this._map.project(a.getNorthWest(),b),this._map.project(a.getSouthEast(),b));return this._pxBoundsToTileRange(c)},_addTiles:function(a){var b,d,e,g=[],h=this._getTileRange(a,this._tileZoom),i=h.getCenter();for(b=h.min.y;b<=h.max.y;b++)for(d=h.min.x;d<=h.max.x;d++)e=new f.Point(d,b),e.z=this._tileZoom,this._tileCoordsToKey(e)in this._tiles||!this._isValidTile(e)||g.push(e);g.sort(function(a,b){return a.distanceTo(i)-b.distanceTo(i)});var j=g.length;if(0!==j){this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=j;var k=c.createDocumentFragment();for(d=0;j>d;d++)this._addTile(g[d],k);this._level.el.appendChild(k)}this._pruneTiles()},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var c=this._globalTileRange;if(!b.wrapLng&&(a.x<c.min.x||a.x>c.max.x)||!b.wrapLat&&(a.y<c.min.y||a.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(a);return f.latLngBounds(this.options.bounds).intersects(d)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToBounds:function(a){var b=this._map,c=this._getTileSize(),d=a.multiplyBy(c),e=d.add([c,c]),g=b.wrapLatLng(b.unproject(d,a.z)),h=b.wrapLatLng(b.unproject(e,a.z));return new f.LatLngBounds(g,h)},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var b=a.split(":"),c=new f.Point(+b[0],+b[1]);return c.z=+b[2],c},_removeOtherTiles:function(a){for(var b in this._tiles){var c=this._keyToBounds(b);a.intersects(c)||this._removeTile(b)}},_removeTile:function(a){var b=this._tiles[a];b&&(f.DomUtil.remove(b),delete this._tiles[a],delete this._loaded[a],this.fire("tileunload",{tile:b,coords:this._keyToTileCoords(a)}))},_initTile:function(a){f.DomUtil.addClass(a,"leaflet-tile"),a.style.width=this._tileSize+"px",a.style.height=this._tileSize+"px",a.onselectstart=f.Util.falseFn,a.onmousemove=f.Util.falseFn,f.Browser.ielt9&&this.options.opacity<1&&f.DomUtil.setOpacity(a,this.options.opacity),f.Browser.android&&!f.Browser.android23&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var c=this._getTilePos(a),d=this._tileCoordsToKey(a),e=this.createTile(this._wrapCoords(a),f.bind(this._tileReady,this,a));this._initTile(e),this.createTile.length<2&&setTimeout(f.bind(this._tileReady,this,a,null,e),0),f.DomUtil.setPosition(e,c,!0),this._tiles[d]=e,b.appendChild(e),this.fire("tileloadstart",{tile:e,coords:a})},_tileReady:function(a,b,c){b&&this.fire("tileerror",{error:b,tile:c,coords:a});var d=this._tileCoordsToKey(a);this._tiles[d]&&(this._loaded[d]=!0,this._pruneTiles(),f.DomUtil.addClass(c,"leaflet-tile-loaded"),this.fire("tileload",{tile:c,coords:a}),this._tilesToLoad--,0===this._tilesToLoad&&this.fire("load"))},_getTilePos:function(a){return a.multiplyBy(this._tileSize).subtract(this._level.origin)},_wrapCoords:function(a){var b=new f.Point(this._wrapX?f.Util.wrapNum(a.x,this._wrapX):a.x,this._wrapY?f.Util.wrapNum(a.y,this._wrapY):a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(a){return new f.Bounds(a.min.divideBy(this._tileSize).floor(),a.max.divideBy(this._tileSize).ceil().subtract([1,1]))},_animateZoom:function(a){this._setZoomTransforms(a.center,a.zoom)}}),f.gridLayer=function(a){return new f.GridLayer(a)},f.TileLayer=f.GridLayer.extend({options:{maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,maxNativeZoom:null,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(a,b){this._url=a,b=f.setOptions(this,b),b.detectRetina&&f.Browser.retina&&b.maxZoom>0&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,b.minZoom=Math.max(0,b.minZoom),b.maxZoom--),"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split("")),f.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},createTile:function(a,b){var d=c.createElement("img");return d.onload=f.bind(this._tileOnLoad,this,b,d),d.onerror=f.bind(this._tileOnError,this,b,d),this.options.crossOrigin&&(d.crossOrigin=""),d.alt="",d.src=this.getTileUrl(a),d},getTileUrl:function(a){return f.Util.template(this._url,f.extend({r:this.options.detectRetina&&f.Browser.retina&&this.options.maxZoom>0?"@2x":"",s:this._getSubdomain(a),x:a.x,y:this.options.tms?this._globalTileRange.max.y-a.y:a.y,z:this._getZoomForUrl()},this.options))},_tileOnLoad:function(a,b){a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&(b.src=d),a(c,b)},_getTileSize:function(){var a=this._map,b=this.options,c=a.getZoom()+b.zoomOffset,d=b.maxNativeZoom;return null!==d&&c>d?Math.round(a.getZoomScale(d,c)*b.tileSize):b.tileSize},_onTileRemove:function(a){a.tile.onload=null,a.tile.src=f.Util.emptyImageUrl},_getZoomForUrl:function(){var a=this.options,b=this._tileZoom;return a.zoomReverse&&(b=a.maxZoom-b),b+=a.zoomOffset,a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var a,b;for(a in this._tiles)b=this._tiles[a],b.onload=f.Util.falseFn,b.onerror=f.Util.falseFn,b.complete||(b.src=f.Util.emptyImageUrl,f.DomUtil.remove(b))}}),f.tileLayer=function(a,b){return new f.TileLayer(a,b)},f.TileLayer.WMS=f.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;var c=f.extend({},this.defaultWmsParams);for(var d in b)d in this.options||(c[d]=b[d]);b=f.setOptions(this,b),c.width=c.height=b.tileSize*(b.detectRetina&&f.Browser.retina?2:1),this.wmsParams=c},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,f.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToBounds(a),c=this._crs.project(b.getNorthWest()),d=this._crs.project(b.getSouthEast()),e=(this._wmsVersion>=1.3&&this._crs===f.CRS.EPSG4326?[d.y,c.x,c.y,d.x]:[c.x,d.y,d.x,c.y]).join(","),g=f.TileLayer.prototype.getTileUrl.call(this,a);return g+f.Util.getParamString(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(a,b){return f.extend(this.wmsParams,a),b||this.redraw(),this}}),f.tileLayer.wms=function(a,b){return new f.TileLayer.WMS(a,b)},f.ImageOverlay=f.Layer.extend({options:{opacity:1,alt:"",interactive:!1},initialize:function(a,b,c){this._url=a,this._bounds=f.latLngBounds(b),f.setOptions(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.getPane().appendChild(this._image),this._initInteraction(),this._reset()},onRemove:function(){f.DomUtil.remove(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&f.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&f.DomUtil.toBack(this._image),this},_initInteraction:function(){this.options.interactive&&(f.DomUtil.addClass(this._image,"leaflet-interactive"),f.DomEvent.on(this._image,"click dblclick mousedown mouseup mouseover mousemove mouseout contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(a,b){this._map&&this._map._fireMouseEvent(this,a,b,!0)},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var a={viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},getBounds:function(){return this._bounds},_initImage:function(){var a=this._image=f.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));a.onselectstart=f.Util.falseFn,a.onmousemove=f.Util.falseFn,a.onload=f.bind(this.fire,this,"load"),a.src=this._url,a.alt=this.options.alt},_animateZoom:function(a){var b=new f.Bounds(this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),a.zoom,a.center),this._map._latLngToNewLayerPoint(this._bounds.getSouthEast(),a.zoom,a.center)),c=b.min.add(b.getSize()._multiplyBy((1-1/a.scale)/2));f.DomUtil.setTransform(this._image,c,a.scale)},_reset:function(){var a=this._image,b=new f.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();f.DomUtil.setPosition(a,b.min),a.style.width=c.x+"px",a.style.height=c.y+"px"},_updateOpacity:function(){f.DomUtil.setOpacity(this._image,this.options.opacity)}}),f.imageOverlay=function(a,b,c){return new f.ImageOverlay(a,b,c)},f.Icon=f.Class.extend({initialize:function(a){f.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,b&&"IMG"===b.tagName?b:null);return this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var c=this.options,d=f.point(c[b+"Size"]),e=f.point("shadow"===b&&c.shadowAnchor||c.iconAnchor||d&&d.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(c.className||""),e&&(a.style.marginLeft=-e.x+"px",a.style.marginTop=-e.y+"px"),d&&(a.style.width=d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,b){return b=b||c.createElement("img"),b.src=a,b},_getIconUrl:function(a){return f.Browser.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),f.icon=function(a){return new f.Icon(a)},f.Icon.Default=f.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];var c=f.Icon.Default.imagePath;if(!c)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return c+"/marker-"+a+(f.Browser.retina&&"icon"===a?"-2x":"")+".png"}}),f.Icon.Default.imagePath=function(){var a,b,d,e,f=c.getElementsByTagName("script"),g=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(a=0,b=f.length;b>a;a++)if(d=f[a].src,d.match(g))return e=d.split(g)[0],(e?e+"/":"")+"images"}(),f.Marker=f.Layer.extend({options:{pane:"markerPane",icon:new f.Icon.Default,interactive:!0,keyboard:!0,zIndexOffset:0,opacity:1,riseOffset:250},initialize:function(a,b){f.setOptions(this,b),this._latlng=f.latLng(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._initIcon(),this.update()},onRemove:function(){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow()},getEvents:function(){var a={viewreset:this.update};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;return this._latlng=f.latLng(a),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),a.alt&&(c.alt=a.alt)),f.DomUtil.addClass(c,b),a.keyboard&&(c.tabIndex="0"),this._icon=c,this._initInteraction(),f.DomEvent&&a.riseOnHover&&f.DomEvent.on(c,{mouseover:this._bringToFront,mouseout:this._resetZIndex},this);var e=a.icon.createShadow(this._shadow),g=!1;e!==this._shadow&&(this._removeShadow(),g=!0),e&&f.DomUtil.addClass(e,b),this._shadow=e,a.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),e&&g&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){f.DomEvent&&this.options.riseOnHover&&f.DomEvent.off(this._icon,{mouseover:this._bringToFront,mouseout:this._resetZIndex},this),f.DomUtil.remove(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&f.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(a){f.DomUtil.setPosition(this._icon,a),this._shadow&&f.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(f.DomUtil.addClass(this._icon,"leaflet-interactive"),f.DomEvent&&f.DomEvent.on(this._icon,"click dblclick mousedown mouseup mouseover mousemove mouseout contextmenu keypress",this._fireMouseEvent,this),f.Handler.MarkerDrag)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new f.Handler.MarkerDrag(this),a&&this.dragging.enable()}},_fireMouseEvent:function(a,b){"mousedown"===a.type&&f.DomEvent.preventDefault(a),"keypress"===a.type&&13===a.keyCode&&(b="click"),this._map&&this._map._fireMouseEvent(this,a,b,!0,this._latlng)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;f.DomUtil.setOpacity(this._icon,a),this._shadow&&f.DomUtil.setOpacity(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),f.marker=function(a,b){return new f.Marker(a,b)},f.DivIcon=f.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){var b=a&&"DIV"===a.tagName?a:c.createElement("div"),d=this.options;return b.innerHTML=d.html!==!1?d.html:"",d.bgPos&&(b.style.backgroundPosition=-d.bgPos.x+"px "+-d.bgPos.y+"px"),this._setIconStyles(b,"icon"),b},createShadow:function(){return null}}),f.divIcon=function(a){return new f.DivIcon(a)},f.Map.mergeOptions({closePopupOnClick:!0}),f.Popup=f.Layer.extend({options:{pane:"popupPane",minWidth:50,maxWidth:300,offset:[0,7],autoPan:!0,autoPanPadding:[5,5],closeButton:!0,autoClose:!0,zoomAnimation:!0},initialize:function(a,b){f.setOptions(this,a),this._source=b},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),a._fadeAnimated&&f.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&f.DomUtil.setOpacity(this._container,1),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this},!0)},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._fadeAnimated?(f.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(f.bind(f.DomUtil.remove,f.DomUtil,this._container),200)):f.DomUtil.remove(this._container),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this},!0)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=f.latLng(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={viewreset:this._updatePosition},b=this.options;return this._zoomAnimated&&(a.zoomanim=this._animateZoom),("closeOnClick"in b?b.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),b.keepInView&&(a.moveend=this._adjustPan),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a="leaflet-popup",b=this._container=f.DomUtil.create("div",a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var c=this._closeButton=f.DomUtil.create("a",a+"-close-button",b);c.href="#close",c.innerHTML="&#215;",f.DomEvent.on(c,"click",this._onCloseButtonClick,this)}var d=this._wrapper=f.DomUtil.create("div",a+"-content-wrapper",b);this._contentNode=f.DomUtil.create("div",a+"-content",d),f.DomEvent.disableClickPropagation(d).disableScrollPropagation(this._contentNode).on(d,"contextmenu",f.DomEvent.stopPropagation),this._tipContainer=f.DomUtil.create("div",a+"-tip-container",b),this._tip=f.DomUtil.create("div",a+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){var a=this._contentNode;if("string"==typeof this._content)a.innerHTML=this._content;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="",b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),b.width=c+1+"px",b.whiteSpace="",b.height="";var d=a.offsetHeight,e=this.options.maxHeight,g="leaflet-popup-scrolled";e&&d>e?(b.height=e+"px",f.DomUtil.addClass(a,g)):f.DomUtil.removeClass(a,g),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=f.point(this.options.offset);this._zoomAnimated?f.DomUtil.setPosition(this._container,a):b=b.add(a);var c=this._containerBottom=-b.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=c+"px",this._container.style.left=d+"px"
}},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);f.DomUtil.setPosition(this._container,b)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,b=this._container.offsetHeight,c=this._containerWidth,d=new f.Point(this._containerLeft,-b-this._containerBottom);this._zoomAnimated&&d._add(f.DomUtil.getPosition(this._container));var e=a.layerPointToContainerPoint(d),g=f.point(this.options.autoPanPadding),h=f.point(this.options.autoPanPaddingTopLeft||g),i=f.point(this.options.autoPanPaddingBottomRight||g),j=a.getSize(),k=0,l=0;e.x+c+i.x>j.x&&(k=e.x+c-j.x+i.x),e.x-k-h.x<0&&(k=e.x-h.x),e.y+b+i.y>j.y&&(l=e.y+b-j.y+i.y),e.y-l-h.y<0&&(l=e.y-h.y),(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close(),f.DomEvent.stop(a)}}),f.popup=function(a,b){return new f.Popup(a,b)},f.Map.include({openPopup:function(a,b,c){if(!(a instanceof f.Popup)){var d=a;a=new f.Popup(c).setContent(d)}return b&&a.setLatLng(b),this.hasLayer(a)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=a,this.addLayer(a))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}}),f.Layer.include({bindPopup:function(a,b){return a instanceof f.Popup?(this._popup=a,a._source=this):((!this._popup||b)&&(this._popup=new f.Popup(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&this._map&&this._map.openPopup(this._popup,a||this._latlng||this.getCenter()),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._map?this.closePopup():this.openPopup()),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){this._map.openPopup(this._popup,a.latlng)},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),f.Marker.include({bindPopup:function(a,b){var c=f.point(this.options.icon.options.popupAnchor||[0,0]).add(f.Popup.prototype.options.offset);return b=f.extend({offset:c},b),f.Layer.prototype.bindPopup.call(this,a,b)},_openPopup:f.Layer.prototype.togglePopup}),f.LayerGroup=f.Layer.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;c>b;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return!!a&&(a in this._layers||this.getLayerId(a)in this._layers)},clearLayers:function(){for(var a in this._layers)this.removeLayer(this._layers[a]);return this},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)c=this._layers[b],c[a]&&c[a].apply(c,d);return this},onAdd:function(a){for(var b in this._layers)a.addLayer(this._layers[b])},onRemove:function(a){for(var b in this._layers)a.removeLayer(this._layers[b])},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return f.stamp(a)}}),f.layerGroup=function(a){return new f.LayerGroup(a)},f.FeatureGroup=f.LayerGroup.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),f.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),f.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,b){return this._popupContent=a,this._popupOptions=b,this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new f.LatLngBounds;return this.eachLayer(function(b){a.extend(b.getBounds?b.getBounds():b.getLatLng())}),a}}),f.featureGroup=function(a){return new f.FeatureGroup(a)},f.Renderer=f.Layer.extend({options:{padding:0},initialize:function(a){f.setOptions(this,a),f.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&f.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){f.DomUtil.remove(this._container)},getEvents:function(){var a={moveend:this._update};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},_animateZoom:function(a){var b=a.origin.subtract(this._map._getCenterLayerPoint()),c=this._bounds.min.add(b.multiplyBy(1-a.scale)).add(a.offset).round();f.DomUtil.setTransform(this._container,c,a.scale)},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new f.Bounds(c,c.add(b.multiplyBy(1+2*a)).round())}}),f.Map.include({getRenderer:function(a){var b=a.options.renderer||this.options.renderer||this._renderer;return b||(b=this._renderer=f.SVG&&f.svg()||f.Canvas&&f.canvas()),this.hasLayer(b)||this.addLayer(b),b}}),f.Path=f.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",fillOpacity:.2,fillRule:"evenodd",interactive:!0},onAdd:function(){this._renderer=this._map.getRenderer(this),this._renderer._initPath(this),this._project(),this._update(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return{viewreset:this._project,moveend:this._update}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return f.setOptions(this,a),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},_fireMouseEvent:function(a,b){this._map._fireMouseEvent(this,a,b,!0)},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(f.Browser.touch?10:0)}}),f.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=this._reducePoints(a,c),a=this._simplifyDP(a,c)},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,b){var c=a.length,e=typeof Uint8Array!=d+""?Uint8Array:Array,f=new e(c);f[0]=f[c-1]=1,this._simplifyDPStep(a,f,b,0,c-1);var g,h=[];for(g=0;c>g;g++)f[g]&&h.push(a[g]);return h},_simplifyDPStep:function(a,b,c,d,e){var f,g,h,i=0;for(g=d+1;e-1>=g;g++)h=this._sqClosestPointOnSegment(a[g],a[d],a[e],!0),h>i&&(f=g,i=h);i>c&&(b[f]=1,this._simplifyDPStep(a,b,c,d,f),this._simplifyDPStep(a,b,c,f,e))},_reducePoints:function(a,b){for(var c=[a[0]],d=1,e=0,f=a.length;f>d;d++)this._sqDist(a[d],a[e])>b&&(c.push(a[d]),e=d);return f-1>e&&c.push(a[f-1]),c},clipSegment:function(a,b,c,d){var e,f,g,h=d?this._lastCode:this._getBitCode(a,c),i=this._getBitCode(b,c);for(this._lastCode=i;;){if(!(h|i))return[a,b];if(h&i)return!1;e=h||i,f=this._getEdgeIntersection(a,b,e,c),g=this._getBitCode(f,c),e===h?(a=f,h=g):(b=f,i=g)}},_getEdgeIntersection:function(a,b,c,d){var e,g,h=b.x-a.x,i=b.y-a.y,j=d.min,k=d.max;return 8&c?(e=a.x+h*(k.y-a.y)/i,g=k.y):4&c?(e=a.x+h*(j.y-a.y)/i,g=j.y):2&c?(e=k.x,g=a.y+i*(k.x-a.x)/h):1&c&&(e=j.x,g=a.y+i*(j.x-a.x)/h),new f.Point(e,g,!0)},_getBitCode:function(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(a,b,c,d){var e,g=b.x,h=b.y,i=c.x-g,j=c.y-h,k=i*i+j*j;return k>0&&(e=((a.x-g)*i+(a.y-h)*j)/k,e>1?(g=c.x,h=c.y):e>0&&(g+=i*e,h+=j*e)),i=a.x-g,j=a.y-h,d?i*i+j*j:new f.Point(g,h)}},f.Polyline=f.Path.extend({options:{smoothFactor:1},initialize:function(a,b){f.setOptions(this,b),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},addLatLng:function(a){return a=f.latLng(a),this._latlngs.push(a),this._bounds.extend(a),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._setLatLngs(this._latlngs),this.redraw(),a},closestLayerPoint:function(a){for(var b,c,d=1/0,e=null,g=f.LineUtil._sqClosestPointOnSegment,h=0,i=this._parts.length;i>h;h++)for(var j=this._parts[h],k=1,l=j.length;l>k;k++){b=j[k-1],c=j[k];var m=g(a,b,c,!0);d>m&&(d=m,e=g(a,b,c))}return e&&(e.distance=Math.sqrt(d)),e},getCenter:function(){var a,b,c,d,e,f,g,h=this._rings[0],i=h.length;for(a=0,b=0;i-1>a;a++)b+=h[a].distanceTo(h[a+1])/2;for(a=0,d=0;i-1>a;a++)if(e=h[a],f=h[a+1],c=e.distanceTo(f),d+=c,d>b)return g=(d-b)/c,this._map.layerPointToLatLng([f.x-g*(f.x-e.x),f.y-g*(f.y-e.y)])},getBounds:function(){return this._bounds},_setLatLngs:function(a){this._bounds=new f.LatLngBounds,this._latlngs=this._convertLatLngs(a)},_convertLatLngs:function(a){for(var b=[],c=this._flat(a),d=0,e=a.length;e>d;d++)c?(b[d]=f.latLng(a[d]),this._bounds.extend(b[d])):b[d]=this._convertLatLngs(a[d]);return b},_flat:function(a){return!f.Util.isArray(a[0])||"object"!=typeof a[0][0]},_project:function(){this._rings=[],this._projectLatlngs(this._latlngs,this._rings);var a=this._clickTolerance(),b=new f.Point(a,-a);this._latlngs.length&&(this._pxBounds=new f.Bounds(this._map.latLngToLayerPoint(this._bounds.getSouthWest())._subtract(b),this._map.latLngToLayerPoint(this._bounds.getNorthEast())._add(b)))},_projectLatlngs:function(a,b){var c,d,e=a[0]instanceof f.LatLng,g=a.length;if(e){for(d=[],c=0;g>c;c++)d[c]=this._map.latLngToLayerPoint(a[c]);b.push(d)}else for(c=0;g>c;c++)this._projectLatlngs(a[c],b)},_clipPoints:function(){if(this.options.noClip)return void(this._parts=this._rings);this._parts=[];var a,b,c,d,e,g,h,i=this._parts,j=this._renderer._bounds;for(a=0,c=0,d=this._rings.length;d>a;a++)for(h=this._rings[a],b=0,e=h.length;e-1>b;b++)g=f.LineUtil.clipSegment(h[b],h[b+1],j,b),g&&(i[c]=i[c]||[],i[c].push(g[0]),(g[1]!==h[b+1]||b===e-2)&&(i[c].push(g[1]),c++))},_simplifyPoints:function(){for(var a=this._parts,b=this.options.smoothFactor,c=0,d=a.length;d>c;c++)a[c]=f.LineUtil.simplify(a[c],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),f.polyline=function(a,b){return new f.Polyline(a,b)},f.PolyUtil={},f.PolyUtil.clipPolygon=function(a,b){var c,d,e,g,h,i,j,k,l,m=[1,4,2,8],n=f.LineUtil;for(d=0,j=a.length;j>d;d++)a[d]._code=n._getBitCode(a[d],b);for(g=0;4>g;g++){for(k=m[g],c=[],d=0,j=a.length,e=j-1;j>d;e=d++)h=a[d],i=a[e],h._code&k?i._code&k||(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)):(i._code&k&&(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)),c.push(h));a=c}return a},f.Polygon=f.Polyline.extend({options:{fill:!0},getCenter:function(){var a,b,c,d,e,f,g,h,i,j=this._rings[0];for(g=h=i=0,a=0,c=j.length,b=c-1;c>a;b=a++)d=j[a],e=j[b],f=d.y*e.x-e.y*d.x,h+=(d.x+e.x)*f,i+=(d.y+e.y)*f,g+=3*f;return this._map.layerPointToLatLng([h/g,i/g])},_convertLatLngs:function(a){var b=f.Polyline.prototype._convertLatLngs.call(this,a),c=b.length;return c>=2&&b[0]instanceof f.LatLng&&b[0].equals(b[c-1])&&b.pop(),b},_clipPoints:function(){if(this.options.noClip)return void(this._parts=this._rings);var a=this._renderer._bounds,b=this.options.weight,c=new f.Point(b,b);a=new f.Bounds(a.min.subtract(c),a.max.add(c)),this._parts=[];for(var d,e=0,g=this._rings.length;g>e;e++)d=f.PolyUtil.clipPolygon(this._rings[e],a),d.length&&this._parts.push(d)},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),f.polygon=function(a,b){return new f.Polygon(a,b)},f.Rectangle=f.Polygon.extend({initialize:function(a,b){f.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=f.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),f.rectangle=function(a,b){return new f.Rectangle(a,b)},f.CircleMarker=f.Path.extend({options:{fill:!0,radius:10},initialize:function(a,b){f.setOptions(this,b),this._latlng=f.latLng(a),this._radius=this.options.radius},setLatLng:function(a){return this._latlng=f.latLng(a),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return f.Path.prototype.setStyle.call(this,a),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,c=this._clickTolerance(),d=[a+c,b+c];this._pxBounds=new f.Bounds(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),f.circleMarker=function(a,b){return new f.CircleMarker(a,b)},f.Circle=f.CircleMarker.extend({initialize:function(a,b,c){f.setOptions(this,c),this._latlng=f.latLng(a),this._mRadius=b},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY];return new f.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:f.Path.prototype.setStyle,_project:function(){var a=this._latlng.lng,b=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===f.CRS.Earth.distance){var e=Math.PI/180,g=this._mRadius/f.CRS.Earth.R/e,h=c.project([b+g,a]),i=c.project([b-g,a]),j=h.add(i).divideBy(2),k=c.unproject(j).lat,l=Math.acos((Math.cos(g*e)-Math.sin(b*e)*Math.sin(k*e))/(Math.cos(b*e)*Math.cos(k*e)))/e;this._point=j.subtract(c.getPixelOrigin()),this._radius=isNaN(l)?0:Math.max(Math.round(j.x-c.project([k,a-l]).x),1),this._radiusY=Math.max(Math.round(j.y-h.y),1)}else{var m=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(m).x}this._updateBounds()}}),f.circle=function(a,b,c){return new f.Circle(a,b,c)},f.SVG=f.Renderer.extend({_initContainer:function(){this._container=f.SVG.create("svg"),this._paths={},this._initEvents(),this._container.setAttribute("pointer-events","none")},_update:function(){if(!this._map._animatingZoom||!this._bounds){f.Renderer.prototype._update.call(this);var a=this._bounds,b=a.getSize(),c=this._container;f.DomUtil.setPosition(c,a.min),this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,c.setAttribute("width",b.x),c.setAttribute("height",b.y)),f.DomUtil.setPosition(c,a.min),c.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" "))}},_initPath:function(a){var b=a._path=f.SVG.create("path");a.options.className&&f.DomUtil.addClass(b,a.options.className),a.options.interactive&&f.DomUtil.addClass(b,"leaflet-interactive"),this._updateStyle(a)},_addPath:function(a){var b=a._path;this._container.appendChild(b),this._paths[f.stamp(b)]=a},_removePath:function(a){var b=a._path;f.DomUtil.remove(b),delete this._paths[f.stamp(b)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var b=a._path,c=a.options;b&&(c.stroke?(b.setAttribute("stroke",c.color),b.setAttribute("stroke-opacity",c.opacity),b.setAttribute("stroke-width",c.weight),b.setAttribute("stroke-linecap",c.lineCap),b.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?b.setAttribute("stroke-dasharray",c.dashArray):b.removeAttribute("stroke-dasharray"),c.dashOffset?b.setAttribute("stroke-dashoffset",c.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),c.fill?(b.setAttribute("fill",c.fillColor||c.color),b.setAttribute("fill-opacity",c.fillOpacity),b.setAttribute("fill-rule",c.fillRule||"evenodd")):b.setAttribute("fill","none"),b.setAttribute("pointer-events",c.pointerEvents||(c.interactive?"visiblePainted":"none")))},_updatePoly:function(a,b){this._setPath(a,f.SVG.pointsToPath(a._parts,b))},_updateCircle:function(a){var b=a._point,c=a._radius,d=a._radiusY||c,e="a"+c+","+d+" 0 1,0 ",f=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+e+2*c+",0 "+e+2*-c+",0 ";this._setPath(a,f)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){f.DomUtil.toFront(a._path)},_bringToBack:function(a){f.DomUtil.toBack(a._path)},_initEvents:function(){f.DomEvent.on(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu",this._fireMouseEvent,this)},_fireMouseEvent:function(a){var b=this._paths[f.stamp(a.target||a.srcElement)];b&&b._fireMouseEvent(a)}}),f.extend(f.SVG,{create:function(a){return c.createElementNS("http://www.w3.org/2000/svg",a)},pointsToPath:function(a,b){var c,d,e,g,h,i,j="";for(c=0,e=a.length;e>c;c++){for(h=a[c],d=0,g=h.length;g>d;d++)i=h[d],j+=(d?"L":"M")+i.x+" "+i.y;j+=b?f.Browser.svg?"z":"x":""}return j||"M0 0"}}),f.Browser.svg=!(!c.createElementNS||!f.SVG.create("svg").createSVGRect),f.svg=function(a){return f.Browser.svg||f.Browser.vml?new f.SVG(a):null},f.Browser.vml=!f.Browser.svg&&function(){try{var a=c.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(d){return!1}}(),f.SVG.include(f.Browser.vml?{_initContainer:function(){this._container=f.DomUtil.create("div","leaflet-vml-container"),this._paths={},this._initEvents()},_update:function(){this._map._animatingZoom||f.Renderer.prototype._update.call(this)},_initPath:function(a){var b=a._container=f.SVG.create("shape");f.DomUtil.addClass(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",a._path=f.SVG.create("path"),b.appendChild(a._path),this._updateStyle(a)},_addPath:function(a){var b=a._container;this._container.appendChild(b),this._paths[f.stamp(b)]=a},_removePath:function(a){var b=a._container;f.DomUtil.remove(b),delete this._paths[f.stamp(b)]},_updateStyle:function(a){var b=a._stroke,c=a._fill,d=a.options,e=a._container;e.stroked=!!d.stroke,e.filled=!!d.fill,d.stroke?(b||(b=a._stroke=f.SVG.create("stroke"),e.appendChild(b)),b.weight=d.weight+"px",b.color=d.color,b.opacity=d.opacity,b.dashStyle=d.dashArray?f.Util.isArray(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):"",b.endcap=d.lineCap.replace("butt","flat"),b.joinstyle=d.lineJoin):b&&(e.removeChild(b),a._stroke=null),d.fill?(c||(c=a._fill=f.SVG.create("fill"),e.appendChild(c)),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(e.removeChild(c),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){f.DomUtil.toFront(a._container)},_bringToBack:function(a){f.DomUtil.toBack(a._container)}}:{}),f.Browser.vml&&(f.SVG.create=function(){try{return c.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return c.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),f.Canvas=f.Renderer.extend({onAdd:function(){f.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var a=this._container=c.createElement("canvas");f.DomEvent.on(a,"mousemove",this._onMouseMove,this).on(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),this._ctx=a.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){f.Renderer.prototype._update.call(this);var a=this._bounds,b=this._container,c=a.getSize(),d=f.Browser.retina?2:1;f.DomUtil.setPosition(b,a.min),b.width=d*c.x,b.height=d*c.y,b.style.width=c.x+"px",b.style.height=c.y+"px",f.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y)}},_initPath:function(a){this._layers[f.stamp(a)]=a},_addPath:f.Util.falseFn,_removePath:function(a){a._removed=!0,this._requestRedraw(a)},_updatePath:function(a){this._redrawBounds=a._pxBounds,this._draw(!0),a._project(),a._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(a){this._requestRedraw(a)},_requestRedraw:function(a){this._map&&(this._redrawBounds=this._redrawBounds||new f.Bounds,this._redrawBounds.extend(a._pxBounds.min).extend(a._pxBounds.max),this._redrawRequest=this._redrawRequest||f.Util.requestAnimFrame(this._redraw,this))},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(a){this._clear=a;var b;for(var c in this._layers)b=this._layers[c],(!this._redrawBounds||b._pxBounds.intersects(this._redrawBounds))&&b._updatePath(),a&&b._removed&&(delete b._removed,delete this._layers[c])},_updatePoly:function(a,b){var c,d,e,f,g=a._parts,h=g.length,i=this._ctx;if(h){for(i.beginPath(),c=0;h>c;c++){for(d=0,e=g[c].length;e>d;d++)f=g[c][d],i[d?"lineTo":"moveTo"](f.x,f.y);b&&i.closePath()}this._fillStroke(i,a)}},_updateCircle:function(a){if(!a._empty()){var b=a._point,c=this._ctx,d=a._radius,e=(a._radiusY||d)/d;1!==e&&(c.save(),c.scale(1,e)),c.beginPath(),c.arc(b.x,b.y/e,d,0,2*Math.PI,!1),1!==e&&c.restore(),this._fillStroke(c,a)}},_fillStroke:function(a,b){var c=this._clear,d=b.options;a.globalCompositeOperation=c?"destination-out":"source-over",d.fill&&(a.globalAlpha=c?1:d.fillOpacity,a.fillStyle=d.fillColor||d.color,a.fill(d.fillRule||"evenodd")),d.stroke&&(a.globalAlpha=c?1:d.opacity,b._prevWeight=a.lineWidth=c?b._prevWeight+1:d.weight,a.strokeStyle=d.color,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.stroke())},_onClick:function(a){var b=this._map.mouseEventToLayerPoint(a);for(var c in this._layers)this._layers[c]._containsPoint(b)&&this._layers[c]._fireMouseEvent(a)},_onMouseMove:function(a){if(this._map&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a);for(var c in this._layers)this._handleHover(this._layers[c],a,b)}},_handleHover:function(a,b,c){a.options.interactive&&(a._containsPoint(c)?(a._mouseInside||(f.DomUtil.addClass(this._container,"leaflet-interactive"),a._fireMouseEvent(b,"mouseover"),a._mouseInside=!0),a._fireMouseEvent(b)):a._mouseInside&&(f.DomUtil.removeClass(this._container,"leaflet-interactive"),a._fireMouseEvent(b,"mouseout"),a._mouseInside=!1))},_bringToFront:f.Util.falseFn,_bringToBack:f.Util.falseFn}),f.Browser.canvas=function(){return!!c.createElement("canvas").getContext}(),f.canvas=function(a){return f.Browser.canvas?new f.Canvas(a):null},f.Polyline.prototype._containsPoint=function(a,b){var c,d,e,g,h,i,j=this._clickTolerance();if(!this._pxBounds.contains(a))return!1;for(c=0,g=this._parts.length;g>c;c++)for(i=this._parts[c],d=0,h=i.length,e=h-1;h>d;e=d++)if((b||0!==d)&&f.LineUtil.pointToSegmentDistance(a,i[e],i[d])<=j)return!0;return!1},f.Polygon.prototype._containsPoint=function(a){var b,c,d,e,g,h,i,j,k=!1;if(!this._pxBounds.contains(a))return!1;for(e=0,i=this._parts.length;i>e;e++)for(b=this._parts[e],g=0,j=b.length,h=j-1;j>g;h=g++)c=b[g],d=b[h],c.y>a.y!=d.y>a.y&&a.x<(d.x-c.x)*(a.y-c.y)/(d.y-c.y)+c.x&&(k=!k);return k||f.Polyline.prototype._containsPoint.call(this,a,!0)},f.CircleMarker.prototype._containsPoint=function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()},f.GeoJSON=f.FeatureGroup.extend({initialize:function(a,b){f.setOptions(this,b),this._layers={},a&&this.addData(a)},addData:function(a){var b,c,d,e=f.Util.isArray(a)?a:a.features;if(e){for(b=0,c=e.length;c>b;b++)d=e[b],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var g=this.options;if(!g.filter||g.filter(a)){var h=f.GeoJSON.geometryToLayer(a,g);return h.feature=f.GeoJSON.asFeature(a),h.defaultOptions=h.options,this.resetStyle(h),g.onEachFeature&&g.onEachFeature(a,h),this.addLayer(h)}},resetStyle:function(a){return a.options=a.defaultOptions,this._setLayerStyle(a,this.options.style),this},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature)),a.setStyle&&a.setStyle(b)}}),f.extend(f.GeoJSON,{geometryToLayer:function(a,b){var c,d,e,g,h="Feature"===a.type?a.geometry:a,i=h.coordinates,j=[],k=b&&b.pointToLayer,l=b&&b.coordsToLatLng||this.coordsToLatLng;switch(h.type){case"Point":return c=l(i),k?k(a,c):new f.Marker(c);case"MultiPoint":for(e=0,g=i.length;g>e;e++)c=l(i[e]),j.push(k?k(a,c):new f.Marker(c));return new f.FeatureGroup(j);case"LineString":case"MultiLineString":return d=this.coordsToLatLngs(i,"LineString"===h.type?0:1,l),new f.Polyline(d,b);case"Polygon":case"MultiPolygon":return d=this.coordsToLatLngs(i,"Polygon"===h.type?1:2,l),new f.Polygon(d,b);case"GeometryCollection":for(e=0,g=h.geometries.length;g>e;e++)j.push(this.geometryToLayer({geometry:h.geometries[e],type:"Feature",properties:a.properties},b));return new f.FeatureGroup(j);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new f.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,c){for(var d,e=[],f=0,g=a.length;g>f;f++)d=b?this.coordsToLatLngs(a[f],b-1,c):(c||this.coordsToLatLng)(a[f]),e.push(d);return e},latLngToCoords:function(a){return a.alt!==d?[a.lng,a.lat,a.alt]:[a.lng,a.lat]},latLngsToCoords:function(a,b,c){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b?f.GeoJSON.latLngsToCoords(a[e],b-1,c):f.GeoJSON.latLngToCoords(a[e]));return!b&&c&&d.push(d[0]),d},getFeature:function(a,b){return a.feature?f.extend({},a.feature,{geometry:b}):f.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var h={toGeoJSON:function(){return f.GeoJSON.getFeature(this,{type:"Point",coordinates:f.GeoJSON.latLngToCoords(this.getLatLng())})}};f.Marker.include(h),f.Circle.include(h),f.CircleMarker.include(h),f.Polyline.prototype.toGeoJSON=function(){var a=!this._flat(this._latlngs),b=f.GeoJSON.latLngsToCoords(this._latlngs,a?1:0);return f.GeoJSON.getFeature(this,{type:(a?"Multi":"")+"LineString",coordinates:b})},f.Polygon.prototype.toGeoJSON=function(){var a=!this._flat(this._latlngs),b=a&&!this._flat(this._latlngs[0]),c=f.GeoJSON.latLngsToCoords(this._latlngs,b?2:a?1:0,!0);return a||(c=[c]),f.GeoJSON.getFeature(this,{type:(b?"Multi":"")+"Polygon",coordinates:c})},f.LayerGroup.include({toMultiPoint:function(){var a=[];return this.eachLayer(function(b){a.push(b.toGeoJSON().geometry.coordinates)}),f.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===a)return this.toMultiPoint();var b="GeometryCollection"===a,c=[];return this.eachLayer(function(a){if(a.toGeoJSON){var d=a.toGeoJSON();c.push(b?d.geometry:f.GeoJSON.asFeature(d))}}),b?f.GeoJSON.getFeature(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}}),f.geoJson=function(a,b){return new f.GeoJSON(a,b)};var i="_leaflet_events";f.DomEvent={on:function(a,b,c,d){if("object"==typeof b)for(var e in b)this._on(a,e,b[e],c);else{b=f.Util.splitWords(b);for(var g=0,h=b.length;h>g;g++)this._on(a,b[g],c,d)}return this},off:function(a,b,c,d){if("object"==typeof b)for(var e in b)this._off(a,e,b[e],c);else{b=f.Util.splitWords(b);for(var g=0,h=b.length;h>g;g++)this._off(a,b[g],c,d)}return this},_on:function(b,c,d,e){var g=c+f.stamp(d)+(e?"_"+f.stamp(e):"");if(b[i]&&b[i][g])return this;var h=function(c){return d.call(e||b,c||a.event)},j=h;return f.Browser.pointer&&0===c.indexOf("touch")?this.addPointerListener(b,c,h,g):f.Browser.touch&&"dblclick"===c&&this.addDoubleTapListener?this.addDoubleTapListener(b,h,g):"addEventListener"in b?"mousewheel"===c?(b.addEventListener("DOMMouseScroll",h,!1),b.addEventListener(c,h,!1)):"mouseenter"===c||"mouseleave"===c?(h=function(c){return c=c||a.event,f.DomEvent._checkMouse(b,c)?j(c):void 0},b.addEventListener("mouseenter"===c?"mouseover":"mouseout",h,!1)):("click"===c&&f.Browser.android&&(h=function(a){return f.DomEvent._filterClick(a,j)}),b.addEventListener(c,h,!1)):"attachEvent"in b&&b.attachEvent("on"+c,h),b[i]=b[i]||{},b[i][g]=h,this},_off:function(a,b,c,d){var e=b+f.stamp(c)+(d?"_"+f.stamp(d):""),g=a[i]&&a[i][e];return g?(f.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,e):f.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,e):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",g,!1),a.removeEventListener(b,g,!1)):a.removeEventListener("mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,g,!1):"detachEvent"in a&&a.detachEvent("on"+b,g),a[i][e]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,f.DomEvent._skipped(a),this},disableScrollPropagation:function(a){return f.DomEvent.on(a,"mousewheel MozMousePixelScroll",f.DomEvent.stopPropagation)},disableClickPropagation:function(a){var b=f.DomEvent.stopPropagation;return f.DomEvent.on(a,f.Draggable.START.join(" "),b),f.DomEvent.on(a,{click:f.DomEvent._fakeStop,dblclick:b})},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return f.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new f.Point(a.clientX,a.clientY);var c=b.getBoundingClientRect();return new f.Point(a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop)},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){f.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_filterClick:function(a,b){var c=a.timeStamp||a.originalEvent.timeStamp,d=f.DomEvent._lastClick&&c-f.DomEvent._lastClick;return d&&d>100&&500>d||a.target._simulatedClick&&!a._simulated?void f.DomEvent.stop(a):(f.DomEvent._lastClick=c,b(a))}},f.DomEvent.addListener=f.DomEvent.on,f.DomEvent.removeListener=f.DomEvent.off,f.Draggable=f.Evented.extend({statics:{START:f.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a,this._dragStartTarget=b||a},enable:function(){this._enabled||(f.DomEvent.on(this._dragStartTarget,f.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(f.DomEvent.off(this._dragStartTarget,f.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._moved=!1,!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(f.DomEvent.stopPropagation(a),f.DomUtil.hasClass(this._element,"leaflet-zoom-anim")||(f.DomUtil.disableImageDrag(),f.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");
var b=a.touches?a.touches[0]:a;this._startPoint=new f.Point(b.clientX,b.clientY),this._startPos=this._newPos=f.DomUtil.getPosition(this._element),f.DomEvent.on(c,f.Draggable.MOVE[a.type],this._onMove,this).on(c,f.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&a.touches.length>1)return void(this._moved=!0);var b=a.touches&&1===a.touches.length?a.touches[0]:a,d=new f.Point(b.clientX,b.clientY),e=d.subtract(this._startPoint);(e.x||e.y)&&(f.Browser.touch&&Math.abs(e.x)+Math.abs(e.y)<3||(f.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=f.DomUtil.getPosition(this._element).subtract(e),f.DomUtil.addClass(c.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,f.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,f.Util.cancelAnimFrame(this._animRequest),this._animRequest=f.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),f.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){f.DomUtil.removeClass(c.body,"leaflet-dragging"),this._lastTarget&&(f.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in f.Draggable.MOVE)f.DomEvent.off(c,f.Draggable.MOVE[a],this._onMove,this).off(c,f.Draggable.END[a],this._onUp,this);f.DomUtil.enableImageDrag(),f.DomUtil.enableTextSelection(),this._moved&&this._moving&&(f.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),f.Handler=f.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),f.Map.mergeOptions({dragging:!0,inertia:!f.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:f.Browser.touch?32:18,easeLinearity:.2,worldCopyJump:!1}),f.Map.Drag=f.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new f.Draggable(a._mapPane,a._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDown:function(){this._map.stop()},_onDragStart:function(){var a=this._map;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(a),a-this._times[0]>100&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c,f=(d+b+c)%a-b-c,g=Math.abs(e+c)<Math.abs(f+c)?e:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(a){var b=this._map,c=b.options,d=+new Date-this._lastTime,e=!c.inertia||d>c.inertiaThreshold||!this._positions[0];if(b.fire("dragend",a),e)b.fire("moveend");else{var g=this._lastPos.subtract(this._positions[0]),h=(this._lastTime+d-this._times[0])/1e3,i=c.easeLinearity,j=g.multiplyBy(i/h),k=j.distanceTo([0,0]),l=Math.min(c.inertiaMaxSpeed,k),m=j.multiplyBy(l/k),n=l/(c.inertiaDeceleration*i),o=m.multiplyBy(-n/2).round();o.x&&o.y?(o=b._limitOffset(o,b.options.maxBounds),f.Util.requestAnimFrame(function(){b.panBy(o,{duration:n,easeLinearity:i,noMoveStart:!0,animate:!0})})):b.fire("moveend")}}}),f.Map.addInitHook("addHandler","dragging",f.Map.Drag),f.Map.mergeOptions({doubleClickZoom:!0}),f.Map.DoubleClickZoom=f.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom(),d=a.originalEvent.shiftKey?Math.ceil(c)-1:Math.floor(c)+1;"center"===b.options.doubleClickZoom?b.setZoom(d):b.setZoomAround(a.containerPoint,d)}}),f.Map.addInitHook("addHandler","doubleClickZoom",f.Map.DoubleClickZoom),f.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40}),f.Map.ScrollWheelZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,{mousewheel:this._onWheelScroll,MozMousePixelScroll:f.DomEvent.preventDefault},this),this._delta=0},removeHooks:function(){f.DomEvent.off(this._map._container,{mousewheel:this._onWheelScroll,MozMousePixelScroll:f.DomEvent.preventDefault},this)},_onWheelScroll:function(a){var b=f.DomEvent.getWheelDelta(a),c=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f.bind(this._performZoom,this),d),f.DomEvent.stop(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom();a.stop(),b=b>0?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c,this._delta=0,this._startTime=null,b&&("center"===a.options.scrollWheelZoom?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b))}}),f.Map.addInitHook("addHandler","scrollWheelZoom",f.Map.ScrollWheelZoom),f.extend(f.DomEvent,{_touchstart:f.Browser.msPointer?"MSPointerDown":f.Browser.pointer?"pointerdown":"touchstart",_touchend:f.Browser.msPointer?"MSPointerUp":f.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,b,c){function d(a){var b;if(b=f.Browser.pointer?f.DomEvent._pointersCount:a.touches.length,!(b>1)){var c=Date.now(),d=c-(g||c);h=a.touches?a.touches[0]:a,i=d>0&&j>=d,g=c}}function e(){if(i){if(f.Browser.pointer){var a,c,d={};for(c in h)a=h[c],d[c]=a&&a.bind?a.bind(h):a;h=d}h.type="dblclick",b(h),g=null}}var g,h,i=!1,j=250,k="_leaflet_",l=this._touchstart,m=this._touchend;return a[k+l+c]=d,a[k+m+c]=e,a.addEventListener(l,d,!1),a.addEventListener(m,e,!1),this},removeDoubleTapListener:function(a,b){var c="_leaflet_",d=a[c+this._touchend+b];return a.removeEventListener(this._touchstart,a[c+this._touchstart+b],!1),a.removeEventListener(this._touchend,d,!1),this}}),f.extend(f.DomEvent,{POINTER_DOWN:f.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:f.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:f.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:f.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:{},_pointersCount:0,addPointerListener:function(a,b,c,d){return"touchstart"===b?this._addPointerStart(a,c,d):"touchmove"===b?this._addPointerMove(a,c,d):"touchend"===b&&this._addPointerEnd(a,c,d),this},removePointerListener:function(a,b,c){var d=a["_leaflet_"+b+c];return"touchstart"===b?a.removeEventListener(this.POINTER_DOWN,d,!1):"touchmove"===b?a.removeEventListener(this.POINTER_MOVE,d,!1):"touchend"===b&&(a.removeEventListener(this.POINTER_UP,d,!1),a.removeEventListener(this.POINTER_CANCEL,d,!1)),this},_addPointerStart:function(a,b,d){var e=f.bind(function(a){f.DomEvent.preventDefault(a),this._handlePointer(a,b)},this);if(a["_leaflet_touchstart"+d]=e,a.addEventListener(this.POINTER_DOWN,e,!1),!this._pointerDocListener){var g=f.bind(this._globalPointerUp,this);c.documentElement.addEventListener(this.POINTER_DOWN,f.bind(this._globalPointerDown,this),!0),c.documentElement.addEventListener(this.POINTER_MOVE,f.bind(this._globalPointerMove,this),!0),c.documentElement.addEventListener(this.POINTER_UP,g,!0),c.documentElement.addEventListener(this.POINTER_CANCEL,g,!0),this._pointerDocListener=!0}},_globalPointerDown:function(a){this._pointers[a.pointerId]=a,this._pointersCount++},_globalPointerMove:function(a){this._pointers[a.pointerId]&&(this._pointers[a.pointerId]=a)},_globalPointerUp:function(a){delete this._pointers[a.pointerId],this._pointersCount--},_handlePointer:function(a,b){a.touches=[];for(var c in this._pointers)a.touches.push(this._pointers[c]);a.changedTouches=[a],b(a)},_addPointerMove:function(a,b,c){var d=f.bind(function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons)&&this._handlePointer(a,b)},this);a["_leaflet_touchmove"+c]=d,a.addEventListener(this.POINTER_MOVE,d,!1)},_addPointerEnd:function(a,b,c){var d=f.bind(function(a){this._handlePointer(a,b)},this);a["_leaflet_touchend"+c]=d,a.addEventListener(this.POINTER_UP,d,!1),a.addEventListener(this.POINTER_CANCEL,d,!1)}}),f.Map.mergeOptions({touchZoom:f.Browser.touch&&!f.Browser.android23,bounceAtZoomLimits:!0}),f.Map.TouchZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),e=b.mouseEventToLayerPoint(a.touches[1]),g=b._getCenterLayerPoint();this._startCenter=d.add(e)._divideBy(2),this._startDist=d.distanceTo(e),this._moved=!1,this._zooming=!0,this._centerOffset=g.subtract(this._startCenter),b.stop(),f.DomEvent.on(c,"touchmove",this._onTouchMove,this).on(c,"touchend",this._onTouchEnd,this),f.DomEvent.preventDefault(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var b=this._map,c=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]);if(this._scale=c.distanceTo(d)/this._startDist,this._delta=c._add(d)._divideBy(2)._subtract(this._startCenter),!b.options.bounceAtZoomLimits){var e=b.getScaleZoom(this._scale);if(e<=b.getMinZoom()&&this._scale<1||e>=b.getMaxZoom()&&this._scale>1)return}this._moved||(b.fire("movestart").fire("zoomstart"),this._moved=!0),f.Util.cancelAnimFrame(this._animRequest),this._animRequest=f.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),f.DomEvent.preventDefault(a)}},_updateOnMove:function(){var a=this._map;this._center="center"===a.options.touchZoom?a.getCenter():a.layerPointToLatLng(this._getTargetCenter()),this._zoom=a.getScaleZoom(this._scale),a._animateZoom(this._center,this._zoom)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,f.Util.cancelAnimFrame(this._animRequest),f.DomEvent.off(c,"touchmove",this._onTouchMove).off(c,"touchend",this._onTouchEnd);var a=this._map,b=a.getZoom(),d=this._zoom-b,e=a._limitZoom(d>0?Math.ceil(this._zoom):Math.floor(this._zoom));a._animateZoom(this._center,e,!0)},_getTargetCenter:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),f.Map.addInitHook("addHandler","touchZoom",f.Map.TouchZoom),f.Map.mergeOptions({tap:!0,tapTolerance:15}),f.Map.Tap=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(f.DomEvent.preventDefault(a),this._fireClick=!0,a.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var b=a.touches[0],d=b.target;this._startPos=this._newPos=new f.Point(b.clientX,b.clientY),d.tagName&&"a"===d.tagName.toLowerCase()&&f.DomUtil.addClass(d,"leaflet-active"),this._holdTimeout=setTimeout(f.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1e3),this._simulateEvent("mousedown",b),f.DomEvent.on(c,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),f.DomEvent.off(c,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&a&&a.changedTouches){var b=a.changedTouches[0],d=b.target;d&&d.tagName&&"a"===d.tagName.toLowerCase()&&f.DomUtil.removeClass(d,"leaflet-active"),this._simulateEvent("mouseup",b),this._isTapValid()&&this._simulateEvent("click",b)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var b=a.touches[0];this._newPos=new f.Point(b.clientX,b.clientY)},_simulateEvent:function(b,d){var e=c.createEvent("MouseEvents");e._simulated=!0,d.target._simulatedClick=!0,e.initMouseEvent(b,!0,!0,a,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(e)}}),f.Browser.touch&&!f.Browser.pointer&&f.Map.addInitHook("addHandler","tap",f.Map.Tap),f.Map.mergeOptions({boxZoom:!0}),f.Map.BoxZoom=f.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){f.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){f.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_onMouseDown:function(a){return!a.shiftKey||1!==a.which&&1!==a.button?!1:(this._moved=!1,f.DomUtil.disableTextSelection(),f.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(a),void f.DomEvent.on(c,{contextmenu:f.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=f.DomUtil.create("div","leaflet-zoom-box",this._container),f.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var b=new f.Bounds(this._point,this._startPoint),c=b.getSize();f.DomUtil.setPosition(this._box,b.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(f.DomUtil.remove(this._box),f.DomUtil.removeClass(this._container,"leaflet-crosshair")),f.DomUtil.enableTextSelection(),f.DomUtil.enableImageDrag(),f.DomEvent.off(c,{contextmenu:f.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(1!==a.which&&1!==a.button)return!1;if(this._finish(),this._moved){var b=new f.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),f.Map.addInitHook("addHandler","boxZoom",f.Map.BoxZoom),f.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),f.Map.Keyboard=f.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),f.DomEvent.on(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),f.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var b=c.body,d=c.documentElement,e=b.scrollTop||d.scrollTop,f=b.scrollLeft||d.scrollLeft;this._map._container.focus(),a.scrollTo(f,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(a){var b,c,d=this._panKeys={},e=this.keyCodes;for(b=0,c=e.left.length;c>b;b++)d[e.left[b]]=[-1*a,0];for(b=0,c=e.right.length;c>b;b++)d[e.right[b]]=[a,0];for(b=0,c=e.down.length;c>b;b++)d[e.down[b]]=[0,a];for(b=0,c=e.up.length;c>b;b++)d[e.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,c,d=this._zoomKeys={},e=this.keyCodes;for(b=0,c=e.zoomIn.length;c>b;b++)d[e.zoomIn[b]]=a;for(b=0,c=e.zoomOut.length;c>b;b++)d[e.zoomOut[b]]=-a},_addHooks:function(){f.DomEvent.on(c,"keydown",this._onKeyDown,this)},_removeHooks:function(){f.DomEvent.off(c,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b=a.keyCode,c=this._map;if(b in this._panKeys){if(c._panAnim&&c._panAnim._inProgress)return;c.panBy(this._panKeys[b]),c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds)}else if(b in this._zoomKeys)c.setZoom(c.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[b]);else{if(27!==b)return;c.closePopup()}f.DomEvent.stop(a)}}}),f.Map.addInitHook("addHandler","keyboard",f.Map.Keyboard),f.Handler.MarkerDrag=f.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new f.Draggable(a,a)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),f.DomUtil.addClass(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),f.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,c=f.DomUtil.getPosition(a._icon),d=a._map.layerPointToLatLng(c);b&&f.DomUtil.setPosition(b,c),a._latlng=d,a.fire("move",{latlng:d}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}}),f.Control=f.Class.extend({options:{position:"topright"},initialize:function(a){f.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition(),d=a._controlCorners[c];return f.DomUtil.addClass(b,"leaflet-control"),-1!==c.indexOf("bottom")?d.insertBefore(b,d.firstChild):d.appendChild(b),this},remove:function(){return this._map?(f.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),f.control=function(a){return new f.Control(a)},f.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function a(a,e){var g=c+a+" "+c+e;b[a+e]=f.DomUtil.create("div",g,d)}var b=this._controlCorners={},c="leaflet-",d=this._controlContainer=f.DomUtil.create("div",c+"control-container",this._container);a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){f.DomUtil.remove(this._controlContainer)}}),f.Control.Zoom=f.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b="leaflet-control-zoom",c=f.DomUtil.create("div",b+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,b+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,b+"-out",c,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,c,d,e){var g=f.DomUtil.create("a",c,d);return g.innerHTML=a,g.href="#",g.title=b,f.DomEvent.on(g,"mousedown dblclick",f.DomEvent.stopPropagation).on(g,"click",f.DomEvent.stop).on(g,"click",e,this).on(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";f.DomUtil.removeClass(this._zoomInButton,b),f.DomUtil.removeClass(this._zoomOutButton,b),a._zoom===a.getMinZoom()&&f.DomUtil.addClass(this._zoomOutButton,b),a._zoom===a.getMaxZoom()&&f.DomUtil.addClass(this._zoomInButton,b)}}),f.Map.mergeOptions({zoomControl:!0}),f.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new f.Control.Zoom,this.addControl(this.zoomControl))}),f.control.zoom=function(a){return new f.Control.Zoom(a)},f.Control.Attribution=f.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){f.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=f.DomUtil.create("div","leaflet-control-attribution"),f.DomEvent&&f.DomEvent.disableClickPropagation(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var a=[];for(var b in this._attributions)this._attributions[b]&&a.push(b);var c=[];this.options.prefix&&c.push(this.options.prefix),a.length&&c.push(a.join(", ")),this._container.innerHTML=c.join(" | ")}}}),f.Map.mergeOptions({attributionControl:!0}),f.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new f.Control.Attribution).addTo(this))}),f.control.attribution=function(a){return new f.Control.Attribution(a)},f.Control.Scale=f.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b="leaflet-control-scale",c=f.DomUtil.create("div",b),d=this.options;return this._addScales(d,b+"-line",c),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=f.DomUtil.create("div",b,c)),a.imperial&&(this._iScale=f.DomUtil.create("div",b,c))},_update:function(){var a=this._map,b=a.getSize().y/2,c=f.CRS.Earth.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(c)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var b=this._getRoundNum(a),c=1e3>b?b+" m":b/1e3+" km";this._updateScale(this._mScale,c,b/a)},_updateImperial:function(a){var b,c,d,e=3.2808399*a;e>5280?(b=e/5280,c=this._getRoundNum(b),this._updateScale(this._iScale,c+" mi",c/b)):(d=this._getRoundNum(e),this._updateScale(this._iScale,d+" ft",d/e))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px",a.innerHTML=b},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1),c=a/b;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,b*c}}),f.control.scale=function(a){return new f.Control.Scale(a)},f.Control.Layers=f.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,c){f.setOptions(this,c),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(){return this._initLayout(),this._update(),this._container},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update()},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._update()},removeLayer:function(a){return a.off("add remove",this._onLayerChange,this),delete this._layers[f.stamp(a)],this._update()},_initLayout:function(){var a="leaflet-control-layers",b=this._container=f.DomUtil.create("div",a);b.setAttribute("aria-haspopup",!0),f.Browser.touch?f.DomEvent.on(b,"click",f.DomEvent.stopPropagation):f.DomEvent.disableClickPropagation(b).disableScrollPropagation(b);var c=this._form=f.DomUtil.create("form",a+"-list");if(this.options.collapsed){f.Browser.android||f.DomEvent.on(b,{mouseenter:this._expand,mouseleave:this._collapse},this);var d=this._layersLink=f.DomUtil.create("a",a+"-toggle",b);d.href="#",d.title="Layers",f.Browser.touch?f.DomEvent.on(d,"click",f.DomEvent.stop).on(d,"click",this._expand,this):f.DomEvent.on(d,"focus",this._expand,this),f.DomEvent.on(c,"click",function(){setTimeout(f.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=f.DomUtil.create("div",a+"-base",c),this._separator=f.DomUtil.create("div",a+"-separator",c),this._overlaysList=f.DomUtil.create("div",a+"-overlays",c),b.appendChild(c)},_addLayer:function(a,b,c){a.on("add remove",this._onLayerChange,this);var d=f.stamp(a);this._layers[d]={layer:a,name:b,overlay:c},this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){f.DomUtil.empty(this._baseLayersList),f.DomUtil.empty(this._overlaysList);var a,b,c,d;for(c in this._layers)d=this._layers[c],this._addItem(d),b=b||d.overlay,a=a||!d.overlay;return this._separator.style.display=b&&a?"":"none",this}},_onLayerChange:function(a){this._handlingClick||this._update();var b=this._layers[f.stamp(a.target)].overlay,c=b?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;c&&this._map.fire(c,a.target)},_createRadioElement:function(a,b){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(b?' checked="checked"':"")+"/>",e=c.createElement("div");return e.innerHTML=d,e.firstChild},_addItem:function(a){var b,d=c.createElement("label"),e=this._map.hasLayer(a.layer);a.overlay?(b=c.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=e):b=this._createRadioElement("leaflet-base-layers",e),b.layerId=f.stamp(a.layer),f.DomEvent.on(b,"click",this._onInputClick,this);var g=c.createElement("span");g.innerHTML=" "+a.name,d.appendChild(b),d.appendChild(g);var h=a.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(d),d},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),e=[],f=[];this._handlingClick=!0;for(var g=0,h=d.length;h>g;g++)a=d[g],b=this._layers[a.layerId].layer,c=this._map.hasLayer(b),a.checked&&!c?e.push(b):!a.checked&&c&&f.push(b);for(g=0;g<f.length;g++)this._map.removeLayer(f[g]);for(g=0;g<e.length;g++)this._map.addLayer(e[g]);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){f.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){f.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded")}}),f.control.layers=function(a,b,c){return new f.Control.Layers(a,b,c)},f.PosAnimation=f.Evented.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=f.DomUtil.getPosition(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=f.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(a){var b=+new Date-this._startTime,c=1e3*this._duration;c>b?this._runFrame(this._easeOut(b/c),a):(this._runFrame(1),this._complete())},_runFrame:function(a,b){var c=this._startPos.add(this._offset.multiplyBy(a));b&&c._round(),f.DomUtil.setPosition(this._el,c),this.fire("step")},_complete:function(){f.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),f.Map.include({setView:function(a,b,c){if(b=b===d?this._zoom:this._limitZoom(b),a=this._limitCenter(f.latLng(a),b,this.options.maxBounds),c=c||{},this.stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==d&&(c.zoom=f.extend({animate:c.animate},c.zoom),c.pan=f.extend({animate:c.animate},c.pan));var e=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan);if(e)return clearTimeout(this._sizeTimer),this}return this._resetView(a,b),this},panBy:function(a,b){if(a=f.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(b.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom());if(this._panAnim||(this._panAnim=new f.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){f.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){f.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();return(b&&b.animate)===!0||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}}),f.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var j=f.DomUtil.TRANSITION&&f.Browser.any3d&&!f.Browser.mobileOpera;j&&f.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),f.DomEvent.on(this._proxy,f.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),f.Map.include(j?{_createAnimProxy:function(){var a=this._proxy=f.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(b){f.DomUtil.setTransform(a,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1))},this),this.on("load moveend",function(){var b=this.getCenter(),c=this.getZoom();f.DomUtil.setTransform(a,this.project(b,c),this.getZoomScale(c,1))},this)},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d);return c.animate===!0||this.getSize().contains(e)?(f.Util.requestAnimFrame(function(){this.fire("movestart").fire("zoomstart")._animateZoom(a,b,!0)},this),!0):!1},_animateZoom:function(a,b,c){c&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,f.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,scale:this.getZoomScale(b),origin:this.latLngToLayerPoint(a),offset:this._getCenterOffset(a).multiplyBy(-1)})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,f.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0)}}:{}),f.Map.include({flyTo:function(a,b){function c(a){var b=(r*r-q*q+(a?-1:1)*u*u*s*s)/(2*(a?r:q)*u*s);return Math.log(Math.sqrt(b*b+1)-b)}function e(a){return(Math.exp(a)-Math.exp(-a))/2}function g(a){return(Math.exp(a)+Math.exp(-a))/2}function h(a){return e(a)/g(a)}function i(a){return q*(g(v)/g(v+t*a))}function j(a){return q*(g(v)*h(v+t*a)-e(v))/u}function k(a){return 1-Math.pow(1-a,1.5)}function l(){var c=(Date.now()-w)/y,d=k(c)*x;1>=c?(this._flyToFrame=f.Util.requestAnimFrame(l,this),this._resetView(this.unproject(m.add(n.subtract(m).multiplyBy(j(d)/s)),p),this.getScaleZoom(q/i(d),p),!0,!0)):this._resetView(a,b,!0,!0)
}this.stop();var m=this.project(this.getCenter()),n=this.project(a),o=this.getSize(),p=this._zoom;b=b===d?p:b;var q=Math.max(o.x,o.y),r=q*this.getZoomScale(p,b),s=n.distanceTo(m),t=1.42,u=t*t,v=c(0),w=Date.now(),x=(c(1)-v)/t,y=1e3*x*.8;this.fire("zoomstart"),l.call(this)}}),f.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(a){if(a=this._locateOptions=f.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=f.bind(this._handleGeolocationResponse,this),c=f.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code,c=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,c=a.coords.longitude,d=new f.LatLng(b,c),e=d.toBounds(a.coords.accuracy),g=this._locateOptions;if(g.setView){var h=this.getBoundsZoom(e);this.setView(d,g.maxZoom?Math.min(h,g.maxZoom):h)}var i={latlng:d,bounds:e,timestamp:a.timestamp};for(var j in a.coords)"number"==typeof a.coords[j]&&(i[j]=a.coords[j]);this.fire("locationfound",i)}})}(window,document),L.Google=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,mapOptions:{backgroundColor:"#dddddd"}},initialize:function(a,b){L.Util.setOptions(this,b),this._ready=void 0!==google.maps.Map,this._ready||L.Google.asyncWait.push(this),this._type=a||"SATELLITE"},onAdd:function(a,b){this._map=a,this._insertAtTheBottom=b,this._initContainer(),this._initMapObject(),a.on("viewreset",this._resetCallback,this),this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this),a.on("move",this._update,this),a.on("zoomanim",this._handleZoomAnim,this),a._controlCorners.bottomright.style.marginBottom="20px",this._reset(),this._update()},onRemove:function(a){this._map._container.removeChild(this._container),this._map.off("viewreset",this._resetCallback,this),this._map.off("move",this._update,this),this._map.off("zoomanim",this._handleZoomAnim,this),a._controlCorners.bottomright.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(a){this.options.opacity=a,1>a&&L.DomUtil.setOpacity(this._container,a)},setElementSize:function(a,b){a.style.width=b.x+"px",a.style.height=b.y+"px"},_initContainer:function(){var a=this._map._container,b=a.firstChild;this._container||(this._container=L.DomUtil.create("div","leaflet-google-layer leaflet-top leaflet-left"),this._container.id="_GMapContainer_"+L.Util.stamp(this),this._container.style.zIndex="auto"),a.insertBefore(this._container,b),this.setOpacity(this.options.opacity),this.setElementSize(this._container,this._map.getSize())},_initMapObject:function(){if(this._ready){this._google_center=new google.maps.LatLng(0,0);var a=new google.maps.Map(this._container,{center:this._google_center,zoom:0,tilt:0,mapTypeId:google.maps.MapTypeId[this._type],disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.mapOptions.styles,backgroundColor:this.options.mapOptions.backgroundColor}),b=this;this._reposition=google.maps.event.addListenerOnce(a,"center_changed",function(){b.onReposition()}),this._google=a,google.maps.event.addListenerOnce(a,"idle",function(){b._checkZoomLevels()})}},_checkZoomLevels:function(){this._google.getZoom()!==this._map.getZoom()&&this._map.setZoom(this._google.getZoom())},_resetCallback:function(a){this._reset(a.hard)},_reset:function(){this._initContainer()},_update:function(a){if(this._google){this._resize();var b=a&&a.latlng?a.latlng:this._map.getCenter(),c=new google.maps.LatLng(b.lat,b.lng);this._google.setCenter(c),this._google.setZoom(this._map.getZoom()),this._checkZoomLevels()}},_resize:function(){var a=this._map.getSize();(this._container.style.width!==a.x||this._container.style.height!==a.y)&&(this.setElementSize(this._container,a),this.onReposition())},_handleZoomAnim:function(a){var b=a.center,c=new google.maps.LatLng(b.lat,b.lng);this._google.setCenter(c),this._google.setZoom(a.zoom)},onReposition:function(){this._google&&google.maps.event.trigger(this._google,"resize")}}),L.Google.asyncWait=[],L.Google.asyncInitialize=function(){var a;for(a=0;a<L.Google.asyncWait.length;a++){var b=L.Google.asyncWait[a];b._ready=!0,b._container&&(b._initMapObject(),b._update())}L.Google.asyncWait=[]}},{}],7:[function(a){function b(){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");b.type="text/javascript",b.src="http://10.0.2.58:8080/target/target-script-min.js#anonymous",a.appendChild(b)}if("undefined"==typeof noApp||!noApp){window.cur={},a("./prototypeExtensions");var c=a("./templates/templateFactory.js");window.isCordova=!1,window.version=1,window.revision="301115-0",devEnv=!1,devMode&&(preview=!1,window.weinre=b);var d=!0;window.isGoogleBot=!1;var e=a("./platform");if(window.user=e.getPlatformV2(),window.isGbHTML5=!0,user.browser.ie&&user.browser.version<10&&user.device.desktop&&(d=!1),navigator.userAgent&&navigator.userAgent.contains("facebookexternalhit")&&(d=!0),user.device.mobile||0!==appSettings.tabletEnabled||(user.device.desktop=!1,user.device.tablet=!1,user.device.mobile=!0),navigator.userAgent&&navigator.userAgent.contains("ooglebot")&&(isGoogleBot=!0),d){backofficeLang={},util=a("./util"),rules=a("./rules"),modules=a("./modules");var f=a("./router"),g=a("./fastclick");window.Leaflet=a("./leaflet"),window.Leaflet.Icon.Default.imagePath=".";var h=a("./init");if(util.setForcedUserSettings(),window.staticRender=!1,window.staticRenderNoDisplay=!1,"static"==rules.getPost("mode")&&(window.staticRender=!0,"nodisplay"==rules.getPost("staticmode")&&(window.staticRenderNoDisplay=!0)),!devMode){if(util.inIframe()&&window.location.href.contains("/apiv3/preview")){if(preview=!0,parent.language){for(lang in parent.language)break;window.backofficeLang=parent.language[lang]}}else preview=!1;location.hostname.contains(".goodbarber.com.andrea")&&(devEnv=!0)}$.expr[":"].external=function(a){var b=/^(\w+:)?\/\//,c=$(a).attr("href");return void 0!==c&&-1!==c.search(b)},$.expr[":"].internal=function(a){return void 0!==$(a).attr("href")&&!$.expr[":"].external(a)},-1!=window.location.href.toLowerCase().indexOf("gbcrawlerextensiontask=lang_crawl")&&(preview=!0),$(document).ready(function(){user.os.android&&($.event.special.swipe.verticalDistanceThreshold=75,$.event.special.swipe.horizontalDistanceThreshold=40),g(document.body),appSettings=new Backbone.NestedModel(appSettings),appSectionsModels={},_.each(appSections,function(a){"GBModuleTypeBookmark"==a.type&&(a.contentUrl="http://gbfakedomain.com/apiv3/getBookmarks/"),appSectionsModels[a.id]=new Backbone.NestedModel(a),util.data.sectionsData[a.id]={subsections:{}}},this),appSections=appSectionsModels,appSettings.set("root.targets",_.map(appSettings.get("root.targets"),function(a){return"string"==typeof a?parseInt(a):a})),appSettings.set("root.targets",_.reject(appSettings.get("root.targets"),function(a){if("undefined"==typeof appSections[a])return!0;var b=appSections[a];return _.pos(b.get("unhooked"))})),util.initDataBindings(),modules.storage.init(),modules.login.init(),modules.profile.init(),modules.linkManager.init(),modules.push.init(),util.loadPostDOMReadyLibraries(),window.moment=a("./moment"),window.lang=appSettings.get("lg"),window.dateLang=rules.getDateLang()||window.lang,moment.locale(dateLang),_.size(appSections)>0&&(h.start(),window.app=new f,Backbone.history.start()),preview&&window.parent.okPreview&&window.parent.okPreview()})}else $("body").append(c.getTemplate("oldBrowserDisclaimer")),$("body").css("background-color","#dfe7e8"),$("#yourBrowser").html("an old version of Internet Explorer (version "+user.browser.version+")"),$("#oldBrowserWrapper").show()}},{"./fastclick":4,"./init":5,"./leaflet":6,"./modules":9,"./moment":25,"./platform":30,"./prototypeExtensions":31,"./router":32,"./rules":33,"./templates/templateFactory.js":176,"./util":177}],8:[function(a,b){!function(a,b){"use strict";function c(a){for(var b in a)p.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function d(a,b){for(var c in a)if(p.call(a,c)&&a[c].test(b))return c;return null}function e(a,b){var c,d,e,f,g=n.props;if(p.call(g,a))for(c=g[a],e=c.length,d=0;e>d;++d)if(f=c[d].exec(b),null!==f)return f[1];return null}function f(a,b){var c=e(a,b);return c?g(c):0/0}function g(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)}function h(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function i(a){return o.fullPattern.test(a)||o.shortPattern.test(a.substr(0,4))}function j(a,c,e){if(a.mobile===b){var f,g,h;return(g=d(n.tablets,c))?(a.mobile=a.tablet=g,void(a.phone=null)):(f=d(n.phones,c))?(a.mobile=a.phone=f,void(a.tablet=null)):void(i(c)?(h=l.isPhoneSized(e),h===b?a.mobile=a.tablet=a.phone=s:h?(a.mobile=a.phone=q,a.tablet=null):(a.mobile=a.tablet=r,a.phone=null)):a.mobile=a.tablet=a.phone=null)}}function k(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2?"C":"C"}function l(a,b){this.ua=a||"",this._cache={},this.maxPhoneWidth=b||650}var m,n={phones:{iPhone:"\\biPhone.*Mobile|\\biPod",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925",Samsung:"Samsung|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|10)|^.*Android.*Nexus(?:(?!Mobile).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-I9205|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705C|SM-T535",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;",HPTablet:"HP Slate 7|HP ElitePad 900|hp-tablet|EliteBook.*Touch",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|TX201LA",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810)\\b|W3-810|\\bA3-A10\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V900|LG-V500|LG-V909\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD",LenovoTablet:"IdeaTab|S2110|S6000|K3011|A3000|A1000|A2107|A2109|A1107|ThinkPad([ ]+)?Tablet",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|ARCHOS 101G10",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"bq.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|ViewPad7|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bOS\\b [VER] ",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Bot:"Googlebot|DoCoMo|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|facebookexternalhit",MobileBot:"Googlebot-Mobile|DoCoMo|YahooSeeker/M1A1-R2D2",Console:"\\b(Nintendo|Nintendo WiiU|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},o={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i},p=Object.prototype.hasOwnProperty,q="UnknownPhone",r="UnknownTablet",s="UnknownMobile";
m="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,d,e,f,g;for(a in n.props)if(p.call(n.props,a)){for(b=n.props[a],m(b)||(b=[b]),f=b.length,e=0;f>e;++e)d=b[e],g=d.indexOf("[VER]"),g>=0&&(d=d.substring(0,g)+"([\\w._\\+]+)"+d.substring(g+5)),b[e]=new RegExp(d,"i");n.props[a]=b}c(n.oss),c(n.phones),c(n.tablets),c(n.uas),c(n.utils)}(),l.prototype={constructor:l,mobile:function(){return j(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return j(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return j(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=d(n.uas,this.ua)),this._cache.userAgent},os:function(){return this._cache.os===b&&(this._cache.os=d(n.oss,this.ua)),this._cache.os},version:function(a){return f(a,this.ua)},versionStr:function(a){return e(a,this.ua)},is:function(a){return h(a,this.userAgent())||h(a,this.os())||h(a,this.phone())||h(a,this.tablet())||h(a,d(n.utils,this.ua))},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return l.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===b&&(this._cache.grade=k(this)),this._cache.grade}},a(l)}(function(a,c){if("undefined"!=typeof b&&b.exports)a.isPhoneSized=function(a){if(0>a)return c;var b=window.screen.width,d=window.devicePixelRatio||1,e=b/d;return a>=e},b.exports=a;else{if("undefined"==typeof window)throw new Error("unknown environment");a.isPhoneSized=function(a){if(0>a)return c;var b=window.screen.width,d=window.devicePixelRatio||1,e=b/d;return a>=e},window.MobileDetect=a}})},{}],9:[function(a,b){b.exports={form:a("./modules/form"),popup:a("./modules/popup"),login:a("./modules/login"),storage:a("./modules/storage"),ads:a("./modules/ads"),profile:a("./modules/profile"),validation:a("./modules/validation"),api:a("./modules/api"),plugin:a("./modules/plugin"),linkManager:a("./modules/linkManager"),style:a("./modules/style"),qrScanner:a("./modules/qrScanner"),push:a("./modules/push"),chat:a("./modules/chat"),encrypt:a("./modules/encrypt")}},{"./modules/ads":10,"./modules/api":11,"./modules/chat":12,"./modules/encrypt":13,"./modules/form":14,"./modules/linkManager":15,"./modules/login":16,"./modules/plugin":17,"./modules/popup":18,"./modules/profile":19,"./modules/push":20,"./modules/qrScanner":21,"./modules/storage":22,"./modules/style":23,"./modules/validation":24}],10:[function(a,b){var c=(a("../contentLoader"),a("../templates/templateFactory")),d="";("localhost"==window.location.hostname||-1!=window.location.hostname.indexOf(".goodbarber.com.jeff"))&&(d=""),b.exports={data:{},initData:function(){this.data={bannerManagerIsReady:!1,strategies:[],sentRequests:0,answeredRequests:0,startTime:0,banners:{},splashes:{},internalAPICalled:!1,splashHashBeenShown:!1,firstBannerShownService:!1,failedBannerStrategiesForCurrentPage:[],bannerFailCounterPerStrategy:{},splashTimeoutMaxDelay:2e3,splashTimeoutID:null,timeToShowAd:800,bannersRefreshDelay:3e4,platformPrefix:user.device.mobile?"":"tablet-",platformSuffix:"?platform=html5",supportedServices:["internal","swelen","dfp","mobfox","mobpartner"]}},init:function(){if(this.initData(),this.data.strategies=appSettings.get("ads.strategy"),!(window.preview||window.isGoogleBot||window.staticRender||util.empty(this.data.strategies))){var a=_.map(this.data.supportedServices,function(a){return this.data.platformPrefix+a},this);this.data.strategies=_.filter(this.data.strategies,function(b){return-1!=a.indexOf(b.type)},this),setTimeout(function(){modules.ads.loadAds()},100)}},getAdRequestSize:function(a,b){var c={width:$(window).width(),height:$(window).height()};return window.devicePixelRatio&&(c.width*=devicePixelRatio,c.height*=devicePixelRatio),"banner"==a?user.device.mobile?(c.height=100,("ipad-mobparner"==b||"mobpartner"==b)&&(c.height=50),c.width=320):(c.height=90,c.width=728):(user.device.mobile&&(c.width=320,c.height=480),user.device.mobile||(c.height=1024,c.width=768)),c},loadAds:function(){var a=this.data.platformPrefix;this.data.startTime=new Date,this.data.splashTimeoutID=setTimeout(function(){!modules.ads.data.splashHashBeenShown&&modules.ads.data.answeredRequests>0&&modules.ads.getAndShowSplash()},this.data.splashTimeoutMaxDelay),_.each(this.data.strategies,function(b){function c(){var a=modules.ads;if(a.data.swelenIsLoaded&&a.data.locationRequestFinished){var c=util.MAP.userLL,d={test:!1,desktop:!0,mobile:!0};c&&c.lat&&c.lng&&(d.lat=c.lat,d.lng=c.lng),util.empty(b.splashscreenSlotId)||(modules.ads.data.splashes[b.splashscreenSlotId]||(modules.ads.data.splashes[b.splashscreenSlotId]=[]),modules.ads.data.splashes[b.splashscreenSlotId].push({adService:"swelen",showHandler:function(a){$("#adSplashBackgroundContainer").append('<div id="swelenSplashAd" data-ad-service="swelen" style="display:none;"></div>'),_$welen.showAds.init(d),_$welen.showAds.getFixedSlot({slotUID:b.splashscreenSlotId,targetID:"swelenSplashAd"}),setTimeout(function(){a()},modules.ads.data.timeToShowAd)}})),util.empty(b.listSlotId)||(modules.ads.data.banners[b.listSlotId]||(modules.ads.data.banners[b.listSlotId]=[]),modules.ads.data.banners[b.listSlotId].push({adService:"swelen",showHandler:function(a){$("#adBannerBackgroundContainer").append('<div id="swelenBannerAd" data-ad-service="swelen" style="display:none;"></div>'),_$welen.showAds.init(d),_$welen.showAds.getFixedSlot({slotUID:b.listSlotId,targetID:"swelenBannerAd"}),setTimeout(function(){a()},modules.ads.data.timeToShowAd)}})),modules.ads.gotResponse()}}function c(){var a=modules.ads;if(a.data.mobpartnerBannerChecked&&a.data.mobpartnerSplashChecked){var c=modules.ads.data.mobpartnerSplash;c&&(modules.ads.data.splashes[b.poolId]||(modules.ads.data.splashes[b.poolId]=[]),_.each(c,function(a){modules.ads.data.splashes[b.poolId].push({adService:"mobpartner",showHandler:function(b){$("#adSplashBackgroundContainer").append('<a href="'+a.click+'"><div id="mobpartnerSplashAd" style="background-image:url('+a.interstitial+')" data-ad-service="mobpartner"/></div></a>'),b()}})}));var d=modules.ads.data.mobpartnerBanner;d&&(modules.ads.data.banners[b.poolId]||(modules.ads.data.banners[b.poolId]=[]),_.each(d,function(a){modules.ads.data.banners[b.poolId].push({adService:"mobpartner",showHandler:function(b){$("#adBannerBackgroundContainer").append('<a href="'+a.click+'"><div id="mobpartnerBannerAd" style="background-image:url('+a.banner+')" data-ad-service="mobpartner"/></div></a>'),b()}})})),modules.ads.gotResponse()}}if(b.type==a+"internal"){if(modules.ads.data.internalAPICalled)return;modules.ads.data.internalAPICalled=!0,modules.ads.data.sentRequests++,$.getJSON(util.adaptUrl(util.getCurrentBaseUrl()+d+"/apiv3/getAdSettings"+modules.ads.data.platformSuffix)).done(function(a){if(a&&a.campains){var b="imageUrl";_.each(a.campains,function(a,c){if(a.splash){user.device.mobile||(b="landscape"==orient?"imageUrlLandscape":"imageUrlPortrait"),modules.ads.data.splashes[c]=[];var d,e;_.each(a.splash,function(a){if(a[b]){"intern"==a.linkType?(d=util.getLocationFromUrl(a.internalUrl),d&&(d=d.hash),e="internal"):"extern"==a.linkType?(d=a.linkUrl,e="external"):(d="",e="nolink");var f,g;user.device.mobile||(f=a.imageUrlLandscape,g=a.imageUrlPortrait),modules.ads.data.splashes[c].push({adService:"internal",imageUrl:a[b],imageUrlPortrait:g,imageUrlLandscape:f,linkUrl:d,clickNotificationUrl:a.linkUrl,linkType:e})}})}if(a.banner){modules.ads.data.banners[c]=[];var d,e;_.each(a.banner,function(a){if(a[b]){"intern"==a.linkType?(d=util.getLocationFromUrl(a.internalUrl),d&&(d=d.hash),e="internal"):"extern"==a.linkType?(d=a.linkUrl,e="external"):(d="",e="nolink");var f,g;user.device.mobile||(f=a.imageUrlLandscape,g=a.imageUrlPortrait),modules.ads.data.banners[c].push({adService:"internal",imageUrl:a[b],imageUrlPortrait:g,imageUrlLandscape:f,linkUrl:d,clickNotificationUrl:a.linkUrl,linkType:e})}})}})}}).always(function(){modules.ads.gotResponse()})}else if(b.type==a+"swelen")modules.ads.data.sentRequests++,this.loadLib("swelen",function(){modules.ads.data.swelenIsLoaded=!0,c()}),util.MAP.getUserLocation(function(){modules.ads.data.locationRequestFinished=!0,c()});else if(b.type!=a+"dfp"||util.empty(b.splashscreenPublisherId)&&util.empty(b.listPublisherId)){if(b.type==a+"mobfox"){if(modules.ads.data.sentRequests++,!util.empty(b.publisherId)){{modules.ads}modules.ads.data.splashes[b.publisherId]||(modules.ads.data.splashes[b.publisherId]=[]),modules.ads.data.splashes[b.publisherId].push({adService:"mobfox",showHandler:function(a){var c=modules.ads.getAdRequestSize("splash");$("#adSplashBackgroundContainer").append('<iframe id="mobfoxSplash" src="'+location.origin+location.pathname+"#noApp=1&mode=mobfoxIframe&type=splash&publisherId="+b.publisherId+"&maxWidth="+c.width+"&maxHeight="+c.height+'"></iframe>'),modules.ads.mobfoxSplashLoadedTimeout=setTimeout(function(){a()},1e4),modules.ads.mobfoxSplashLoaded=function(){clearTimeout(modules.ads.mobfoxSplashLoadedTimeout),a()}}}),modules.ads.data.banners[b.publisherId]||(modules.ads.data.banners[b.publisherId]=[]),modules.ads.data.banners[b.publisherId].push({adService:"mobfox",showHandler:function(a){var c=modules.ads.getAdRequestSize("banner");$("#adBannerBackgroundContainer").append('<iframe id="mobfoxBanner" src="'+location.origin+location.pathname+"#noApp=1&mode=mobfoxIframe&type=banner&publisherId="+b.publisherId+"&maxWidth="+c.width+"&maxHeight="+c.height+'"></iframe>'),modules.ads.mobfoxBannerLoaded=a}}),modules.ads.gotResponse()}}else if(b.type==a+"mobpartner"){modules.ads.data.sentRequests++;var e=modules.ads.getAdRequestSize("splash",b.type),f=modules.ads.getAdRequestSize("banner",b.type);setTimeout(function(){$.getJSON("http://api.mobpartner.mobi/?pool="+b.poolId+"&disp_interstitial=1&size="+e.width+"x"+e.height+"&output_nb=10&output=json").always(function(a,b){"success"==b&&a&&a.promotion&&a.promotion.length&&(modules.ads.data.mobpartnerSplash=a.promotion),modules.ads.data.mobpartnerSplashChecked=!0,c()})},500),setTimeout(function(){$.getJSON("http://api.mobpartner.mobi/?pool="+b.poolId+"&disp_banner=1&size="+f.width+"x"+f.height+"&output_nb=10&output=json").always(function(a,b){"success"==b&&a&&a.promotion&&a.promotion.length&&(modules.ads.data.mobpartnerBanner=a.promotion),modules.ads.data.mobpartnerBannerChecked=!0,c()})},1500)}}else modules.ads.data.sentRequests++,this.loadLib("dfp",function(){if(!util.empty(b.splashscreenPublisherId)){var a=modules.ads.getAdRequestSize("splash");a=[a.width,a.height],googletag.cmd.push(function(){var c=googletag.defineSlot(b.splashscreenPublisherId,a,"splashAd");c.addService(googletag.pubads()),googletag.enableServices()}),modules.ads.data.splashes[b.splashscreenPublisherId]||(modules.ads.data.splashes[b.splashscreenPublisherId]=[]),modules.ads.data.splashes[b.splashscreenPublisherId].push({adService:"dfp",showHandler:function(a){$("#adSplashBackgroundContainer").append('<div id="splashAd" class="dfpContainer" data-ad-service="dfp" style="display:none;"></div>'),googletag.cmd.push(function(){googletag.display("splashAd"),setTimeout(function(){a()},modules.ads.data.timeToShowAd)})}})}if(!util.empty(b.listPublisherId)){var a=modules.ads.getAdRequestSize("banner");a=[a.width,a.height],googletag.cmd.push(function(){var c=googletag.defineSlot(b.listPublisherId,a,"DFPbannerAd");c.addService(googletag.pubads()),googletag.enableServices()}),modules.ads.data.banners[b.listPublisherId]||(modules.ads.data.banners[b.listPublisherId]=[]),modules.ads.data.banners[b.listPublisherId].push({adService:"dfp",showHandler:function(a){$("#adBannerBackgroundContainer").append('<div id="DFPbannerAd" data-ad-service="dfp" style="display:none;"></div>'),googletag.cmd.push(function(){googletag.display("DFPbannerAd"),"dfp"==modules.ads.data.firstBannerShownService&&googletag.pubads().refresh(),setTimeout(function(){a()},modules.ads.data.timeToShowAd)})}})}modules.ads.gotResponse()})},this)},gotResponse:function(){this.data.answeredRequests++,this.data.splashHashBeenShown||(this.data.answeredRequests==this.data.sentRequests||new Date>this.data.startTime+this.data.splashTimeoutMaxDelay)&&(this.setBannerManagerToReady(),clearTimeout(this.data.splashTimeoutID),this.getAndShowSplash())},getAndShowSplash:function(){if(!this.data.splashHashBeenShown&&!this.data.tryingToShowSplash){var a=modules.ads.extractSplash();a?(this.data.tryingToShowSplash=!0,modules.ads.showSplash(a,function(a){a||(modules.ads.data.tryingToShowSplash=!1,modules.ads.getAndShowSplash())})):$("#adSplash").remove()}},extractSplash:function(){var a,b;return _.each(this.data.strategies,function(c){b||(a=this.getStrategyId(c,"splash"),a&&this.data.splashes[a]&&this.data.splashes[a].length&&(b=this.data.splashes[a].length>1?this.data.splashes[a].splice(Math.randomInt(0,this.data.splashes[a].length-1),1):this.data.splashes[a].splice(0,1),b.length&&(b=b[0]),this.data.splashes[a].length||delete this.data.splashes[a]))},this),b},showSplash:function(a,b){var d=this;viewFactory.currentView.registerPostDOMInsertCallback(function(){function e(){d.checkIfAdIsLoaded("splash",a,function(c){c?(modules.ads.postShow("splash",a),d.data.splashHashBeenShown=!0,b(!0)):b(!1)})}if(!d.data.splashHashBeenShown){$("#adSplash").length&&$("#adSplash").remove();var f=c.getTemplate("adSplash")(a);$("#root").append(f),$("#adSplashCloseButton").on("click",function(a){a.stopPropagation(),modules.ads.data.splashHashBeenShown=!0,$("#adSplash").remove()});var g=devMode?5e4:5e3;setTimeout(function(){modules.ads.data.splashHashBeenShown=!0,$("#adSplash").remove()},g),a.showHandler?a.showHandler(e):e()}})},checkIfAdIsLoaded:function(a,b,c){if("splash"==a){if("internal"==b.adService||"mobpartner"==b.adService)return void c(!0);if("dfp"==b.adService){var d=$("#splashAd");if(d&&d.length&&"dfp"==d.data("ad-service")&&d.is(":visible"))return void c(!0)}else{if("swelen"==b.adService)return void setTimeout(function(){c($("#adSplash .swelenCreativeContainer").length?!0:!1)},500);if("mobfox"==b.adService){var e=$("#mobfoxSplash").contents();if(e&&e.find("#global_ad_id1 img").length)return void c(!0)}}}else if("banner"==a){if("internal"==b.adService||"mobpartner"==b.adService)return void c(!0);if("dfp"==b.adService){var d=$("#DFPbannerAd");if(d&&d.length&&"dfp"==d.data("ad-service")&&d.is(":visible"))return void c(!0)}else{if("swelen"==b.adService)return void setTimeout(function(){c($("#adBanner .swelenCreativeContainer").length?!0:!1)},500);if("mobfox"==b.adService){var e=$("#mobfoxBanner").contents();if(e&&e.find("#global_ad_id1 img").length)return void c(!0)}}}c(!1)},loadLib:function(a,b){if("dfp"==a){if($("#googleAdsLib").length)return void b(!0);window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],function(){var a=document.createElement("script");a.id="googleAdsLib",a.onload=b,a.async=!0,a.type="text/javascript";var c="https:"==document.location.protocol;a.src=(c?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}()}else if("swelen"==a){if($("#swelenLib").length)return void b(!0);var c=document.createElement("script");c.id="swelenLib",c.onload=b,c.async=!0,c.src="http://cdn.swelen.com/showAds.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}else if("mobfox"==a){if($("#mobfoxLib").length)return void b(!0);var e=document.createElement("script");e.id="mobfoxLib",e.onload=b,e.async=!0,e.src="http://my.mobfox.com/ad.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(e,d)}},setBannerManagerToReady:function(){this.data.bannerManagerIsReady=!0,this.data.bannerRequestLocation&&this.data.bannerRequestLocation==location.href&&this.getAndShowBanner()},getBanner:function(){var a,b,c=!1;return _.each(this.data.strategies,function(d){c||(a=this.getStrategyId(d,"banner"),a&&-1==this.data.failedBannerStrategiesForCurrentPage.indexOf(a)&&this.data.banners[a]&&this.data.banners[a].length&&(b=this.data.banners[a].length>1?this.data.banners[a][Math.randomInt(0,this.data.banners[a].length-1)]:this.data.banners[a][0],b&&(c=!0)))},this),b&&(b.strategyID=a),b},getAndShowBanner:function(){function a(c){function e(){modules.ads.checkIfAdIsLoaded("banner",f,function(b){b?(modules.ads.postShow("banner",f),modules.ads.displayBannerContainer(g),modules.ads.data.firstBannerShownService=f.adService,modules.ads.planBannerRefresh(window.location.href)):a(f.strategyID)})}c&&(modules.ads.data.failedBannerStrategiesForCurrentPage.push(c),modules.ads.data.bannerFailCounterPerStrategy[c]=modules.ads.data.bannerFailCounterPerStrategy[c]?modules.ads.data.bannerFailCounterPerStrategy[c]+1:1,modules.ads.data.bannerFailCounterPerStrategy[c]>2&&delete modules.ads.data.banners[c]);var f=modules.ads.getBanner();if(f){f.displayMode=b;var g=!1;$("#adBanner").length?modules.ads.reInjectBannerContainer(d,f):(g=!0,modules.ads.reInjectBannerContainer(d,f)),f.showHandler?f.showHandler(e):e()}else modules.ads.data.noBannersAvailable=!0}if(this.data.failedBannerStrategiesForCurrentPage=[],!this.data.noBannersAvailable){var b=this.getBannerDisplayModeForCurrentView();if("noDisplay"!=b)if(this.data.bannerManagerIsReady){var d=c.getTemplate("adBanner");a()}else this.data.bannerRequestLocation=location.href}},reInjectBannerContainer:function(a,b){function c(){var a=parseInt($("#adBannerBackgroundContainer").css("top")),b=Math.max($(window).scrollTop(),0);a=b>=44?0:44-b,$("#adBannerBackgroundContainer").css("top",a)}$("#adBanner").remove(),$("section.main").append(a(b)),$("#root").addClass("withAdBanner").addClass("adBanner"+b.displayMode);var d=rules.getSelectedSection();d&&"displayOnTop"==b.displayMode&&rules.isHideEffect(d)&&($(window).on("scroll.removable",function(){c()}),c())},displayBannerContainer:function(a){a?(setTimeout(function(){$("#adBannerBackgroundContainer").addClass("shown")},50),setTimeout(function(){$("#adBannerBackgroundContainer").css("transition","none")},1e3)):($("#adBannerBackgroundContainer").css("transition","none"),$("#adBannerBackgroundContainer").addClass("shown"))},getBannerDisplayModeForCurrentView:function(){var a=modules.login.checkAccessOnCurrentView();if(!a.status)return"noDisplay";var b=rules.getSelectedSection();if(!b)return"noDisplay";var c=!user.device.mobile,d=rules.getSectionTemplate(b),e=rules.getSectionDetailTemplate(b);return isSectionShown=rules.isSectionShown(),isItemShown=rules.isItemCall(!0),_.pos(b.get("adsDisabled"))||!isSectionShown&&!isItemShown||d.contains("GBNodeList")||d.contains("GBContactList")||d.contains("GBAboutList")||d.contains("GBMapsList")||d.contains("GBMapListTemplateTypeClassic")||d.contains("GBSettingsListTemplateTypeClassic")||d.contains("GBPluginTemplateTypeClassic")||d.contains("GBCustomTemplateTypeClassic")||d.contains("GBModuleTypeCustomScratch")||d.contains("GBSubmitListTemplateTypeClassic")||isItemShown&&"GBSoundListTemplateTypeClassic"==d||rules.isOtherMenuShown()||d.contains("GBChatList")?"noDisplay":rules.isMinimalSection(b)&&isSectionShown||isItemShown&&rules.isTwitterSection(b)||isItemShown&&"GBPhotoDetailTemplate"==e||!c&&isItemShown&&"GBEventsListTemplateTypeExpandable"==d||isItemShown&&"GBSoundDetailTemplateTypeSoundCloud"==e||isItemShown&&"GBSoundListTemplateTypeClassic"==d||"GBLiveListTemplateTypeClassic"==d||"GBLiveListTemplateTypePlus"==d?"displayOnTop":"displayOnBottom"},postShow:function(a,b){if("splash"==a){if("dfp"==b.adService)$("#splashAd").css("opacity","1"),$("#splashAd").css("margin-top","-"+$("#splashAd").height()/2+"px"),$("#splashAd").css("margin-left","-"+$("#splashAd").width()/2+"px");else if("swelen"==b.adService)$("#swelenSplashAd").css("opacity","1"),$("#swelenSplashAd").css("margin-top",$(window).height()/2-$("#swelenSplashAd").height()/2);else if("mobfox"==b.adService){$("#mobfoxSplash").css("opacity","1");var c=$("#mobfoxSplash").contents().find("#global_ad_id1 img");c.length&&(c.parent().attr("target","_blank"),c.css({position:"fixed",top:"50%",left:"50%","margin-top":"-"+c.height()/2+"px","margin-left":"-"+c.width()/2+"px"}))}"internal"==b.adService&&$("#adSplash").off("click").on("click",function(a){if(a.preventDefault(),"nolink"!=b.linkType){var c=$(this).data("href");return $(this).remove(),$(this).hasClass("adInternalLink")?(location.href=c,$.get($(this).data("click-notification-url"))):window.open(c,"_blank"),!1}})}else if("banner"==a)if("internal"==b.adService)$("#adBanner").off("click").on("click",function(a){if(a.preventDefault(),"nolink"!=b.linkType){var c=$(this).data("href");return $(this).remove(),$(this).hasClass("adInternalLink")?(location.href=c,$.get($(this).data("click-notification-url"))):window.open(c,"_blank"),!1}});else if("swelen"==b.adService)$("#swelenBannerAd").css({position:"absolute",width:"100%",top:" 50%","margin-top":"-25px"});else if("mobfox"==b.adService){$("#mobfoxBanner").css("display","block");var d=$("#mobfoxBanner").contents().find("a");d.length&&d.attr("target","_blank")}},getDFPSizeMapping:function(a){var b=googletag.sizeMapping();return"splash"==a?(user.device.mobile&&user.os.ios?b.addSize([414,628],[1242,2208]).addSize([375,559],[750,1334]).addSize([320,460],[640,1136]).addSize([320,372],[640,960]):user.device.tablet&&user.os.ios?b.addSize([960,600],[1024,768]):window.devicePixelRatio?b.addSize([$(window).width(),$(window).height()],[$(window).width()*devicePixelRatio,$(window).height()*devicePixelRatio]):b.addSize([$(window).width(),$(window).height()],[$(window).width(),$(window).height()]),b.addSize([0,0],[300,250])):user.device.mobile?b.addSize([0,0],[320,100]):b.addSize([0,0],[768,90]),b.build()},getStrategyId:function(a,b){return"splash"==b?a.idCamp||a.splashscreenPublisherId||a.splashscreenSlotId||a.publisherId||a.poolId:a.idCamp||a.listPublisherId||a.listSlotId||a.publisherId||a.poolId},getInternalAdStretchMode:function(){return _.pos(appSettings.get("adBannersStretch"))?"scaleToFit":"scaleToFill"},planBannerRefresh:function(a){setTimeout(function(){window.location.href==a&&modules.ads.getAndShowBanner()},this.data.bannersRefreshDelay)}}},{"../contentLoader":2,"../templates/templateFactory":176}],11:[function(a,b){b.exports={dataCache:{},chatapi:{cache:{},cacheInvalidationDelay:1e4,baseApiUrl:"http://chat.good-api.net/",token:null,hitsWithToken:0,gotAuthTokenCallbacks:[],fakeData:function(){var a=moment().hour(10).minute(50),b=moment().hour(10).minute(10),c=moment().subtract(9,"days"),d=moment().subtract(1,"days").hour(14).minute(7),e=moment().subtract(1,"days").hour(17).minute(43),f=moment().subtract(9,"days");return{openChatList:{blacklist:["3"],items:[{1:{"last-readed":{123456789:5},itemId:1,other_user:"1",last_message:{id:6,message:appLang.GB_TXT_CHAT_FAKE_7||"Carrément!",date:a.toJSON(),from:"1"}}},{2:{"last-readed":{123456789:6},itemId:2,other_user:"2",last_message:{id:6,from:"2",date:b.toJSON(),message:appLang.GB_TXT_CHAT_FAKE_14||"Ça te dit une répet' cet après midi?"}}},{3:{"last-readed":{hide_for:[],123456789:1},itemId:3,other_user:"3",last_message:{id:1,from:"3",date:c.toJSON(),message:appLang.GB_TXT_CHAT_FAKE_15||"Je pense qu'il faut qu'on parle..."}}}],stat:"ok"},oneToOne:{1:{messages:[{id:0,from:"1",date:d.toJSON(),message:appLang.GB_TXT_CHAT_FAKE_1||"Salut ! On dirait qu'on est dans le même quartier, t'es dispo pour un café?"},{id:1,from:"123456789",date:d.add(4,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_2||"Hello, pourquoi pas! Dans 10 minutes au bar du coin?"},{id:2,from:"1",date:d.add(2,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_3||"J'y serai!"},{id:3,from:"123456789",date:moment().hour(10).minute(14).toJSON(),message:appLang.GB_TXT_CHAT_FAKE_4||"Hey, t'es libre cet après midi?"},{id:4,from:"1",date:moment().hour(10).minute(42).toJSON(),message:appLang.GB_TXT_CHAT_FAKE_5||"Oui, je finis de bosser à 13:00! "},{id:5,from:"123456789",date:moment().hour(10).minute(43).toJSON(),message:appLang.GB_TXT_CHAT_FAKE_6||"Cool! George propose qu'on répète ça te dit?"},{id:6,from:"1",date:moment().hour(10).minute(50).toJSON(),message:appLang.GB_TXT_CHAT_FAKE_7||"Carrément!"}]},2:{messages:[{id:0,from:"2",date:e.toJSON(),message:appLang.GB_TXT_CHAT_FAKE_8||"Hey, quoi de neuf?"},{id:1,from:"123456789",date:e.add(4,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_9||"Pas grand chose, et toi?"},{id:2,from:"2",date:e.add(4,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_10||"J'ai passé beaucoup de temps sur ma musique, il faut que je te fasse écouter des choses!"},{id:3,from:"123456789",date:e.add(1,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_11||"Génial!"},{id:4,from:"2",date:e.add(3,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_12||"Tu as des nouvelles des garçons?"},{id:5,from:"123456789",date:e.add(2,"minute").toJSON(),message:appLang.GB_TXT_CHAT_FAKE_13||"Oui, j'ai vu Paul tout à l'heure! "},{id:6,from:"2",date:moment().hour(10).minute(10).toJSON(),message:appLang.GB_TXT_CHAT_FAKE_14||"Ça te dit une répet' cet après midi?"}]},3:{messages:[{id:0,from:"3",date:f.toJSON(),message:appLang.GB_TXT_CHAT_FAKE_15||"Je pense qu'il faut qu'on parle..."}]}},userListProxy:{items:{123456789:{urlPhoto:util.getCurrentBaseUrl()+"/assets/img/gbpreview/chatAvatarPlaceholder1.jpg",name:"User Name",userId:123456789,displayName:"User Name"},1:{urlPhoto:util.getCurrentBaseUrl()+"/assets/img/gbpreview/chatAvatarPlaceholder4.jpg",name:"User 1",userId:1,displayName:"Paul"},2:{urlPhoto:util.getCurrentBaseUrl()+"/assets/img/gbpreview/chatAvatarPlaceholder3.jpg",name:"User 2",userId:2,displayName:"George"},3:{urlPhoto:util.getCurrentBaseUrl()+"/assets/img/gbpreview/chatAvatarPlaceholder2.jpg",name:"User 3",userId:3,displayName:"John"}},stat:"ok"}}},mergeWithDataCache:function(a,b){var c=modules.api.dataCache;if(c[b]||(c[b]={}),c.lastReaded||(c.lastReaded={}),"usersLastMessages"==b)a&&a.items&&(_.each(a.items,function(a){if(c[b][a.itemId]=a,a){var d=a["last-readed"];d&&(d=d[modules.login.data.userId]),d&&!c.lastReaded[a.itemId]&&(c.lastReaded[a.itemId]=d)}}),a.items=_.sortBy(c[b],function(a){return a.sortDate}).reverse());else if("usersOneToOneMessages"==b){if(a&&a.targetUserId){c[b][a.targetUserId]||(c[b][a.targetUserId]={});_.each(a.messages,function(d){c[b][a.targetUserId][d.id]=d}),a.messages=_.sortBy(c[b][a.targetUserId],function(a){return a.date}).reverse()}}else"users"==b&&a&&a.items&&(_.each(a.items,function(a){_.isUndefined(a.isBlacklisted)&&(a.isBlacklisted=_.has(modules.api.dataCache.users,a.userId)?modules.api.dataCache.users[a.userId].isBlacklisted||!1:!1),c[b][a.userId]=a}),a.users=c[b]);return a},getTokenFailed:function(a,b){self.requestingAuthToken=!1,this.gotAuthTokenCallbacks=[],modules.login.data.loggedIn&&(modules.popup.show("tokenError",{title:appLang.GB_SETTINGS_8,buttonText1:appLang.GB_TXT_110}),b&&modules.login.logout())},getAuthToken:function(a){this.requestingAuthToken=!0;var b=this,c=modules.storage.get("mdp")||"",d=modules.storage.get("login");d||this.getTokenFailed("no credentials are stored",!0);var e={credentials:d+":"+c};$.ajax({type:"POST",url:this.baseApiUrl+"authToken/"+rules.getIdWebzine()+"/",data:e}).done(function(c){c&&c.is_token_valid&&c.item&&c.item.value?(b.requestingAuthToken=!1,b.hitsWithToken=0,b.token=c.item.value,a()):b.getTokenFailed("no token in response")}).fail(this.getTokenFailed)},callbackWhenAuthTokenAvailable:function(a){var b=this;b.token?a():(b.gotAuthTokenCallbacks.push(a),b.requestingAuthToken||b.getAuthToken(function(){_.each(b.gotAuthTokenCallbacks,function(a){a()}),b.gotAuthTokenCallbacks=[]}))},callAPI:function(a,b,c,d){function e(){var e=modules.api.chatapi,f=e.cache[a];"GET"==b&&f&&f.cacheDate>(new Date).getTime()-this.cacheInvalidationDelay?setTimeout(function(){c(null,f.data)}):$.ajax({url:a,type:b,dataType:"json",data:d||{},beforeSend:function(a){a.setRequestHeader("X-User-Token",e.token)}}).done(function(b){e.hitsWithToken++,b.messages&&(b.items=b.messages),b.users&&(b.items=b.users),b?(b.items||(b.items={}),e.cache[a]={data:b,cacheDate:(new Date).getTime()},c(null,b)):c("No items in response")}).fail(function(f){f&&401==f.status?e.hitsWithToken<1||(e.token=null,e.callAPI(a,b,c,d)):c(f)})}this.callbackWhenAuthTokenAvailable(e)},oneToOne:function(a,b,c,d,e,f){var g=rules.getIdWebzine(),h=modules.login.data.userId,e=e||1,f=f||40;preview?c(null,this.fakeData().oneToOne[a]):this.callAPI(this.baseApiUrl+"oneToOne/"+g+"/"+h+"/"+a+"/"+e+"/"+f+"/",b,c,d)},openChatList:function(a,b,c){var d=rules.getIdWebzine(),e=modules.login.data.userId,b=b||1,c=c||40;preview?a(null,this.fakeData().openChatList):this.callAPI(this.baseApiUrl+"openChatList/"+d+"/"+e+"/"+b+"/"+c+"/","GET",a)},getUsersFromIDList:function(a,b){rules.getIdWebzine(),modules.login.data.userId;preview?b(null,this.fakeData().userListProxy):this.callAPI(this.baseApiUrl+"userListProxy/"+a.join("/")+"/","GET",b)},openChatListWithUsers:function(a){var b=a.callback;this.openChatList(function(a,c){if(c&&_.size(c.items)){var d=_.map(c.items,function(a){return modules.chat.rules.getInnerChatObjectFromChatItem(a)}),e=_.uniq(_.map(d,function(a){return a.last_message?a.other_user:null})),f=c.blacklist;modules.api.chatapi.getUsersFromIDList(e,function(a,e){c.items=_.compact(_.map(d,function(a){if(a.last_message){if(a.sortDate=a.last_message.date,a.user=_.find(e.items,function(b,c){return c==a.other_user}),!a.user)return null;a.user.isBlacklisted=!1,a.isBlacklisted=!1,util.empty(a.user.urlPhoto)&&(a.user.urlPhoto=modules.chat.rules.getFallbackAvatarImg()),_.contains(f,a.user.userId.toString())&&(a.user.isBlacklisted=!0,a.isBlacklisted=!0,a.sortDate="1970-01-19T14:01:09+00:00")}return a})),modules.api.chatapi.mergeWithDataCache(e,"users"),c=modules.api.chatapi.mergeWithDataCache(c,"usersLastMessages"),b(null,c)})}else a?b(a):b(null,c)})},openChatDetailWithUsers:function(a){var b=a.targetUserId,c=a.page,d=a.callback;if(1==c){if(modules.api.dataCache.usersOneToOneMessages&&(lastMessage=_.last(_.toArray(modules.api.dataCache.usersOneToOneMessages[b]))))var e={sinceId:lastMessage.id}}modules.api.chatapi.oneToOne(b,"GET",function(a,c){if(a)d(a);else{var e=[modules.login.data.userId,b],f=_.clone(c.messages);modules.api.chatapi.getUsersFromIDList(e,function(a,e){c.messages=_.map(f,function(a){return a.user=_.find(e.items,function(b,c){return c==a.from}),a.user.urlPhoto||(a.user.urlPhoto=modules.chat.rules.getFallbackAvatarImg()),a}),c.targetUserId=b,modules.api.chatapi.mergeWithDataCache(e,"users"),c=modules.api.chatapi.mergeWithDataCache(c,"usersOneToOneMessages"),d(null,c)})}},e,a.page)},getBlackList:function(a){var b=rules.getIdWebzine(),c=modules.login.data.userId;preview?a(null,{}):this.callAPI(this.baseApiUrl+"blacklist/"+b+"/"+c+"/","GET",a)},addToBlacklist:function(a,b){var c=rules.getIdWebzine(),d=modules.login.data.userId;preview?b(null,{}):this.callAPI(this.baseApiUrl+"blacklist/"+c+"/"+d+"/","POST",b,{iduser:a})},removeFromBlacklist:function(a,b){var c=rules.getIdWebzine(),d=modules.login.data.userId;preview?b(null,{}):this.callAPI(this.baseApiUrl+"blacklist/"+c+"/"+d+"/","POST",b,{iduser:a})},deleteConversation:function(a,b){var c=rules.getIdWebzine(),d=modules.login.data.userId;preview?b(null,{}):this.callAPI(this.baseApiUrl+"openChatList/"+c+"/"+d+"/","POST",b,{iduser:a})}},userapi:{searchUsersByName:function(a,b){var c=rules.getIdWebzine(),d=modules.login.data.userId;this.request("search",{keywords:a,userId:d,appId:c},b,{targetUrl:"http://api.goodbarber.net/userapi/app/searchUsers/"+c+"/,/1/24/",doNotDisplayError:!0})},setContactRules:function(a,b){var c=(rules.getIdWebzine(),modules.login.data.userId,{attribs:{allowContact:a}});this.request("updateUser",c,b)},user:{baseApiUrl:"https://api.goodbarber.net/userapi/user/"},request:function(a,b,c,d){var e=this.user.baseApiUrl,d=d||{};if(b.userId=b.userId||modules.login.data.userId,b.appId=b.appId||rules.getIdWebzine(),"undefined"!=typeof d.baseApiUrl&&(e=d.baseApiUrl),"undefined"!=typeof d.targetUrl)var f=d.targetUrl;
else var f=e+a+"/";_.each(b,function(a,c){"object"==typeof a&&(b[c]=JSON.stringify(a))},this),$.post(f,b).done(function(a){a?c(!1,a):c("api request failed for some reason")}).fail(function(b){if(d.doNotDisplayError)c("api request failed "+b.tstatusText);else{var e,f=appLang.GB_SETTINGS_8;b.responseJSON&&b.responseJSON.error&&(e=b.responseJSON.error),e&&_.pos(e.jsonCode)&&_.pos(appLang[e.jsonCode])?f=appLang[e.jsonCode]:e&&_.pos(e.defaultMessage)&&(f=f+=" - "+e.defaultMessage),modules.popup.show("apiPopup"+a,{title:f,buttonText1:appLang.GB_TXT_110,clickHandler1:function(){c("api request failed "+b.statusText)}})}})}}}},{}],12:[function(a,b){b.exports={handlers:{initChatlistTemplateTypeClassic:function(){function a(){rules.getPost("item")||rules.getPost("panel_1")?$("#tabletNoItemBackgroundPlaceHolder").hide():$("#tabletNoItemBackgroundPlaceHolder").show()}$("#postMessageButton").on("click",function(){$(".thread .cellSelectedBackgroundColor").toggleClass("cellSelectedBackgroundColor listBackgroundColor");var a=rules.getPost("section");rules.setHash("section="+a+"&panel_1=1")}),a(),viewFactory.currentView.on("updatePanelsStarted",a)},initChatlistContentTemplate:function(){function a(a){if(!a.length)return 0;var b=a.css("transform");return parseInt(b.split(",")[4])}if(viewFactory.currentView.on("updatePanelsDone",function(){if(!user.device.mobile&&!rules.getPost("item")&&!rules.getPost("panel_1"))if(preview)rules.setPost("item","1");else{var a=$(".thread:not(.blacklisted) .rowInner").first().toggleClass("cellSelectedBackgroundColor listBackgroundColor").data("userid");a&&setTimeout(function(){rules.setPost("item",a)},100)}}),user.originalDevice.tablet&&user.browser.safari&&user.browser.version<=7){var b=$("#mainViewHolder").width();$("#mainViewHolder").width(b+1)}if(rules.hasTabBar()&&(user.device.mobile||$("#fullscreenViewHolder").height(util.getContentHeight())),viewFactory.currentView.updateDOMDefinedAsyncContent($("#mainViewHolder .chatList"),void 0,1,function(){if(!user.device.mobile&&!rules.getPost("item")&&!rules.getPost("panel_1")){var a=$(".thread:not(.blacklisted) .rowInner").first().toggleClass("cellSelectedBackgroundColor listBackgroundColor").data("userid");a&&setTimeout(function(){rules.setPost("item",a)},100)}modules.chat.handlers.initChatlistSwipeHelpers()}),!preview){var c=_.throttle(function(){var a=this.scrollHeight>this.clientHeight&&!$(this).hasClass("loadingMore");if(a){{$(this).scrollTop()}if($(this).scrollTop()+$(this).height()>=this.scrollHeight-300){$(this).addClass("loadingMore");var b=$(this).data("provider-page")+1,c=_.bind(function(a){a||$(this).removeClass("loadingMore")},this);viewFactory.currentView.updateDOMDefinedAsyncContent($(this),!1,b,c)}}},300);$("#mainViewHolder .chatList").on("scroll",c)}var d,e,f=!1,g=!1,h=0,i=0,j=0,k=0,l=!1;$("#contentViewViewHolder").on("vmousedown",".thread",function(a){f=!0,e=$(this),d=e.children(".actionButtons"),d.css("transition","none"),d.prev().css("transition","none"),j=a.pageY||a.originalEvent.touches[0].pageY}),$("#contentViewViewHolder").on("vmousemove touchmove",".thread",function(b){if(f)if(g){var c=b.pageX||b.originalEvent.touches[0].pageX,e=c-i,l=$(window).width()<767&&user.device.tablet?78:92,m=d.find(".actionButton:visible").length;d.css("transform","translate3d("+Math.max(Math.min(h+e,0),-l*m)+"px, 0, 0)"),d.prev().css("transform","translate3d("+Math.max(Math.min(h+e,0),-l*m)/m+"px, 0, 0)")}else g=!0,modules.chat.handlers.closeOpenActionButtons(d),$("#mainViewHolder .chatListInner").data("block-async-content-update",1),setTimeout(function(){$("#mainViewHolder .chatListInner").data("block-async-content-update",1)},400),i=b.pageX||b.originalEvent.touches[0].pageX,h=a(d),k=b.pageY||b.originalEvent.touches[0].pageY,Math.abs(j-k)<12&&b.preventDefault()}),$("#contentViewViewHolder").on("vmouseup touchcancel",".thread",function(){if(f=!1,l=!1,g){var b=a(d);b>-138?modules.chat.handlers.chatlistCloseActionButtons(d):modules.chat.handlers.chatlistOpenActionButtons(d),setTimeout(function(){g=!1},400)}}),$("#contentViewViewHolder").on("click",".thread",function(a){if($(this).hasClass("blacklisted"))return a.preventDefault,!1;modules.chat.handlers.chatlistCloseActionButtons($(".actionButtons")),user.device.mobile||modules.chat.rules.selectedThreadStyle($(this)),$(this).removeClass("newMessage");var b=$(this).find(".rowInner");modules.api.dataCache.lastReaded[b.data("messageid")]=b.data("last-messageid")}),$("#contentViewViewHolder").on("click",".actionBlackList",function(a){if(a.preventDefault(),preview)return window.parent.showNotSupportedInPreviewMessage(),!1;var b=$(this),c=$(this).parent().parent(),d=c.find(".rowInner").data("userid");return c.hasClass("blacklisted")?modules.api.chatapi.removeFromBlacklist(d,function(a){a||(c.removeClass("blacklisted"),b.find("span").html(appLang.GB_TXT_224),modules.api.dataCache.users[d].isBlacklisted=!1)}):modules.api.chatapi.addToBlacklist(d,function(a){if(!a)if(c.addClass("blacklisted"),c.find(".rowInner").toggleClass("cellSelectedBackgroundColor listBackgroundColor"),b.find("span").html(appLang.GB_TXT_227),modules.api.dataCache.users[d].isBlacklisted=!0,rules.getPost("item")&&rules.getPost("item")==d){var e=$(".thread:not(.blacklisted) .rowInner").first().toggleClass("cellSelectedBackgroundColor listBackgroundColor").data("userid");e?rules.setPost("item",e):rules.removePost("item")}else rules.getPost("panel_1")&&($("#chatSearchSelectedLabel").data("userid")==d&&$("#cancelSelectedUser").trigger("click"),$("#chatSearchAndPostMessageContainer").find(".rowInner[data-userid="+d+"]").parent().remove())}),modules.chat.handlers.chatlistCloseActionButtons(c.children(".actionButtons")),!1}),$("#contentViewViewHolder").on("click",".actionMarkRead",function(a){if(a.preventDefault(),preview)return window.parent.showNotSupportedInPreviewMessage(),!1;var b=$(this).parent().parent(),c=b.find(".rowInner"),d=c.data("userid");return modules.api.chatapi.oneToOne(d,"GET",function(a){a||(b.removeClass("newMessage"),modules.api.dataCache.lastReaded[c.data("messageid")]=c.data("last-messageid"))}),modules.chat.handlers.chatlistCloseActionButtons(b.children(".actionButtons")),!1}),$("#contentViewViewHolder").on("click",".actionDelete",function(a){if(a.preventDefault(),preview)return window.parent.showNotSupportedInPreviewMessage(),!1;var b=$(this).parent().parent(),c=b.find(".rowInner").data("userid"),d=b.find(".rowInner").data("messageid");return modules.api.chatapi.deleteConversation(c,function(a){a||(delete modules.api.dataCache.usersLastMessages[d],modules.chat.handlers.chatlistCloseActionButtons(b.children(".actionButtons")),b.fadeOut(400,function(){viewFactory.currentView.updateDOMDefinedAsyncContent($("#contentViewViewHolder"),void 0,void 0,function(){if(rules.getPost("item")&&rules.getPost("item")==c){var a=$(".thread:not(.blacklisted) .rowInner").first().toggleClass("cellSelectedBackgroundColor listBackgroundColor").data("userid");a?rules.setPost("item",a):rules.removePost("item")}else rules.getPost("panel_1")&&($("#chatSearchSelectedLabel").data("userid")==c&&$("#cancelSelectedUser").trigger("click"),$("#chatSearchAndPostMessageContainer").find(".rowInner[data-userid="+c+"]").parent().remove())})}))}),!1})},chatlistOpenActionButtons:function(a){modules.chat.handlers.closeOpenActionButtons(a),$(".swipeleft.visible").removeClass("visible"),modules.chat.rules.addTransition(a),setTimeout(function(){var b=$(window).width()<767&&user.device.tablet?78:92,c=a.find(".actionButton:visible").length;a.css("transform","translate3d(-"+b*c+"px, 0, 0)")},10);var b=a.parent().children(".rowInner");if(modules.chat.rules.addTransition(b),setTimeout(function(){var a=$(window).width()<767&&user.device.tablet?78:92;b.css("transform","translate3d(-"+a+"px, 0, 0)")},10),preview||user.device.desktop){var c=a.parent().find(".swipeleft.helper");c.addClass("visible")}$("#mainViewHolder .chatListInner").data("block-async-content-update",1);rules.getSelectedSection()},chatlistCloseActionButtons:function(a){modules.chat.rules.addTransition(a),setTimeout(function(){a.css("transform","translate3d(0, 0, 0)")},10),a.removeClass("open");var b=a.parent().children(".rowInner");if(modules.chat.rules.addTransition(b),setTimeout(function(){b.css("transform","translate3d(0, 0, 0)")},10),preview||user.device.desktop){var c=a.parent().find(".swipeleft.helper");c.removeClass("visible")}setTimeout(function(){$("#mainViewHolder .chatListInner").data("block-async-content-update",0)},400)},closeOpenActionButtons:function(a){var b;$(".actionButtons.open").removeClass("open"),a&&a.addClass("open"),b=$(".actionButtons:not(.open)"),modules.chat.rules.addTransition(b),setTimeout(function(){b.css("transform","translate3d(0, 0, 0)")},10);var c=b.parent().children(".rowInner");if(modules.chat.rules.addTransition(c),c.css("transform","translate3d(0, 0, 0)"),preview||user.device.desktop){var d=b.parent().find(".swipeleft.helper");d.removeClass("visible")}},initChatlistSwipeHelpers:function(){(preview||user.originalDevice.desktop)&&($(".helper").show(),$(".helper").removeClass("visible"),$(".helper.swiperight").on("click",function(a){a.preventDefault();var b=$(this).parents().eq(2).children(".actionButtons");return modules.chat.handlers.chatlistOpenActionButtons(b),!1}),$(".helper.swipeleft").on("click",function(a){a.preventDefault();var b=$(this).parents().eq(2).children(".actionButtons");return modules.chat.handlers.chatlistCloseActionButtons(b),!1}),$("#contentViewViewHolder").on("mousemove",".thread",function(){$(this).find(".helper.swiperight").addClass("visible")}).on("mouseleave",".thread",function(){$(".helper.swiperight").removeClass("visible")}))},bindChatSendMessage:function(a,b,c){function d(){if(preview)return void window.parent.showNotSupportedInPreviewMessage();if(_.has(modules.api.dataCache.users,b)&&modules.api.dataCache.users[b].isBlacklisted)return util.backToPreviousHash();var a=f.val();a&&a.length&&(f.val(""),f.css("height",29),g.css("height",44),chatDetailPadding=user.device.mobile?0:44,i.css("padding-bottom",chatDetailPadding),modules.api.chatapi.oneToOne(b,"POST",function(a,d){if(!a){viewFactory.currentView.updateDOMDefinedAsyncContent();var e=$(".rowInner[data-userid='"+b+"']").data("messageid");if(modules.api.dataCache.lastReaded[e]=d["last-readed"][modules.login.data.userId],c){var f=rules.getSelectedSection();viewFactory.currentView.disableAnimations=!0,viewFactory.currentView.on("updatePanelsDone",function(){viewFactory.currentView.disableAnimations=!1,viewFactory.currentView.off("updatePanelsDone")}),rules.setHash("section="+f.get("id")+"&item="+b)}}},{message:a,from:modules.login.data.userId}))}var e=a.find(".chatPostButton"),f=a.find(".chatPostInput"),g=a.find(".postBar"),h=a.find(".textareaMirror"),i=a.find(".chatDetail"),j=29;!user.device.mobile||user.browser.chrome&&user.browser.version>=47||(f.off("focus.keyboardfix").on("focus.keyboardfix",function(){i.find(".chatDetailInner").css({"overflow-y":"hidden"}),user.browser.safari&&setTimeout(function(){var a=$("body").scrollTop();$("body").scrollTop(a-10)},100)}),f.off("blur.keyboardfix").on("blur.keyboardfix",function(){i.find(".chatDetailInner").css({"overflow-y":"auto"})})),e.off("click.bindChatSendMessage").on("click.bindChatSendMessage",d),f.off("input.bindChatSendMessage").on("input.bindChatSendMessage",function(){var a=h.prop("scrollHeight"),b=5*parseInt(f.css("font-size"));if(a!=j){h.text(f.val().replace(/\r?\n/g,"\n<br>"));var c=Math.min(Math.max(h.height()+44-j,44),b+15),d=Math.min(Math.max(h.height()-j,0),b+15-44);user.device.mobile||(d+=44),g.css("height",c),i.css("padding-bottom",d),f.css("height",Math.min(Math.max(h.height(),j),b))}})},unbindChatSendMessage:function(a){var b=a.find(".chatPostButton");b.off("click.bindChatSendMessage")},initChatDetailTemplate:function(){var a=rules.getPost("item");if(a==modules.login.data.userId)return util.backToPreviousHash();if(_.has(modules.api.dataCache.users,a)&&modules.api.dataCache.users[a].isBlacklisted)return util.backToPreviousHash();var b=$(".chatDetailInner");if(b.scrollTop(b[0].scrollHeight),user.device.desktop&&$(".chatPostInput").focus(),!preview){var c=_.throttle(function(){var a=this.scrollHeight>this.clientHeight&&!$(this).hasClass("loadingMore");if(a){var b=$(this).scrollTop();if(300>b){$(this).addClass("loadingMore");var c=$(this).data("provider-page")+1,d=_.bind(function(a){a||$(this).removeClass("loadingMore")},this);viewFactory.currentView.updateDOMDefinedAsyncContent($(this),!1,c,d)}}},300);$(".chatDetailInner").on("scroll",c)}if(modules.chat.handlers.bindChatSendMessage($(".itemView"),a),_.is(rules.getPost("item"))){var d=modules.api.dataCache.users[a];d&&(d=d.displayName),d&&$(".chatDetailNavBarTitle").html(_.escape(d))}},initChatlistSearchAndPostMessage:function(){function a(a){$(".chatContactsList").html(e({template:d,section:c,included:1}));var b=templateFactory.getTemplate("GBChatListTemplate_content");$(".chatContactsList .chatListInner").html(b({template:d,section:c,data:a,included:1}))}function b(){var b=(c.get("template"),$("#chatSearchInput").val());modules.api.userapi.searchUsersByName(b,function(b,c){c.items||(c.items=c.users),c.items=_.map(c.items,function(a){return a.displayName=a.attribs.displayName,a.allowContact=_.isUndefined(a.attribs.allowContact)?!0:a.attribs.allowContact,a.isBlacklisted=_.has(modules.api.dataCache.users,a.userId)?modules.api.dataCache.users[a.userId].isBlacklisted:!1,a.allowContact=a.userId==modules.login.data.userId?!1:a.allowContact,{user:a}}),a(c)})}if(preview)return $("#chatSearchSelectedLabel").html("George"),$("#chatSearchSelectedLabel").data("userid",2),$("#chatSearchAndPostMessageContainer").addClass("hasSelectedUser"),modules.chat.handlers.bindChatSendMessage($("#postMessageViewViewHolder"),2),modules.chat.handlers.loadMessageDetail(),void $("#cancelSelectedUser").on("click",function(){window.parent.showNotSupportedInPreviewMessage()});var c=rules.getSelectedSection(),d=c.get("template"),e=templateFactory.getTemplate(d),f=_.debounce(b,300);$("#chatSearchInput").keyup(f),$(".chatContactsList").on("click",".thread .rowInner",function(a){a.preventDefault();var b=$(this).data("userid");if(_.has(modules.api.dataCache.users,b)&&modules.api.dataCache.users[b].isBlacklisted)return!1;$("#chatSearchSelectedLabel").html(_.escape($(this).data("name"))).data("userid",$(this).data("userid")),$("#chatSearchAndPostMessageContainer").addClass("hasSelectedUser"),modules.chat.handlers.bindChatSendMessage($(".chatSearchAndPostMessage"),$("#chatSearchSelectedLabel").data("userid"),!0),modules.chat.handlers.loadMessageDetail();$("#mainViewHolder .thread:has(a[data-userid="+$("#chatSearchSelectedLabel").data("userid")+"])");return!1}),$("#cancelSelectedUser").on("click",function(){$("#chatSearchAndPostMessageContainer").removeClass("hasSelectedUser"),$("#chatSearchSelectedLabel").removeData("userid"),modules.chat.handlers.unbindChatSendMessage($(".chatSearchAndPostMessage"))}),_.pos(modules.api.dataCache.usersLastMessages)&&_.pos(modules.api.dataCache.users)?a({items:_.map(modules.api.dataCache.users,function(a){return a.allowContact=a.userId==modules.login.data.userId?!1:!0,{user:a}})}):b()},loadMessageDetail:function(){var a=rules.getSelectedSection();targetUser=$("#chatSearchSelectedLabel").data("userid"),dp=util.getDataProviderParameters(a,"item",targetUser),tplName=a.get("detail.template"),tpl=templateFactory.getTemplate(tplName),parameters={template:tplName,section:a,included:1,dataProvider:dp.dataProvider,dataProviderParameters:dp.dataProviderParameters},$(".chatDetailContainer").html(tpl(parameters)),viewFactory.currentView.updateDOMDefinedAsyncContent($(".chatDetailContainer"))}},rules:{getChatSection:function(){var a=null;return _.each(appSections,function(b){a||"GBModuleTypeChat"==b.get("type")&&(a=b)},this),a},getInnerChatObjectFromChatItem:function(a){if(a){var b=_.keys(a);if(b&&b.length){var a=a[b[0]];return a}}},getOpenChatListRefreshDelay:function(a){var b=a.get("refreshDelayIOS")||5;return 1e3*b},getOneToOneRefreshDelay:function(a){var b=a.get("detail.refreshDelayIOS")||a.get("refreshDelayIOS")||2;return 1e3*b},getFallbackAvatarImg:function(){var a=rules.getSelectedSection(),b=a.get("defaultThumb.imageUrl");if(!b){var c=rules.getUserListSection();c&&(b=c.get("defaultThumb.imageUrl")),b||(b=util.getRelativeUrlBase()+"/assets/img/gbpreview/defaultAvatar.png")}return b},selectedThreadStyle:function(a){$rowInner=a.find(".rowInner"),$(".cellSelectedBackgroundColor").toggleClass("cellSelectedBackgroundColor listBackgroundColor"),$rowInner.toggleClass("cellSelectedBackgroundColor listBackgroundColor")},addTransition:function(a){var b=util.style.getPrefix();a.css("transition",b+"transform .4s")}}}},{}],13:[function(a,b){var c={};!function(a){function b(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function c(){return new b(null)}function d(a,b,c,d,e,f){for(;--f>=0;){var g=b*this[a++]+c[d]+e;e=Math.floor(g/67108864),c[d++]=67108863&g}return e}function e(a,b,c,d,e,f){for(var g=32767&b,h=b>>15;--f>=0;){var i=32767&this[a],j=this[a++]>>15,k=h*i+j*g;i=g*i+((32767&k)<<15)+c[d]+(1073741823&e),e=(i>>>30)+(k>>>15)+h*j+(e>>>30),c[d++]=1073741823&i}return e}function f(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;i=g*i+((16383&k)<<14)+c[d]+e,e=(i>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e}function g(a){return Bc.charAt(a)}function h(a,b){var c=Cc[a.charCodeAt(b)];return null==c?-1:c}function i(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s}function j(a){this.t=1,this.s=0>a?-1:0,a>0?this[0]=a:-1>a?this[0]=a+this.DV:this.t=0}function k(a){var b=c();return b.fromInt(a),b}function l(a,c){var d;if(16==c)d=4;else if(8==c)d=3;else if(256==c)d=8;else if(2==c)d=1;else if(32==c)d=5;else{if(4!=c)return void this.fromRadix(a,c);d=2}this.t=0,this.s=0;for(var e=a.length,f=!1,g=0;--e>=0;){var i=8==d?255&a[e]:h(a,e);0>i?"-"==a.charAt(e)&&(f=!0):(f=!1,0==g?this[this.t++]=i:g+d>this.DB?(this[this.t-1]|=(i&(1<<this.DB-g)-1)<<g,this[this.t++]=i>>this.DB-g):this[this.t-1]|=i<<g,g+=d,g>=this.DB&&(g-=this.DB))}8==d&&0!=(128&a[0])&&(this.s=-1,g>0&&(this[this.t-1]|=(1<<this.DB-g)-1<<g)),this.clamp(),f&&b.ZERO.subTo(this,this)}function m(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}function n(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var c,d=(1<<b)-1,e=!1,f="",h=this.t,i=this.DB-h*this.DB%b;if(h-->0)for(i<this.DB&&(c=this[h]>>i)>0&&(e=!0,f=g(c));h>=0;)b>i?(c=(this[h]&(1<<i)-1)<<b-i,c|=this[--h]>>(i+=this.DB-b)):(c=this[h]>>(i-=b)&d,0>=i&&(i+=this.DB,--h)),c>0&&(e=!0),e&&(f+=g(c));return e?f:"0"}function o(){var a=c();return b.ZERO.subTo(this,a),a}function p(){return this.s<0?this.negate():this}function q(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(b=c-a.t,0!=b)return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0}function r(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function s(){return this.t<=0?0:this.DB*(this.t-1)+r(this[this.t-1]^this.s&this.DM)}function t(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s}function u(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s}function w(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()}function x(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)return void(b.t=0);var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}function y(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0,-1>d?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()}function z(a,c){var d=this.abs(),e=a.abs(),f=d.t;for(c.t=f+e.t;--f>=0;)c[f]=0;for(f=0;f<e.t;++f)c[f+d.t]=d.am(0,e[f],c,f,0,d.t);c.s=0,c.clamp(),this.s!=a.s&&b.ZERO.subTo(c,c)}function A(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()}function B(a,d,e){var f=a.abs();if(!(f.t<=0)){var g=this.abs();if(g.t<f.t)return null!=d&&d.fromInt(0),void(null!=e&&this.copyTo(e));null==e&&(e=c());var h=c(),i=this.s,j=a.s,k=this.DB-r(f[f.t-1]);k>0?(f.lShiftTo(k,h),g.lShiftTo(k,e)):(f.copyTo(h),g.copyTo(e));var l=h.t,m=h[l-1];if(0!=m){var n=m*(1<<this.F1)+(l>1?h[l-2]>>this.F2:0),o=this.FV/n,p=(1<<this.F1)/n,q=1<<this.F2,s=e.t,t=s-l,u=null==d?c():d;for(h.dlShiftTo(t,u),e.compareTo(u)>=0&&(e[e.t++]=1,e.subTo(u,e)),b.ONE.dlShiftTo(l,u),u.subTo(h,h);h.t<l;)h[h.t++]=0;for(;--t>=0;){var v=e[--s]==m?this.DM:Math.floor(e[s]*o+(e[s-1]+q)*p);if((e[s]+=h.am(0,v,e,t,0,l))<v)for(h.dlShiftTo(t,u),e.subTo(u,e);e[s]<--v;)e.subTo(u,e)}null!=d&&(e.drShiftTo(l,d),i!=j&&b.ZERO.subTo(d,d)),e.t=l,e.clamp(),k>0&&e.rShiftTo(k,e),0>i&&b.ZERO.subTo(e,e)}}}function C(a){var d=c();return this.abs().divRemTo(a,null,d),this.s<0&&d.compareTo(b.ZERO)>0&&a.subTo(d,d),d}function D(a){this.m=a}function E(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function F(a){return a}function G(a){a.divRemTo(this.m,null,a)}function H(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function I(a,b){a.squareTo(b),this.reduce(b)}function J(){if(this.t<1)return 0;var a=this[0];if(0==(1&a))return 0;var b=3&a;return b=b*(2-(15&a)*b)&15,b=b*(2-(255&a)*b)&255,b=b*(2-((65535&a)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV,b>0?this.DV-b:-b}function K(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function L(a){var d=c();return a.abs().dlShiftTo(this.m.t,d),d.divRemTo(this.m,null,d),a.s<0&&d.compareTo(b.ZERO)>0&&this.m.subTo(d,d),d}function M(a){var b=c();return a.copyTo(b),this.reduce(b),b}function N(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function O(a,b){a.squareTo(b),this.reduce(b)}function P(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function Q(){return 0==(this.t>0?1&this[0]:this.s)}function R(a,d){if(a>4294967295||1>a)return b.ONE;var e=c(),f=c(),g=d.convert(this),h=r(a)-1;for(g.copyTo(e);--h>=0;)if(d.sqrTo(e,f),(a&1<<h)>0)d.mulTo(f,g,e);else{var i=e;e=f,f=i}return d.revert(e)}function S(a,b){var c;return c=256>a||b.isEven()?new D(b):new K(b),this.exp(a,c)}function T(){var a=c();return this.copyTo(a),a}function U(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function V(){return 0==this.t?this.s:this[0]<<24>>24}function W(){return 0==this.t?this.s:this[0]<<16>>16}function X(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function Y(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(a){if(null==a&&(a=10),0==this.signum()||2>a||a>36)return"0";var b=this.chunkSize(a),d=Math.pow(a,b),e=k(d),f=c(),g=c(),h="";for(this.divRemTo(e,f,g);f.signum()>0;)h=(d+g.intValue()).toString(a).substr(1)+h,f.divRemTo(e,f,g);return g.intValue().toString(a)+h}function $(a,c){this.fromInt(0),null==c&&(c=10);for(var d=this.chunkSize(c),e=Math.pow(c,d),f=!1,g=0,i=0,j=0;j<a.length;++j){var k=h(a,j);0>k?"-"==a.charAt(j)&&0==this.signum()&&(f=!0):(i=c*i+k,++g>=d&&(this.dMultiply(e),this.dAddOffset(i,0),g=0,i=0))}g>0&&(this.dMultiply(Math.pow(c,g)),this.dAddOffset(i,0)),f&&b.ZERO.subTo(this,this)}function _(a,c,d){if("number"==typeof c)if(2>a)this.fromInt(1);else for(this.fromNumber(a,d),this.testBit(a-1)||this.bitwiseTo(b.ONE.shiftLeft(a-1),hb,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(c);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(b.ONE.shiftLeft(a-1),this);else{var e=new Array,f=7&a;e.length=(a>>3)+1,c.nextBytes(e),f>0?e[0]&=(1<<f)-1:e[0]=0,this.fromString(e,256)}}function ab(){var a=this.t,b=new Array;b[0]=this.s;var c,d=this.DB-a*this.DB%8,e=0;if(a-->0)for(d<this.DB&&(c=this[a]>>d)!=(this.s&this.DM)>>d&&(b[e++]=c|this.s<<this.DB-d);a>=0;)8>d?(c=(this[a]&(1<<d)-1)<<8-d,c|=this[--a]>>(d+=this.DB-8)):(c=this[a]>>(d-=8)&255,0>=d&&(d+=this.DB,--a)),0!=(128&c)&&(c|=-256),0==e&&(128&this.s)!=(128&c)&&++e,(e>0||c!=this.s)&&(b[e++]=c);return b}function bb(a){return 0==this.compareTo(a)}function cb(a){return this.compareTo(a)<0?this:a}function db(a){return this.compareTo(a)>0?this:a}function eb(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;f>d;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){for(e=a.s&this.DM,d=f;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{for(e=this.s&this.DM,d=f;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s),c.clamp()}function fb(a,b){return a&b}function gb(a){var b=c();return this.bitwiseTo(a,fb,b),b}function hb(a,b){return a|b}function ib(a){var b=c();return this.bitwiseTo(a,hb,b),b}function jb(a,b){return a^b}function kb(a){var b=c();return this.bitwiseTo(a,jb,b),b}function lb(a,b){return a&~b}function mb(a){var b=c();return this.bitwiseTo(a,lb,b),b}function nb(){for(var a=c(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];return a.t=this.t,a.s=~this.s,a}function ob(a){var b=c();return 0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b),b}function pb(a){var b=c();return 0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b),b}function qb(a){if(0==a)return-1;var b=0;return 0==(65535&a)&&(a>>=16,b+=16),0==(255&a)&&(a>>=8,b+=8),0==(15&a)&&(a>>=4,b+=4),0==(3&a)&&(a>>=2,b+=2),0==(1&a)&&++b,b}function rb(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+qb(this[a]);return this.s<0?this.t*this.DB:-1}function sb(a){for(var b=0;0!=a;)a&=a-1,++b;return b}function tb(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=sb(this[c]^b);return a}function ub(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function vb(a,c){var d=b.ONE.shiftLeft(a);return this.bitwiseTo(d,c,d),d}function wb(a){return this.changeBit(a,hb)}function xb(a){return this.changeBit(a,lb)}function yb(a){return this.changeBit(a,jb)}function zb(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0,d>0?b[c++]=d:-1>d&&(b[c++]=this.DV+d),b.t=c,b.clamp()}function Ab(a){var b=c();return this.addTo(a,b),b}function Bb(a){var b=c();return this.subTo(a,b),b}function Cb(a){var b=c();return this.multiplyTo(a,b),b}function Db(){var a=c();return this.squareTo(a),a}function Eb(a){var b=c();return this.divRemTo(a,b,null),b}function Fb(a){var b=c();return this.divRemTo(a,null,b),b}function Gb(a){var b=c(),d=c();return this.divRemTo(a,b,d),new Array(b,d)}function Hb(a){this[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function Ib(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function Jb(){}function Kb(a){return a}function Lb(a,b,c){a.multiplyTo(b,c)}function Mb(a,b){a.squareTo(b)}function Nb(a){return this.exp(a,new Jb)}function Ob(a,b,c){var d=Math.min(this.t+a.t,b);for(c.s=0,c.t=d;d>0;)c[--d]=0;var e;for(e=c.t-this.t;e>d;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);e>d;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function Pb(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;--d>=0;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp(),c.drShiftTo(1,c)}function Qb(a){this.r2=c(),this.q3=c(),b.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}function Rb(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var b=c();return a.copyTo(b),this.reduce(b),b}function Sb(a){return a}function Tb(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)}function Ub(a,b){a.squareTo(b),this.reduce(b)}function Vb(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function Wb(a,b){var d,e,f=a.bitLength(),g=k(1);if(0>=f)return g;d=18>f?1:48>f?3:144>f?4:768>f?5:6,e=8>f?new D(b):b.isEven()?new Qb(b):new K(b);var h=new Array,i=3,j=d-1,l=(1<<d)-1;if(h[1]=e.convert(this),d>1){var m=c();for(e.sqrTo(h[1],m);l>=i;)h[i]=c(),e.mulTo(m,h[i-2],h[i]),i+=2}var n,o,p=a.t-1,q=!0,s=c();for(f=r(a[p])-1;p>=0;){for(f>=j?n=a[p]>>f-j&l:(n=(a[p]&(1<<f+1)-1)<<j-f,p>0&&(n|=a[p-1]>>this.DB+f-j)),i=d;0==(1&n);)n>>=1,--i;if((f-=i)<0&&(f+=this.DB,--p),q)h[n].copyTo(g),q=!1;else{for(;i>1;)e.sqrTo(g,s),e.sqrTo(s,g),i-=2;i>0?e.sqrTo(g,s):(o=g,g=s,s=o),e.mulTo(s,h[n],g)}for(;p>=0&&0==(a[p]&1<<f);)e.sqrTo(g,s),o=g,g=s,s=o,--f<0&&(f=this.DB-1,--p)}return e.revert(g)}function Xb(a){var b=this.s<0?this.negate():this.clone(),c=a.s<0?a.negate():a.clone();if(b.compareTo(c)<0){var d=b;b=c,c=d}var e=b.getLowestSetBit(),f=c.getLowestSetBit();if(0>f)return b;for(f>e&&(f=e),f>0&&(b.rShiftTo(f,b),c.rShiftTo(f,c));b.signum()>0;)(e=b.getLowestSetBit())>0&&b.rShiftTo(e,b),(e=c.getLowestSetBit())>0&&c.rShiftTo(e,c),b.compareTo(c)>=0?(b.subTo(c,b),b.rShiftTo(1,b)):(c.subTo(b,c),c.rShiftTo(1,c));return f>0&&c.lShiftTo(f,c),c}function Yb(a){if(0>=a)return 0;var b=this.DV%a,c=this.s<0?a-1:0;if(this.t>0)if(0==b)c=this[0]%a;else for(var d=this.t-1;d>=0;--d)c=(b*c+this[d])%a;return c}function Zb(a){var c=a.isEven();if(this.isEven()&&c||0==a.signum())return b.ZERO;for(var d=a.clone(),e=this.clone(),f=k(1),g=k(0),h=k(0),i=k(1);0!=d.signum();){for(;d.isEven();)d.rShiftTo(1,d),c?(f.isEven()&&g.isEven()||(f.addTo(this,f),g.subTo(a,g)),f.rShiftTo(1,f)):g.isEven()||g.subTo(a,g),g.rShiftTo(1,g);for(;e.isEven();)e.rShiftTo(1,e),c?(h.isEven()&&i.isEven()||(h.addTo(this,h),i.subTo(a,i)),h.rShiftTo(1,h)):i.isEven()||i.subTo(a,i),i.rShiftTo(1,i);d.compareTo(e)>=0?(d.subTo(e,d),c&&f.subTo(h,f),g.subTo(i,g)):(e.subTo(d,e),c&&h.subTo(f,h),i.subTo(g,i))}return 0!=e.compareTo(b.ONE)?b.ZERO:i.compareTo(a)>=0?i.subtract(a):i.signum()<0?(i.addTo(a,i),i.signum()<0?i.add(a):i):i}function $b(a){var b,c=this.abs();if(1==c.t&&c[0]<=Dc[Dc.length-1]){for(b=0;b<Dc.length;++b)if(c[0]==Dc[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<Dc.length;){for(var d=Dc[b],e=b+1;e<Dc.length&&Ec>d;)d*=Dc[e++];for(d=c.modInt(d);e>b;)if(d%Dc[b++]==0)return!1}return c.millerRabin(a)}function _b(a){var d=this.subtract(b.ONE),e=d.getLowestSetBit();if(0>=e)return!1;var f=d.shiftRight(e);a=a+1>>1,a>Dc.length&&(a=Dc.length);for(var g=c(),h=0;a>h;++h){g.fromInt(Dc[Math.floor(Math.random()*Dc.length)]);var i=g.modPow(f,this);if(0!=i.compareTo(b.ONE)&&0!=i.compareTo(d)){for(var j=1;j++<e&&0!=i.compareTo(d);)if(i=i.modPowInt(2,this),0==i.compareTo(b.ONE))return!1;if(0!=i.compareTo(d))return!1}}return!0}function ac(){this.i=0,this.j=0,this.S=new Array}function bc(a){var b,c,d;for(b=0;256>b;++b)this.S[b]=b;for(c=0,b=0;256>b;++b)c=c+this.S[b]+a[b%a.length]&255,d=this.S[b],this.S[b]=this.S[c],this.S[c]=d;this.i=0,this.j=0}function cc(){var a;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,a=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=a,this.S[a+this.S[this.i]&255]
}function dc(){return new ac}function ec(){if(null==Fc){for(Fc=dc();Ic>Hc;){var a=Math.floor(65536*Math.random());Gc[Hc++]=255&a}for(Fc.init(Gc),Hc=0;Hc<Gc.length;++Hc)Gc[Hc]=0;Hc=0}return Fc.next()}function fc(a){var b;for(b=0;b<a.length;++b)a[b]=ec()}function gc(){}function hc(a,c){return new b(a,c)}function ic(a,c){if(c<a.length+11)return null;for(var d=new Array,e=a.length-1;e>=0&&c>0;){var f=a.charCodeAt(e--);128>f?d[--c]=f:f>127&&2048>f?(d[--c]=63&f|128,d[--c]=f>>6|192):(d[--c]=63&f|128,d[--c]=f>>6&63|128,d[--c]=f>>12|224)}d[--c]=0;for(var g=new gc,h=new Array;c>2;){for(h[0]=0;0==h[0];)g.nextBytes(h);d[--c]=h[0]}return d[--c]=2,d[--c]=0,new b(d)}function jc(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function kc(a,b){null!=a&&null!=b&&a.length>0&&b.length>0&&(this.n=hc(a,16),this.e=parseInt(b,16))}function lc(a){return a.modPowInt(this.e,this.n)}function mc(a){var b=ic(a,this.n.bitLength()+7>>3);if(null==b)return null;var c=this.doPublic(b);if(null==c)return null;var d=c.toString(16);return 0==(1&d.length)?d:"0"+d}function nc(a,b){for(var c=a.toByteArray(),d=0;d<c.length&&0==c[d];)++d;if(c.length-d!=b-1||2!=c[d])return null;for(++d;0!=c[d];)if(++d>=c.length)return null;for(var e="";++d<c.length;){var f=255&c[d];128>f?e+=String.fromCharCode(f):f>191&&224>f?(e+=String.fromCharCode((31&f)<<6|63&c[d+1]),++d):(e+=String.fromCharCode((15&f)<<12|(63&c[d+1])<<6|63&c[d+2]),d+=2)}return e}function oc(a,b,c){null!=a&&null!=b&&a.length>0&&b.length>0&&(this.n=hc(a,16),this.e=parseInt(b,16),this.d=hc(c,16))}function pc(a,b,c,d,e,f,g,h){null!=a&&null!=b&&a.length>0&&b.length>0&&(this.n=hc(a,16),this.e=parseInt(b,16),this.d=hc(c,16),this.p=hc(d,16),this.q=hc(e,16),this.dmp1=hc(f,16),this.dmq1=hc(g,16),this.coeff=hc(h,16))}function qc(a,c){var d=new gc,e=a>>1;this.e=parseInt(c,16);for(var f=new b(c,16);;){for(;this.p=new b(a-e,1,d),0!=this.p.subtract(b.ONE).gcd(f).compareTo(b.ONE)||!this.p.isProbablePrime(10););for(;this.q=new b(e,1,d),0!=this.q.subtract(b.ONE).gcd(f).compareTo(b.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var g=this.p;this.p=this.q,this.q=g}var h=this.p.subtract(b.ONE),i=this.q.subtract(b.ONE),j=h.multiply(i);if(0==j.gcd(f).compareTo(b.ONE)){this.n=this.p.multiply(this.q),this.d=f.modInverse(j),this.dmp1=this.d.mod(h),this.dmq1=this.d.mod(i),this.coeff=this.q.modInverse(this.p);break}}}function rc(a){if(null==this.p||null==this.q)return a.modPow(this.d,this.n);for(var b=a.mod(this.p).modPow(this.dmp1,this.p),c=a.mod(this.q).modPow(this.dmq1,this.q);b.compareTo(c)<0;)b=b.add(this.p);return b.subtract(c).multiply(this.coeff).mod(this.p).multiply(this.q).add(c)}function sc(a){var b=hc(a,16),c=this.doPrivate(b);return null==c?null:nc(c,this.n.bitLength()+7>>3)}function tc(a){var b,c,d="";for(b=0;b+3<=a.length;b+=3)c=parseInt(a.substring(b,b+3),16),d+=Mc.charAt(c>>6)+Mc.charAt(63&c);for(b+1==a.length?(c=parseInt(a.substring(b,b+1),16),d+=Mc.charAt(c<<2)):b+2==a.length&&(c=parseInt(a.substring(b,b+2),16),d+=Mc.charAt(c>>2)+Mc.charAt((3&c)<<4));(3&d.length)>0;)d+=Nc;return d}function uc(a){var b,c,d="",e=0;for(b=0;b<a.length&&a.charAt(b)!=Nc;++b)v=Mc.indexOf(a.charAt(b)),0>v||(0==e?(d+=g(v>>2),c=3&v,e=1):1==e?(d+=g(c<<2|v>>4),c=15&v,e=2):2==e?(d+=g(c),d+=g(v>>2),c=3&v,e=3):(d+=g(c<<2|v>>4),d+=g(15&v),e=0));return 1==e&&(d+=g(c<<2)),d}var vc,wc=0xdeadbeefcafe,xc=15715070==(16777215&wc);xc&&"Microsoft Internet Explorer"==navigator.appName?(b.prototype.am=e,vc=30):xc&&"Netscape"!=navigator.appName?(b.prototype.am=d,vc=26):(b.prototype.am=f,vc=28),b.prototype.DB=vc,b.prototype.DM=(1<<vc)-1,b.prototype.DV=1<<vc;var yc=52;b.prototype.FV=Math.pow(2,yc),b.prototype.F1=yc-vc,b.prototype.F2=2*vc-yc;var zc,Ac,Bc="0123456789abcdefghijklmnopqrstuvwxyz",Cc=new Array;for(zc="0".charCodeAt(0),Ac=0;9>=Ac;++Ac)Cc[zc++]=Ac;for(zc="a".charCodeAt(0),Ac=10;36>Ac;++Ac)Cc[zc++]=Ac;for(zc="A".charCodeAt(0),Ac=10;36>Ac;++Ac)Cc[zc++]=Ac;D.prototype.convert=E,D.prototype.revert=F,D.prototype.reduce=G,D.prototype.mulTo=H,D.prototype.sqrTo=I,K.prototype.convert=L,K.prototype.revert=M,K.prototype.reduce=N,K.prototype.mulTo=P,K.prototype.sqrTo=O,b.prototype.copyTo=i,b.prototype.fromInt=j,b.prototype.fromString=l,b.prototype.clamp=m,b.prototype.dlShiftTo=t,b.prototype.drShiftTo=u,b.prototype.lShiftTo=w,b.prototype.rShiftTo=x,b.prototype.subTo=y,b.prototype.multiplyTo=z,b.prototype.squareTo=A,b.prototype.divRemTo=B,b.prototype.invDigit=J,b.prototype.isEven=Q,b.prototype.exp=R,b.prototype.toString=n,b.prototype.negate=o,b.prototype.abs=p,b.prototype.compareTo=q,b.prototype.bitLength=s,b.prototype.mod=C,b.prototype.modPowInt=S,b.ZERO=k(0),b.ONE=k(1),Jb.prototype.convert=Kb,Jb.prototype.revert=Kb,Jb.prototype.mulTo=Lb,Jb.prototype.sqrTo=Mb,Qb.prototype.convert=Rb,Qb.prototype.revert=Sb,Qb.prototype.reduce=Tb,Qb.prototype.mulTo=Vb,Qb.prototype.sqrTo=Ub;var Dc=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ec=(1<<26)/Dc[Dc.length-1];b.prototype.chunkSize=X,b.prototype.toRadix=Z,b.prototype.fromRadix=$,b.prototype.fromNumber=_,b.prototype.bitwiseTo=eb,b.prototype.changeBit=vb,b.prototype.addTo=zb,b.prototype.dMultiply=Hb,b.prototype.dAddOffset=Ib,b.prototype.multiplyLowerTo=Ob,b.prototype.multiplyUpperTo=Pb,b.prototype.modInt=Yb,b.prototype.millerRabin=_b,b.prototype.clone=T,b.prototype.intValue=U,b.prototype.byteValue=V,b.prototype.shortValue=W,b.prototype.signum=Y,b.prototype.toByteArray=ab,b.prototype.equals=bb,b.prototype.min=cb,b.prototype.max=db,b.prototype.and=gb,b.prototype.or=ib,b.prototype.xor=kb,b.prototype.andNot=mb,b.prototype.not=nb,b.prototype.shiftLeft=ob,b.prototype.shiftRight=pb,b.prototype.getLowestSetBit=rb,b.prototype.bitCount=tb,b.prototype.testBit=ub,b.prototype.setBit=wb,b.prototype.clearBit=xb,b.prototype.flipBit=yb,b.prototype.add=Ab,b.prototype.subtract=Bb,b.prototype.multiply=Cb,b.prototype.divide=Eb,b.prototype.remainder=Fb,b.prototype.divideAndRemainder=Gb,b.prototype.modPow=Wb,b.prototype.modInverse=Zb,b.prototype.pow=Nb,b.prototype.gcd=Xb,b.prototype.isProbablePrime=$b,b.prototype.square=Db,ac.prototype.init=bc,ac.prototype.next=cc;var Fc,Gc,Hc,Ic=256;if(null==Gc){Gc=new Array,Hc=0;var Jc;if(window.crypto&&window.crypto.getRandomValues){var Kc=new Uint32Array(256);for(window.crypto.getRandomValues(Kc),Jc=0;Jc<Kc.length;++Jc)Gc[Hc++]=255&Kc[Jc]}var Lc=function(a){if(this.count=this.count||0,this.count>=256||Hc>=Ic)return void(window.removeEventListener?window.removeEventListener("mousemove",Lc):window.detachEvent&&window.detachEvent("onmousemove",Lc));this.count+=1;var b=a.x+a.y;Gc[Hc++]=255&b};window.addEventListener?window.addEventListener("mousemove",Lc):window.attachEvent&&window.attachEvent("onmousemove",Lc)}gc.prototype.nextBytes=fc,jc.prototype.doPublic=lc,jc.prototype.setPublic=kc,jc.prototype.encrypt=mc,jc.prototype.doPrivate=rc,jc.prototype.setPrivate=oc,jc.prototype.setPrivateEx=pc,jc.prototype.generate=qc,jc.prototype.decrypt=sc,function(){var a=function(a,d,e){var f=new gc,g=a>>1;this.e=parseInt(d,16);var h=new b(d,16),i=this,j=function(){var d=function(){if(i.p.compareTo(i.q)<=0){var a=i.p;i.p=i.q,i.q=a}var c=i.p.subtract(b.ONE),d=i.q.subtract(b.ONE),f=c.multiply(d);0==f.gcd(h).compareTo(b.ONE)?(i.n=i.p.multiply(i.q),i.d=h.modInverse(f),i.dmp1=i.d.mod(c),i.dmq1=i.d.mod(d),i.coeff=i.q.modInverse(i.p),setTimeout(function(){e()},0)):setTimeout(j,0)},k=function(){i.q=c(),i.q.fromNumberAsync(g,1,f,function(){i.q.subtract(b.ONE).gcda(h,function(a){0==a.compareTo(b.ONE)&&i.q.isProbablePrime(10)?setTimeout(d,0):setTimeout(k,0)})})},l=function(){i.p=c(),i.p.fromNumberAsync(a-g,1,f,function(){i.p.subtract(b.ONE).gcda(h,function(a){0==a.compareTo(b.ONE)&&i.p.isProbablePrime(10)?setTimeout(k,0):setTimeout(l,0)})})};setTimeout(l,0)};setTimeout(j,0)};jc.prototype.generateAsync=a;var d=function(a,b){var c=this.s<0?this.negate():this.clone(),d=a.s<0?a.negate():a.clone();if(c.compareTo(d)<0){var e=c;c=d,d=e}var f=c.getLowestSetBit(),g=d.getLowestSetBit();if(0>g)return void b(c);g>f&&(g=f),g>0&&(c.rShiftTo(g,c),d.rShiftTo(g,d));var h=function(){(f=c.getLowestSetBit())>0&&c.rShiftTo(f,c),(f=d.getLowestSetBit())>0&&d.rShiftTo(f,d),c.compareTo(d)>=0?(c.subTo(d,c),c.rShiftTo(1,c)):(d.subTo(c,d),d.rShiftTo(1,d)),c.signum()>0?setTimeout(h,0):(g>0&&d.lShiftTo(g,d),setTimeout(function(){b(d)},0))};setTimeout(h,10)};b.prototype.gcda=d;var e=function(a,c,d,e){if("number"==typeof c)if(2>a)this.fromInt(1);else{this.fromNumber(a,d),this.testBit(a-1)||this.bitwiseTo(b.ONE.shiftLeft(a-1),hb,this),this.isEven()&&this.dAddOffset(1,0);var f=this,g=function(){f.dAddOffset(2,0),f.bitLength()>a&&f.subTo(b.ONE.shiftLeft(a-1),f),f.isProbablePrime(c)?setTimeout(function(){e()},0):setTimeout(g,0)};setTimeout(g,0)}else{var h=new Array,i=7&a;h.length=(a>>3)+1,c.nextBytes(h),i>0?h[0]&=(1<<i)-1:h[0]=0,this.fromString(h,256)}};b.prototype.fromNumberAsync=e}();var Mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nc="=",Oc=Oc||{};Oc.env=Oc.env||{};var Pc=Oc,Qc=Object.prototype,Rc="[object Function]",Sc=["toString","valueOf"];Oc.env.parseUA=function(a){var b,c=function(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 1==b++?"":"."}))},d=navigator,e={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:d&&d.cajaVersion,secure:!1,os:null},f=a||navigator&&navigator.userAgent,g=window&&window.location,h=g&&g.href;return e.secure=h&&0===h.toLowerCase().indexOf("https"),f&&(/windows|win32/i.test(f)?e.os="windows":/macintosh/i.test(f)?e.os="macintosh":/rhino/i.test(f)&&(e.os="rhino"),/KHTML/.test(f)&&(e.webkit=1),b=f.match(/AppleWebKit\/([^\s]*)/),b&&b[1]&&(e.webkit=c(b[1]),/ Mobile\//.test(f)?(e.mobile="Apple",b=f.match(/OS ([^\s]*)/),b&&b[1]&&(b=c(b[1].replace("_","."))),e.ios=b,e.ipad=e.ipod=e.iphone=0,b=f.match(/iPad|iPod|iPhone/),b&&b[0]&&(e[b[0].toLowerCase()]=e.ios)):(b=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),b&&(e.mobile=b[0]),/webOS/.test(f)&&(e.mobile="WebOS",b=f.match(/webOS\/([^\s]*);/),b&&b[1]&&(e.webos=c(b[1]))),/ Android/.test(f)&&(e.mobile="Android",b=f.match(/Android ([^\s]*);/),b&&b[1]&&(e.android=c(b[1])))),b=f.match(/Chrome\/([^\s]*)/),b&&b[1]?e.chrome=c(b[1]):(b=f.match(/AdobeAIR\/([^\s]*)/),b&&(e.air=b[0]))),e.webkit||(b=f.match(/Opera[\s\/]([^\s]*)/),b&&b[1]?(e.opera=c(b[1]),b=f.match(/Version\/([^\s]*)/),b&&b[1]&&(e.opera=c(b[1])),b=f.match(/Opera Mini[^;]*/),b&&(e.mobile=b[0])):(b=f.match(/MSIE\s([^;]*)/),b&&b[1]?e.ie=c(b[1]):(b=f.match(/Gecko\/([^\s]*)/),b&&(e.gecko=1,b=f.match(/rv:([^\s\)]*)/),b&&b[1]&&(e.gecko=c(b[1]))))))),e},Oc.env.ua=Oc.env.parseUA(),Oc.isFunction=function(a){return"function"==typeof a||Qc.toString.apply(a)===Rc},Oc._IEEnumFix=Oc.env.ua.ie?function(a,b){var c,d,e;for(c=0;c<Sc.length;c+=1)d=Sc[c],e=b[d],Pc.isFunction(e)&&e!=Qc[d]&&(a[d]=e)}:function(){},Oc.extend=function(a,b,c){if(!b||!a)throw new Error("extend failed, please check that all dependencies are included.");var d,e=function(){};if(e.prototype=b.prototype,a.prototype=new e,a.prototype.constructor=a,a.superclass=b.prototype,b.prototype.constructor==Qc.constructor&&(b.prototype.constructor=b),c){for(d in c)Pc.hasOwnProperty(c,d)&&(a.prototype[d]=c[d]);Pc._IEEnumFix(a.prototype,c)}},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(a){var b=a.toString(16);return b.length%2==1&&(b="0"+b),b},this.bigIntToMinTwosComplementsHex=function(a){var c=a.toString(16);if("-"!=c.substr(0,1))c.length%2==1?c="0"+c:c.match(/^[0-7]/)||(c="00"+c);else{var d=c.substr(1),e=d.length;e%2==1?e+=1:c.match(/^[0-7]/)||(e+=2);for(var f="",g=0;e>g;g++)f+="f";var h=new b(f,16),i=h.xor(a).add(b.ONE);c=i.toString(16).replace(/^-/,"")}return c},this.getPEMStringFromHex=function(a,b){var c=CryptoJS.enc.Hex.parse(a),d=CryptoJS.enc.Base64.stringify(c),e=d.replace(/(.{64})/g,"$1\r\n");return e=e.replace(/\r\n$/,""),"-----BEGIN "+b+"-----\r\n"+e+"\r\n-----END "+b+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var a="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+a.length+",v="+this.hV;var b=this.hV.length/2,c=b.toString(16);if(c.length%2==1&&(c="0"+c),128>b)return c;var d=c.length/2;if(d>15)throw"ASN.1 length too long to represent by 8x: n = "+b.toString(16);var e=128+d;return e.toString(16)+c},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(a){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(a){this.hTLV=null,this.isModified=!0,this.s=a,this.hV=stohex(this.s)},this.setStringHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.str?this.setString(a.str):"undefined"!=typeof a.hex&&this.setStringHex(a.hex))},Oc.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(a){utc=a.getTime()+6e4*a.getTimezoneOffset();var b=new Date(utc);return b},this.formatDate=function(a,b){var c=this.zeroPadding,d=this.localDateToUTC(a),e=String(d.getFullYear());"utc"==b&&(e=e.substr(2,2));var f=c(String(d.getMonth()+1),2),g=c(String(d.getDate()),2),h=c(String(d.getHours()),2),i=c(String(d.getMinutes()),2),j=c(String(d.getSeconds()),2);return e+f+g+h+i+j+"Z"},this.zeroPadding=function(a,b){return a.length>=b?a:new Array(b-a.length+1).join("0")+a},this.getString=function(){return this.s},this.setString=function(a){this.hTLV=null,this.isModified=!0,this.s=a,this.hV=stohex(this.s)},this.setByDateValue=function(a,b,c,d,e,f){var g=new Date(Date.UTC(a,b-1,c,d,e,f,0));this.setByDate(g)},this.getFreshValueHex=function(){return this.hV}},Oc.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(a){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(a){this.hTLV=null,this.isModified=!0,this.asn1Array=a},this.appendASN1Object=function(a){this.hTLV=null,this.isModified=!0,this.asn1Array.push(a)},this.asn1Array=new Array,"undefined"!=typeof a&&"undefined"!=typeof a.array&&(this.asn1Array=a.array)},Oc.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Oc.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(a){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var c=new b(String(a),10);this.setByBigInteger(c)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.bigint?this.setByBigInteger(a.bigint):"undefined"!=typeof a["int"]?this.setByInteger(a["int"]):"undefined"!=typeof a.hex&&this.setValueHex(a.hex))},Oc.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(a){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(a){this.hTLV=null,this.isModified=!0,this.hV=a},this.setUnusedBitsAndHexValue=function(a,b){if(0>a||a>7)throw"unused bits shall be from 0 to 7: u = "+a;var c="0"+a;this.hTLV=null,this.isModified=!0,this.hV=c+b},this.setByBinaryString=function(a){a=a.replace(/0+$/,"");var b=8-a.length%8;8==b&&(b=0);for(var c=0;b>=c;c++)a+="0";for(var d="",c=0;c<a.length-1;c+=8){var e=a.substr(c,8),f=parseInt(e,2).toString(16);1==f.length&&(f="0"+f),d+=f}this.hTLV=null,this.isModified=!0,this.hV="0"+b+d},this.setByBooleanArray=function(a){for(var b="",c=0;c<a.length;c++)b+=1==a[c]?"1":"0";this.setByBinaryString(b)},this.newFalseArray=function(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=!1;return b},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.hex?this.setHexValueIncludingUnusedBits(a.hex):"undefined"!=typeof a.bin?this.setByBinaryString(a.bin):"undefined"!=typeof a.array&&this.setByBooleanArray(a.array))},Oc.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(a){KJUR.asn1.DEROctetString.superclass.constructor.call(this,a),this.hT="04"},Oc.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Oc.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(a){var c=function(a){var b=a.toString(16);return 1==b.length&&(b="0"+b),b},d=function(a){var d="",e=new b(a,10),f=e.toString(2),g=7-f.length%7;7==g&&(g=0);for(var h="",i=0;g>i;i++)h+="0";f=h+f;for(var i=0;i<f.length-1;i+=7){var j=f.substr(i,7);i!=f.length-7&&(j="1"+j),d+=c(parseInt(j,2))}return d};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueOidString=function(a){if(!a.match(/^[0-9.]+$/))throw"malformed oid string: "+a;var b="",e=a.split("."),f=40*parseInt(e[0])+parseInt(e[1]);b+=c(f),e.splice(0,2);for(var g=0;g<e.length;g++)b+=d(e[g]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=b},this.setValueName=function(a){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[a])throw"DERObjectIdentifier oidName undefined: "+a;var b=KJUR.asn1.x509.OID.name2oidList[a];this.setValueOidString(b)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.oid?this.setValueOidString(a.oid):"undefined"!=typeof a.hex?this.setValueHex(a.hex):"undefined"!=typeof a.name&&this.setValueName(a.name))},Oc.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(a){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,a),this.hT="0c"},Oc.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(a){KJUR.asn1.DERNumericString.superclass.constructor.call(this,a),this.hT="12"},Oc.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(a){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,a),this.hT="13"},Oc.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(a){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,a),this.hT="14"},Oc.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(a){KJUR.asn1.DERIA5String.superclass.constructor.call(this,a),this.hT="16"},Oc.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(a){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,a),this.hT="17",this.setByDate=function(a){this.hTLV=null,this.isModified=!0,this.date=a,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof a&&("undefined"!=typeof a.str?this.setString(a.str):"undefined"!=typeof a.hex?this.setStringHex(a.hex):"undefined"!=typeof a.date&&this.setByDate(a.date))},Oc.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(a){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,a),this.hT="18",this.setByDate=function(a){this.hTLV=null,this.isModified=!0,this.date=a,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof a&&("undefined"!=typeof a.str?this.setString(a.str):"undefined"!=typeof a.hex?this.setStringHex(a.hex):"undefined"!=typeof a.date&&this.setByDate(a.date))},Oc.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(a){KJUR.asn1.DERSequence.superclass.constructor.call(this,a),this.hT="30",this.getFreshValueHex=function(){for(var a="",b=0;b<this.asn1Array.length;b++){var c=this.asn1Array[b];a+=c.getEncodedHex()}return this.hV=a,this.hV}},Oc.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(a){KJUR.asn1.DERSet.superclass.constructor.call(this,a),this.hT="31",this.getFreshValueHex=function(){for(var a=new Array,b=0;b<this.asn1Array.length;b++){var c=this.asn1Array[b];a.push(c.getEncodedHex())}return a.sort(),this.hV=a.join(""),this.hV}},Oc.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(a){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(a,b,c){this.hT=b,this.isExplicit=a,this.asn1Object=c,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=c.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,b),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.tag&&(this.hT=a.tag),"undefined"!=typeof a.explicit&&(this.isExplicit=a.explicit),"undefined"!=typeof a.obj&&(this.asn1Object=a.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Oc.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(a){"use strict";var b,c={};c.decode=function(c){var d;if(b===a){var e="0123456789ABCDEF",f=" \f\n\r	 \u2028\u2029";for(b=[],d=0;16>d;++d)b[e.charAt(d)]=d;for(e=e.toLowerCase(),d=10;16>d;++d)b[e.charAt(d)]=d;for(d=0;d<f.length;++d)b[f.charAt(d)]=-1}var g=[],h=0,i=0;for(d=0;d<c.length;++d){var j=c.charAt(d);if("="==j)break;if(j=b[j],-1!=j){if(j===a)throw"Illegal character at offset "+d;h|=j,++i>=2?(g[g.length]=h,h=0,i=0):h<<=4}}if(i)throw"Hex encoding incomplete: 4 bits missing";return g},window.Hex=c}(),function(a){"use strict";var b,c={};c.decode=function(c){var d;if(b===a){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="= \f\n\r	 \u2028\u2029";for(b=[],d=0;64>d;++d)b[e.charAt(d)]=d;for(d=0;d<f.length;++d)b[f.charAt(d)]=-1}var g=[],h=0,i=0;for(d=0;d<c.length;++d){var j=c.charAt(d);if("="==j)break;if(j=b[j],-1!=j){if(j===a)throw"Illegal character at offset "+d;h|=j,++i>=4?(g[g.length]=h>>16,g[g.length]=h>>8&255,g[g.length]=255&h,h=0,i=0):h<<=6}}switch(i){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:g[g.length]=h>>10;break;case 3:g[g.length]=h>>16,g[g.length]=h>>8&255}return g},c.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,c.unarmor=function(a){var b=c.re.exec(a);if(b)if(b[1])a=b[1];else{if(!b[2])throw"RegExp out of sync";a=b[2]}return c.decode(a)},window.Base64=c}(),function(a){"use strict";function b(a,c){a instanceof b?(this.enc=a.enc,this.pos=a.pos):(this.enc=a,this.pos=c)}function c(a,b,c,d,e){this.stream=a,this.header=b,this.length=c,this.tag=d,this.sub=e}var d=100,e="…",f={tag:function(a,b){var c=document.createElement(a);return c.className=b,c},text:function(a){return document.createTextNode(a)}};b.prototype.get=function(b){if(b===a&&(b=this.pos++),b>=this.enc.length)throw"Requesting byte offset "+b+" on a stream of length "+this.enc.length;return this.enc[b]},b.prototype.hexDigits="0123456789ABCDEF",b.prototype.hexByte=function(a){return this.hexDigits.charAt(a>>4&15)+this.hexDigits.charAt(15&a)},b.prototype.hexDump=function(a,b,c){for(var d="",e=a;b>e;++e)if(d+=this.hexByte(this.get(e)),c!==!0)switch(15&e){case 7:d+="  ";break;case 15:d+="\n";break;default:d+=" "}return d},b.prototype.parseStringISO=function(a,b){for(var c="",d=a;b>d;++d)c+=String.fromCharCode(this.get(d));return c},b.prototype.parseStringUTF=function(a,b){for(var c="",d=a;b>d;){var e=this.get(d++);c+=String.fromCharCode(128>e?e:e>191&&224>e?(31&e)<<6|63&this.get(d++):(15&e)<<12|(63&this.get(d++))<<6|63&this.get(d++))}return c},b.prototype.parseStringBMP=function(a,b){for(var c="",d=a;b>d;d+=2){var e=this.get(d),f=this.get(d+1);c+=String.fromCharCode((e<<8)+f)}return c},b.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,b.prototype.parseTime=function(a,b){var c=this.parseStringISO(a,b),d=this.reTime.exec(c);return d?(c=d[1]+"-"+d[2]+"-"+d[3]+" "+d[4],d[5]&&(c+=":"+d[5],d[6]&&(c+=":"+d[6],d[7]&&(c+="."+d[7]))),d[8]&&(c+=" UTC","Z"!=d[8]&&(c+=d[8],d[9]&&(c+=":"+d[9]))),c):"Unrecognized time: "+c},b.prototype.parseInteger=function(a,b){var c=b-a;if(c>4){c<<=3;var d=this.get(a);if(0===d)c-=8;else for(;128>d;)d<<=1,--c;return"("+c+" bit)"}for(var e=0,f=a;b>f;++f)e=e<<8|this.get(f);return e},b.prototype.parseBitString=function(a,b){var c=this.get(a),d=(b-a-1<<3)-c,e="("+d+" bit)";if(20>=d){var f=c;e+=" ";for(var g=b-1;g>a;--g){for(var h=this.get(g),i=f;8>i;++i)e+=h>>i&1?"1":"0";f=0}}return e},b.prototype.parseOctetString=function(a,b){var c=b-a,f="("+c+" byte) ";c>d&&(b=a+d);for(var g=a;b>g;++g)f+=this.hexByte(this.get(g));return c>d&&(f+=e),f},b.prototype.parseOID=function(a,b){for(var c="",d=0,e=0,f=a;b>f;++f){var g=this.get(f);if(d=d<<7|127&g,e+=7,!(128&g)){if(""===c){var h=80>d?40>d?0:1:2;c=h+"."+(d-40*h)}else c+="."+(e>=31?"bigint":d);d=e=0}}return c},c.prototype.typeName=function(){if(this.tag===a)return"unknown";var b=this.tag>>6,c=(this.tag>>5&1,31&this.tag);switch(b){case 0:switch(c){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+c.toString(16)}case 1:return"Application_"+c.toString(16);case 2:return"["+c+"]";case 3:return"Private_"+c.toString(16)}},c.prototype.reSeemsASCII=/^[ -~]+$/,c.prototype.content=function(){if(this.tag===a)return null;var b=this.tag>>6,c=31&this.tag,f=this.posContent(),g=Math.abs(this.length);if(0!==b){if(null!==this.sub)return"("+this.sub.length+" elem)";var h=this.stream.parseStringISO(f,f+Math.min(g,d));return this.reSeemsASCII.test(h)?h.substring(0,2*d)+(h.length>2*d?e:""):this.stream.parseOctetString(f,f+g)}switch(c){case 1:return 0===this.stream.get(f)?"false":"true";case 2:return this.stream.parseInteger(f,f+g);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(f,f+g);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(f,f+g);case 6:return this.stream.parseOID(f,f+g);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(f,f+g);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(f,f+g);case 30:return this.stream.parseStringBMP(f,f+g);case 23:case 24:return this.stream.parseTime(f,f+g)}return null},c.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},c.prototype.print=function(b){if(b===a&&(b=""),document.writeln(b+this),null!==this.sub){b+="  ";for(var c=0,d=this.sub.length;d>c;++c)this.sub[c].print(b)}},c.prototype.toPrettyString=function(b){b===a&&(b="");var c=b+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(c+="+"),c+=this.length,32&this.tag?c+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(c+=" (encapsulates)"),c+="\n",null!==this.sub){b+="  ";for(var d=0,e=this.sub.length;e>d;++d)c+=this.sub[d].toPrettyString(b)}return c},c.prototype.toDOM=function(){var a=f.tag("div","node");a.asn1=this;var b=f.tag("div","head"),c=this.typeName().replace(/_/g," ");b.innerHTML=c;var d=this.content();if(null!==d){d=String(d).replace(/</g,"&lt;");var e=f.tag("span","preview");e.appendChild(f.text(d)),b.appendChild(e)}a.appendChild(b),this.node=a,this.head=b;var g=f.tag("div","value");if(c="Offset: "+this.stream.pos+"<br/>",c+="Length: "+this.header+"+",c+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?c+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(c+="<br/>(encapsulates)"),null!==d&&(c+="<br/>Value:<br/><b>"+d+"</b>","object"==typeof oids&&6==this.tag)){var h=oids[d];h&&(h.d&&(c+="<br/>"+h.d),h.c&&(c+="<br/>"+h.c),h.w&&(c+="<br/>(warning!)"))}g.innerHTML=c,a.appendChild(g);var i=f.tag("div","sub");if(null!==this.sub)for(var j=0,k=this.sub.length;k>j;++j)i.appendChild(this.sub[j].toDOM());return a.appendChild(i),b.onclick=function(){a.className="node collapsed"==a.className?"node":"node collapsed"},a},c.prototype.posStart=function(){return this.stream.pos},c.prototype.posContent=function(){return this.stream.pos+this.header},c.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},c.prototype.fakeHover=function(a){this.node.className+=" hover",a&&(this.head.className+=" hover")},c.prototype.fakeOut=function(a){var b=/ ?hover/;this.node.className=this.node.className.replace(b,""),a&&(this.head.className=this.head.className.replace(b,""))},c.prototype.toHexDOM_sub=function(a,b,c,d,e){if(!(d>=e)){var g=f.tag("span",b);g.appendChild(f.text(c.hexDump(d,e))),a.appendChild(g)}},c.prototype.toHexDOM=function(b){var c=f.tag("span","hex");if(b===a&&(b=c),this.head.hexNode=c,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},c.asn1=this,c.onmouseover=function(){var a=!b.selected;a&&(b.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(a)},c.onmouseout=function(){var a=b.selected==this.asn1;this.asn1.fakeOut(a),a&&(b.selected=null,this.className="hex")},this.toHexDOM_sub(c,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(c,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)c.appendChild(f.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var d=this.sub[0],e=this.sub[this.sub.length-1];this.toHexDOM_sub(c,"intro",this.stream,this.posContent(),d.posStart());for(var g=0,h=this.sub.length;h>g;++g)c.appendChild(this.sub[g].toHexDOM(b));this.toHexDOM_sub(c,"outro",this.stream,e.posEnd(),this.posEnd())}return c},c.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},c.decodeLength=function(a){var b=a.get(),c=127&b;if(c==b)return c;if(c>3)throw"Length over 24 bits not supported at position "+(a.pos-1);if(0===c)return-1;b=0;for(var d=0;c>d;++d)b=b<<8|a.get();return b},c.hasContent=function(a,d,e){if(32&a)return!0;if(3>a||a>4)return!1;var f=new b(e);3==a&&f.get();var g=f.get();
if(g>>6&1)return!1;try{var h=c.decodeLength(f);return f.pos-e.pos+h==d}catch(i){return!1}},c.decode=function(a){a instanceof b||(a=new b(a,0));var d=new b(a),e=a.get(),f=c.decodeLength(a),g=a.pos-d.pos,h=null;if(c.hasContent(e,f,a)){var i=a.pos;if(3==e&&a.get(),h=[],f>=0){for(var j=i+f;a.pos<j;)h[h.length]=c.decode(a);if(a.pos!=j)throw"Content size is not correct for container starting at offset "+i}else try{for(;;){var k=c.decode(a);if(0===k.tag)break;h[h.length]=k}f=i-a.pos}catch(l){throw"Exception while decoding undefined length content: "+l}}else a.pos+=f;return new c(d,g,f,e,h)},c.test=function(){for(var a=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],d=0,e=a.length;e>d;++d){var f=new b(a[d].value,0),g=c.decodeLength(f);g!=a[d].expected&&document.write("In test["+d+"] expected "+a[d].expected+" got "+g+"\n")}},window.ASN1=c}(),ASN1.prototype.getHexStringValue=function(){var a=this.toHexString(),b=2*this.header,c=2*this.length;return a.substr(b,c)},jc.prototype.parseKey=function(a){try{var b=0,c=0,d=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,e=d.test(a)?Hex.decode(a):Base64.unarmor(a),f=ASN1.decode(e);if(3===f.sub.length&&(f=f.sub[2].sub[0]),9===f.sub.length){b=f.sub[1].getHexStringValue(),this.n=hc(b,16),c=f.sub[2].getHexStringValue(),this.e=parseInt(c,16);var g=f.sub[3].getHexStringValue();this.d=hc(g,16);var h=f.sub[4].getHexStringValue();this.p=hc(h,16);var i=f.sub[5].getHexStringValue();this.q=hc(i,16);var j=f.sub[6].getHexStringValue();this.dmp1=hc(j,16);var k=f.sub[7].getHexStringValue();this.dmq1=hc(k,16);var l=f.sub[8].getHexStringValue();this.coeff=hc(l,16)}else{if(2!==f.sub.length)return!1;var m=f.sub[1],n=m.sub[0];b=n.sub[0].getHexStringValue(),this.n=hc(b,16),c=n.sub[1].getHexStringValue(),this.e=parseInt(c,16)}return!0}catch(o){return!1}},jc.prototype.getPrivateBaseKey=function(){var a={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},b=new KJUR.asn1.DERSequence(a);return b.getEncodedHex()},jc.prototype.getPrivateBaseKeyB64=function(){return tc(this.getPrivateBaseKey())},jc.prototype.getPublicBaseKey=function(){var a={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},b=new KJUR.asn1.DERSequence(a);a={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var c=new KJUR.asn1.DERSequence(a);a={hex:"00"+c.getEncodedHex()};var d=new KJUR.asn1.DERBitString(a);a={array:[b,d]};var e=new KJUR.asn1.DERSequence(a);return e.getEncodedHex()},jc.prototype.getPublicBaseKeyB64=function(){return tc(this.getPublicBaseKey())},jc.prototype.wordwrap=function(a,b){if(b=b||64,!a)return a;var c="(.{1,"+b+"})( +|$\n?)|(.{1,"+b+"})";return a.match(RegExp(c,"g")).join("\n")},jc.prototype.getPrivateKey=function(){var a="-----BEGIN RSA PRIVATE KEY-----\n";return a+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",a+="-----END RSA PRIVATE KEY-----"},jc.prototype.getPublicKey=function(){var a="-----BEGIN PUBLIC KEY-----\n";return a+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",a+="-----END PUBLIC KEY-----"},jc.prototype.hasPublicKeyProperty=function(a){return a=a||{},a.hasOwnProperty("n")&&a.hasOwnProperty("e")},jc.prototype.hasPrivateKeyProperty=function(a){return a=a||{},a.hasOwnProperty("n")&&a.hasOwnProperty("e")&&a.hasOwnProperty("d")&&a.hasOwnProperty("p")&&a.hasOwnProperty("q")&&a.hasOwnProperty("dmp1")&&a.hasOwnProperty("dmq1")&&a.hasOwnProperty("coeff")},jc.prototype.parsePropertiesFrom=function(a){this.n=a.n,this.e=a.e,a.hasOwnProperty("d")&&(this.d=a.d,this.p=a.p,this.q=a.q,this.dmp1=a.dmp1,this.dmq1=a.dmq1,this.coeff=a.coeff)};var Tc=function(a){jc.call(this),a&&("string"==typeof a?this.parseKey(a):(this.hasPrivateKeyProperty(a)||this.hasPublicKeyProperty(a))&&this.parsePropertiesFrom(a))};Tc.prototype=new jc,Tc.prototype.constructor=Tc;var Uc=function(a){a=a||{},this.default_key_size=parseInt(a.default_key_size)||1024,this.default_public_exponent=a.default_public_exponent||"010001",this.log=a.log||!1,this.key=null};Uc.prototype.setKey=function(a){this.log&&this.key,this.key=new Tc(a)},Uc.prototype.setPrivateKey=function(a){this.setKey(a)},Uc.prototype.setPublicKey=function(a){this.setKey(a)},Uc.prototype.decrypt=function(a){try{return this.getKey().decrypt(uc(a))}catch(b){return!1}},Uc.prototype.encrypt=function(a){try{return tc(this.getKey().encrypt(a))}catch(b){return!1}},Uc.prototype.getKey=function(a){if(!this.key){if(this.key=new Tc,a&&"[object Function]"==={}.toString.call(a))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,a);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},Uc.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},Uc.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},Uc.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},Uc.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},a.JSEncrypt=Uc}(c),b.exports=c.JSEncrypt},{}],14:[function(a,b){b.exports={data:{},initData:function(){this.data={postUrl:util.proxifyUrl(util.localizeUrl(util.getCurrentBaseUrl()+"/apiv3/submitForm/"+rules.getSelectedSection().get("id"))),filePostUrl:util.proxifyUrl(util.localizeUrl(util.getCurrentBaseUrl()+"/apiv3/submitItemForm/"+rules.getSelectedSection().get("id"))),post:"",validform:!0,fieldAddress:[],monthTab:[0,31,0,31,30,31,30,31,31,30,31,30,31],forcedScroll:!1,postObj:{}}},init:function(){this.initData(),rules.getFormListCountries(function(a){$(".blockSelect._country").each(function(){var b="",c=$(this).find("select.fieldAddress").attr("data-default");for(i in a)b+="<option class='"+(i==c?"selectedPays":"")+"' value=\""+a[i]+'" >'+a[i]+"</option>";$(this).find("select.fieldAddress").append(b).val($(this).find(".selectedPays").val()),$(this).find("span.fieldAddress").html($(this).find(".selectedPays").val()).removeClass("placeholderSelect")})}),$(".adjustLH").each(function(){$(this).hasClass("priceBlock")?$(this).find(".canvas, p").css("line-height","45px"):$(this).find(".canvas, p").css("line-height","38px")}),$(".required").each(function(){var a=$(this).attr("placeholder");util.empty(a)||a.endsWith("*")||$(this).attr("placeholder",a+"*")}),$(".placeholderTop").each(function(){if($(this).data("required")){var a=$(this).html();a.endsWith("*")||$(this).html(a+"*")}}),this.bindListeners(),this.initReverseGeocoding()},bindListeners:function(){var a=this;$(".blockInput .fileButton").on("click.removable",function(){var a=$(this).attr("data-submit-input");$("."+a).trigger("click")}),$("input").on("click.removable, focus.removable",this.toggleDateTimePickers),$(".blockSelector p").on("click.removable",this.selectBlockPickerElement),$(".validSelector p").on("click.removable",this.closeAndCheckPicker),$("input, textarea").on("blur",this.validateTextInput),$("input.submitButton").on("click",this.submitHandler),$("input, textarea").on("click.removable, focus.removable",function(){$(this).hasClass("errorVerifClass")&&$(this).removeClass("errorVerifClass")}),$(".blockSelect").on("change.removable",function(){$(this).removeClass("errorVerifClassBorder"),$(this).find("span:first").removeClass("errorVerifClassText"),a.verifSelect($(this))}),$(".checkbox input, .radio input").on("click",function(){var b=$(this).parent().parent();b.find("p.errorVerifClassText").removeClass("errorVerifClassText"),a.verifCheckbox(b,b.hasClass("required"))})},initReverseGeocoding:function(){function a(){var a=function(a,b){a||util.MAP.reverseGeocoding(b,function(a){if(!a.error&&a.address){var b=$(".pin").parent().parent();b.find(".errorVerifClass").removeClass("errorVerifClass"),b.find(".errorVerifClassText").removeClass("errorVerifClassText"),b.find(".errorVerifClassBorder").removeClass("errorVerifClassBorder"),_.each({"._address":a.address,"._address2":a.address2,"._city":a.city,"._state":a.state,"._zipCode":a.postCode,"._country select":a.country,"._country span":a.country},function(a,c){util.empty(a)||b.find(c).val(a)}),util.empty(a.country)||b.find("._country span").html(a.country)}})};util.MAP.getUserLocation(a,a)}$(".pin").length&&(a(),$(".pin").on("click",a))},managePickersScroll:function(){function a(a){var b=$(a).scrollTop();nb=e>=b?Math.floor((user.device.desktop?b+16:b+16)/f):Math.ceil((user.device.desktop?b-16:b-16)/f),e=nb*f,modules.form.data.forcedScroll=!0,$(a).find("p:nth-child("+(nb+1)+")").trigger("click")}function b(){if(f=f?f:$(this).children().first().outerHeight(),clearTimeout(c),!modules.form.data.forcedScroll){var b=this;c=setTimeout(function(){a(b)},d)}modules.form.data.forcedScroll=!1}var c=null,d=user.device.desktop?200:125,e=0,f=!1;modules.form.data.forcedScroll=!1,$(".blockSelector").bind("scroll",b)},toggleDateTimePickers:function(){$(this).parent().next(".picker, .timePicker").hasClass("open")||user.os.android||($(".open .validSelector p").trigger("click"),!$(this).hasClass("dateInput")&&!$(this).hasClass("timeInput")||$(this).hasClass("selectedInput")||($(this).addClass("selectedInput"),$(this).parent().next(".picker, .timePicker").slideToggle(400,function(){$(this).addClass("open")}),str=parseInt($(this).attr("data-date")),date=new Date(str),year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate(),hour=date.getHours()+1,minute=date.getMinutes()+1,$(this).parent().next(".picker, .timePicker").find(".blockSelector").each(function(){$(this).find("p").show(),$(this).hasClass("daySelector")&&($(".daySelector p").show(),feb=year%4==0&&year%100!=0||year%400==0?29:28,modules.form.data.monthTab[2]=feb,hideP=modules.form.data.monthTab[month],$(".daySelector p:nth-child("+hideP+") ~ p").hide(),$(this).find("p.selected").removeClass("selected"),$(".daySelector p:nth-child("+day+")").addClass("selected")),$(this).hasClass("monthSelector")&&($(this).find("p.selected").removeClass("selected"),$(".monthSelector p:nth-child("+month+")").addClass("selected")),$(this).hasClass("yearSelector")&&($(this).find("p.selected").removeClass("selected"),actualYear=parseInt($(this).attr("data-date")),$(".yearSelector p:nth-child("+(actualYear-year+51)+")").addClass("selected")),$(this).hasClass("hourSelector")&&($(this).find("p.selected").removeClass("selected"),$(".hourSelector p:nth-child("+hour+")").addClass("selected")),$(this).hasClass("minuteSelector")&&($(this).find("p.selected").removeClass("selected"),$(".minuteSelector p:nth-child("+minute+")").addClass("selected")),val=$(this).find("p.selected").attr("data-value"),modules.form.data.forcedScroll=!0,$(this).scrollTop(32*(val-1))})))},closeAndCheckPicker:function(){var a=new Date;$(".picker.open, .timePicker.open").slideToggle(400).removeClass("open"),$picker=$(this).parent().parent(),$(this).hasClass("validTime")?(a.setHours($picker.find(".hourSelector p.selected").attr("data-value")-1),a.setMinutes($picker.find(".minuteSelector p.selected").attr("data-value")-1),$(".selectedInput").attr("value",util.Tokens.dateFormat(a,"GB_DATEHOUR"))):(a.setYear($picker.find(".yearSelector p.selected").html()),a.setMonth($picker.find(".monthSelector p.selected").attr("data-value")-1),a.setDate($picker.find(".daySelector p.selected").attr("data-value")),$(".selectedInput").attr("value",util.Tokens.dateFormat(a))),$(".selectedInput").attr("data-date",a.valueOf()),$(".selectedInput").removeClass("selectedInput")},selectBlockPickerElement:function(){year=parseInt($(this).html()),$selector=$(this).parent(),val=$(this).attr("data-value"),modules.form.data.forcedScroll=!0,$selector.scrollTop(32*(val-1)),$selector.find("p").removeClass("selected"),$selector.hasClass("monthSelector")?($(".daySelector p").show(),val=$(this).attr("data-value"),year=$(".yearSelector p.selected").html(),feb=year%4==0&&year%100!=0||year%400==0?29:28,modules.form.data.monthTab[2]=feb,hideP=modules.form.data.monthTab[val],$(".daySelector p:nth-child("+hideP+") ~ p").hide()):$selector.hasClass("yearSelector")&&2==$(".monthSelector p.selected").attr("data-value")&&($(".daySelector p").show(),feb=year%4==0&&year%100!=0||year%400==0?29:28,hideP=feb,$(".daySelector p:nth-child("+hideP+") ~ p").hide()),$(this).addClass("selected")},validateTextInput:function(){if(/checkbox|radio|button|file/.test($(this).attr("type")))return!1;var a=$(this).val(),b=$(this),c=$(this).attr("data-field-type"),d=!1,e=!1,f=!1;switch(c){case"GBFieldNumber":d=/^[0-9,. -]+$/g;break;case"GBFieldName":e=/[\\\^\$\{\}\[\]\(\)\.\+\?\|\&\/@#&"§!°_*€%£`,;:¿•±¥Ø»’”„´<>]/g;break;case"GBFieldMail":a=a.toLowerCase(),d=/^[a-z0-9._%+-]+@[a-z0-9._-]{2,}.[a-z]{2,4}$/;break;case"GBFieldPhone":d=/^([0-9,. -()+*\#]+)?((((\+[\d\-.]{1,5})?[ \-.]?\d{3})|(\+[\d\-.]{1,5})?[ \-.]?\((\d{3}\)))?[ \-.]?\d{3}[ \-.]?\d{4}\s?(e?x?t?\.?\s?\d{1,7})?)?$/;break;case"GBFieldWebsite":d=/^(https?:\/\/)?([a-zA-Z0-9\.-]+)(.|:)([a-zA-Z0-9\.]{2,6})([\/\w \.-=#!]*)*\/?$/;break;case"GBFieldPrice":d=/^[0-9., -]+$/g;break;case"GBFieldDate":user.os.android?(a=$(this).val()||new Date,a=moment(a).locale("en").format("YYYY-MM-DD")):(a=$(this).attr("data-date")||(new Date).getTime(),a=moment(parseInt(a)).locale("en").format("YYYY-MM-DD"));break;case"GBFieldTime":user.os.android?(a=$(this).val()||new Date,a=moment(a,"HH:mm").locale("en").format("HH:mm")):(a=$(this).attr("data-date")||(new Date).getTime(),a=moment(parseInt(a)).locale("en").format("HH:mm"));break;default:d=!1}if(d?f=!d.test(a):e&&(f=e.test(a)),f&&!_.isEmpty(a)||_.isEmpty(a)&&b.hasClass("required"))$(this).hasClass("errorVerifClass")?!1:$(this).addClass("errorVerifClass"),modules.form.data.validform=!1;else if(!f)if($(this).hasClass("fieldAddress")){var g=$(this).attr("name").split("_"),h=g[1],g=g[0];_.not(modules.form.data.fieldAddress[g])&&(modules.form.data.fieldAddress[g]={}),modules.form.data.fieldAddress[g][h]=a}else modules.form.data.postObj[$(this).attr("name")]=$.trim(a)},verifSelect:function(a){if(a.find("span:first").hasClass("placeholderSelect")&&a.find("span:first").hasClass("required"))a.hasClass("errorVerifClassBorder")||(a.addClass("errorVerifClassBorder"),a.find("span:first").addClass("errorVerifClassText")),modules.form.data.validform=!1;else if(!a.find("span:first").hasClass("placeholderSelect"))if(a.hasClass("_country")){var b,c=a.find("select").attr("name").split("_")[0],d=a.find("span:first").html();modules.form.data.postObj[c]=modules.form.data.postObj[c]||{},_.each(util.data.countryList,function(a,c){a==d&&(b=c)}),modules.form.data.fieldAddress[c]=modules.form.data.fieldAddress[c]||{},modules.form.data.fieldAddress[c].country=b,modules.form.data.postObj[c]=modules.form.data.fieldAddress[c]}else modules.form.data.postObj[a.find("select").attr("name")]=a.find("span:first").html()},verifCheckbox:function(a,b,c){var d=function(){var c=!1;if(c=a.find("label.ui-checkbox-on, label.ui-radio-on").get(0)?!1:!0,modules.form.data.validform=c&&b?!1:modules.form.data.validform,c&&b&&!a.find("p:first").hasClass("errorVerifClassText"))a.find("p:first").addClass("errorVerifClassText");else{var d="",e=[];a.find("label.ui-checkbox-on, label.ui-radio-on").each(function(){$(this).hasClass("ui-radio-on")?modules.form.data.postObj[$(this).next("input").attr("name")]=$(this).next("input").attr("value"):(d=""==d?$(this).next("input").attr("name"):d,e.push($(this).next("input").attr("value")))}),_.isEmpty(e)||(modules.form.data.postObj[d]=e)}};c?d():setTimeout(d)},scrollWindowToFirstError:function(){var a,b;$("[class*=errorVerifClass]").each(function(){var c=$(this).offset().top;(!a||a>c)&&(a=c,b=this)}),$("html, body").animate({scrollTop:$(b).offset().top-50},"slow")},submitHandler:function(){if(modules.form.data.post="",modules.form.data.postObj={},modules.form.data.validform=!0,modules.form.data.fieldAddress=[],$("input, textarea").trigger("blur"),$(".fileButton").each(function(){var a=$("."+$(this).attr("data-submit-input")),b=a.val(),c=a;_.isEmpty(b)&&c.hasClass("required")&&($(this).hasClass("errorVerifClass")?"":$(this).addClass("errorVerifClass"),modules.form.data.validform=!1)}),$(".blockInput.checkbox, .blockInput.radio").each(function(){$(this).find("p.errorVerifClassText").removeClass("errorVerifClassText"),modules.form.verifCheckbox($(this),$(this).find(".required").get(0),!0)}),$(".blockSelect").each(function(){modules.form.verifSelect($(this))}),modules.form.data.postParams={datas:JSON.stringify(modules.form.data.postObj)},modules.form.data.validform){var a=rules.getSelectedSection();util.empty(a.get("confirmationMessage"))?modules.form.postForm():modules.popup.show("formConfirm",{title:a.get("confirmationMessage"),buttonText1:appLang.GB_TXT_128,buttonText2:appLang.GB_TXT_127,clickHandler2:function(){modules.form.postForm()}})}else modules.form.scrollWindowToFirstError()},postForm:function(){var a=modules.form.data.postUrl;modules.popup.show("loadingPopup",{title:"<h1>"+appLang.GB_TXT_40+'</h1><progress id="popupProgressBar" max="100" value="50"></progress>',buttonText1:appLang.ANNULER}),$.post(a,modules.form.data.postParams,function(a){if(a)switch(a.stat){case"error":modules.form.onSendError();break;case"pending":modules.form.onSendPending(a.id_reponse);break;case"ok":modules.form.onSendSuccess(a.id_reponse)}},"json")},postFiles:function(a,b,c){var d=modules.form;$(".sendFile.filled").each(function(){var e=$(this).attr("name"),f=this;f.files.length?$.ajax({url:d.data.filePostUrl,type:"POST",contentType:!1,processData:!1,data:function(){var b=new FormData;return b.append("id_reponse",a),b.append("id_field",e),b.append("file",f.files[0]),b}(),error:b||function(){},success:c||function(){}}):d.onSendError(e)})},onSendError:function(a){if(modules.popup.hide("loadingPopup"),a)$(".fileButton[data-submit-input='sendFile"+a+"']").addClass("errorVerifClass"),modules.form.scrollWindowToFirstError();else{var b=rules.getSelectedSection(),c=b.get("errorMessage")||appLang.GB_SETTINGS_8;util.empty(c)||modules.popup.show("formError",{title:c,buttonText1:appLang.GB_TXT_110})}},onSendPending:function(a){this.postFiles(a,function(){modules.form.onSendError(fileID)},function(a){"error"==a.stat?modules.form.onSendError(fileID):"ok"==a.stat&&modules.form.onSendSuccess()})},onSendSuccess:function(a){function b(){$("#popupProgressBar").attr("value",100),setTimeout(function(){modules.popup.hide("loadingPopup")},500);var a=rules.getSelectedSection(),b=a.get("endingMessage")||appLang.GB_TXT_96;util.empty(b)||modules.popup.show("formSent",{title:b,buttonText1:appLang.GB_TXT_110}),$("form")[0].reset(),$(".sendFile.filled").length&&$(".sendFile.filled").each(function(){var a=$(this).next(".previewFileCanvas"),b=a.get(0).getContext("2d");b.clearRect(0,0,320,320),$(this).removeClass("filled")})}a&&($(".sendFile.filled")&&$(".sendFile.filled").length?this.postFiles(a,modules.form.onSendError,b):b())}}},{}],15:[function(a,b){b.exports={data:{protocolList:[],baseUrlList:[]},initData:function(){var a=["goodbarber://",appSettings.get("urlScheme")+"://"],b=[];_.pos(appSettings.get("baseUrl"))&&b.push(appSettings.get("baseUrl")),_.pos(appSettings.get("mobileUrl"))&&b.push(appSettings.get("mobileUrl")),_.each(appSections,function(a){var c=a.get("baseUrl");_.pos(c)&&b.push(c)},this),this.data.protocolList=a,this.data.baseUrlList=_.uniq(b)},init:function(){this.initData()},getLinkType:function(a){var b=!1,c=!1;if(_.each(this.data.protocolList,function(c){b||0!=a.indexOf(c)||(b=c)}),b){var d=a.split(b);if(_.pos(d[1]))return"protocolLink"}else{var e=util.getCurrentBaseUrl();if(_.each(this.data.baseUrlList,function(b){c||0!=a.indexOf(b)||b==e||(c=b)}),c)return"itemLink"}return"normalLink"},activateProtocolLink:function(a,b){var c=a.attr("href");c=c.replace(appSettings.get("urlScheme")+"://","goodbarber://"),postProtocolPath=c.split("goodbarber://")[1];var d=!1;if(_.each(modules.plugin.pluginMethods,function(a){0==postProtocolPath.indexOf(a)&&(d=!0)}),b&&d)a.on("click",function(a){return a.preventDefault(),modules.plugin.evalPath(c),!1});else{var e=b?"window.parent.":"",f=";return false;";if(0==postProtocolPath.indexOf("#!")&&(postProtocolPath=postProtocolPath.replace("#!","")),0==postProtocolPath.indexOf("section=")){var g=postProtocolPath.split("=")[1],h=appSections[g];if(!preview&&h&&"GBModuleTypeShop"==h.get("type")&&_.neg(h.get("htmlForceInternalEcommerce"))){var i=h.get("url");a.attr("href",i),a.attr("target","_blank")}else a.attr("onclick",e+"rules.setHash('"+postProtocolPath+"')"+f)}else if(0==postProtocolPath.indexOf("url=")||0==postProtocolPath.indexOf("openExternal")){var i;-1!=postProtocolPath.indexOf("?")&&(i=postProtocolPath.split("?")[1]),i=decodeURIComponent(i);var i=rules.getPost("url",i);-1!=postProtocolPath.indexOf("external=1")||0==postProtocolPath.indexOf("openExternal")?(a.attr("href",i),a.attr("target","_blank")):a.attr("onclick",e+"location.href='"+i+"'"+f)}else if(0==postProtocolPath.indexOf("openapp")){var i=decodeURIComponent(postProtocolPath.split("&url=")[1]);a.attr("href",i),a.attr("target","_blank")}else if(0==postProtocolPath.indexOf("maps")){var j=postProtocolPath.split("?q=")[1],k=user.os.ios?"http://maps.apple.com/?q=":"http://maps.google.com/maps?q=",l=k+j;a.attr("target","_blank").attr("href",l)}else if(0==postProtocolPath.indexOf("gotosection")){-1!=postProtocolPath.indexOf("?")&&(postProtocolPath=postProtocolPath.split("?")[1]);var m=rules.getPost("id",postProtocolPath);a.attr("onclick",e+"rules.setHash('section="+m+"')"+f)}else(0==postProtocolPath.indexOf("root")||0==postProtocolPath.indexOf("#!root"))&&a.attr("onclick",e+"rules.setHash('')"+f)}},activateItemLink:function(a,b,c){var d=util.getCurrentBaseUrl()+"/apiv3/getItemByUrlNoSection/"+encodeURIComponent(c),e=";return false;";contentLoader.requestContent(d,function(c){c&&c.items&&c.items[0]&&c.items[0].id?b?a.attr("onclick","window.parent.rules.setHash('section="+c.items[0].idSection+"&item="+c.items[0].id+"')"+e):a.attr("onclick","rules.setHash('section="+c.items[0].idSection+"&item="+c.items[0].id+"')"+e):modules.linkManager.translateLinkToExternalLink(a)})},translateInternalLinkToRelativeLink:function(a,b,c){b?a.on("click",function(){return window.parent.location.hash=c,!1}):a.attr("href",c)},translateLinkToExternalLink:function(a){a.attr("target","_blank")},replaceLink:function(a){var b=(util.getLocation(util.getCurrentBaseUrl()).hostname.replace("www.",""),window.location.href.split("#")[0].replace("www.","")),c=";return false;";try{var d=rules.getSelectedSection();if(a&&preview&&d&&"GBModuleTypeShop"==d.get("type"))return newLink="javascript:void(0);",void $a.attr("onclick","parent.parent.showNotSupportedInPreviewMessage();"+c);var e=$(this),f=e.get(0),g=f.href,h=g.split("#")[0].replace("www.",""),i=_.is(g)?g.split("="):"",j=(_.isEmpty(i)?"":i.shift(),modules.linkManager.getLinkType(g)),k=(f.hostname.replace("www.",""),f.hash);"protocolLink"==j?modules.linkManager.activateProtocolLink(e,a):"itemLink"==j?modules.linkManager.activateItemLink(e,a,f):0==g.indexOf("#")||(h==b?modules.linkManager.translateInternalLinkToRelativeLink(e,a,k):e.attr("target")&&"_blank"==e.attr("target")||modules.linkManager.translateLinkToExternalLink(e))}catch(l){return util.postError("modules.linkManager.updateLinks",l,l.stack),""}},updateLinks:function(){var a=rules.getSelectedSection();a&&($("a:external").each(function(){modules.linkManager.replaceLink.call(this,!1)}),$("iframe").each(function(){var b=util.getIframeContents(this);if(b){b.find("a:external").each(function(){modules.linkManager.replaceLink.call(this,!0)});var c=/\/?apiv3\/section\/\d+\/(.+)/;b.find('[rel="stylesheet"]').not('[href*="assets"]').not('[href^="http"]').each(function(){var b=$(this).attr("href");if(!c.test(b)){var d="/apiv3/section/[SECTIONID]/[OLDHREF]".replace("[SECTIONID]",a.get("id")).replace("[OLDHREF]",b);$(this).attr("href",d)}})}}))}}},{}],16:[function(a,b){var c=a("../templates/templateFactory");b.exports={data:{},initData:function(){if(this.data={loggedIn:!1,baseRequestParams:{appId:rules.getIdWebzine()},baseRequestAttribs:{lg:util.getUserLanguage()},skippedLogins:[],userSkippedLogin:!1,signupHasTwoSteps:!1,signupInfos:{},signupFromSocial:!1},preview)this.data.user=this.getJohnDoe(),this.data.userId=parseInt(this.data.user.userId),this.data.loggedIn=!0;else{var a=modules.storage.get("userId"),b=modules.storage.get("user");if(a&&b){var c=modules.storage.get("lastUserSaveTime");c&&new Date-modules.storage.get("lastUserSaveTime")<36e5?this.autoLoginSuccess(b):setTimeout(function(){modules.api.userapi.request("getUser",{userId:a},function(a,b){!a&&b?(modules.login.autoLoginSuccess(b.user),currentViewIsLogin&&modules.login.closeLoginModal()):modules.profile.unpersistUser()})})}}modules.profile.getProfileSection()&&modules.profile.rules.hasRequiredFields()&&(this.data.signupHasTwoSteps=!0),this.propagateIsRestricted()},init:function(){this.initData(),this.loadSocialLogins()},getBaseRequestAttributes:function(){var a=_.clone(this.data.baseRequestParams);return a.attribs=_.clone(this.data.baseRequestAttribs),a},getJohnDoe:function(){var a,b={nbComments:0,age:"28",name:"User Name",urlProfil:"",nbShare:0,gender:"m",email:"email.address@user.com",lg:"fr",nbFacebook:0,etat:"",attribs:{location:"Ajaccio, Corsica",geoloc:"41.913452299999996, 8.7371147",displayName:"User Name",description:"Description entered by user",intern:{},socialAccountsUrl:{}},hasPasswd:!0,nbTwitter:0,urlPhoto:util.getRelativeUrlBase()+"/assets/img/gbpreview/defaultProfileCover.jpg",date:"2015-03-13",platform:"mars",userId:123456789,udid:null,login:"johndoe@johndoe.com"},c=modules.profile.getProfileSection();return c&&(_.each(c.get("fields"),function(c){"GBUserFieldText"==c.type?a="Lorem ipsum dolor sit amet":"GBUserFieldParagraph"==c.type?a="Lorem ipsum dolor sit amet, consectetur adipiscing elit":"GBUserFieldNumber"==c.type?a="42":"GBUserFieldDropdown"==c.type?a="First option":"GBUserFieldPhone"==c.type&&(a="+44 7700 900085"),b.attribs.intern[c.id]={value:a}},this),_.each(c.get("social"),function(a){b.attribs.socialAccountsUrl[a.type]="http://www.example.com/john.doe"},this)),b},autoLoginSuccess:function(a){modules.profile.saveUser(a),currentViewIsLogin=!modules.login.checkAccessOnCurrentView().status,modules.login.data.loggedIn=!0},isFacebookLoginEnabled:function(){return _.pos(appSettings.get("login.facebookEnabled"))&&_.pos(appSettings.get("compilation.sharing.facebook.appId"))},isTwitterLoginEnabled:function(){if(!preview)return!1;var a=appSettings.get("compilation.sharing.twitter.apiKeyNotEmpty");return _.pos(appSettings.get("login.twitterEnabled"))&&(_.not(a)||_.pos(a))},loadSocialLogins:function(){this.isFacebookLoginEnabled()&&this.facebook.init(),this.isTwitterLoginEnabled()&&this.twitter.init()},propagateIsRestricted:function(){_.each(appSettings.get("root.targets"),function(a){function b(a){var c=appSections[a];if(c){var d=util.getSectionParentID(c);("root"==d&&_.pos(appSettings.get("isRestricted"))||"root"!=d&&_.pos(appSections[d].get("isRestricted")))&&appSections[a].set("isRestricted","1"),_.each(c.get("targets"),function(a){b(a)})}}b(a)},this)},clearAuthorizations:function(){appSettings.set("root.userIsNotAuthorized","0"),_.each(appSections,function(a,b){appSections[b].set("userIsNotAuthorized","0")},this)},propagateAuthorizations:function(){function a(c){if(appSections[c]){if(b.authorization[c]&&_.neg(b.authorization[c]))appSections[c].set("userIsNotAuthorized","1");else{var d=util.getSectionParentID(appSections[c]);b.authorization[d]&&_.neg(b.authorization[d])&&appSections[c].set("userIsNotAuthorized","1")}_.each(appSections[c].get("targets"),function(b){a(b)})}}if(_.pos(appSettings.get("usergroupsDisabled")))return this.clearAuthorizations();var b=modules.login.data.user;!preview&&b&&_.pos(b.authorization)&&(b.authorization.root&&_.neg(b.authorization.root)&&appSettings.set("root.userIsNotAuthorized","1"),_.each(appSettings.get("root.targets"),function(b){a(b)},this),_.each(b.authorization,function(b,c){_.neg(b)&&a(c)},this))},userIsAuthorizedOnCurrentView:function(){var a=modules.login.data.user;if(!preview&&a&&_.pos(a.authorization)){if(_.pos(appSettings.get("root.userIsNotAuthorized")))return{status:!1,lockType:"blockApp"};if(rules.getPost("section")&&_.pos(rules.getSelectedSection().get("userIsNotAuthorized")))return{status:!1,lockType:"blockSection"}}return{status:!0,lockType:""}},sectionNeedsLogin:function(a){return _.inArray(a.get("type"),["GBModuleTypeProfile","GBModuleTypeChat","GBModuleTypeLoyalty"])},checkAccessOnCurrentView:function(){var a="",b=rules.getSelectedSection(),c=!0;if("other"==rules.getPost("section")&&(b=void 0),_.neg(appSettings.get("login")))return{status:!0,lockType:a};preview&&!util.empty(rules.getPost("showLogin"))?(a="blockApp",c=!1):!preview&&b&&util.empty(b.get("isRestricted"))&&!this.sectionNeedsLogin(b)?c=!0:preview||!this.data.loggedIn||this.userIsAuthorizedOnCurrentView().status?this.data.loggedIn?c=!0:util.empty(appSettings.get("isRestricted"))||this.data.userSkippedLogin?b&&this.sectionNeedsLogin(b)?(a="blockSection",c=!1):!b||util.empty(b.get("isRestricted"))||this.data.userSkippedLogin?c=!0:(a="blockSection",c=!1):(a="blockApp",c=!1):(c=!1,a=this.userIsAuthorizedOnCurrentView().lockType),!c&&window.staticRender&&util.createNotFoundMetaTag();var d={status:c,lockType:a};return d},getLoginModal:function(a){var b={};if(b.displayMode=a||"",!preview&&this.data.loggedIn)var d=c.getTemplate("GBRestrictedAccessTemplate")(b);else var d=c.getTemplate("GBLoginTemplate")(b);return d},saveCredentials:function(a,b){var c=modules.login.rules.getApiKey();try{var d=new modules.encrypt;d.setPublicKey(c),modules.storage.set("mdp",d.encrypt(b)),modules.storage.set("login",a.login)}catch(e){}},doLogin:function(a,b){var c=this,d=this.getBaseRequestAttributes();d.credentials=a+":"+b,d.type="intern",modules.api.userapi.request("login",d,function(a,d){!a&&d&&d.user?c.loginSuccessHandler(d,b):c.loginFailHandler()})},doSocialLogin:function(a,b,c){var d=this,e=this.getBaseRequestAttributes();c=c||!1,e.type=a,e.credentials="facebook_"+b.identifier+":",e.attribs[a]=b,"facebook"==a&&(e.attribs.socialAccountsUrl={facebook:b.link}),d.data.signupFromSocial=!0,modules.api.userapi.request("processSocialLoginWithMandatoryFields",e,function(a,b){!a&&b&&b.user?_.pos(b.user.attribs.needUpdate)&&modules.login.data.signupHasTwoSteps?(d.data.signupInfos=b,d.socialTwoStepsSuccessBlock(b)):(modules.login.data.loggedWithSocial=!0,d.loginSuccessHandler(b,"")):d.socialTwoStepsErroBlock()})},loginFailHandler:function(){},loginSuccessHandler:function(a,b){modules.profile.saveUser(a.user,b),this.data.loggedIn=!0,this.closeLoginModal()},socialTwoStepsSuccessBlock:function(a){modules.login.data.signupInfos.internAttribs={},_.pos(a.user.urlPhoto)&&util.convertImgToBase64URL(a.user.urlPhoto,function(a){$("#signInFormStepTwo-avatarcontainer").css({background:"url("+a+") center no-repeat","background-size":"cover"}),$("#signInFormStepTwo-avatartext").hide(),modules.login.data.signupInfos.avatar=a.replace(/^data:image\/png;base64,/i,"")}),$("#signInFormStepTwo-title").html(a.user.attribs.displayName),$('#signInFormStepTwo input[data-field-type="GBUserFieldLocation"]').val(a.user.attribs.location),$('#signInFormStepTwo input[data-field-type="GBUserFieldMail"]').val(a.user.email),$("#loginForm").hide(),$("#signInForm").hide(),$("#signInFormStepTwo").show()},socialTwoStepsErroBlock:function(){},socialTwoStepsFinalBlock:function(){var a=this,b=a.data.signupInfos.user.attribs.facebook,c=a.getBaseRequestAttributes();c.type="facebook",c.credentials="facebook_"+b.identifier+":",c.attribs.facebook=b,c.attribs.socialAccountsUrl={facebook:b.link},c.attribs.intern=a.data.signupInfos.internAttribs,c.attribs.description=a.data.signupInfos.description||"",a.data.signupInfos.location&&(c.attribs.location=a.data.signupInfos.location),modules.api.userapi.request("processSocialLoginWithMandatoryFields",c,function(b,c){b||(_.pos(a.data.signupInfos.avatar)?modules.api.userapi.request("updatePhoto",{userId:c.user.userId,data:a.data.signupInfos.avatar},function(b,d){b||"ok"!=d.stat||(c.user.urlPhoto=d.url),a.signInSuccessHandler(c,"")
}):a.signInSuccessHandler(c,""))})},closeLoginModal:function(){viewFactory.flushCache(),viewFactory.currentView.rerender()},logout:function(a){function b(){if(modules.profile.unpersistUser(),delete modules.login.data.user,delete modules.login.data.userId,modules.login.data.loggedIn=!1,modules.api.dataCache={},modules.login.clearAuthorizations(),!a)var b=rules.getFirstDisplayableSectionID(rules.getPost("section"));a?(viewFactory.flushCache(),rules.setHash("")):(rules.removePost("tab"),rules.setPost("section",b),viewFactory.flushCache(),viewFactory.currentView.rerender())}b()},doSignIn:function(a,b,c){var d=this,e=this.getBaseRequestAttributes();a=a||d.data.signupInfos.name,b=b||d.data.signupInfos.username,c=c||d.data.signupInfos.password,e.type="intern",e.credentials=b+":"+c,e.attribs.displayName=a,e.attribs.description=d.data.signupInfos.description||"",d.data.signupInfos.location&&(e.attribs.location=d.data.signupInfos.location),_.pos(d.data.signupInfos.internAttribs)&&(e.attribs.intern=d.data.signupInfos.internAttribs),modules.api.userapi.request("create",e,function(a,b){!a&&b&&b.user?_.pos(d.data.signupInfos.avatar)?modules.api.userapi.request("updatePhoto",{userId:b.user.userId,data:d.data.signupInfos.avatar},function(a,e){a||"ok"!=e.stat||(b.user.urlPhoto=e.url),d.signInSuccessHandler(b,c)}):d.signInSuccessHandler(b,c):d.signInFailHandler()})},signInFailHandler:function(){},signInSuccessHandler:function(a,b){this.loginSuccessHandler(a,b)},forgotPassword:function(a){modules.api.userapi.request("forgot",{login:a},function(a){})},loginTemplateHandler:function(){function a(){$("#GBLoginModalContainer").css("width",$(window).width()+1)}function b(){var a=modules.validation.validateInput($("#loginForm .usernameInput")),b=modules.validation.validateInput($("#loginForm .passwordInput"));a&&b&&g.doLogin(a,b)}function c(){if(modules.login.rules.shouldAcceptTerms()&&!$("#termsCheckbox").is(":checked"))return void modules.popup.show("termsCheckboxPopup",{title:appLang.GB_TXT_264,buttonText1:appLang.GB_TXT_110});if(modules.login.data.signupHasTwoSteps){var a=!0;$('.centerBlockInner:visible [class*="Input"]:not(span)').each(function(b,c){$(c).prop("required")&&!modules.validation.validateInput($(c))&&(a=!1),modules.login.data.signupInfos.internAttribs[$(c).attr("data-field-id")]={type:$(c).attr("data-field-type"),value:$(c).val(),name:$(c).attr("data-field-name")}}),modules.login.data.signupInfos.description=$(".GBUserFieldDescriptionInput").val(),modules.login.data.signupInfos.location=$(".GBUserFieldLocationInput").val(),a&&(modules.login.data.signupFromSocial?g.socialTwoStepsFinalBlock():g.doSignIn())}else{var b=modules.validation.validateInput($("#signInForm .nameInput"),"name"),c=modules.validation.validateInput($("#signInForm .usernameInput")),d=modules.validation.validateInput($("#signInForm .passwordInput"));b&&c&&d&&g.doSignIn(b,c,d)}}function d(){var a=modules.validation.validateInput($("#signInForm .nameInput"),"name"),b=modules.validation.validateInput($("#signInForm .usernameInput")),c=modules.validation.validateInput($("#signInForm .passwordInput"));return a&&b&&c?!0:!1}function e(){if(d()){var a={baseApiUrl:"https://api.goodbarber.net/userapi/app/"},b=$("#signInForm .usernameInput").val();modules.api.userapi.request("isAvailable",{email:b},function(a,b){!a&&b&&"ok"==b.stat&&f()},a)}}function f(){modules.login.data.signupInfos.name=$("#signInForm .nameInput").val(),modules.login.data.signupInfos.username=$("#signInForm .usernameInput").val(),modules.login.data.signupInfos.password=$("#signInForm .passwordInput").val(),modules.login.data.signupInfos.internAttribs={},$("#signInFormStepTwo-title").html(modules.login.data.signupInfos.name),$("#signInForm").hide(),$("#signInFormStepTwo").show()}var g=this;g.data.baseRequestAttribs.geoloc||util.MAP.getCurrentPosition(function(a){a&&a.coords&&(g.data.baseRequestAttribs.geoloc=a.coords.latitude+","+a.coords.longitude,util.MAP.reverseGeocoding({lat:a.coords.latitude,lng:a.coords.longitude},function(a){!a.error&&a.address&&(g.data.baseRequestAttribs.location=a.city+", "+a.country)}))}),a(),!preview&&user.device.tablet?$(window).on("orientationchange.removable",function(){a()}):$(window).on("resize.removable",function(){a()}),$(window).on("orientationchange.removable",function(){$("#GBLoginModalOuterContainer").attr("style",g.rules.getModalBackground())}),$("#chooseLoginOrSignup .loginButton, #chooseLoginOrSignup  .signInButton").on("click",function(){$("#chooseLoginOrSignup").hide(),$(this).hasClass("loginButton")?$("#loginForm").show():$(this).hasClass("signInButton")&&$("#signInForm").show()}),$("#loginForm .notYet").on("click",function(){$("#loginForm").hide(),$("#signInForm").show()}),"GBLoginTemplateSocial"!==this.rules.getTemplate()?$("#loginForm .cross, #signInForm .cross").on("click",function(){$("#loginForm, #signInForm").hide(),$("#chooseLoginOrSignup").show()}):$("#signInForm .cross").on("click",function(){$("#signInForm").hide(),$("#loginForm").show()}),$("#loginForm input").keypress(function(a){13==a.which&&b()}),$("#loginForm .loginButton").on("click",b),$("#signInForm input, #signInFormStepTwo input").keypress(function(a){13==a.which&&$(".signupButton:visible").trigger("click")}),$(".signupButton.signInButton").on("click",c),$("#loginForm .facebookButton, #signInForm .facebookButton").on("click",function(){var a="signInForm"==$(this).parents(".step").attr("id"),b=FB.getAuthResponse();b&&b.accessToken?$.get("https://graph.facebook.com/me?access_token="+b.accessToken).done(function(c){var d=b.userID,e={};e.type="facebook",e.name=c.name||"facebook_"+d,e.identifier=d,modules.login.doSocialLogin("facebook",e,a)}).fail(function(){modules.login.facebook.doLogin(function(b,c){b||(g.data.facebookUserData=c,g.doSocialLogin("facebook",c,a))})}):modules.login.facebook.doLogin(function(b,c){b||(g.data.facebookUserData=c,g.doSocialLogin("facebook",c,a))})}),$(".terms, .loginTermsAcceptButton").on("click",function(){$("#termsModalContainer").toggleClass("shown")}),$(".forgotPassword").on("click",function(){modules.popup.show("forgotPasswordPopup")}),$(".skip").on("click",function(){g.data.userSkippedLogin=!0,g.closeLoginModal()}),preview&&($("#signInForm input, #loginForm input").off("keypress"),$("#loginForm .loginButton, .signupButton.signInButton, .facebookButton, .twitterButton, .forgotPassword, .skip").off("click").on("click",function(){window.parent.showNotSupportedInPreviewMessage()})),$("#signInFormStepTwo .cross").on("click",function(){modules.login.data.signupInfos={},$("#signInFormStepTwo").hide(),"GBLoginTemplateSocial"!==modules.login.rules.getTemplate()?$("#chooseLoginOrSignup").show():$("#loginForm").show()}),$(".nexStepSignup").on("click",e),$("#signInFormStepTwo-avatar").on("change",function(a){var b=a.target.files[0]||!1;if(b){var c=new FileReader;c.onload=function(a){var b=btoa(a.target.result),c=$("#signInFormStepTwo-avatarcontainer"),d="url(data:image/png;base64,"+b+") center no-repeat";c.css({background:d,"background-size":"cover"}),$("#signInFormStepTwo-avatartext").hide(),modules.login.data.signupInfos.avatar=b},c.readAsBinaryString(b)}}),$(".termsCheckboxText").on("click",function(){$("#termsModalContainer").toggleClass("shown")})},facebook:{libLoadedCallbacks:[],libLoaded:!1,init:function(){$("#facebook-jssdk").length||(window.fbAsyncInit=function(){modules.login.facebook.libLoaded=!0,FB.init({appId:appSettings.get("compilation.sharing.facebook.appId"),xfbml:!0,version:"v2.5",status:!0}),_.each(modules.login.facebook.libLoadedCallbacks,function(a){a()}),FB.getLoginStatus(function(a){"connected"===a.status&&(modules.login.data.loggedWithSocial=!0)})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/es_LA/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"))},doLogin:function(a){return this.libLoaded?void FB.login(function(b){b.authResponse?(access_token=b.authResponse.accessToken,user_id=b.authResponse.userID,modules.storage.set("access_token",access_token),modules.storage.set("user_id",user_id),FB.api("/me",{fields:modules.login.facebook.fields,access_token:access_token,user_id:user_id},function(b){var c=b.friends&&b.friends.summary&&b.friends.summary.total_count?b.friends.summary.total_count:void 0,d={identifier:b.id,username:b.id,name:b.name,profilePictureUrl:"http://graph.facebook.com/"+b.id+"/picture",profilePictureUrlBig:"http://graph.facebook.com/"+b.id+"/picture?type=normal",profilePictureUrlOriginal:"http://graph.facebook.com/"+b.id+"/picture?type=large",gender:b.gender,birthdate:b.birthday,language:b.locale,localization:b.localization,nbConnections:c,mail:b.email,link:b.link};d=_.each(d,function(a,b){"undefined"==typeof a&&(d[b]="")}),a(null,d)})):a("User cancelled login or did not fully authorize.")},{oauth:!0,scope:modules.login.facebook.permissions}):this.libLoadedCallbacks.push(function(){modules.login.facebook.doLogin(a)})},permissions:["email","public_profile","user_friends","user_birthday"].join(","),fields:["id","name","first_name","middle_name","last_name","gender","locale","languages","timezone","verified","birthday","email","location","picture","friends","link"].join(",")},twitter:{init:function(){},doLogin:function(){}},rules:{getApiKey:function(){return appSettings.get("login.apiKey")||"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA01Bic05/GHa1mHWCOBO9lQQST+uW7NgAv5aVTa+LTWwcZpF47/PlZtQsgKhve4rxJpuHOeu1bS80JSKBXPlj9yZZ0ybVE+wJ/bvb64ETNRwMMVY2Zve4IWDcA1g0iHxu/BqeE4USaWbQohS+8pNM5znzwM/dgGC4KVdHAXcG+kkfSZcuOTheDmSKEp7ISqWE89DMdUJAEPpgh010i6hxmGLLVhm6f+A4v+h/QSFU0k+2Tny8ZY/3ki2BfOGw2cWeabSVNGYZNZq67HopI+vWwNPPuYgQbmJNTcd/hbatFMtfpsnTAQrgytTw911OQvviQ5PWG0B9sF0rnMfRNkHRuQIDAQAB"},getTemplate:function(){return appSettings.get("login.template")},getStartingStep:function(){return"GBLoginTemplateSocial"==this.getTemplate()?"loginForm":"chooseLoginOrSignup"},getModalBackground:function(){return rules.getSectionBackground("login.")},getButtonStyle:function(a){var b="";return"login"==a||"signIn"==a?(b+=rules.fontStyle(appSettings.get("login."+a+"ButtonTextFont"))+rules.formatSelector("appSettings.login."+a+"ButtonTextFont"),b+=rules.css.makeBackgroundColor("login."+a+"ButtonBackground")):(b+="font-family:'Helvetica Neue';font-size:14px;color:#FFFFFF;",b+="background-color:"+rules.css.hexToRgba("facebook"==a?"#425a8b":"#5dd3f9")),b},getButtonsPosition:function(){return-1!=["GBLoginTemplateLong","GBLoginTemplateShort"].indexOf(this.getTemplate())?"bottom":"top"},getLogoBkgImg:function(){var a=appSettings.get("login.logo");return util.empty(a)||util.empty(a.imageUrl)?"":"background-image:"+rules.getImageUrl(appSettings.get("login.logo"),!0)+";"},makeTitle:function(a,b){var c="";return"logoOrTitle"==a?(c+='<div class="logoOrTitleContainer">',c+=_.pos(appSettings.get("login.logo"))?'<div class="logo" style="'+this.getLogoBkgImg()+'"></div>':'<span class="title" style="'+rules.fontStyle("login.titleFont")+'">'+appSettings.get("login.title")+"</span>",c+="</div>"):"loginTitle"==a?c+='<div class="loginTitle" style="'+b+'">'+appLang.GB_TXT_173+"</div>":"signInTitle"==a&&(c+='<div class="signInTitle" style="'+b+'">'+appLang.GB_TXT_174+"</div>"),c},skipEnabled:function(){if(window.devMode)return!0;var a=modules.login.checkAccessOnCurrentView().lockType;return _.pos(appSettings.get("login.skipEnabled"))&&("blockApp"==a||"blockSection"==a&&"GBModuleTypeProfile"!=rules.getSectionType(rules.getSelectedSection()))},getSkipStyle:function(){var a=rules.fallback("login.skipButtonBackgroundColor");a=a.val?"background-color:"+rules.css.hexToRgba(a.val)+a.key:"";var b=rules.fallback("login.textFont");return b=b.val?"color:"+b.val.color+b.key:"",util.empty(appSettings.get("login.skipButtonTextFont"))?b+a:rules.fallbackFont("login.skipButtonTextFont")+a},avatarAllowed:function(){return _.pos(modules.profile.getProfileSection().get("allowAvatar"))},shouldAcceptTerms:function(){return _.pos(appSettings.get("login.shouldAcceptTerms"))}}}},{"../templates/templateFactory":176}],17:[function(a,b){b.exports={dataForModal:{},initOnCurrentView:function(){$(".customScratchPluginIframe").on("load",function(){modules.plugin.initPluginOnIframe($(this),rules.getSelectedSection())})},initPluginOnIframe:function(a){var b=a[0].contentWindow,c=a.contents();window.cur.iframeWindow=b,window.cur.$iframeDom=c,b.gbViewDidLoad&&b.gbViewDidLoad()},getCurrentIframeWindow:function(){var a=$(".customScratchPluginIframe")[0];return a?a.contentWindow:!1},getMethodAndParamsFromPath:function(a){var b=modules.linkManager.getLinkType(a);if("protocolLink"==b){var c,d,e="goobarber://",f=a.substr(e.length+1);if(-1!=f.indexOf("?"))var g=f.split(/\?(.+)?/),f=g[0],c=g[1];return c&&(d=rules.parsePost(c)),{methodName:f,params:d}}},pluginMethods:["request","getlocation","setpreference","getpreference","gotosection"],evalPath:function(a,b){function c(a,b,c){return a&&(a=encodeURI(a)),b&&c?d.gbRequestDidFail(g.tag,c.errorCode,c.errorMessage):c&&c.fromCache?d.gbRequestDidSuccessWithCache(g.tag,a,""):void d.gbRequestDidSuccess(g.tag,a,"")}var d=this.getCurrentIframeWindow();if(d){var e=this.getMethodAndParamsFromPath(a),f=e.methodName,g=e.params||{};switch(f){case"request":if(_.neg(g.url))return;var h="YES"==g.cache;contentLoader.requestContent(decodeURIComponent(g.url),c,!1,void 0,{noCache:h,dataType:"text",absoluteHostname:!0});break;case"getlocation":util.MAP.getCurrentPosition(function(a){d.gbDidSuccessGetLocation(a.coords.latitude,a.coords.longitude)},function(a){d.gbDidFailGetLocation(a.message)},{timeout:7e3});break;case"setpreference":modules.storage.set(g.key,g.value);break;case"getpreference":var i=modules.storage.get(g.key);_.is(i)&&d.gbDidSuccessGetPreference(g.key,i);break;case"getuser":var j=modules.login.data.user;modules.login.data.loggedIn&&j?d.gbDidSuccessGetUser(j):d.gbDidFailGetUser("No user");break;case"gotosection":rules.setPost("section",g.id);break;case"navigate.modal":var k=util.getUniqueString();this.dataForModal[k]=b,window.viewFactory.currentView.openModal(util.buildIframeForUrl(this.buildModalIframeUrlFromPageName(g.page),k),"modal");break;case"navigate.push":var k=util.getUniqueString();this.dataForModal[k]=b,window.viewFactory.currentView.openModal(util.buildIframeForUrl(this.buildModalIframeUrlFromPageName(g.page),k),"push");break;case"navigate.back":window.viewFactory.currentView.closeModal("current")}return!1}},postRequest:function(a,b){this.evalPath(a,b)},loadDataForModal:function(a){$("#modalIframe_"+a)[0].contentWindow.gbPostData=this.dataForModal[a],$("#modalIframe_"+a)[0].contentWindow.gbPluginDidLoad&&$("#modalIframe_"+a)[0].contentWindow.gbPluginDidLoad()},buildModalIframeUrlFromPageName:function(a){var b="",c=rules.getSelectedSection();return c&&(b=rules.getSectionUrl(c).replace("/index.html","/"+a+".html")),b}}},{}],18:[function(a,b){var c=a("../templates/templateFactory");b.exports={configs:{ratingPopup:{title:appLang.GB_TXT_158,buttonText1:appLang.GB_TXT_128,buttonText2:appLang.GB_TXT_127,clickHandler1:function(){window.parent.showNotSupportedInPreviewMessage()},clickHandler2:function(){window.parent.showNotSupportedInPreviewMessage()}},forgotPasswordPopup:{title:appLang.GB_TXT_178,text:appLang.GB_TXT_185,input:"",buttonText1:appLang.ANNULER,buttonText2:appLang.GB_TXT_186,clickHandler2:function(){modules.login.forgotPassword($(this).parent().parent().find("input").val())}},unAvailableUserPopup:{title:"Error",text:"User is not available",buttonText1:appLang.ANNULER,buttonText2:"OK"}},show:function(a,b){if($("."+a).length<1){var b=b?b:this.configs[a];b.type=a,$("#root").append(c.getTemplate("popupBox")(b)),$("."+a+" .popupBox").each(function(){var a=$(this).height(),b=$(this).innerHeight();$(this).css("margin-top","-"+a/2+"px"),$(this).find(".popupTextContainer").css("height",b)}),$("."+a+" .popupButton").on("click",function(){modules.popup.hide(a)}),b.clickHandler1&&$("."+a+" .popupButton1").on("click",b.clickHandler1),b.buttonText2&&b.clickHandler2&&$("."+a+" .popupButton2").on("click",b.clickHandler2)}else $("."+a).show()},hide:function(a){$("."+a).hide()}}},{"../templates/templateFactory":176}],19:[function(a,b){a("../templates/templateFactory");b.exports={data:{},initData:function(){this.data={mode:"privateProfile"}},init:function(){this.initData(),this.manageHookUserProfile()},getProfileSection:function(){var a=null;return _.each(appSections,function(b){a||"GBModuleTypeProfile"==b.get("type")&&(a=b)},this),a},saveUser:function(a,b){a&&(modules.storage.set("lastUserSaveTime",(new Date).getTime()),modules.storage.set("userId",a.userId),modules.storage.set("user",a),modules.storage.set("lastLogin",a.login),modules.login.data.userId=a.userId,modules.login.data.user=a,_.is(b)&&modules.login.saveCredentials(a,b),modules.login.propagateAuthorizations())},unpersistUser:function(){modules.storage.remove("user"),modules.storage.remove("userId")},resetOuterContainerLayout:function(){var a=$(".shown .GBProfileTemplateTypeClassic .inner").offset();a&&$("#profileOuterContainer").height(a.top+$(".shown .GBProfileTemplateTypeClassic .inner").height()+100)},closePanel:function(a){$(".privateProfile").toggleClass("shown"),modules.profile.data.mode="privateProfile",$(a).off(util.events.transitionEnd).on(util.events.transitionEnd,function(){modules.profile.resetOuterContainerLayout(),viewFactory.currentView.rerender()}),$(a).toggleClass("shown"),user.device.mobile||".editProfileAdvanced"!=a||($(".panelOverlay").off(util.events.transitionEnd).on(util.events.transitionEnd,function(){$(".panelOverlay").hide()}),$(".panelOverlay").removeClass("shown"))},openPanel:function(a){var b=!1;$(a).off(util.events.transitionEnd).on(util.events.transitionEnd,function(){b||(b=!0,$(".privateProfile").toggleClass("shown"),modules.profile.resetOuterContainerLayout(),$(".hideEditProfileButton, .panelOverlay").off("click").on("click",function(){b&&(b=!1,modules.profile.closePanel(a))}))}),$(a).toggleClass("shown"),user.device.mobile||".editProfileAdvanced"!=a||($(".panelOverlay").show(),setTimeout(function(){$(".panelOverlay").addClass("shown")},50))},updatePictureWithBase64:function(a){var b="url('data:image/png;base64,"+modules.profile.data.newPicBase64+"')";$("#profileCoverStyleTag").append(a+" .profileCover:before{background-image:"+b+"}"),$(".editProfile .profilePic").css("background-image",b);var c=$(".editProfile .colorOverlay").css("background-color").replace("0.6)","1)");$(".editProfile .colorOverlay").css("background-color",c),$(".editProfile").find(".saveProfileButton").show()},managePictureUpload:function(){modules.profile.data.newPicBase64=null,modules.profile.data.picChanged=!1,$("#editPicFilePicker").on("change",function(a){var b=a.target.files,c=b?b[0]:!1;if(b&&c){var d=new FileReader;d.onload=function(a){var b=btoa(a.target.result);modules.profile.data.newPicBase64=b,modules.profile.data.picChanged=!0,modules.profile.updatePictureWithBase64(".editProfile")},d.readAsBinaryString(c)}})},manageProfileEdit:function(){function a(a){var b=$(this);if(!$(this).hasClass("editing")){$(this).addClass("editing"),$(this).hasClass("edited")||$(this).addClass("edited");var c,d,e=$(this).data("field-id"),f=$(this).data("field-type"),g=$(this).find(".infos"),h=g.data("value")||g.html();switch(g.hide(),f){case"GBUserFieldNumber":c="number";break;case"GBUserFieldMail":c="email";break;case"GBUserFieldParagraph":d='<textarea id="'+e+'" data-field-type="'+f+'"></textarea>';break;case"GBUserFieldDropdown":var i=rules.getSelectedSection().get("fields"),j="",k=rules.getItemById(i,e);$("."+a).find(".saveProfileButton").show(),k&&(k=k.choices),_.each(k,function(a,b){j+='<option value="'+b+'">'+a+"</option>"}),d='<select id="'+e+'" data-field-type="'+f+'">'+j+"</select>";break;case"password":case"passwordConfirm":case"passwordNew":c="password";break;default:c="text"}if(d=d||'<input type="'+c+'" id="'+e+'" data-field-type="'+f+'" value=""/>',$(this).append(d),"GBUserFieldParagraph"==f)var l=.9*b.innerWidth();else var l=.9*(b.innerWidth()-b.find(".entitle").width());$("#"+e).css("width",l).focus().val(h).on("blur",function(){var b=$(this).hide().parent().removeClass("editing").find(".infos");b.html("GBUserFieldDropdown"==f?$(this).children("option").filter(":selected").text():-1!=$(this).parent().attr("class").indexOf("password")?$(this).val().replace(/[\S]/g,"*"):$(this).val()),b.data("value",$(this).val()).show(),$("."+a).find(".saveProfileButton").show(),$(this).remove()})}}$(".editProfile .field").on("click",function(){a.call(this,"editProfile")}),$(".editProfileAdvanced .field.editable").on("click",function(){a.call(this,"editProfileAdvanced")}),$(".editProfileAdvanced .switch-on-off").on("click",function(){$(".editProfileAdvanced").find(".saveProfileButton").show()}),$(".navBar").on("click",".saveProfileButton",function(){function a(){modules.api.userapi.request("updateUser",d,function(a,b){a||(modules.profile.saveUser(b.user),modules.profile.closePanel(".editProfile"))})}function b(a,b,c,d){function e(){modules.profile.closePanel(".editProfileAdvanced")}var f=!1,g=!1;a?modules.api.userapi.request("updateLogin",{login:c},function(a,b){a||(modules.profile.saveUser(b.user),f=!0,g&&e(a,b))}):f=!0,b?modules.api.userapi.request("updatePassword",d,function(a,b){a||(modules.profile.saveUser(b.user),g=!0,f&&e(a,b))}):g=!0}if(preview)return window.parent.showNotSupportedInPreviewMessage();if("editProfile"==modules.profile.data.mode){var c=!0;if($(".editProfile .field.edited .infos").each(function(){var a=$(this).parent().data("field-type");c&&(c="GBUserFieldDropdown"==a||"GBFieldDropdown"==a||"dropdown"==a?!0:modules.validation.validateInput($(this),a))}),!c)return;var d={userId:modules.login.data.userId,login:modules.login.data.user.login},e={lg:util.getUserLanguage()};$(".editProfile .field").each(function(){var a=$(this).data("field-type"),b=$(this).data("field-id"),c=$(this).find(".infos").html(),f=$(this).data("field-name");switch("GBUserFieldDropdown"==a&&(c=$(this).find(".infos").data("value")),a){case"GBUserFieldMail":d.email=c;break;case"GBUserFieldName":e.displayName=c;break;case"GBUserFieldDescription":e.description=c;break;case"GBUserFieldLocation":e.location=c;break;default:c&&c.length&&(e.intern||(e.intern={}),e.intern[b]={type:a,value:c,name:f})}}),$(".editProfile .socialElement.enabled").each(function(){e.socialAccountsUrl||(e.socialAccountsUrl={}),e.socialAccountsUrl[$(this).data("network-name")]=$(this).data("account-url")}),util.MAP.userLL&&(e.geoloc=util.MAP.userLL.lat+", "+util.MAP.userLL.lng),d.attribs=JSON.stringify(e),modules.profile.data.picChanged?modules.api.userapi.request("updatePhoto",{userId:modules.login.data.userId,data:modules.profile.data.newPicBase64},function(b){b||modules.profile.updatePictureWithBase64(".privateProfile"),a()}):a()}if("editProfileAdvanced"==modules.profile.data.mode){var f=!1,g=!1,h=!1,i="",j={},k=$(".editProfileAdvanced .login .infos").html();if(k!=modules.login.data.user.login&&(f=!0,i=k),$(".editProfileAdvanced .changePasswordContainer").hasClass("shown")){var l=!$(".editProfileAdvanced .password").length,m=$(".editProfileAdvanced .password .infos").data("value"),n=$(".editProfileAdvanced .passwordConfirm .infos").data("value"),o=$(".editProfileAdvanced .passwordNew .infos").data("value");(!l&&(l||m.length)||n.length||o.length)&&(n!=o?(g=!0,h=!0,modules.popup.show("confirmPasswordFailPopup",{title:"Passwords do not match.",buttonText1:appLang.GB_TXT_110})):(g=!0,j.oldPassword=m||"",j.newPassword=o))}var p=_.pos($("#contactRules").data("state")),q=modules.login.data.user.attribs.allowContact;p!=q&&modules.api.userapi.setContactRules(p,function(a,b){a||modules.profile.saveUser(b.user)}),f||g&&!h?b(f,g,i,j):h||modules.profile.closePanel(".editProfileAdvanced")}})},manageSocialNetworks:function(){$(".editProfile .socialContainer").on("click",".socialElement.disabled",function(){var a=$(this),b=a.data("network-name"),c=a.data("account-url");modules.popup.show("socialPopup"+b,{title:appLang["GB_TXT_PROFILE_"+b],input:c,buttonText1:appLang.GB_TXT_128,buttonText2:appLang.GB_TXT_127,clickHandler2:function(){var c=$(".socialPopup"+b+" .popupInput").val();c&&c.length&&(a.data("account-url",c),a.removeClass("disabled").addClass("enabled"))}})}),$(".editProfile .socialContainer").on("click",".socialElement.enabled",function(){return preview?window.parent.showNotSupportedInPreviewMessage():void $(this).removeClass("enabled").addClass("disabled")}),$(".privateProfile .socialContainer").on("click",".socialElement",function(){var a=$(this).data("account-url");a&&window.open(a,"_blank")})},manageProfileEditAdvanced:function(){$(".editProfileAdvanced .password").on("click",function(){$(this).find("input").val(""),$(".passwordHeader").html(appLang.GB_TXT_198),$(".changePasswordContainer").addClass("shown"),$(".changePasswordContainer").on(util.events.transitionEnd,function(){modules.profile.resetOuterContainerLayout()})}),$(".editProfileAdvanced .logout").on("click",function(){preview?window.parent.showNotSupportedInPreviewMessage():modules.login.logout()}),$(".editProfileAdvanced .deleteAccount").on("click",function(){preview?window.parent.showNotSupportedInPreviewMessage():modules.popup.show("deleteAccountPopup",{title:appLang.GB_TXT_201,buttonText1:appLang.ANNULER,buttonText2:appLang.GB_TXT_110,clickHandler2:function(){modules.api.userapi.request("deleteUser",{},function(a){a||modules.login.logout()})}})}),$(".editProfileAdvanced  .notifications").on("click",function(){window.parent.showNotSupportedInPreviewMessage()}),$("#contactRules").on("click",function(a){if(preview)return window.parent.showNotSupportedInPreviewMessage(),!1;var b=$(a.target).attr("src");/switch-on/gi.test(b)?(b=b.replace(/switch-on/gi,"switch-off"),$(this).data("state",0)):(b=b.replace(/switch-off/gi,"switch-on"),$(this).data("state",1)),$(a.target).attr("src",b)})},getProfileSectionId:function(){var a=null;return _.each(appSections,function(b){a||"GBModuleTypeProfile"==b.get("type")&&(a=b.get("id"))},this),a},manageHookUserProfile:function(){var a=this.getProfileSectionId();if(a)return rules.rootModeIsSwipe()?void(this.data.userProfileMenuIcon=_.pos(appSections[a].get("allowAvatar"))&&modules.login.data.user&&_.pos(modules.login.data.user.urlPhoto)?'<div class="specialIcon" style="background-image:url('+modules.login.data.user.urlPhoto+')" ></div>':null):void(_.pos(appSettings.get("login.hookUserProfile"))?(this.data.otherTargetPreviousValue=appSettings.get("root.otherTarget"),this.data.otherTargetSetWithProfile=!0,appSettings.set("root.otherTarget",a)):this.data.otherTargetSetWithProfile&&(this.data.otherTargetSetWithProfile=!1,appSettings.set("root.otherTarget",this.data.otherTargetPreviousValue)))},templateHandler:function(){util.MAP.getUserLocation(),setTimeout(function(){modules.profile.resetOuterContainerLayout(),user.device.mobile||$("#editProfileAdvancedNavBar .hideEditProfileButton").hide()},100),$(".editPicButton").append('<input type="file" id="editPicFilePicker" accept="image/*">'),$(".privateProfile .editProfileButton").on("click",function(){modules.profile.data.mode="editProfile",modules.profile.openPanel.call(this,".editProfile"),$(".editProfile.tabContent").removeClass("hidden")}),$("#profileSettingsAdvancedButton").on("click",function(){modules.profile.data.mode="editProfileAdvanced",modules.profile.openPanel.call(this,".editProfileAdvanced")}),modules.profile.manageProfileEdit(),modules.profile.managePictureUpload(),modules.profile.manageSocialNetworks(),modules.profile.manageProfileEditAdvanced(),preview&&$(".editPicButton").on("click",function(a){a.preventDefault(),window.parent.showNotSupportedInPreviewMessage()}),modules.push.displayNotificationsListLink()&&modules.push.templateHandler(),_.pos(modules.chat.rules.getChatSection())&&modules.api.chatapi.openChatListWithUsers({callback:function(a,b){if(!a&&b){_.reject(b.items,function(a){return modules.api.dataCache.lastReaded?a.last_message.id==modules.api.dataCache.lastReaded[a.itemId]:a.last_message.id==a["last-readed"][modules.login.data.userId]})}}})},rules:{getUserAvatar:function(a,b){return _.pos(a.urlPhoto)?a.urlPhoto:_.pos(b.get("defaultThumb.imageUrl"))?b.get("defaultThumb.imageUrl"):util.getRelativeUrlBase()+"/assets/img/gbpreview/defaultAvatar.png"},tokenizeUser:function(a,b){var c=a||"";if(_.pos(c)&&_.pos(b)){c=c.replace(/\[LOGIN\]/g,_(b).has("login")?b.login:""),c=c.replace(/\[MAIL\]/g,_(b).has("email")?b.email:""),c=c.replace(/\[DISPLAYNAME\]|\[NAME\]/g,_(b.attribs).has("displayName")?b.attribs.displayName:""),c=c.replace(/\[DESCRIPTION\]/g,_(b.attribs).has("description")?b.attribs.description:""),c=c.replace(/\[LANG\]/g,_(b.attribs).has("lg")?b.attribs.lg:""),c=c.replace(/\[LOCATION\]/g,_(b.attribs).has("location")?b.attribs.location:"");var d=/\[GB\:(\w+)\]/g;d.test(c)&&_.each(_.unique(c.match(d)),function(a){var e=d.exec(a).pop().toUpperCase();a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|\:]/g,"\\$&");var f=new RegExp(a,"g"),g="";if(_.pos(b.attribs.intern)){var h=_(b.attribs.intern).find(function(a){return a.name.toUpperCase()==e});g=_.pos(h)?h.value:""}c=c.replace(f,g)},this)}return c},hasRequiredFields:function(){var a=modules.profile.getProfileSection().get("fields"),b=_.find(a,function(a){return"GBUserFieldName"!==a.type&&_.pos(a.required)},this);return _.pos(b)}}}},{"../templates/templateFactory":176}],20:[function(a,b){var c=a("../templates/templateFactory");b.exports={data:{apiOpts:{}},initData:function(){this.data.previewMode=preview,this.data.apiOpts={baseApiUrl:"https://api.goodbarber.net/pushapi",type:"GET",headers:{"API-KEY":rules.getApiKey(),"API-SECRET":rules.getApiSecretKey()}}},init:function(){this.initData()},displayNotificationsListLink:function(){var a,b;return b=modules.profile.getProfileSection().get("displayPushHistory")||"0",a=_.pos(b)},displaySettingsLink:function(){var a,b;return a=modules.profile.getProfileSection().get("displayScheduledPush")||"0",b=_.pos(a)},getPreviewNotificationsList:function(){return{result:{notifications:[{message:appLang.GB_TXT_PUSH_FAKE_1||"Discover our vegan menu!",started_at:moment().toString()},{message:appLang.GB_TXT_PUSH_FAKE_2||"Costume party tonight! Come and join us!",started_at:moment().subtract(1,"day").toString()},{message:appLang.GB_TXT_PUSH_FAKE_3||"Check out last night's party pictures!",started_at:moment().subtract(2,"days").toString()},{message:appLang.GB_TXT_PUSH_FAKE_4||"Discover our menu of the day, have lunch outside...",started_at:moment().subtract(1,"week").toString()},{message:appLang.GB_TXT_PUSH_FAKE_5||"Yes, I'm off work at 1pm.",started_at:moment().subtract(10,"days").toString()}]}}},getPreviewSettings:function(){return{result:[{title:appLang.GB_TXT_PUSH_FAKE_6||"Menu",is_active:!0,status:"on",children:[{title:appLang.GB_TXT_PUSH_FAKE_7||"Our menu",is_active:!0,status:"on"},{title:appLang.GB_TXT_PUSH_FAKE_8||"Menu of the day",is_active:!0,status:"off"},{title:appLang.GB_TXT_PUSH_FAKE_9||"What's new",is_active:!0,status:"on"}]},{title:appLang.GB_TXT_PUSH_FAKE_10||"Events",is_active:!0,status:"on",children:[{title:appLang.GB_TXT_PUSH_FAKE_11||"Our parties",is_active:!0,status:"on"},{title:appLang.GB_TXT_PUSH_FAKE_12||"Our Brunches",is_active:!0,status:"off"}]},{title:appLang.GB_TXT_PUSH_FAKE_13||"Memories",is_active:!0,status:"off"}]}},getAndInjectNotificationsList:function(){var a=this,b=c.getTemplate("notificationsListContent");if(this.data.previewMode){var d=this.getPreviewNotificationsList();rules.asyncContentRequestCallback({section:rules.getSelectedSection(),asyncTemplate:b,parentTemplateName:"GBNotifications",idContainer:"notificationsList-inner",data:d})}else{var e=[a.data.apiOpts.baseApiUrl,"list",""].join("/")+"?webzine_id="+rules.getIdWebzine();rules.getContent(e,b,"GBNotifications","notificationsList-inner",void 0,void 0,{headers:a.data.apiOpts.headers,type:"GET",noProxy:!0})}},getAndInjectSettings:function(){var a=this,b=c.getTemplate("notificationsSettingsContent");if(this.data.previewMode){var d=this.getPreviewSettings();
rules.asyncContentRequestCallback({section:rules.getSelectedSection(),asyncTemplate:b,parentTemplateName:"GBNotificationsSettings",idContainer:"notificationsSettings-list",data:d})}else{var e=[a.data.apiOpts.baseApiUrl,"listAutoPush",""].join("/")+"?webzine_id="+rules.getIdWebzine();rules.getContent(e,b,"GBNotificationsSettings","notificationsSettings-list",void 0,void 0,{headers:a.data.apiOpts.headers,type:"GET",noProxy:!0})}},getSettingsBaseLine:function(){return appLang.GB_TXT_233||"Choose here push notifications topic you want to receive :"},saveSettings:function(){},templateHandler:function(){function a(){return $("#notificationsList").toggleClass("shown"),!1}$("#notificationsListButton, #backNotificationsListButton").off("click").on("click",a)},settingsViewHandler:function(){function a(){return $("#notificationsSettings, #notificationsList-settingsoverlay").toggleClass("shown"),!1}function b(){var a,b=/(.+switch-)(on|off)([a-z0-9-]*\.png)/,c={off:"on",on:"off"};return a=$(this).attr("src").replace(b,function(a,b,d,e){return b+c[d]+e}),$(this).attr("src",a),$(this).parents(".pushSetting-row").hasClass("pushSetting-row--head")&&$(this).parents(".pushSetting").find(".pushSetting-child").length>0&&$(this).parents(".pushSetting").find(".pushSetting-child img.switch-on-off").attr("src",a),!1}$("#displayNotificationsSettings").length>0&&($("#displayNotificationsSettings, .cancelNotificationsSettingsButton, .saveNotificationsSettingsButton, #notificationsList-settingsoverlay").off("click").on("click",a),$("#notificationsSettings img.switch-on-off").off("click").on("click",b))}}},{"../templates/templateFactory":176}],21:[function(a,b){var c={successWhenQrFound:!0,isUploaded:!1,videoSet:!1,scanActive:!1,picture:{},qrLink:"",counter:0,success:function(a){this.counter++,$(".QRCodeButtonContainer").append('<a id="hiddenQRLink" style="display: none;" href="'+a+'">CLICK HERE</a>'),modules.linkManager.replaceLink.call($("#hiddenQRLink").get()),window.location.hash=$("#hiddenQRLink").attr("href").split("#")[1]},error:function(a){},clean:function(){this.mode=null,this.successWhenQrFound=!0,this.isUploaded=!1,this.scanActive=!1,this.videoSet=!1,this.foundQR=!1,this.picture=null;var a=$("#bt_upload_picture");a.length&&$("#bt_upload_picture").remove(),$(".GBQrcodeTemplateTypeClassic .noCamera").hide()},initScanner:function(a){if(a=a||$(".QRCodeButtonContainer"),this.clean(),isCordova)c.mode="cordova",a.on("click",function(){QRScanner.startScanner(function(){},function(a){})});else if(preview)a.on("click",function(){window.parent.showNotSupportedInPreviewMessage()});else if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia){c.mode="video",this.launchVideo();var b=this;a.on("click",function(){b.foundQR?b.success(b.foundQR):b.successWhenQrFound=!0})}else a.append('<input type="file" id="bt_upload_picture" accept="image/*;capture=camera"/>'),setTimeout(function(){c.mode="picture",c.successWhenQrFound=!0,$("#bt_upload_picture").on("change",function(a){var b=a.target.files;b&&b.length>0?(c.picture=b[0],c.isUploaded=!0,c.scanPicture(c.picture)):c.isUploaded=!1})},100)},scanPicture:function(a){if(qrcode.callback=function(a){var b="error decoding QR Code"==a;c.videoSet?b?c.scanVideo():c.success(a):b?c.error(a):(c.foundQR=a,c.successWhenQrFound&&c.success(a))},c.videoSet)qrcode.decode(a);else{var b=document.querySelector("#show_picture"),d=new FileReader;d.onloadend=function(){b.src=d.result},a?d.readAsDataURL(a):b.src="";var e=window.URL.createObjectURL(a);qrcode.decode(e)}},launchVideo:function(){function a(a){var c={audio:!1,video:{optional:[{sourceId:a}]}};navigator.getUserMedia(c,b,d)}var b=function(a){var b=document.querySelector("video");b.src=window.URL.createObjectURL(a),b.play(),b.onloadedmetadata=function(){$("video").width()<=$(window).width()&&$("video").width($(window).width());var a=($("#video_player").width()-$(window).width())/2;$("#video_player").css("margin-left","-"+a+"px"),c.videoSet=!0,c.scanVideo()}},d=function(){$(".GBQrcodeTemplateTypeClassic .noCamera").show()};MediaStreamTrack.getSources(function(b){for(var c=null,d=0;d<b.length;++d){var e=b[d];"video"===e.kind&&(c=e.id)}a(c)})},scanVideo:function(){setTimeout(function(){var a=rules.getSelectedSection();if("GBModuleTypeQrcode"==a.get("type")){var b=document.getElementById("scan_canvas"),d=b.getContext("2d"),e=document.getElementById("video_player");d.drawImage(e,0,0,b.width,b.height),c.scanPicture(b.toDataURL())}},500)}};b.exports=c},{}],22:[function(a,b){b.exports={isAvailable:!1,liveStorage:{},makeKey:function(a){return util.hashCode("gb-"+appSettings.get("appName")+"-"+a)},get:function(a){if(this.isAvailable){var b=this.storage.getItem(this.makeKey(a));return JSON.parse(b)}var c=this.liveStorage[this.makeKey(a)];return"undefined"!=typeof c?c:null},set:function(a,b){return this.isAvailable?(b=JSON.stringify(b),this.storage.setItem(this.makeKey(a),b)):(this.liveStorage[this.makeKey(a)]=b,null)},pushOn:function(a,b){var c=this.get(a);return _.isArray(c)||(c=[]),c.push(b),this.set(a,c)},remove:function(a){return this.isAvailable?this.storage.removeItem(this.makeKey(a)):(delete this.liveStorage[this.makeKey(a)],null)},getLength:function(){return this.isAvailable?this.storage.length:_.size(this.liveStorage)},clear:function(){return this.isAvailable?this.storage.clear():this.liveStorage={}},init:function(){this.isAvailable=util.supportStorage(),this.isAvailable&&(this.storage=localStorage)}}},{}],23:[function(a,b){b.exports={props:{GBModuleTypeChat:[{name:"thread",type:"borderColor",key:"separatorColor",borders:["bottom"]},{name:"thread",type:"borderType",key:"separatorType",borders:["bottom"]},{name:"listBorderColor",key:"borderColor",type:"borderColor",borders:["right"]},{name:"noMessagesIcon",key:"nameFont.color",type:"color"},{name:"thread .circle",key:"nameFont.color",type:"backgroundColor"},{name:"actionButtonSecondBackgroundColor",type:"backgroundColor",fallback:[],important:!0},{name:"actionButtonThirdBackgroundColor",type:"backgroundColor",fallback:[],important:!0},{name:"actionButtonSecondIconColor",type:"color",fallback:["section.actionButtonIconColor"],alreadyInKeysForSelector:!0},{name:"actionButtonThirdIconColor",type:"color",fallback:["section.actionButtonIconColor"],alreadyInKeysForSelector:!0},{name:"detail-sender-infosFontColor",key:"detail.sender.infosFontColor",type:"color"},{name:"detail-recipient-infosFontColor",key:"detail.recipient.infosFontColor",type:"color"},{name:"detail-postBar-sendingButtonFont-color",key:"detail.postBar.sendingButtonFont.color",type:"color"},{name:"detail-listBackgroundColor",key:"detail.listBackgroundColor",type:"backgroundColor",fallback:["section.detail.backgroundColor","section.backgroundColor","backgroundColor"]}],GBModuleTypeLoyalty:[{name:"GBLoyaltyPager-bullet.GBLoyaltyPager-bullet--active",key:"rewards.detail.pager.onColor",type:"backgroundColor",fallback:["section.punches.backgroundColorOn"]},{name:"GBLoyaltyPager-bullet",key:"rewards.detail.pager.offColor",type:"backgroundColor",fallback:["section.punches.backgroundColorOff"]},{name:"badge.backgroundColor",type:"backgroundColor",key:"validationButton.color"},{name:"badge.color",type:"color",key:"validationButton.backgroundColor"}]},getStyle:function(a){function b(b){var c=b.name,d=b.key||b.name,e=b.type,f=_.clone(b.fallback)||[];f.unshift(a,"section."+d,d);var i=rules.fallback.apply(this,f);if(i.val){var j="";if("font"==e)j=rules.css.createFontStyle(i.val);else if("backgroundColor"==e){var k=f[i.isFallback+1];if(k.contains("ackgroundColor"))var l=k.replace(/(b|B)ackgroundColor/,"$1ackgroundOpacity"),m=rules.fallback(a,l);var n=b.opacity||1;m&&_.is(m.val)&&(n=m.val,preview&&(h[m.key]="."+c)),j=rules.css.hexToBackgroundColor(i.val,n)}else"effectBackgroundImage"==e||("color"==e?j="color:"+i.val:"borderColor"==e?b.borders?_.each(b.borders,function(a){j=j+"border-"+a+": 1px solid "+i.val+";"}):j="border: 1px solid "+i.val:"borderType"==e?b.borders?_.each(b.borders,function(a){j=j+"border-"+a+"-style:"+i.val+";"}):j="border-style:"+i.val:"margin"==e&&(j=rules.css.getSectionMargin(a,!1,!1,!0)));b.important&&(j=j.replace(";"," !important;")),g.push("."+c+"{"+j+"}"),preview&&!b.alreadyInKeysForSelector&&(h[i.key]||(h[i.key]=[]),h[i.key].push("."+c))}}function c(a,d){var e=a,d=d||[];0==d.length&&(e=a.attributes),_.each(e,function(a,f){var g=_.clone(d);g.push(f);var h,i=g.join("."),j=i.replace(/\./g,"-");if(f.contains("backgroundColor")||f.contains("BackgroundColor")?h="backgroundColor":f.contains("effectBackgroundImage")||"backgroundImagePortrait"==f||"backgroundImageLandscape"==f||f.contains("separatorType")||(f.contains("borderColor")||f.contains("separatorColor")?h="borderColor":f.contains("color")||f.contains("Color")?h="color":f.contains("Font")?h="font":f.contains("margin")?h="margin":_.isObject(e[f])&&!_.isArray(e[f])&&(h="object")),h)if("object"!=h){var k=_.clone(d);k.push(f);var l=[];_.each(g,function(){var a=k.join(".");l.push(a),k.splice(-2,1)}),b({name:j,key:i,type:h,fallbacks:l})}else c(e[f],g)})}function d(){var a=_.clone(e.props[f])||[];_.each(a,function(a){b(a)})}var e=this,f=a.get("type"),g=[],h={};c(a),d(a);var i=rules.css.createStyleTag(g.join("\n"),h,!0);return i.tag+i.keys}}},{}],24:[function(a,b){b.exports={validate:function(a,b){var c=!1,d=!1,e=!1;if(!b||"string"==typeof b&&!b.length)return!1;switch(a=a.replace("GBUserField","GBField")){case"GBFieldNumber":case"number":d=/^[0-9,. -]+$/g;break;case"GBFieldName":case"name":c=!0;break;case"GBFieldMail":case"email":b=b.toLowerCase(),d=/^[a-z0-9._%+-]+@[a-z0-9._-]{2,}.[a-z]{2,4}$/;break;case"GBFieldPhone":case"tel":d=/^[0-9,. -()+*\#]+$/;break;case"GBFieldWebsite":case"url":d=/^(https?:\/\/)?([a-zA-Z0-9\.-]+)(.|:)([a-zA-Z0-9\.]{2,6})([\/\w \.-=#!]*)*\/?$/;break;case"GBFieldPrice":case"price":d=/^[0-9., -]+$/g;break;case"GBFieldDate":case"date":b=moment(parseInt(b)).format("YYYY-MM-DD");break;case"password":c="string"==typeof b&&b.length>3;break;case"GBFieldDescription":case"GBFieldDropdown":c="string"==typeof b&&b.length;break;default:c=!0}return d?c=d.test(b):e&&(c=!e.test(b)),c?b:!1},validateInput:function(a,b){var c=!1;if(b||(b=a.data("field-type")),b||(b=a.attr("type")),!b)return!1;var d,e=_.inArray(b,["dropdown","GBFieldDropdown","GBUserFieldDropdown"]);return e?d=a.children(":selected").val():(d=a.val(),d||(d=a.html())),d&&(c=this.validate(b,d)),c?c:void(e?(a.parent(".ui-btn").addClass("withError"),setTimeout(function(){a.parent(".ui-btn").removeClass("withError")},1e3)):(a.addClass("withError"),setTimeout(function(){a.removeClass("withError")},1e3)))}}},{}],25:[function(a,b){(function(c){(function(d){function e(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a){ub.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function h(a,b){var c=!0;return o(function(){return c&&(g(a),c=!1),b.apply(this,arguments)},b)}function i(a,b){qc[a]||(g(b),qc[a]=!0)}function j(a,b){return function(c){return r(a.call(this,c),b)}}function k(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ub.localeData(),this._bubble()}function o(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Ib.length>0)for(c in Ib)d=Ib[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(i(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=ub.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&ob(a,"Date",nb(a,"Date")+f*c),g&&mb(a,nb(a,"Month")+g*c),d&&ub.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jc[a]||kc[b]||b}return a}function A(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else{if(0!==a.indexOf("month"))return;b=12,c="month"}ub[a]=function(e,f){var g,h,i=ub._locale[a],j=[];if("number"==typeof e&&(f=e,e=d),h=function(a){var b=ub().utc().set(c,a);return i.call(ub._locale,b,e||"")},null!=f)return h(f);for(g=0;b>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return ib(ub([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Bb]<0||a._a[Bb]>11?Bb:a._a[Cb]<1||a._a[Cb]>D(a._a[Ab],a._a[Bb])?Cb:a._a[Db]<0||a._a[Db]>23?Db:a._a[Eb]<0||a._a[Eb]>59?Eb:a._a[Fb]<0||a._a[Fb]>59?Fb:a._a[Gb]<0||a._a[Gb]>999?Gb:-1,a._pf._overflowDayOfYear&&(Ab>b||b>Cb)&&(b=Cb),a._pf.overflow=b)}function I(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(b){var c=null;if(!Hb[b]&&Jb)try{c=ub.locale(),a("./locale/"+b),ub.locale(c)}catch(d){}return Hb[b]}function M(a,b){return b._isUTC?ub(a).zone(b._offset||0):ub(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Nb);for(b=0,c=d.length;c>b;b++)d[b]=pc[d[b]]?pc[d[b]]:N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),lc[b]||(lc[b]=O(b)),lc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ob.lastIndex=0;d>=0&&Ob.test(a);)a=a.replace(Ob,c),Ob.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return Zb;case"DDDD":return _b;case"YYYY":case"GGGG":case"gggg":return d?ac:Rb;case"Y":case"G":case"g":return cc;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?bc:Sb;case"S":if(d)return Zb;case"SS":if(d)return $b;case"SSS":if(d)return _b;case"DDD":return Qb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ub;case"a":case"A":return b._locale._meridiemParse;case"X":return Xb;case"Z":case"ZZ":return Vb;case"T":return Wb;case"SSSS":return Tb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?$b:Pb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pb;case"Do":return Yb;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Vb)||[],c=b[b.length-1]||[],d=(c+"").match(hc)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?-e:e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Bb]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Bb]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b),null!=d?e[Bb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Cb]=C(b));break;case"Do":null!=b&&(e[Cb]=C(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Ab]=ub.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Ab]=C(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"H":case"HH":case"h":case"hh":e[Db]=C(b);break;case"m":case"mm":e[Eb]=C(b);break;case"s":case"ss":e[Fb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Gb]=C(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=ub.parseTwoDigitYear(b)}}function U(a){var b,c,d,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(g=1,h=4,c=e(b.GG,a._a[Ab],ib(ub(),1,4).year),d=e(b.W,1),f=e(b.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,c=e(b.gg,a._a[Ab],ib(ub(),g,h).year),d=e(b.w,1),null!=b.d?(f=b.d,g>f&&++d):f=null!=b.e?b.e+g:g),i=jb(c,d,f,h,g),a._a[Ab]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var b,c,d,f,g=[];if(!a._d){for(d=X(a),a._w&&null==a._a[Cb]&&null==a._a[Bb]&&U(a),a._dayOfYear&&(f=e(a._a[Ab],d[Ab]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),c=eb(f,0,a._dayOfYear),a._a[Bb]=c.getUTCMonth(),a._a[Cb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];a._d=(a._useUTC?eb:db).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(a){if(a._f===ub.ISO_8601)return void ab(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=""+a._i,h=g.length,i=0;for(d=Q(a._f,a._locale).match(Nb)||[],b=0;b<d.length;b++)e=d[b],c=(g.match(R(e,a))||[])[0],c&&(f=g.substr(0,g.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),i+=c.length),pc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),T(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=h-i,g.length>0&&a._pf.unusedInput.push(g),a._isPm&&a._a[Db]<12&&(a._a[Db]+=12),a._isPm===!1&&12===a._a[Db]&&(a._a[Db]=0),V(a),H(a)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,d,e,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)g=0,b=p({},a),b._pf=f(),b._f=a._f[e],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==d||d>g)&&(d=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=dc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fc.length;c>b;b++)if(fc[b][1].exec(d)){a._f=fc[b][0]+(e[6]||" ");break}for(b=0,c=gc.length;c>b;b++)if(gc[b][1].exec(d)){a._f+=gc[b][0];break}d.match(Vb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function bb(a){ab(a),a._isValid===!1&&(delete a._isValid,ub.createFromInputFallback(a))}function cb(a){var b,c=a._i;c===d?a._d=new Date:x(c)?a._d=new Date(+c):null!==(b=Kb.exec(c))?a._d=new Date(+b[1]):"string"==typeof c?bb(a):w(c)?(a._a=c.slice(0),V(a)):"object"==typeof c?W(a):"number"==typeof c?a._d=new Date(c):ub.createFromInputFallback(a)}function db(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function eb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function fb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function gb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function hb(a,b,c){var d=ub.duration(a).abs(),e=zb(d.as("s")),f=zb(d.as("m")),g=zb(d.as("h")),h=zb(d.as("d")),i=zb(d.as("M")),j=zb(d.as("y")),k=e<mc.s&&["s",e]||1===f&&["m"]||f<mc.m&&["mm",f]||1===g&&["h"]||g<mc.h&&["hh",g]||1===h&&["d"]||h<mc.d&&["dd",h]||1===i&&["M"]||i<mc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,gb.apply({},k)}function ib(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ub(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function jb(a,b,c,d,e){var f,g,h=eb(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function kb(a){var b=a._i,c=a._f;return a._locale=a._locale||ub.localeData(a._l),null===b||c===d&&""===b?ub.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),ub.isMoment(b)?new m(b,!0):(c?w(c)?_(a):Y(a):cb(a),new m(a)))}function lb(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return ub();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function mb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function nb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function ob(a,b,c){return"Month"===b?mb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function pb(a,b){return function(c){return null!=c?(ob(this,a,c),ub.updateOffset(this,b),this):nb(this,a)}}function qb(a){return 400*a/146097}function rb(a){return 146097*a/400}function sb(a){ub.duration.fn[a]=function(){return this._data[a]}}function tb(a){"undefined"==typeof ender&&(vb=yb.moment,yb.moment=a?h("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ub):ub)}for(var ub,vb,wb,xb="2.8.1",yb="undefined"!=typeof c?c:this,zb=Math.round,Ab=0,Bb=1,Cb=2,Db=3,Eb=4,Fb=5,Gb=6,Hb={},Ib=[],Jb="undefined"!=typeof b&&b.exports,Kb=/^\/?Date\((\-?\d+)/i,Lb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ob=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Pb=/\d\d?/,Qb=/\d{1,3}/,Rb=/\d{1,4}/,Sb=/[+\-]?\d{1,6}/,Tb=/\d+/,Ub=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vb=/Z|[\+\-]\d\d:?\d\d/gi,Wb=/T/i,Xb=/[\+\-]?\d+(\.\d{1,3})?/,Yb=/\d{1,2}/,Zb=/\d/,$b=/\d\d/,_b=/\d{3}/,ac=/\d{4}/,bc=/[+-]?\d{6}/,cc=/[+-]?\d+/,dc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ec="YYYY-MM-DDTHH:mm:ssZ",fc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gc=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hc=/([\+\-]|\d\d)/gi,ic=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},kc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lc={},mc={s:45,m:45,h:22,d:26,M:11},nc="DDD w W M D d".split(" "),oc="M D H h m s w W".split(" "),pc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qc={},rc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];nc.length;)wb=nc.pop(),pc[wb+"o"]=k(pc[wb],wb);for(;oc.length;)wb=oc.pop(),pc[wb+wb]=j(pc[wb],2);pc.DDDD=j(pc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=ub.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ub([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ib(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ub=function(a,b,c,e){var g;return"boolean"==typeof c&&(e=c,c=d),g={},g._isAMomentObject=!0,g._i=a,g._f=b,g._l=c,g._strict=e,g._isUTC=!1,g._pf=f(),kb(g)},ub.suppressDeprecationWarnings=!1,ub.createFromInputFallback=h("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),ub.min=function(){var a=[].slice.call(arguments,0);return lb("isBefore",a)},ub.max=function(){var a=[].slice.call(arguments,0);return lb("isAfter",a)},ub.utc=function(a,b,c,e){var g;return"boolean"==typeof c&&(e=c,c=d),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=c,g._i=a,g._f=b,g._strict=e,g._pf=f(),kb(g).utc()},ub.unix=function(a){return ub(1e3*a)},ub.duration=function(a,b){var c,d,e,f,g=a,h=null;return ub.isDuration(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Lb.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:C(h[Cb])*c,h:C(h[Db])*c,m:C(h[Eb])*c,s:C(h[Fb])*c,ms:C(h[Gb])*c}):(h=Mb.exec(a))?(c="-"===h[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},g={y:e(h[2]),M:e(h[3]),d:e(h[4]),h:e(h[5]),m:e(h[6]),s:e(h[7]),w:e(h[8])}):"object"==typeof g&&("from"in g||"to"in g)&&(f=t(ub(g.from),ub(g.to)),g={},g.ms=f.milliseconds,g.M=f.months),d=new n(g),ub.isDuration(a)&&a.hasOwnProperty("_locale")&&(d._locale=a._locale),d},ub.version=xb,ub.defaultFormat=ec,ub.ISO_8601=function(){},ub.momentProperties=Ib,ub.updateOffset=function(){},ub.relativeTimeThreshold=function(a,b){return mc[a]===d?!1:b===d?mc[a]:(mc[a]=b,!0)},ub.lang=h("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return ub.locale(a,b)}),ub.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?ub.defineLocale(a,b):ub.localeData(a),c&&(ub.duration._locale=ub._locale=c)),ub._locale._abbr
},ub.defineLocale=function(a,b){return null!==b?(b.abbr=a,Hb[a]||(Hb[a]=new l),Hb[a].set(b),ub.locale(a),Hb[a]):(delete Hb[a],null)},ub.langData=h("moment.langData is deprecated. Use moment.localeData instead.",function(a){return ub.localeData(a)}),ub.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ub._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},ub.isMoment=function(a){return a instanceof m||null!=a&&a.hasOwnProperty("_isAMomentObject")},ub.isDuration=function(a){return a instanceof n};for(wb=rc.length-1;wb>=0;--wb)B(rc[wb]);ub.normalizeUnits=function(a){return z(a)},ub.invalid=function(a){var b=ub.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},ub.parseZone=function(){return ub.apply(null,arguments).parseZone()},ub.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},o(ub.fn=m.prototype,{clone:function(){return ub(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ub(this).utc();return 0<a.year()&&a.year()<=9999?P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?ub.utc(this._a):ub(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(a){var b=P(this,a||ub.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f=M(a,this),g=6e4*(this.zone()-f.zone());return b=z(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-ub(this).startOf("month")-(f-ub(f).startOf("month")))/d,e-=6e4*(this.zone()-ub(this).startOf("month").zone()-(f.zone()-ub(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:q(e)},from:function(a,b){return ub.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(ub(),a)},calendar:function(a){var b=a||ub(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=fb(a,this.localeData()),this.add(a-b,"d")):b},month:pb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=z(a),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+ub(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+ub(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+M(a,this).startOf(b)},min:h("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=ub.apply(null,arguments),this>a?this:a}),max:h("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=ub.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._d.getTimezoneOffset():("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._d.getTimezoneOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,ub.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ub.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ub(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=zb((ub(this).startOf("day")-ub(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ib(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=ib(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=ib(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){return a=z(a),"function"==typeof this[a]&&this[a](b),this},locale:function(a){return a===d?this._locale._abbr:(this._locale=ub.localeData(a),this)},lang:h("moment().lang() is deprecated. Use moment().localeData() instead.",function(a){return a===d?this.localeData():(this._locale=ub.localeData(a),this)}),localeData:function(){return this._locale}}),ub.fn.millisecond=ub.fn.milliseconds=pb("Milliseconds",!1),ub.fn.second=ub.fn.seconds=pb("Seconds",!1),ub.fn.minute=ub.fn.minutes=pb("Minutes",!1),ub.fn.hour=ub.fn.hours=pb("Hours",!0),ub.fn.date=pb("Date",!0),ub.fn.dates=h("dates accessor is deprecated. Use date instead.",pb("Date",!0)),ub.fn.year=pb("FullYear",!0),ub.fn.years=h("years accessor is deprecated. Use year instead.",pb("FullYear",!0)),ub.fn.days=ub.fn.day,ub.fn.months=ub.fn.month,ub.fn.weeks=ub.fn.week,ub.fn.isoWeeks=ub.fn.isoWeek,ub.fn.quarters=ub.fn.quarter,ub.fn.toJSON=ub.fn.toISOString,o(ub.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(qb(e)),e-=q(rb(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=hb(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=ub.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ub.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),b=this._days+this._milliseconds/864e5,"month"===a||"year"===a)return c=this._months+12*qb(b),"month"===a?c:c/12;switch(b+=rb(this._months/12),a){case"week":return b/7;case"day":return b;case"hour":return 24*b;case"minute":return 24*b*60;case"second":return 24*b*60*60;case"millisecond":return 24*b*60*60*1e3;default:throw new Error("Unknown unit "+a)}},lang:ub.fn.lang,locale:ub.fn.locale,toIsoString:h("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}});for(wb in ic)ic.hasOwnProperty(wb)&&sb(wb.toLowerCase());ub.duration.fn.asMilliseconds=function(){return this.as("ms")},ub.duration.fn.asSeconds=function(){return this.as("s")},ub.duration.fn.asMinutes=function(){return this.as("m")},ub.duration.fn.asHours=function(){return this.as("h")},ub.duration.fn.asDays=function(){return this.as("d")},ub.duration.fn.asWeeks=function(){return this.as("weeks")},ub.duration.fn.asMonths=function(){return this.as("M")},ub.duration.fn.asYears=function(){return this.as("y")},ub.locale("en",{ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),function(a){a(ub)}(function(a){return a.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiem:function(a,b,c){return 12>a?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(a){a(ub)}(function(a){var b={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},c={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return a.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(a){return 12>a?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(a){return a.replace(/[۰-۹]/g,function(a){return c[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(a){a(ub)}(function(a){var b={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},c={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return a.defineLocale("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(a){return 12>a?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(a){return a.replace(/[۰-۹]/g,function(a){return c[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(a){a(ub)}(function(a){var b={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return a.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiem:function(a){return 4>a?"gecə":12>a?"səhər":17>a?"gündüz":"axşam"},ordinal:function(a){if(0===a)return a+"-ıncı";var c=a%10,d=a%100-c,e=a>=100?100:null;return a+(b[c]||b[d]||b[e])},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){function b(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:c?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:c?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===d?c?"хвіліна":"хвіліну":"h"===d?c?"гадзіна":"гадзіну":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_"),accusative:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),accusative:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_")},d=/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}return a.defineLocale("be",{months:d,monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:e,weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:c,mm:c,h:c,hh:c,d:"дзень",dd:c,M:"месяц",MM:c,y:"год",yy:c},meridiem:function(a){return 4>a?"ночы":12>a?"раніцы":17>a?"дня":"вечара"},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a%10!==2&&a%10!==3||a%100===12||a%100===13?a+"-ы":a+"-і";case"D":return a+"-га";default:return a}},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&20>c?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){var b={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},c={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return a.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(a){return a.replace(/[১২৩৪৫৬৭৮৯০]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 4>a?"রাত":10>a?"শকাল":17>a?"দুপুর":20>a?"বিকেল":"রাত"},week:{dow:0,doy:6}})}),function(a){a(ub)}(function(a){var b={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},c={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return a.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(a){return a.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 4>a?"མཚན་མོ":10>a?"ཞོགས་ཀས":17>a?"ཉིན་གུང":20>a?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+f(d[c],a)}function c(a){switch(e(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function e(a){return a>9?e(a%10):a}function f(a,b){return 2===b?g(a):a}function g(a){var b={m:"v",b:"v",d:"z"};return b[a.charAt(0)]===d?a:b[a.charAt(0)]+a.substring(1)}return a.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:b,h:"un eur",hh:"%d eur",d:"un devezh",dd:b,M:"ur miz",MM:b,y:"ur bloaz",yy:c},ordinal:function(a){var b=1===a?"añ":"vet";return a+b},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}return a.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:b,mm:b,h:b,hh:b,d:"dan",dd:b,M:"mjesec",MM:b,y:"godinu",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a){return a>1&&5>a&&1!==~~(a/10)}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"pár sekund":"pár sekundami";case"m":return c?"minuta":e?"minutu":"minutou";case"mm":return c||e?f+(b(a)?"minuty":"minut"):f+"minutami";case"h":return c?"hodina":e?"hodinu":"hodinou";case"hh":return c||e?f+(b(a)?"hodiny":"hodin"):f+"hodinami";case"d":return c||e?"den":"dnem";case"dd":return c||e?f+(b(a)?"dny":"dní"):f+"dny";case"M":return c||e?"měsíc":"měsícem";case"MM":return c||e?f+(b(a)?"měsíce":"měsíců"):f+"měsíci";case"y":return c||e?"rok":"rokem";case"yy":return c||e?f+(b(a)?"roky":"let"):f+"lety"}}var d="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),e="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return a.defineLocale("cs",{months:d,monthsShort:e,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(d,e),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H.mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(a){var b=/сехет$/i.exec(a)?"рен":/çул$/i.exec(a)?"тан":"ран";return a+b},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?d[c][0]:d[c][1]}return a.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:b,mm:"%d Minuten",h:b,hh:"%d Stunden",d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})
}),function(a){a(ub)}(function(a){function b(a,b,c){var d={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?d[c][0]:d[c][1]}return a.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:b,mm:"%d Minuten",h:b,hh:"%d Stunden",d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(a,b,c){return a>11?c?"μμ":"ΜΜ":c?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return"function"==typeof c&&(c=c.apply(b)),c.replace("{}",d%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(a){return a+"η"},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}})}),function(a){a(ub)}(function(a){return a.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){var b="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),c="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return a.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,d){return/-MMM-/.test(d)?c[a.month()]:b[a.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c,d){var e={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[a+" minuti",a+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[a+" tunni",a+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[a+" kuu",a+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}return a.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:"%d päeva",M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){var b={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},c={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return a.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(a){return 12>a?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(a){return a.replace(/[۰-۹]/g,function(a){return c[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]}).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})}),function(a){a(ub)}(function(a){function b(a,b,d,e){var f="";switch(d){case"s":return e?"muutaman sekunnin":"muutama sekunti";case"m":return e?"minuutin":"minuutti";case"mm":f=e?"minuutin":"minuuttia";break;case"h":return e?"tunnin":"tunti";case"hh":f=e?"tunnin":"tuntia";break;case"d":return e?"päivän":"päivä";case"dd":f=e?"päivän":"päivää";break;case"M":return e?"kuukauden":"kuukausi";case"MM":f=e?"kuukauden":"kuukautta";break;case"y":return e?"vuoden":"vuosi";case"yy":f=e?"vuoden":"vuotta"}return f=c(a,e)+" "+f}function c(a,b){return 10>a?b?e[a]:d[a]:a}var d="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),e=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",d[7],d[8],d[9]];return a.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return a+(1===a?"er":"")}})}),function(a){a(ub)}(function(a){return a.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(a){return 2===a?"שעתיים":a+" שעות"},d:"יום",dd:function(a){return 2===a?"יומיים":a+" ימים"},M:"חודש",MM:function(a){return 2===a?"חודשיים":a+" חודשים"},y:"שנה",yy:function(a){return 2===a?"שנתיים":a+" שנים"}}})}),function(a){a(ub)}(function(a){var b={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},c={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return a.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 4>a?"रात":10>a?"सुबह":17>a?"दोपहर":20>a?"शाम":"रात"},week:{dow:0,doy:6}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}return a.defineLocale("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:b,mm:b,h:b,hh:b,d:"dan",dd:b,M:"mjesec",MM:b,y:"godinu",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){function b(a,b,c,d){var e=a;switch(c){case"s":return d||b?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" óra":" órája");case"hh":return e+(d||b?" óra":" órája");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hónap":" hónapja");case"MM":return e+(d||b?" hónap":" hónapja");case"y":return"egy"+(d||b?" év":" éve");case"yy":return e+(d||b?" év":" éve")}return""}function c(a){return(a?"":"[múlt] ")+"["+d[this.day()]+"] LT[-kor]"}var d="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return a.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(a,b,c){return 12>a?c===!0?"de":"DE":c===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return c.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return c.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){function b(a,b){var c={nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function c(a){var b="հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_");return b[a.month()]}function d(a){var b="կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_");return b[a.day()]}return a.defineLocale("hy-am",{months:b,monthsShort:c,weekdays:d,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(a){return 4>a?"գիշերվա":12>a?"առավոտվա":17>a?"ցերեկվա":"երեկոյան"},ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-ին":a+"-րդ";default:return a}},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(a){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){function b(a){return a%100===11?!0:a%10===1?!1:!0}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return c?"mínúta":"mínútu";case"mm":return b(a)?f+(c||e?"mínútur":"mínútum"):c?f+"mínúta":f+"mínútu";case"hh":return b(a)?f+(c||e?"klukkustundir":"klukkustundum"):f+"klukkustund";case"d":return c?"dagur":e?"dag":"degi";case"dd":return b(a)?c?f+"dagar":f+(e?"daga":"dögum"):c?f+"dagur":f+(e?"dag":"degi");case"M":return c?"mánuður":e?"mánuð":"mánuði";case"MM":return b(a)?c?f+"mánuðir":f+(e?"mánuði":"mánuðum"):c?f+"mánuður":f+(e?"mánuð":"mánuði");case"y":return c||e?"ár":"ári";case"yy":return b(a)?f+(c||e?"ár":"árum"):f+(c||e?"ár":"ári")}}return a.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:c,m:c,mm:c,h:"klukkustund",hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(a){return 12>a?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(a){a(ub)}(function(a){function b(a,b){var c={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function c(a,b){var c={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},d=/(წინა|შემდეგ)/.test(b)?"accusative":"nominative";return c[d][a.day()]}return a.defineLocale("ka",{months:b,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:c,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(a){return/(წამი|წუთი|საათი|წელი)/.test(a)?a.replace(/ი$/,"ში"):a+"ში"},past:function(a){return/(წამი|წუთი|საათი|დღე|თვე)/.test(a)?a.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(a)?a.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(a){return 0===a?a:1===a?a+"-ლი":20>a||100>=a&&a%20===0||a%100===0?"მე-"+a:a+"-ე"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(a){return 12>a?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(a){return"오후"===a
}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?d[c][0]:d[c][1]}function c(a){var b=a.substr(0,a.indexOf(" "));return e(b)?"a "+a:"an "+a}function d(a){var b=a.substr(0,a.indexOf(" "));return e(b)?"viru "+a:"virun "+a}function e(a){if(a=parseInt(a,10),isNaN(a))return!1;if(0>a)return!0;if(10>a)return a>=4&&7>=a?!0:!1;if(100>a){var b=a%10,c=a/10;return e(0===b?c:b)}if(1e4>a){for(;a>=10;)a/=10;return e(a)}return a/=1e3,e(a)}return a.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:c,past:d,s:"e puer Sekonnen",m:b,mm:"%d Minutten",h:b,hh:"%d Stonnen",d:b,dd:"%d Deeg",M:b,MM:"%d Méint",y:b,yy:"%d Joer"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c,d){return b?"kelios sekundės":d?"kelių sekundžių":"kelias sekundes"}function c(a,b,c,d){return b?e(c)[0]:d?e(c)[1]:e(c)[2]}function d(a){return a%10===0||a>10&&20>a}function e(a){return h[a].split("_")}function f(a,b,f,g){var h=a+" ";return 1===a?h+c(a,b,f[0],g):b?h+(d(a)?e(f)[1]:e(f)[0]):g?h+e(f)[1]:h+(d(a)?e(f)[1]:e(f)[2])}function g(a,b){var c=-1===b.indexOf("dddd HH:mm"),d=i[a.day()];return c?d:d.substring(0,d.length-2)+"į"}var h={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},i="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");return a.defineLocale("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:g,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:b,m:c,mm:f,h:c,hh:f,d:c,dd:f,M:c,MM:f,y:c,yy:f},ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d=a.split("_");return c?b%10===1&&11!==b?d[2]:d[3]:b%10===1&&11!==b?d[0]:d[1]}function c(a,c,e){return a+" "+b(d[e],a,c)}var d={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return a.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:c,h:"stundu",hh:c,d:"dienu",dd:c,M:"mēnesi",MM:c,y:"gadu",yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&20>c?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(a){return 4>a?"രാത്രി":12>a?"രാവിലെ":17>a?"ഉച്ച കഴിഞ്ഞ്":20>a?"വൈകുന്നേരം":"രാത്രി"}})}),function(a){a(ub)}(function(a){var b={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},c={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return a.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 4>a?"रात्री":10>a?"सकाळी":17>a?"दुपारी":20>a?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(a){a(ub)}(function(a){return a.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(a){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){var b={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},c={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return a.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(a){return a.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){var b={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},c={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return a.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 3>a?"राती":10>a?"बिहान":15>a?"दिउँसो":18>a?"बेलुका":20>a?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){var b="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),c="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return a.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,d){return/-MMM-/.test(d)?c[a.month()]:b[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a){return 5>a%10&&a%10>1&&~~(a/10)%10!==1}function c(a,c,d){var e=a+" ";switch(d){case"m":return c?"minuta":"minutę";case"mm":return e+(b(a)?"minuty":"minut");case"h":return c?"godzina":"godzinę";case"hh":return e+(b(a)?"godziny":"godzin");case"MM":return e+(b(a)?"miesiące":"miesięcy");case"yy":return e+(b(a)?"lata":"lat")}}var d="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),e="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return a.defineLocale("pl",{months:function(a,b){return/D MMMM/.test(b)?e[a.month()]:d[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:c,mm:c,h:c,hh:c,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:c,y:"rok",yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(a){a(ub)}(function(a){return a.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100===0)&&(e=" de "),a+e+d[c]}return a.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:b,h:"o oră",hh:b,d:"o zi",dd:b,M:"o lună",MM:b,y:"un an",yy:b},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){function b(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:c?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===d?c?"минута":"минуту":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function f(a,b){var c={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},d=/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}return a.defineLocale("ru",{months:d,monthsShort:e,weekdays:f,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:c,mm:c,h:"час",hh:c,d:"день",dd:c,M:"месяц",MM:c,y:"год",yy:c},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(a){return/^(дня|вечера)$/.test(a)},meridiem:function(a){return 4>a?"ночи":12>a?"утра":17>a?"дня":"вечера"},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-й";case"D":return a+"-го";case"w":case"W":return a+"-я";default:return a}},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){function b(a){return a>1&&5>a}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"pár sekúnd":"pár sekundami";case"m":return c?"minúta":e?"minútu":"minútou";case"mm":return c||e?f+(b(a)?"minúty":"minút"):f+"minútami";case"h":return c?"hodina":e?"hodinu":"hodinou";case"hh":return c||e?f+(b(a)?"hodiny":"hodín"):f+"hodinami";case"d":return c||e?"deň":"dňom";case"dd":return c||e?f+(b(a)?"dni":"dní"):f+"dňami";case"M":return c||e?"mesiac":"mesiacom";case"MM":return c||e?f+(b(a)?"mesiace":"mesiacov"):f+"mesiacmi";case"y":return c||e?"rok":"rokom";case"yy":return c||e?f+(b(a)?"roky":"rokov"):f+"rokmi"}}var d="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),e="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return a.defineLocale("sk",{months:d,monthsShort:e,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(d,e),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"ena minuta":"eno minuto";case"mm":return d+=1===a?"minuta":2===a?"minuti":3===a||4===a?"minute":"minut";case"h":return b?"ena ura":"eno uro";case"hh":return d+=1===a?"ura":2===a?"uri":3===a||4===a?"ure":"ur";case"dd":return d+=1===a?"dan":"dni";case"MM":return d+=1===a?"mesec":2===a?"meseca":3===a||4===a?"mesece":"mesecev";case"yy":return d+=1===a?"leto":2===a?"leti":3===a||4===a?"leta":"let"}}return a.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:b,mm:b,h:b,hh:b,d:"en dan",dd:b,M:"en mesec",MM:b,y:"eno leto",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(a){return 12>a?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){var b={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,c,d){var e=b.words[d];return 1===d.length?c?e[0]:e[1]:a+" "+b.correctGrammaticalCase(a,e)}};return a.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var a=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:b.translate,mm:b.translate,h:b.translate,hh:b.translate,d:"дан",dd:b.translate,M:"месец",MM:b.translate,y:"годину",yy:b.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){var b={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,c,d){var e=b.words[d];return 1===d.length?c?e[0]:e[1]:a+" "+b.correctGrammaticalCase(a,e)}};return a.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var a=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:b.translate,mm:b.translate,h:b.translate,hh:b.translate,d:"dan",dd:b.translate,M:"mesec",MM:b.translate,y:"godinu",yy:b.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":3===b?"e":"e";return a+c},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(a){return a+"வது"},meridiem:function(a){return a>=6&&10>=a?" காலை":a>=10&&14>=a?" நண்பகல்":a>=14&&18>=a?" எற்பாடு":a>=18&&20>=a?" மாலை":a>=20&&24>=a?" இரவு":a>=0&&6>=a?" வைகறை":void 0},week:{dow:0,doy:6}})}),function(a){a(ub)}(function(a){return a.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(a){return 12>a?"ก่อนเที่ยง":"หลังเที่ยง"
},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(a){a(ub)}(function(a){return a.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(a){return a},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){var b={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return a.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(a){if(0===a)return a+"'ıncı";var c=a%10,d=a%100-c,e=a>=100?100:null;return a+(b[c]||b[d]||b[e])},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(a){a(ub)}(function(a){return a.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(a){a(ub)}(function(a){function b(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===d?c?"хвилина":"хвилину":"h"===d?c?"година":"годину":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},d=/(\[[ВвУу]\]) ?dddd/.test(b)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function f(a){return function(){return a+"о"+(11===this.hours()?"б":"")+"] LT"}}return a.defineLocale("uk",{months:d,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:e,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:f("[Сьогодні "),nextDay:f("[Завтра "),lastDay:f("[Вчора "),nextWeek:f("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return f("[Минулої] dddd [").call(this);case 1:case 2:case 4:return f("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:c,mm:c,h:"годину",hh:c,d:"день",dd:c,M:"місяць",MM:c,y:"рік",yy:c},meridiem:function(a){return 4>a?"ночі":12>a?"ранку":17>a?"дня":"вечора"},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-й";case"D":return a+"-го";default:return a}},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(a){a(ub)}(function(a){return a.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(a){return a},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a,b){var c=100*a+b;return 600>c?"凌晨":900>c?"早上":1130>c?"上午":1230>c?"中午":1800>c?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()-b.unix()>=604800?"[下]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},lastWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()<b.unix()?"[上]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},sameElse:"LL"},ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"周";default:return a}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(a){a(ub)}(function(a){return a.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a,b){var c=100*a+b;return 900>c?"早上":1130>c?"上午":1230>c?"中午":1800>c?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"週";default:return a}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),ub.locale("en"),Jb?b.exports=ub:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(yb.moment=vb),ub}),tb(!0)):tb()}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(a,b,c){(function(d){!function(a){if("object"==typeof c&&"undefined"!=typeof b)b.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof d?e=d:"undefined"!=typeof self&&(e=self),e.omnivore=a()}}(function(){var b;return function c(b,d,e){function f(h,i){if(!d[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};b[h][0].call(l.exports,function(a){var c=b[h][1][a];return f(c?c:a)},l,l.exports,c,b,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b){function c(a,b){"addData"in a&&a.addData(b),"setGeoJSON"in a&&a.setGeoJSON(b)}function d(a,b,d){var e=d||Leaflet.geoJson();return r(a,function(a,b){return a?e.fire("error",{error:a}):(c(e,JSON.parse(b.responseText)),void e.fire("ready"))}),e}function e(a,b,c){function d(a,c){return a?e.fire("error",{error:a}):(k(c.responseText,b,e),void e.fire("ready"))}var e=c||Leaflet.geoJson();return r(a,d),e}function f(a,b,c){function d(a,c){function d(){f=!0}var f;return a?e.fire("error",{error:a}):(e.on("error",d),l(c.responseText,b,e),e.off("error",d),void(f||e.fire("ready")))}var e=c||Leaflet.geoJson();return r(a,d),e}function g(a,b,c){function d(a,c){function d(){f=!0}var f;return a?e.fire("error",{error:a}):(e.on("error",d),m(c.responseXML||c.responseText,b,e),e.off("error",d),void(f||e.fire("ready")))}var e=c||Leaflet.geoJson();return r(a,d),e}function h(a,b,c){function d(a,c){function d(){f=!0}var f;return a?e.fire("error",{error:a}):(e.on("error",d),n(c.responseXML||c.responseText,b,e),e.off("error",d),void(f||e.fire("ready")))}var e=c||Leaflet.geoJson();return r(a,d),e}function i(a,b,c){function d(a,c){return a?e.fire("error",{error:a}):(p(c.responseText,b,e),void e.fire("ready"))}var e=c||Leaflet.geoJson();return r(a,d),e}function j(a,b,c){function d(a,c){return a?e.fire("error",{error:a}):(o(c.responseText,b,e),void e.fire("ready"))}var e=c||Leaflet.geoJson();return r(a,d),e}function k(a,b,d){var e="string"==typeof a?JSON.parse(a):a;d=d||Leaflet.geoJson();for(var f in e.objects){var g=v.feature(e,e.objects[f]);g.features?c(d,g.features):c(d,g)}return d}function l(a,b,d){function e(a,b){return a?d.fire("error",{error:a}):void c(d,b)}return d=d||Leaflet.geoJson(),b=b||{},s.csv2geojson(a,b,e),d}function m(a,b,d){var e=q(a);if(!e)return d.fire("error",{error:"Could not parse GPX"});d=d||Leaflet.geoJson();var f=w.gpx(e);return c(d,f),d}function n(a,b,d){var e=q(a);if(!e)return d.fire("error",{error:"Could not parse KML"});d=d||Leaflet.geoJson();var f=w.kml(e);return c(d,f),d}function o(a,b,d){d=d||Leaflet.geoJson(),b=b||{};for(var e=u.decode(a,b.precision),f={type:"LineString",coordinates:[]},g=0;g<e.length;g++)f.coordinates[g]=[e[g][1],e[g][0]];return c(d,f),d}function p(a,b,d){d=d||Leaflet.geoJson();var e=t(a);return c(d,e),d}function q(a){return"string"==typeof a?(new DOMParser).parseFromString(a,"text/xml"):a}var r=a("corslite"),s=a("csv2geojson"),t=a("wellknown"),u=a("polyline"),v=a("topojson/topojson.js"),w=a("togeojson");b.exports.polyline=j,b.exports.polyline.parse=o,b.exports.geojson=d,b.exports.topojson=e,b.exports.topojson.parse=k,b.exports.csv=f,b.exports.csv.parse=l,b.exports.gpx=g,b.exports.gpx.parse=m,b.exports.kml=h,b.exports.kml.parse=n,b.exports.wkt=i,b.exports.wkt.parse=p},{corslite:5,csv2geojson:6,polyline:9,togeojson:10,"topojson/topojson.js":11,wellknown:12}],2:[function(){},{}],3:[function(a,b){b.exports=a(2)},{"/Users/tmcw/src/leaflet-omnivore/node_modules/browserify/lib/_empty.js":2}],4:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.MutationObserver,c="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};var d=[];if(b){var e=document.createElement("div"),f=new MutationObserver(function(){var a=d.slice();d.length=0,a.forEach(function(a){a()})});return f.observe(e,{attributes:!0}),function(a){d.length||e.setAttribute("yes","no"),d.push(a)}}return c?(window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),d.length>0)){var c=d.shift();c()}},!0),function(a){d.push(a),window.postMessage("process-tick","*")}):function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(a,b){function c(a,b,c){function d(a){return a>=200&&300>a||304===a}function e(){void 0===h.status||d(h.status)?b.call(h,null,h):b.call(h,h,null)}var f=!1;if("undefined"==typeof window.XMLHttpRequest)return b(Error("Browser not supported"));if("undefined"==typeof c){var g=a.match(/^\s*https?:\/\/[^\/]*/);c=g&&g[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var h=new window.XMLHttpRequest;if(c&&!("withCredentials"in h)){h=new window.XDomainRequest;var i=b;b=function(){if(f)i.apply(this,arguments);else{var a=this,b=arguments;setTimeout(function(){i.apply(a,b)},0)}}}return"onload"in h?h.onload=e:h.onreadystatechange=function(){4===h.readyState&&e()},h.onerror=function(a){b.call(this,a||!0,null),b=function(){}},h.onprogress=function(){},h.ontimeout=function(a){b.call(this,a,null),b=function(){}},h.onabort=function(a){b.call(this,a,null),b=function(){}},h.open("GET",a,!0),h.send(null),f=!0,h}"undefined"!=typeof b&&(b.exports=c)},{}],6:[function(a,b){function c(a){return!!a.match(/(Lat)(itude)?/gi)}function d(a){return!!a.match(/(L)(on|ng)(gitude)?/i)}function e(a){return"object"==typeof a?Object.keys(a).length:0}function f(a){var b=[",",";","    ","|"],c=[];return b.forEach(function(b){var d=k(b).parse(a);if(d.length>=1){for(var f=e(d[0]),g=0;g<d.length;g++)if(e(d[g])!==f)return;c.push({delimiter:b,arity:Object.keys(d[0]).length})}}),c.length?c.sort(function(a,b){return b.arity-a.arity})[0].delimiter:null}function g(a){var b=f(a);return b?k(b).parse(a):null}function h(a,b,e){e||(e=b,b={}),b.delimiter=b.delimiter||",";var g=b.latfield||"",h=b.lonfield||"",i=[],j={type:"FeatureCollection",features:i};if("auto"===b.delimiter&&"string"==typeof a&&(b.delimiter=f(a),!b.delimiter))return e({type:"Error",message:"Could not autodetect delimiter"});var m="string"==typeof a?k(b.delimiter).parse(a):a;if(!m.length)return e(null,j);if(!g||!h){for(var n in m[0])!g&&c(n)&&(g=n),!h&&d(n)&&(h=n);if(!g||!h){var o=[];for(var p in m[0])o.push(p);return e({type:"Error",message:"Latitude and longitude fields not present",data:m,fields:o})}}for(var q=[],r=0;r<m.length;r++)if(void 0!==m[r][h]&&void 0!==m[r][h]){var s,t,u,v=m[r][h],w=m[r][g];u=l(v,"EW"),u&&(v=u),u=l(w,"NS"),u&&(w=u),s=parseFloat(v),t=parseFloat(w),isNaN(s)||isNaN(t)?q.push({message:"A row contained an invalid value for latitude or longitude",row:m[r]}):(b.includeLatLon||(delete m[r][h],delete m[r][g]),i.push({type:"Feature",properties:m[r],geometry:{type:"Point",coordinates:[parseFloat(s),parseFloat(t)]}}))}e(q.length?q:null,j)}function i(a){for(var b=a.features,c={type:"Feature",geometry:{type:"LineString",coordinates:[]}},d=0;d<b.length;d++)c.geometry.coordinates.push(b[d].geometry.coordinates);return c.properties=b[0].properties,{type:"FeatureCollection",features:[c]}}function j(a){for(var b=a.features,c={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},d=0;d<b.length;d++)c.geometry.coordinates[0].push(b[d].geometry.coordinates);return c.properties=b[0].properties,{type:"FeatureCollection",features:[c]}}var k=a("dsv"),l=a("sexagesimal");b.exports={isLon:d,isLat:c,csv:k.csv.parse,tsv:k.tsv.parse,dsv:k,auto:g,csv2geojson:h,toLine:i,toPolygon:j}},{dsv:7,sexagesimal:8}],7:[function(a,b){a("fs"),b.exports=new Function('dsv.version = "0.0.3";\n\ndsv.tsv = dsv("\\t");\ndsv.csv = dsv(",");\n\nfunction dsv(delimiter) {\n  var dsv = {},\n      reFormat = new RegExp("[\\"" + delimiter + "\\n]"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  dsv.parse = function(text, f) {\n    var o;\n    return dsv.parseRows(text, function(row, i) {\n      if (o) return o(row, i - 1);\n      var a = new Function("d", "return {" + row.map(function(name, i) {\n        return JSON.stringify(name) + ": d[" + i + "]";\n      }).join(",") + "}");\n      o = f ? function(row, i) { return f(a(row), i); } : a;\n    });\n  };\n\n  dsv.parseRows = function(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        var c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.substring(j + 1, i).replace(/""/g, "\\"");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var c = text.charCodeAt(I++), k = 1;\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.substring(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.substring(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && !(a = f(a, n++))) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  };\n\n  dsv.format = function(rows) {\n    if (Array.isArray(rows[0])) return dsv.formatRows(rows); // deprecated; use formatRows\n    var fieldSet = {}, fields = [];\n\n    // Compute unique fields in order of discovery.\n    rows.forEach(function(row) {\n      for (var field in row) {\n        if (!(field in fieldSet)) {\n          fields.push(fieldSet[field] = field);\n        }\n      }\n    });\n\n    return [fields.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return fields.map(function(field) {\n        return formatValue(row[field]);\n      }).join(delimiter);\n    })).join("\\n");\n  };\n\n  dsv.formatRows = function(rows) {\n    return rows.map(formatRow).join("\\n");\n  };\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return reFormat.test(text) ? "\\"" + text.replace(/\\"/g, "\\"\\"") + "\\"" : text;\n  }\n\n  return dsv;\n}\n;return dsv')()},{fs:2}],8:[function(a,b){b.exports=function(a,b){if(b||(b="NSEW"),"string"!=typeof a)return null;var c=/^([0-9.]+)°? *(?:([0-9.]+)['’′‘] *)?(?:([0-9.]+)(?:''|"|”|″) *)?([NSEW])?/,d=a.match(c);return d?d[4]&&-1===b.indexOf(d[4])?null:((d[1]?parseFloat(d[1]):0)+(d[2]?parseFloat(d[2])/60:0)+(d[3]?parseFloat(d[3])/3600:0))*(d[4]&&"S"===d[4]||"W"===d[4]?-1:1):null}},{}],9:[function(a,b){function c(a,b){a=Math.round(a*b),a<<=1,0>a&&(a=~a);for(var c="";a>=32;)c+=String.fromCharCode((32|31&a)+63),a>>=5;return c+=String.fromCharCode(a+63)}var d={};d.decode=function(a,b){for(var c,d,e=0,f=0,g=0,h=[],i=0,j=0,k=null,l=Math.pow(10,b||5);e<a.length;){k=null,i=0,j=0;do k=a.charCodeAt(e++)-63,j|=(31&k)<<i,i+=5;while(k>=32);c=1&j?~(j>>1):j>>1,i=j=0;do k=a.charCodeAt(e++)-63,j|=(31&k)<<i,i+=5;while(k>=32);d=1&j?~(j>>1):j>>1,f+=c,g+=d,h.push([f/l,g/l])}return h},d.encode=function(a,b){if(!a.length)return"";for(var d=Math.pow(10,b||5),e=c(a[0][0],d)+c(a[0][1],d),f=1;f<a.length;f++){var g=a[f],h=a[f-1];e+=c(g[0]-h[0],d),e+=c(g[1]-h[1],d)}return e},void 0!==typeof b&&(b.exports=d)},{}],10:[function(a,b,c){(function(d){toGeoJSON=function(){"use strict";function b(a){if(!a||!a.length)return 0;for(var b=0,c=0;b<a.length;b++)c=(c<<5)-c+a.charCodeAt(b)|0;return c}function e(a,b){return a.getElementsByTagName(b)}function f(a,b){return a.getAttribute(b)}function g(a,b){return parseFloat(f(a,b))}function h(a,b){var c=e(a,b);return c.length?c[0]:null}function i(a){return a.normalize&&a.normalize(),a}function j(a){for(var b=0,c=[];b<a.length;b++)c[b]=parseFloat(a[b]);return c}function k(a){var b={};for(var c in a)a[c]&&(b[c]=a[c]);return b}function l(a){return a&&i(a),a&&a.firstChild&&a.firstChild.nodeValue||""}function m(a){return j(a.replace(s,"").split(","))}function n(a){for(var b=a.replace(t,"").split(u),c=[],d=0;d<b.length;d++)c.push(m(b[d]));return c}function o(a){var b=[g(a,"lon"),g(a,"lat")],c=h(a,"ele"),d=h(a,"time");return c&&b.push(parseFloat(l(c))),{coordinates:b,time:d?l(d):null}}function p(){return{type:"FeatureCollection",features:[]}}function q(a){return void 0!==a.xml?a.xml:r.serializeToString(a)}var r,s=/\s*/g,t=/^\s*|\s*$/g,u=/\s+/;"undefined"!=typeof XMLSerializer?r=new XMLSerializer:"object"!=typeof c||"object"!=typeof d||d.browser||(r=new(a("xmldom").XMLSerializer));var v={kml:function(a){function c(a){var b,c;return a=a||"","#"===a.substr(0,1)&&(a=a.substr(1)),(6===a.length||3===a.length)&&(b=a),8===a.length&&(c=parseInt(a.substr(-2),16)/255,b=a.substr(0,6)),[b,isNaN(c)?void 0:c]}function d(a){return j(a.split(" "))}function g(a){var b=e(a,"coord","gx"),c=[],f=[];0===b.length&&(b=e(a,"gx:coord"));for(var g=0;g<b.length;g++)c.push(d(l(b[g])));for(var h=e(a,"when"),g=0;g<h.length;g++)f.push(l(h[g]));return{coords:c,times:f}}function i(a){var b,c,d,f,j,k=[],o=[];if(h(a,"MultiGeometry"))return i(h(a,"MultiGeometry"));if(h(a,"MultiTrack"))return i(h(a,"MultiTrack"));if(h(a,"gx:MultiTrack"))return i(h(a,"gx:MultiTrack"));for(d=0;d<s.length;d++)if(c=e(a,s[d]))for(f=0;f<c.length;f++)if(b=c[f],"Point"==s[d])k.push({type:"Point",coordinates:m(l(h(b,"coordinates")))});else if("LineString"==s[d])k.push({type:"LineString",coordinates:n(l(h(b,"coordinates")))});else if("Polygon"==s[d]){var p=e(b,"LinearRing"),q=[];for(j=0;j<p.length;j++)q.push(n(l(h(p[j],"coordinates"))));k.push({type:"Polygon",coordinates:q})}else if("Track"==s[d]||"gx:Track"==s[d]){var r=g(b);k.push({type:"LineString",coordinates:r.coords}),r.times.length&&o.push(r.times)}return{geoms:k,coordTimes:o}}function k(a){var b,d=i(a),g={},j=l(h(a,"name")),k=l(h(a,"styleUrl")),m=l(h(a,"description")),n=h(a,"TimeSpan"),o=h(a,"ExtendedData"),p=h(a,"LineStyle"),q=h(a,"PolyStyle");if(!d.geoms.length)return[];if(j&&(g.name=j),k&&r[k]&&(g.styleUrl=k,g.styleHash=r[k]),m&&(g.description=m),n){var s=l(h(n,"begin")),t=l(h(n,"end"));g.timespan={begin:s,end:t}}if(p){var u=c(l(h(p,"color"))),v=u[0],w=u[1],x=parseFloat(l(h(p,"width")));v&&(g.stroke=v),isNaN(w)||(g["stroke-opacity"]=w),isNaN(x)||(g["stroke-width"]=x)}if(q){var y=c(l(h(q,"color"))),z=y[0],A=y[1],B=l(h(q,"fill")),C=l(h(q,"outline"));z&&(g.fill=z),isNaN(A)||(g["fill-opacity"]=A),B&&(g["fill-opacity"]="1"===B?1:0),C&&(g["stroke-opacity"]="1"===C?1:0)}if(o){var D=e(o,"Data"),E=e(o,"SimpleData");for(b=0;b<D.length;b++)g[D[b].getAttribute("name")]=l(h(D[b],"value"));for(b=0;b<E.length;b++)g[E[b].getAttribute("name")]=l(E[b])}d.coordTimes.length&&(g.coordTimes=1===d.coordTimes.length?d.coordTimes[0]:d.coordTimes);var F={type:"Feature",geometry:1===d.geoms.length?d.geoms[0]:{type:"GeometryCollection",geometries:d.geoms},properties:g};return f(a,"id")&&(F.id=f(a,"id")),[F]}for(var o=p(),r={},s=["Polygon","LineString","Point","Track","gx:Track"],t=e(a,"Placemark"),u=e(a,"Style"),v=0;v<u.length;v++)r["#"+f(u[v],"id")]=b(q(u[v])).toString(16);for(var w=0;w<t.length;w++)o.features=o.features.concat(k(t[w]));return o},gpx:function(a){function b(a,b){var c=e(a,b),d=[],f=[],g=c.length;if(!(2>g)){for(var h=0;g>h;h++){var i=o(c[h]);d.push(i.coordinates),i.time&&f.push(i.time)}return{line:d,times:f}}}function c(a){for(var c,d=e(a,"trkseg"),f=[],h=[],i=0;i<d.length;i++)c=b(d[i],"trkpt"),c.line&&f.push(c.line),c.times.length&&h.push(c.times);if(0!==f.length){var j=g(a);return h.length&&(j.coordTimes=1===f.length?h[0]:h),{type:"Feature",properties:j,geometry:{type:1===f.length?"LineString":"MultiLineString",coordinates:1===f.length?f[0]:f}}}}function d(a){var c=b(a,"rtept");if(c){var d={type:"Feature",properties:g(a),geometry:{type:"LineString",coordinates:c}};return c.times.length&&(d.geometry.times=c.times),d}}function f(a){var b=g(a);return b.sym=l(h(a,"sym")),{type:"Feature",properties:b,geometry:{type:"Point",coordinates:o(a).coordinates}}}function g(a){var b,c=["name","desc","author","copyright","link","time","keywords"],d={};for(b=0;b<c.length;b++)d[c[b]]=l(h(a,c[b]));return k(d)}var i,j,m=e(a,"trk"),n=e(a,"rte"),q=e(a,"wpt"),r=p();for(i=0;i<m.length;i++)j=c(m[i]),j&&r.features.push(j);for(i=0;i<n.length;i++)j=d(n[i]),j&&r.features.push(j);for(i=0;i<q.length;i++)r.features.push(f(q[i]));return r}};return v}(),"undefined"!=typeof b&&(b.exports=toGeoJSON)}).call(this,a("_process"))},{_process:4,xmldom:3}],11:[function(a,c){!function(){function a(a,b){function c(b){var c,d=a.arcs[0>b?~b:b],e=d[0];return a.transform?(c=[0,0],d.forEach(function(a){c[0]+=a[0],c[1]+=a[1]})):c=d[d.length-1],0>b?[c,e]:[e,c]}function d(a,b){for(var c in a){var d=a[c];delete b[d.start],delete d.start,delete d.end,d.forEach(function(a){e[0>a?~a:a]=1}),h.push(d)}}var e={},f={},g={},h=[],i=-1;return b.forEach(function(c,d){var e,f=a.arcs[0>c?~c:c];f.length<3&&!f[1][0]&&!f[1][1]&&(e=b[++i],b[i]=c,b[d]=e)}),b.forEach(function(a){var b,d,e=c(a),h=e[0],i=e[1];if(b=g[h])if(delete g[b.end],b.push(a),b.end=i,d=f[i]){delete f[d.start];var j=d===b?b:b.concat(d);f[j.start=b.start]=g[j.end=d.end]=j}else f[b.start]=g[b.end]=b;else if(b=f[i])if(delete f[b.start],b.unshift(a),b.start=h,d=g[h]){delete g[d.end];var k=d===b?b:d.concat(b);f[k.start=d.start]=g[k.end=b.end]=k}else f[b.start]=g[b.end]=b;else b=[a],f[b.start=h]=g[b.end=i]=b}),d(g,f),d(f,g),b.forEach(function(a){e[0>a?~a:a]||h.push([a])}),h}function d(b,c,d){function e(a){var b=0>a?~a:a;(k[b]||(k[b]=[])).push({i:a,g:j})}function f(a){a.forEach(e)}function g(a){a.forEach(f)}function h(a){"GeometryCollection"===a.type?a.geometries.forEach(h):a.type in l&&(j=a,l[a.type](a.arcs))}var i=[];if(arguments.length>1){var j,k=[],l={LineString:f,MultiLineString:g,Polygon:g,MultiPolygon:function(a){a.forEach(g)}};h(c),k.forEach(arguments.length<3?function(a){i.push(a[0].i)}:function(a){d(a[0].g,a[a.length-1].g)&&i.push(a[0].i)})}else for(var m=0,n=b.arcs.length;n>m;++m)i.push(m);return{type:"MultiLineString",arcs:a(b,i)}}function e(b,c){function d(a){a.forEach(function(b){b.forEach(function(b){(f[b=0>b?~b:b]||(f[b]=[])).push(a)})}),g.push(a)}function e(a){return m(h(b,{type:"Polygon",arcs:[a]}).coordinates[0])>0}var f={},g=[],i=[];return c.forEach(function(a){"Polygon"===a.type?d(a.arcs):"MultiPolygon"===a.type&&a.arcs.forEach(d)}),g.forEach(function(a){if(!a._){var b=[],c=[a];for(a._=1,i.push(b);a=c.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){f[0>a?~a:a].forEach(function(a){a._||(a._=1,c.push(a))})})})}}),g.forEach(function(a){delete a._}),{type:"MultiPolygon",arcs:i.map(function(c){var d=[];if(c.forEach(function(a){a.forEach(function(a){a.forEach(function(a){f[0>a?~a:a].length<2&&d.push(a)})})}),d=a(b,d),(n=d.length)>1)for(var g,h=e(c[0][0]),i=0;n>i;++i)if(h===e(d[i])){g=d[0],d[0]=d[i],d[i]=g;break}return d})}}function f(a,b){return"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(b){return g(a,b)})}:g(a,b)}function g(a,b){var c={type:"Feature",id:b.id,properties:b.properties||{},geometry:h(a,b)};return null==b.id&&delete c.id,c}function h(a,b){function c(a,b){b.length&&b.pop();for(var c,d=k[0>a?~a:a],e=0,f=d.length;f>e;++e)b.push(c=d[e].slice()),j(c,e);0>a&&i(b,f)}function d(a){return a=a.slice(),j(a,0),a}function e(a){for(var b=[],d=0,e=a.length;e>d;++d)c(a[d],b);return b.length<2&&b.push(b[0].slice()),b}function f(a){for(var b=e(a);b.length<4;)b.push(b[0].slice());return b}function g(a){return a.map(f)}function h(a){var b=a.type;
return"GeometryCollection"===b?{type:b,geometries:a.geometries.map(h)}:b in l?{type:b,coordinates:l[b](a)}:null}var j=r(a.transform),k=a.arcs,l={Point:function(a){return d(a.coordinates)},MultiPoint:function(a){return a.coordinates.map(d)},LineString:function(a){return e(a.arcs)},MultiLineString:function(a){return a.arcs.map(e)},Polygon:function(a){return g(a.arcs)},MultiPolygon:function(a){return a.arcs.map(g)}};return h(b)}function i(a,b){for(var c,d=a.length,e=d-b;e<--d;)c=a[e],a[e++]=a[d],a[d]=c}function j(a,b){for(var c=0,d=a.length;d>c;){var e=c+d>>>1;a[e]<b?c=e+1:d=e}return c}function k(a){function b(a,b){a.forEach(function(a){0>a&&(a=~a);var c=e[a];c?c.push(b):e[a]=[b]})}function c(a,c){a.forEach(function(a){b(a,c)})}function d(a,b){"GeometryCollection"===a.type?a.geometries.forEach(function(a){d(a,b)}):a.type in g&&g[a.type](a.arcs,b)}var e={},f=a.map(function(){return[]}),g={LineString:b,MultiLineString:c,Polygon:c,MultiPolygon:function(a,b){a.forEach(function(a){c(a,b)})}};a.forEach(d);for(var h in e)for(var i=e[h],k=i.length,l=0;k>l;++l)for(var m=l+1;k>m;++m){var n,o=i[l],p=i[m];(n=f[o])[h=j(n,p)]!==p&&n.splice(h,0,p),(n=f[p])[h=j(n,o)]!==o&&n.splice(h,0,o)}return f}function l(a,b){function c(a){g.remove(a),a[1][2]=b(a),g.push(a)}var d,e=r(a.transform),f=s(a.transform),g=q(),h=0;for(b||(b=o),a.arcs.forEach(function(a){var c=[];a.forEach(e);for(var f=1,h=a.length-1;h>f;++f)d=a.slice(f-1,f+2),d[1][2]=b(d),c.push(d),g.push(d);a[0][2]=a[h][2]=1/0;for(var f=0,h=c.length;h>f;++f)d=c[f],d.previous=c[f-1],d.next=c[f+1]});d=g.pop();){var i=d.previous,j=d.next;d[1][2]<h?d[1][2]=h:h=d[1][2],i&&(i.next=j,i[2]=d[2],c(i)),j&&(j.previous=i,j[0]=d[0],c(j))}return a.arcs.forEach(function(a){a.forEach(f)}),a}function m(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[0]*e[1]-b[1]*e[0];return.5*f}function o(a){var b=a[0],c=a[1],d=a[2];return Math.abs((b[0]-d[0])*(c[1]-b[1])-(b[0]-c[0])*(d[1]-b[1]))}function p(a,b){return a[1][2]-b[1][2]}function q(){function a(a,b){for(;b>0;){var c=(b+1>>1)-1,e=d[c];if(p(a,e)>=0)break;d[e._=b]=e,d[a._=b=c]=a}}function b(a,b){for(;;){var c=b+1<<1,f=c-1,g=b,h=d[g];if(e>f&&p(d[f],h)<0&&(h=d[g=f]),e>c&&p(d[c],h)<0&&(h=d[g=c]),g===b)break;d[h._=b]=h,d[a._=b=g]=a}}var c={},d=[],e=0;return c.push=function(b){return a(d[b._=e]=b,e++),e},c.pop=function(){if(!(0>=e)){var a,c=d[0];return--e>0&&(a=d[e],b(d[a._=0]=a,0)),c}},c.remove=function(c){var f,g=c._;return d[g]===c?(g!==--e&&(f=d[e],(p(f,c)<0?a:b)(d[f._=g]=f,g)),g):void 0},c}function r(a){if(!a)return t;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0),a[0]=(b+=a[0])*d+f,a[1]=(c+=a[1])*e+g}}function s(a){if(!a)return t;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0);var i=(a[0]-f)/d|0,j=(a[1]-g)/e|0;a[0]=i-b,a[1]=j-c,b=i,c=j}}function t(){}var u={version:"1.6.8",mesh:function(a){return h(a,d.apply(this,arguments))},meshArcs:d,merge:function(a){return h(a,e.apply(this,arguments))},mergeArcs:e,feature:f,neighbors:k,presimplify:l};"function"==typeof b&&b.amd?b(u):"object"==typeof c&&c.exports?c.exports=u:this.topojson=u}()},{}],12:[function(a,b){function c(a){function b(b){var c=a.substring(r).match(b);return c?(r+=c[0].length,c[0]):null}function c(a){return a&&q.match(/\d+/)&&(a.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+q}}),a}function d(){b(/^\s*/)}function f(){d();for(var a,c=0,f=[],g=[f],h=f;a=b(/^(\()/)||b(/^(\))/)||b(/^(\,)/)||b(e);){if("("==a)g.push(h),h=[],g[g.length-1].push(h),c++;else if(")"==a){if(h=g.pop(),!h)return;if(c--,0===c)break}else if(","===a)h=[],g[g.length-1].push(h);else{if(isNaN(parseFloat(a)))return null;h.push(parseFloat(a))}d()}return 0!==c?null:f}function g(){for(var a,c,f=[];c=b(e)||b(/^(\,)/);)","==c?(f.push(a),a=[]):(a||(a=[]),a.push(parseFloat(c))),d();return a&&f.push(a),f.length?f:null}function h(){if(!b(/^(point)/i))return null;if(d(),!b(/^(\()/))return null;var a=g();return a?(d(),b(/^(\))/)?{type:"Point",coordinates:a[0]}:null):null}function i(){if(!b(/^(multipoint)/i))return null;d();var a=f();return a?(d(),{type:"MultiPoint",coordinates:a}):null}function j(){if(!b(/^(multilinestring)/i))return null;d();var a=f();return a?(d(),{type:"MultiLineString",coordinates:a}):null}function k(){if(!b(/^(linestring)/i))return null;if(d(),!b(/^(\()/))return null;var a=g();return a&&b(/^(\))/)?{type:"LineString",coordinates:a}:null}function l(){return b(/^(polygon)/i)?(d(),{type:"Polygon",coordinates:f()}):null}function m(){return b(/^(multipolygon)/i)?(d(),{type:"MultiPolygon",coordinates:f()}):null}function n(){var a,c=[];if(!b(/^(geometrycollection)/i))return null;if(d(),!b(/^(\()/))return null;for(;a=o();)c.push(a),d(),b(/^(\,)/),d();return b(/^(\))/)?{type:"GeometryCollection",geometries:c}:null}function o(){return h()||k()||l()||i()||j()||m()||n()}var p=a.split(";"),a=p.pop(),q=(p.shift()||"").split("=").pop(),r=0;return c(o())}function d(a){function b(a){return 2===a.length?a[0]+" "+a[1]:3===a.length?a[0]+" "+a[1]+" "+a[2]:void 0}function c(a){return a.map(b).join(", ")}function e(a){return a.map(c).map(g).join(", ")}function f(a){return a.map(e).map(g).join(", ")}function g(a){return"("+a+")"}switch("Feature"===a.type&&(a=a.geometry),a.type){case"Point":return"POINT ("+b(a.coordinates)+")";case"LineString":return"LINESTRING ("+c(a.coordinates)+")";case"Polygon":return"POLYGON ("+e(a.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+c(a.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+f(a.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+e(a.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+a.geometries.map(d).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}b.exports=c,b.exports.parse=c,b.exports.stringify=d;var e=/^[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(){(function(){"use strict";var a=function(a,b){var c=function(c,d){this.el=a(c),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=b.extend(this.defaults,d),this.setupMarkup(),this.bindEvents()},d=function(a,b){return a+b},e=function(a,b){return a>b-.01&&b+.01>a};c.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:4,minZoom:.5,use2d:!0},handleDragStart:function(a){this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(a)},handleDrag:function(a){if(this.zoomFactor>1){var b=this.getTouches(a)[0];this.drag(b,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=b}},handleDragEnd:function(){this.end()},handleZoomStart:function(){this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(a,b){var c=this.getTouchCenter(this.getTouches(a)),d=b/this.lastScale;this.lastScale=b,this.nthZoom+=1,this.nthZoom>3&&(this.scale(d,c),this.drag(c,this.lastZoomCenter)),this.lastZoomCenter=c},handleZoomEnd:function(){this.end()},handleDoubleTap:function(a){var c=this.getTouches(a)[0],d=this.zoomFactor>1?1:this.options.tapZoomFactor,e=this.zoomFactor,f=b.bind(function(a){this.scaleTo(e+a*(d-e),c)},this);this.hasInteraction||(e>d&&(c=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,this.options.animationInterval,f,this.swing))},sanitizeOffset:function(a){var b=(this.zoomFactor-1)*this.getContainerX(),c=(this.zoomFactor-1)*this.getContainerY(),d=Math.max(b,0),e=Math.max(c,0),f=Math.min(b,0),g=Math.min(c,0);return{x:Math.min(Math.max(a.x,f),d),y:Math.min(Math.max(a.y,g),e)}},scaleTo:function(a,b){this.scale(a/this.zoomFactor,b)},scale:function(a,b){a=this.scaleZoomFactor(a),this.addOffset({x:(a-1)*(b.x+this.offset.x),y:(a-1)*(b.y+this.offset.y)})},scaleZoomFactor:function(a){var b=this.zoomFactor;return this.zoomFactor*=a,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/b},drag:function(a,b){b&&this.addOffset({x:-(a.x-b.x),y:-(a.y-b.y)})},getTouchCenter:function(a){return this.getVectorAvg(a)},getVectorAvg:function(a){return{x:b.reduce(b.pluck(a,"x"),d)/a.length,y:b.reduce(b.pluck(a,"y"),d)/a.length}},addOffset:function(a){this.offset={x:this.offset.x+a.x,y:this.offset.y+a.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(a){var b=this.sanitizeOffset(a);return b.x!==a.x||b.y!==a.y},sanitizeOffsetAnimation:function(){var a=this.sanitizeOffset(this.offset),c={x:this.offset.x,y:this.offset.y},d=b.bind(function(b){this.offset.x=c.x+b*(a.x-c.x),this.offset.y=c.y+b*(a.y-c.y),this.update()},this);this.animate(this.options.animationDuration,this.options.animationInterval,d,this.swing)},zoomOutAnimation:function(){var a=this.zoomFactor,c=1,d=this.getCurrentZoomCenter(),e=b.bind(function(b){this.scaleTo(a+b*(c-a),d)},this);this.animate(this.options.animationDuration,this.options.animationInterval,e,this.swing)},updateAspectRatio:function(){this.setContainerY(this.getContainerX()/this.getAspectRatio())},getInitialZoomFactor:function(){return this.container.width()/this.el.width()},getAspectRatio:function(){return this.el.width()/this.el.height()},getCurrentZoomCenter:function(){var a=this.container.width()*this.zoomFactor,b=this.offset.x,c=a-b-this.container.width(),d=b/c,e=d*this.container.width()/(d+1),f=this.container.height()*this.zoomFactor,g=this.offset.y,h=f-g-this.container.height(),i=g/h,j=i*this.container.height()/(i+1);return 0===c&&(e=this.container.width()),0===h&&(j=this.container.height()),{x:e,y:j}},canDrag:function(){return!e(this.zoomFactor,1)},getTouches:function(a){var c=this.container.offset();return b.map(a.touches,function(a){return{x:a.pageX-c.left,y:a.pageY-c.top}})},animate:function(a,c,d,e,f){var g=(new Date).getTime(),h=b.bind(function(){if(this.inAnimation){var b=(new Date).getTime()-g,i=b/a;b>=a?(d(1),f&&f(),this.update(),this.stopAnimation(),this.update()):(e&&(i=e(i)),d(i),this.update(),setTimeout(h,c))}},this);this.inAnimation=!0,h()},stopAnimation:function(){this.inAnimation=!1},swing:function(a){return-Math.cos(a*Math.PI)/2+.5},getContainerX:function(){return this.container.width()},getContainerY:function(){return this.container.height()},setContainerY:function(a){return this.container.height(a)},setupMarkup:function(){this.container=a('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({webkitTransformOrigin:"0% 0%",mozTransformOrigin:"0% 0%",msTransformOrigin:"0% 0%",oTransformOrigin:"0% 0%",transformOrigin:"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){f(this.container.get(0),this),a(this.el).find("img").bind("load",b.bind(this.update,this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(b.bind(function(){this.updatePlaned=!1,this.updateAspectRatio();var a=this.getInitialZoomFactor()*this.zoomFactor,c=-this.offset.x/a,d=-this.offset.y/a,e="scale3d("+a+", "+a+",1) translate3d("+c+"px,"+d+"px,0px)",f="scale("+a+", "+a+") translate("+c+"px,"+d+"px)",g=b.bind(function(){this.clone&&(this.clone.remove(),delete this.clone)},this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,g(),this.el.css({webkitTransform:e,oTransform:f,msTransform:f,mozTransform:f,transform:e})):(this.is3d&&(this.clone=this.el.clone(),this.clone.css("pointer-events","none"),this.clone.appendTo(this.container),setTimeout(g,200)),this.el.css({webkitTransform:f,oTransform:f,msTransform:f,mozTransform:f,transform:f}),this.is3d=!1)},this),0))}};var f=function(a,c){var d=null,e=0,f=null,g=null,h=function(a,b){if(d!==a){if(d&&!a)switch(d){case"zoom":c.handleZoomEnd(b);break;case"drag":c.handleDragEnd(b)}switch(a){case"zoom":c.handleZoomStart(b);break;case"drag":c.handleDragStart(b)}}d=a},i=function(a){2===e?h("zoom"):1===e&&c.canDrag()?h("drag",a):h(null,a)},j=function(a){return b.map(a,function(a){return{x:a.pageX,y:a.pageY}})},k=function(a,b){var c,d;return c=a.x-b.x,d=a.y-b.y,Math.sqrt(c*c+d*d)},l=function(a,b){var c=k(a[0],a[1]),d=k(b[0],b[1]);return d/c},m=function(a){a.stopPropagation(),a.preventDefault()},n=function(a){var b=(new Date).getTime();if(e>1&&(f=null),300>b-f)switch(m(a),c.handleDoubleTap(a),d){case"zoom":c.handleZoomEnd(a);break;case"drag":c.handleDragEnd(a)}1===e&&(f=b)},o=!0;a.addEventListener("touchstart",function(a){o=!0,e=a.touches.length,n(a)}),a.addEventListener("touchmove",function(a){if(o)i(a),d&&m(a),g=j(a.touches);else{switch(d){case"zoom":c.handleZoom(a,l(g,j(a.touches)));break;case"drag":c.handleDrag(a)}d&&(m(a),c.update())}o=!1}),a.addEventListener("touchend",function(a){e=a.touches.length,i(a)})};return c};"undefined"!=typeof define&&define.amd?define(["jquery","underscore"],function(b,c){return a(b,c)}):(window.RTP=window.RTP||{},window.RTP.PinchZoom=a(jQuery,_))}).call(this)},{}],28:[function(a,b){var c=function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(b){var c=!1,d=function(){c||(c=!0,b())};document.write('<script defer src="//:" id="__onload_ie_pixastic__"></script>');var e=document.getElementById("__onload_ie_pixastic__");e.onreadystatechange=function(){"complete"==e.readyState&&(e.parentNode.removeChild(e),d())},document.addEventListener&&document.addEventListener("DOMContentLoaded",d,!1),a(window,"load",d)}function d(){for(var a=e("pixastic",null,"img"),b=e("pixastic",null,"canvas"),d=a.concat(b),f=0;f<d.length;f++)!function(){for(var a=d[f],b=[],e=a.className.split(" "),g=0;g<e.length;g++){var h=e[g];if("pixastic-"==h.substring(0,9)){var i=h.substring(9);""!=i&&b.push(i)}}if(b.length)if("img"==a.tagName.toLowerCase()){var j=new Image;if(j.src=a.src,j.complete)for(var k=0;k<b.length;k++){var l=c.applyAction(a,a,b[k],null);l&&(a=l)}else j.onload=function(){for(var d=0;d<b.length;d++){var e=c.applyAction(a,a,b[d],null);e&&(a=e)}}}else setTimeout(function(){for(var d=0;d<b.length;d++){var e=c.applyAction(a,a,b[d],null);e&&(a=e)}},1)}()}function e(a,b,c){var d=new Array;null==b&&(b=document),null==c&&(c="*");var e=b.getElementsByTagName(c),f=e.length,g=new RegExp("(^|\\s)"+a+"(\\s|$)");for(i=0,j=0;f>i;i++)g.test(e[i].className)&&(d[j]=e[i],j++);return d}function f(a,b){if(c.debug)try{switch(b){case"warn":break;case"error":}}catch(d){}}"undefined"!=typeof pixastic_parseonload&&pixastic_parseonload&&b(d);var g=function(){var a=document.createElement("canvas"),b=!1;try{b=!("function"!=typeof a.getContext||!a.getContext("2d"))}catch(c){}return function(){return b}}(),h=function(){var a,b=document.createElement("canvas"),c=!1;try{"function"==typeof b.getContext&&(a=b.getContext("2d"))&&(c="function"==typeof a.getImageData)}catch(d){}return function(){return c}}(),k=function(){var a=!1,b=document.createElement("canvas");if(g()&&h()){b.width=b.height=1;var c=b.getContext("2d");c.fillStyle="rgb(255,0,0)",c.fillRect(0,0,1,1);var d=document.createElement("canvas");d.width=d.height=1;var e=d.getContext("2d");e.fillStyle="rgb(0,0,255)",e.fillRect(0,0,1,1),c.globalAlpha=.5,c.drawImage(d,0,0);var f=c.getImageData(0,0,1,1).data;a=255!=f[2]}return function(){return a}}();return{parseOnLoad:!1,debug:!1,applyAction:function(a,b,d,e){e=e||{};var g="canvas"==a.tagName.toLowerCase();g&&c.Client.isIE();var h,i,j=!1;c.Client.hasCanvas()&&(j=!!e.resultCanvas,h=e.resultCanvas||document.createElement("canvas"),i=h.getContext("2d"));var k=a.offsetWidth,l=a.offsetHeight;if(g&&(k=a.width,l=a.height),0==k||0==l){if(null!=a.parentNode)return void(c.debug&&f("Image has 0 width and/or height."));var m=a.style.position,n=a.style.left;a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a),k=a.offsetWidth,l=a.offsetHeight,document.body.removeChild(a),a.style.position=m,a.style.left=n}if(d.indexOf("(")>-1){var o=d;d=o.substr(0,o.indexOf("("));var p=o.match(/\((.*?)\)/);if(p[1]){p=p[1].split(";");for(var q=0;q<p.length;q++)if(thisArg=p[q].split("="),2==thisArg.length)if("rect"==thisArg[0]){var r=thisArg[1].split(",");e[thisArg[0]]={left:parseInt(r[0],10)||0,top:parseInt(r[1],10)||0,width:parseInt(r[2],10)||0,height:parseInt(r[3],10)||0}}else e[thisArg[0]]=thisArg[1]}}e.rect?(e.rect.left=Math.round(e.rect.left),e.rect.top=Math.round(e.rect.top),e.rect.width=Math.round(e.rect.width),e.rect.height=Math.round(e.rect.height)):e.rect={left:0,top:0,width:k,height:l};var s=!1;if(c.Actions[d]&&"function"==typeof c.Actions[d].process&&(s=!0),!s)return c.debug&&f('Invalid action "'+d+'". Maybe file not included?'),!1;if(!c.Actions[d].checkSupport())return c.debug&&f('Action "'+d+'" not supported by this browser.'),!1;c.Client.hasCanvas()?(h!==a&&(h.width=k,h.height=l),j||(h.style.width=k+"px",h.style.height=l+"px"),i.drawImage(b,0,0,k,l),a.__pixastic_org_image?(h.__pixastic_org_image=a.__pixastic_org_image,h.__pixastic_org_width=a.__pixastic_org_width,h.__pixastic_org_height=a.__pixastic_org_height):(h.__pixastic_org_image=a,h.__pixastic_org_width=k,h.__pixastic_org_height=l)):c.Client.isIE()&&"undefined"==typeof a.__pixastic_org_style&&(a.__pixastic_org_style=a.style.cssText);var t={image:a,canvas:h,width:k,height:l,useData:!0,options:e},u=c.Actions[d].process(t);return u?c.Client.hasCanvas()?(t.useData&&c.Client.hasCanvasImageData()&&(h.getContext("2d").putImageData(t.canvasData,e.rect.left,e.rect.top),h.getContext("2d").fillRect(0,0,0,0)),e.leaveDOM||(h.title=a.title,h.imgsrc=a.imgsrc,g||(h.alt=a.alt),g||(h.imgsrc=a.src),h.className=a.className,h.style.cssText=a.style.cssText,h.name=a.name,h.onclick=a.onclick,h.tabIndex=a.tabIndex,h.id=a.id,a.parentNode&&a.parentNode.replaceChild&&("CANVAS"==a.tagName?a.parentNode.replaceChild(h,a):($(a).after(h),a.className+=" hidden"))),e.resultCanvas=h,h):a:!1},prepareData:function(a,b){var c=a.canvas.getContext("2d"),d=a.options.rect,e=c.getImageData(d.left,d.top,d.width,d.height),f=e.data;return b||(a.canvasData=e),f},process:function(a,b,d,e){if("undefined"==typeof a)return!1;if("undefined"==typeof a.tagName&&(a=a.get(0)),d.first||(a=a.nextSibling),"undefined"==typeof a.tagName)return!1;if("img"==a.tagName.toLowerCase()){var f=new Image;if(f.src=a.src,f.complete){var g=c.applyAction(a,f,b,d);return e&&e(g),g}f.onload=function(){var g=c.applyAction(a,f,b,d);e&&e(g)}}if("canvas"==a.tagName.toLowerCase()){var g=c.applyAction(a,a,b,d);return e&&e(g),g}},revert:function(a){if(c.Client.hasCanvas()){if("canvas"==a.tagName.toLowerCase()&&a.__pixastic_org_image)return a.width=a.__pixastic_org_width,a.height=a.__pixastic_org_height,a.getContext("2d").drawImage(a.__pixastic_org_image,0,0),a.parentNode&&a.parentNode.replaceChild&&a.parentNode.replaceChild(a.__pixastic_org_image,a),a}else c.Client.isIE()&&"undefined"!=typeof a.__pixastic_org_style&&(a.style.cssText=a.__pixastic_org_style)},Client:{hasCanvas:g,hasCanvasImageData:h,hasGlobalAlpha:k,isIE:function(){return!!document.all&&!!window.attachEvent&&!window.opera}},Actions:{}}}();c.Actions.coloradjust={process:function(a){var b,d,e,f=a.options.hex;if(/rgb(a)?/.test(f))f=f.split("(")[1].split(")")[0].split(","),b=f[0],d=f[1],e=f[2];else{if(!/^#/.test(f))return!1;f=f.replace("#",""),b=parseInt(f.substring(0,2),16),d=parseInt(f.substring(2,4),16),e=parseInt(f.substring(4,6),16)}if(c.Client.hasCanvasImageData()){for(var g,h,i=c.prepareData(a),j=a.options.rect,k=j.width*j.height,l=4*k;k--;)l-=4,i[l]=0>b?0:b>255?255:b,g=l+1,i[g]=0>d?0:d>255?255:d,h=l+2,i[h]=0>e?0:e>255?255:e;return!0}},checkSupport:function(){return c.Client.hasCanvasImageData()}},b.exports={Pixastic:c}},{}],29:[function(a,b,c){(function(a){(function(){"use strict";function d(a){return a=String(a),a.charAt(0).toUpperCase()+a.slice(1)}function e(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d&&d>-1&&t>=d)for(;++c<d;)b(a[c],c,a);else g(a,b)}function f(a){return a=l(a),/^(?:webOS|i(?:OS|P))/.test(a)?a:d(a)}function g(a,b){for(var c in a)x.call(a,c)&&b(a[c],c,a)}function h(a){return null==a?d(a):y.call(a).slice(8,-1)}function i(a,b){var c=null!=a?typeof a[b]:"number";return!/^(?:boolean|number|string|undefined)$/.test(c)&&("object"==c?!!a[b]:!0)}function j(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function k(a,b){var c=null;return e(a,function(d,e){c=b(c,d,e,a)}),c}function l(a){return String(a).replace(/^ +| +$/g,"")}function m(a){function b(b){return k(b,function(b,c){return b||RegExp("\\b"+(c.pattern||j(c))+"\\b","i").exec(a)&&(c.label||c)})}function c(b){return k(b,function(b,c,d){return b||(c[V]||c[/^[a-z]+(?: +[a-z]+\b)*/i.exec(V)]||RegExp("\\b"+j(d)+"(?:\\b|\\w*\\d)","i").exec(a))&&d})}function d(b){return k(b,function(b,c){return b||RegExp("\\b"+(c.pattern||j(c))+"\\b","i").exec(a)&&(c.label||c)})}function e(b){return k(b,function(b,c){var d=c.pattern||j(c);return!b&&(b=RegExp("\\b"+d+"(?:/[\\d.]+|[ \\w.]*)","i").exec(a))&&(z={6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(b)&&(z=z[/[\d.]+$/.exec(b)])&&(b="Windows "+z),b=f(String(b).replace(RegExp(d,"i"),c.label||c).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/Mac (OS X)/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])),b})}function n(b){return k(b,function(b,c){var d=c.pattern||j(c);return!b&&(b=RegExp("\\b"+d+" *\\d+[.\\w_]*","i").exec(a)||RegExp("\\b"+d+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(a))&&((b=String(c.label&&!RegExp(d,"i").test(c.label)?c.label:b).split("/"))[1]&&!/[\d.]+/.test(b[0])&&(b[0]+=" "+b[1]),c=c.label||c,b=f(b[0].replace(RegExp(d,"i"),c).replace(RegExp("; *(?:"+c+"[_-])?","i")," ").replace(RegExp("("+c+")[-_.]?(\\w)","i"),"$1 $2"))),b})}function q(b){return k(b,function(b,c){return b||(RegExp(c+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(a)||0)[1]||null})}function r(){return this.description||""}var s=o,t=a&&"object"==typeof a&&"String"!=h(a);t&&(s=a,a=null);var w=s.navigator||{},x=w.userAgent||"";a||(a=x);var z,A=t||v==p,B=t?!!w.likeChrome:/\bChrome\b/.test(a)&&!/internal|\n/i.test(y.toString()),C="Object",D=t?C:"ScriptBridgingProxyObject",E=t?C:"Environment",F=t&&s.java?"JavaPackage":h(s.java),G=t?C:"RuntimeObject",H=/Java/.test(F)&&s.java,I=H&&h(s.environment)==E,J=H?"a":"α",K=H?"b":"β",L=s.document||{},M=s.operamini||s.opera,N=u.test(N=t&&M?M["[[Class]]"]:h(M))?N:M=null,O=a,P=[],Q=null,R=a==x,S=R&&M&&"function"==typeof M.version&&M.version(),T=b([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),U=d(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),V=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=c({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),X=e(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(T&&(T=[T]),W&&!V&&(V=n([W])),(z=/Google TV/.exec(V))&&(V=z[0]),/\bSimulator\b/i.test(a)&&(V=(V?V+" ":"")+"Simulator"),/^iP/.test(V)?(U||(U="Safari"),X="iOS"+((z=/ OS ([\d_]+)/i.exec(a))?" "+z[1].replace(/_/g,"."):"")):"Konqueror"!=U||/buntu/i.test(X)?W&&"Google"!=W&&(/Chrome/.test(U)&&!/Mobile Safari/.test(a)||/Vita/.test(V))?(U="Android Browser",X=/Android/.test(X)?X:"Android"):(!U||(z=!/\bMinefield\b|\(Android;/i.test(a)&&/Firefox|Safari/.exec(U)))&&(U&&!V&&/[\/,]|^[^(]+?\)/.test(a.slice(a.indexOf(z+"/")+8))&&(U=null),(z=V||W||X)&&(V||W||/Android|Symbian OS|Tablet OS|webOS/.test(X))&&(U=/[a-z]+(?: Hat)?/i.exec(/Android/.test(X)?X:z)+" Browser")):X="Kubuntu",(z=/\((Mobile|Tablet).*?Firefox/i.exec(a))&&z[1]&&(X="Firefox OS",V||(V=z[1])),S||(S=q(["(?:Cloud9|CriOS|CrMo|Iron|Opera ?Mini|OPR|Raven|Silk(?!/[\\d.]+$))","Version",j(U),"(?:Firefox|Minefield|NetFront)"])),"iCab"==T&&parseFloat(S)>3?T=["WebKit"]:(z=/Opera/.test(U)&&(/OPR/.test(a)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(a)&&"WebKit"||!T&&/\bMSIE\b/i.test(a)&&("Mac OS"==X?"Tasman":"Trident"))?T=[z]:/PlayStation(?! Vita)/i.test(U)&&"WebKit"==T&&(T=["NetFront"]),U||"Trident"!=T||(U="IE",S=(/\brv:([\d.]+)/.exec(a)||0)[1]),R){if(i(s,"global"))if(H&&(z=H.lang.System,O=z.getProperty("os.arch"),X=X||z.getProperty("os.name")+" "+z.getProperty("os.version")),i(s,"exports"))if(A&&i(s,"system")&&(z=[s.system])[0]){X||(X=z[0].os||null);try{z[1]=(z[1]=s.require)&&z[1]("ringo/engine").version,S=z[1].join("."),U="RingoJS"}catch(Y){z[0].global.system==s.system&&(U="Narwhal")}}else"object"==typeof s.process&&(z=s.process)?(U="Node.js",O=z.arch,X=z.platform,S=/[\d.]+/.exec(z.version)[0]):I&&(U="Rhino");else I&&(U="Rhino");else h(z=s.runtime)==D?(U="Adobe AIR",X=z.flash.system.Capabilities.os):h(z=s.phantom)==G?(U="PhantomJS",S=(z=z.version||null)&&z.major+"."+z.minor+"."+z.patch):"number"==typeof L.documentMode&&(z=/\bTrident\/(\d+)/i.exec(a))&&(S=[S,L.documentMode],(z=+z[1]+4)!=S[1]&&(P.push("IE "+S[1]+" mode"),T&&(T[1]=""),S[1]=z),S="IE"==U?String(S[1].toFixed(1)):S[0]);X=X&&f(X)}S&&(z=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(S)||/(?:alpha|beta)(?: ?\d)?/i.exec(a+";"+(R&&w.appMinorVersion))||/\bMinefield\b/i.test(a)&&"a")&&(Q=/b/i.test(z)?"beta":"alpha",S=S.replace(RegExp(z+"\\+?$"),"")+("beta"==Q?K:J)+(/\d+\+?/.exec(z)||"")),"Fennec"==U||"Firefox"==U&&/Android|Firefox OS/.test(X)?U="Firefox Mobile":"Maxthon"==U&&S?S=S.replace(/\.[\d.]+/,".x"):"Silk"==U?(/Mobi/i.test(a)||(X="Android",P.unshift("desktop mode")),/Accelerated *= *true/i.test(a)&&P.unshift("accelerated")):"IE"==U&&(z=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(a)||0)[1])?(U+=" Mobile",X="Windows Phone OS "+z+".x",P.unshift("desktop mode")):/Xbox/i.test(V)?(X=null,"Xbox 360"==V&&/IEMobile/.test(a)&&P.unshift("mobile mode")):"Chrome"!=U&&"IE"!=U&&(!U||V||/Browser|Mobi/.test(U))||"Windows CE"!=X&&!/Mobi/i.test(a)?"IE"==U&&R&&null===s.external?P.unshift("platform preview"):(/BlackBerry/.test(V)||/BB10/.test(a))&&(z=(RegExp(V.replace(/ +/g," *")+"/([.\\d]+)","i").exec(a)||0)[1]||S)?(z=[z,/BB10/.test(a)],X=(z[1]?(V=null,W="BlackBerry"):"Device Software")+" "+z[0],S=null):this!=g&&"Wii"!=V&&(R&&M||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(a)||"Firefox"==U&&/OS X (?:\d+\.){2,}/.test(X)||"IE"==U&&(X&&!/^Win/.test(X)&&S>5.5||/Windows XP/.test(X)&&S>8||8==S&&!/Trident/.test(a)))&&!u.test(z=m.call(g,a.replace(u,"")+";"))&&z.name&&(z="ing as "+z.name+((z=z.version)?" "+z:""),u.test(U)?(/IE/.test(z)&&"Mac OS"==X&&(X=null),z="identify"+z):(z="mask"+z,U=N?f(N.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(z)&&(X=null),R||(S=null)),T=["Presto"],P.push(z)):U+=" Mobile",(z=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(a)||0)[1])&&(z=[parseFloat(z.replace(/\.(\d)$/,".0$1")),z],"Safari"==U&&"+"==z[1].slice(-1)?(U="WebKit Nightly",Q="alpha",S=z[1].slice(0,-1)):(S==z[1]||S==(z[2]=(/\bSafari\/([\d.]+\+?)/i.exec(a)||0)[1]))&&(S=null),z[1]=(/\bChrome\/([\d.]+)/i.exec(a)||0)[1],537.36==z[0]&&537.36==z[2]&&parseFloat(z[1])>=28&&(T=["Blink"]),R&&(B||z[1])?(T&&(T[1]="like Chrome"),z=z[1]||(z=z[0],530>z?1:532>z?2:532.05>z?3:533>z?4:534.03>z?5:534.07>z?6:534.1>z?7:534.13>z?8:534.16>z?9:534.24>z?10:534.3>z?11:535.01>z?12:535.02>z?"13+":535.07>z?15:535.11>z?16:535.19>z?17:536.05>z?18:536.1>z?19:537.01>z?20:537.11>z?"21+":537.13>z?23:537.18>z?24:537.24>z?25:537.36>z?26:"Blink"!=T?"27":"28")):(T&&(T[1]="like Safari"),z=z[0],z=400>z?1:500>z?2:526>z?3:533>z?4:534>z?"4+":535>z?5:537>z?6:538>z?7:"7"),T&&(T[1]+=" "+(z+="number"==typeof z?".x":/[.+]/.test(z)?"":"+")),"Safari"==U&&(!S||parseInt(S)>45)&&(S=z)),"Opera"==U&&(z=/(?:zbov|zvav)$/.exec(X))?(U+=" ",P.unshift("desktop mode"),"zvav"==z?(U+="Mini",S=null):U+="Mobile"):"Safari"==U&&/Chrome/.exec(T&&T[1])&&(P.unshift("desktop mode"),U="Chrome Mobile",S=null,/OS X/.test(X)?(W="Apple",X="iOS 4.3+"):X=null),S&&0==S.indexOf(z=/[\d.]+$/.exec(X))&&a.indexOf("/"+z+"-")>-1&&(X=l(X.replace(z,""))),T&&!/Avant|Nook/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(U)&&T[1])&&(z=T[T.length-1])&&P.push(z),P.length&&(P=["("+P.join("; ")+")"]),W&&V&&V.indexOf(W)<0&&P.push("on "+W),V&&P.push((/^on /.test(P[P.length-1])?"":"on ")+V),X&&(z=/ ([\d.+]+)$/.exec(X),X={architecture:32,family:z?X.replace(z[0],""):X,version:z?z[1]:null,toString:function(){var a=this.version;return this.family+(a?" "+a:"")+(64==this.architecture?" 64-bit":"")}}),(z=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(O))&&!/\bi686\b/i.test(O)&&(X&&(X.architecture=64,X.family=X.family.replace(RegExp(" *"+z),"")),U&&(/WOW64/i.test(a)||R&&/\w(?:86|32)$/.test(w.cpuClass||w.platform))&&P.unshift("32-bit")),a||(a=null);var Z={};return Z.description=a,Z.layout=T&&T[0],Z.manufacturer=W,Z.name=U,Z.prerelease=Q,Z.product=V,Z.ua=a,Z.version=U&&S,Z.os=X||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=m,Z.toString=r,Z.version&&P.unshift(S),Z.name&&P.unshift(U),X&&U&&(X!=String(X).split(" ")[0]||X!=U.split(" ")[0]&&!V)&&P.push(V?"("+X+")":"on "+X),P.length&&(Z.description=P.join(" ")),Z}var n={"function":!0,object:!0},o=n[typeof window]&&window||this,p=o,q=n[typeof c]&&c,r=n[typeof b]&&b&&!b.nodeType&&b,s=q&&r&&"object"==typeof a&&a;!s||s.global!==s&&s.window!==s&&s.self!==s||(o=s);var t=Math.pow(2,53)-1,u=/Opera/,v=this,w=Object.prototype,x=w.hasOwnProperty,y=w.toString;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return m()}):q&&r?g(m(),function(a,b){q[b]=a}):o.platform=m()}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(a,b){var c=a("./platform-lib"),d=a("./mobile-detect");b.exports={getPlatform:function(){var a={chrome:!1,firefox:!1,ie:!1,safari:!1,opera:!1,iemobile:!1,chromemobile:!1,firefoxmobile:!1,androidbrowser:!1,version:11},b={windows:!1,ios:!1,android:!1,windowsphone:!1,osx:!1,linux:!1,version:4},d={desktop:!1,mobile:!1,tablet:!1},e=!1;if(_.each(a,function(b,d){e||d!=c.name.toLowerCase().replace(/\s/g,"")||(a[d]=!0,"chromemobile"==d?a.chrome=!0:"firefoxmobile"==d&&(a.firefox=!0),e=!0)}),"nokiabrowser"==c.name.toLowerCase().replace(/\s/g,"")&&(a.iemobile=!0),null!=c.version){var f=c.version.split(".");a.version=f.length>1?parseFloat(f[0]+"."+f[1]):parseInt(f[0])
}if(e||(a.safari=!0,a.version=4),e=!1,c.os.family=c.os.family||"chromeos",c.os.version=c.os.version||"4.4","windows phone os"==c.os.family.toLowerCase()||"windows phone"==c.os.family.toLowerCase()?(b.windowsphone=!0,e=!0):_.each(b,function(a,d){e||d!=c.os.family.toLowerCase().replace(/\s/g,"")&&d!=c.os.family.toLowerCase().split(/\s/g)[0]||(b[d]=!0,e=!0)}),null!=c.os.version){var f=c.os.version.split(".");b.version=f.length>1?parseFloat(f[0]+"."+f[1]):parseInt(f[0])}return e||(b.ios=!0,b.version=4),null!=c.product&&"ipad"==c.product.toLowerCase()?d.tablet=!0:b.ios?d.mobile=!0:b.android?navigator.userAgent.toLowerCase().search("mobile")?d.mobile=!0:d.tablet=!0:b.windowsphone||a.iemobile||a.chromemobile||a.firefoxmobile||a.androidbrowser?d.mobile=!0:navigator.userAgent.toLowerCase().search("blackberry")?d.desktop=!0:d.mobile=!0,{browser:a,os:b,device:d,originalOS:c.os.family}},getPlatformV2:function(){var a={chrome:!1,firefox:!1,ie:!1,safari:!1,opera:!1,iemobile:!1,androidbrowser:!1,version:11},b={ios:!1,android:!1,windowsphone:!1,version:4},e={desktop:!1,mobile:!1,tablet:!1},f=new d(window.navigator.userAgent);if(e.tablet=!_.isNull(f.tablet()),e.mobile=!_.isNull(f.phone()),e.desktop=_.isNull(f.mobile()),e.desktop){var g=!1;if(c.name=c.name||"",_.each(a,function(b,d){g||d!=c.name.toLowerCase().replace(/\s/g,"")||(a[d]=!0,"chromemobile"==d?a.chrome=!0:"firefoxmobile"==d&&(a.firefox=!0),g=!0)}),"nokiabrowser"==c.name.toLowerCase().replace(/\s/g,"")&&(a.iemobile=!0),null!=c.version){var h=c.version.split(".");a.version=h.length>1?parseFloat(h[0]+"."+h[1]):parseInt(h[0])}}else{var i=f.userAgent();_.isNull(i)||(a[i.toLowerCase()]=!0,(a.ie||"GenericBrowser"==i)&&(a.iemobile=!0),a.version=f.version(f.userAgent())),i=f.os(),_.isNull(i)||("iOS"!=i&&(i=i.replace(/OS$/,"")),b.version=f.version(i),i=i.toLowerCase(),"windowsmobile"==i&&(b.windowsphone=!0),b[i]=!0)}var j=this.getPlatform();return j.browser.androidbrowser&&(_.each(a,function(b,c){a[c]="androidbrowser"==c?!0:!1}),a.version=j.browser.version),b.ios&&preview&&!devMode&&(b.version=8),b.android&&preview&&!devMode&&(b.version=4.4),{browser:a,os:b,device:e,originalDevice:_.clone(e),originalOS:j.originalOS?j.originalOS.toLowerCase():""}}}},{"./mobile-detect":8,"./platform-lib":29}],31:[function(){function a(a,b,c,d){c=c||window;var e=this,f=function(){e.clear(),a.apply(c,d||arguments)};this.id=setTimeout(f,b)}String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)},String.prototype.contains=function(a){return-1!==this.indexOf(a)},Math.randomInt=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},a.prototype.id=null,a.prototype.cleared=!1,a.prototype.clear=function(){clearTimeout(this.id),this.cleared=!0,this.id=null},window.Timeout=a},{}],32:[function(a,b){var c=a("./views/viewFactory"),d=a("./util"),e=a("./rules"),f=Backbone.Router.extend({changeHash:!1,routes:{"*actions":"changePage"},initialize:function(){window.hashHistory=[],globalsAppVars.changePageDisabled=!1,$("body").on("click",".backButton",function(){return d.backToPreviousHash(),!1})},createErrorMetaTag:function(){$("head").append('<meta name="page_not_found" content="404" />')},changePage:function(){if(globalsAppVars.changePageDisabled)d.addHashToHistory(location.hash,!0),globalsAppVars.changePageDisabled=!1;else{if(d.deepLinkRedirectionModule.redirect())return;var a=e.getSelectedSection(!1,!0);if(a){if(d.resetCurrentVariables(),d.setForcedUserSettings(),d.applyPlatformClassForDesktop(),d.setContextClassesForBody(),preview){var b=e.getPost("section-detail");_.is(b)&&(a=!1,d.showSectionDetail(b))}if(a&&"other"!==e.getPost("section")){var f=e.getSelectedSection();f&&e.sectionHasDetail(f)||!e.getPost("item")||(a=!1,e.removePost("item")),a&&_.is(f)&&e.sectionHasSubSections(f)&&!e.getPost("cat")&&(a=!1,e.setPost("cat","0")),a&&_.is(f)&&e.sectionHasFilterTabs(f)&&!e.getPost("tab")&&(a=!1,e.setPost("tab",e.getDefaultTabIdForSection(f))),a&&!user.device.mobile&&_.is(f)&&e.isSectionAndItem(f)&&void 0==e.getPost("item")?(a=!1,d.redirectToSectionAndItem(f)):window.staticRender&&d.createNotFoundMetaTag()}else window.staticRender&&d.createNotFoundMetaTag();a?(d.addHashToHistory(location.hash,!0),d.data.firstLandingDone||e.isRoot()||d.buildHashHistoryToCurrentHash(),d.data.firstLandingDone=!0,d.resetCurrentVariables(),preview&&parent.okPreview&&window.location!==window.parent.location&&parent.okPreview(),user.os.android&&_.not(window.stopped)&&!user.browser.ie&&(window.stopped=!0,window.stop()),d.startContentLoadingFromCurrentNode(),bindings=!1,c.changeViewTo(window.location.href,$("body"))):window.staticRender&&d.createNotFoundMetaTag()}else window.staticRender&&d.createNotFoundMetaTag()}}});b.exports=f},{"./rules":33,"./util":177,"./views/viewFactory":183}],33:[function(a,c){var d=a("./templates/templateFactory"),e=d.getTemplate("navBar"),f=function(){try{return function(a,b,c,d){var e=j(a,b,!0);return _.is(e)?e:(_.is(c)&&(a=c),_.not(d)||!d?j(a,void 0,!0):j(c,b,!0))}.apply(this,arguments)}catch(a){return util.postError("fk",a,a.stack),""}},h=function(){try{return function(a,b,c,d){var e=j(a,b);return _.is(e)?e:(_.is(c)&&(a=c),_.not(d)||!d?j(a):j(c,b))}.apply(this,arguments)}catch(a){return util.postError("fvk",a,a.stack),""}},j=function(){try{return function(a,b,c,d){if(_.not(b)){var e=appSettings.get(a);if(_.not(e))return void 0;_.is(c)&&c&&(e="");var f=user.browser.imakeNavBarEffecte?util.getUniqueString():"",g=";"+f+"key:appSettings-"+a.split(".").join("-")+";";return g=g.split("[").join("-"),g=g.split("]").join(""),_.is(d)&&d&&(g=""),e+g}var e=b.get(a);if(_.not(e))return void 0;_.is(c)&&c&&(e="");var f=user.browser.ie?util.getUniqueString():"",g=";"+f+"key:appSections-"+b.get("id")+"-"+a.split(".").join("-")+";";return g=g.split("[").join("-"),g=g.split("]").join(""),_.is(d)&&d&&(g=""),e+g}.apply(this,arguments)}catch(a){return util.postError("vk",a,a.stack),""}},k=function(){try{return function(a,b,c){if(_.is(b)){var d=b.get(a);if(_.is(d))return _.clone(d)}return _.clone(_.is(c)?appSettings.get(c):appSettings.get(a))}.apply(this,arguments)}catch(a){return util.postError("fv",a,a.stack),""}},l=function(){try{return function(a,b){var c=a.split(".").join("-")+"=";return c+=b+";"}.apply(this,arguments)}catch(a){return util.postError("pk",a,a.stack),""}},n=function(a,b,c,d){function e(a,b){return _.not(a)?void 0:d?{val:a,key:b}:a+b}function f(b){var c=";"+g+"key:appSections-"+a.get("id")+"-"+b.split(".").join("-")+";";return c=c.split("[").join("-").split("]").join("")}var g=user.browser.ie?util.getUniqueString():"";return util.empty(a.get(b))?e(a.get(c),f(c)):e(a.get(b),f(b))},o=function(a){var b=user.browser.ie?util.getUniqueString():"";return";"+b+"key:"+a.replaceAll(".","-").replaceAll("[","-").replaceAll("]","")+";"},p=function(a,b){return o(b?"appSections-"+b.get("id")+"-"+a:"appSettings-"+a)},q=function(){var a,b,c,d,e,f=0,g=void 0,h=!1;for(e=Array.prototype.slice.call(arguments),"object"==typeof e[0]&&(a=e[0],e.shift());!g&&e[f];)d=e[f],b=appSettings,c="appSettings-",0==d.indexOf("section.")&&a&&(h=!0,b=a,c="appSections-"+b.get("id")+"-",d=d.slice(8)),g=util.empty(b.get(d))?!1:b.get(d),f++;var i;return i=g?{val:_.clone(g),key:o(c+d),isFallback:f-1}:{val:void 0,key:void 0},i.stringify=function(){return this.val?this.val+this.key:""},i};fallbackFont=function(){var a=q.apply(this,Array.prototype.slice.call(arguments));return _.is(a.val)?s.fontStyle(a.val)+a.key:""};var s={fk:f,fvk:h,fv:k,pk:l,vk:j,sfvk:n,fallback:q,fallbackFont:fallbackFont,formatSelector:o,createSelector:p,getApiKey:function(){return appSettings.get("apiK")||""},getApiSecretKey:function(){return appSettings.get("apiS")||""},getIdWebzine:function(){var a=appSettings.get("idWebzine");return util.empty(a)?0:a},getUserListSection:function(){var a=null;return _.each(appSections,function(b){a||"GBModuleTypeUserslist"==b.get("type")&&(a=b)},this),a},getSectionContainerFillModeForTemplate:function(a){var b=a.get("template");return b.contains("GBChatListTemplate")?!1:!0},sectionDoesNotUseContentLoader:function(a){return"GBModuleTypeChat"!=a.get("type")?!1:!0},disableClass:function(){var a=q.apply(this,Array.prototype.slice.call(arguments));return _.pos(a.val)?"disabled":""},getDropdownFilterDisplayData:function(){var a=s.getSelectedSection(),b=s.fallback(a,"section.categories.dropdown.backgroundColor","categories.dropdown.backgroundColor"),c=s.fallback(a,"section.categories.dropdown.backgroundOpacity","categories.dropdown.backgroundOpacity"),d=s.fallback(a,"section.categories.dropdown.titleFont","categories.dropdown.titleFont"),e=s.fallback(a,"section.categories.dropdown.titleSelectedColor","categories.dropdown.titleSelectedColor"),f="",g={};return f+=".GBCategoriesTemplateTypeDropdownContainer li.selected, .GBCategoriesTemplateTypeDropdownContainer li:first-child{color:"+e.val+"}\n",f+=".GBCategoriesTemplateTypeDropdownContainer .chevron::before{border-color:"+e.val+"}\n",g[e.key]=".GBCategoriesTemplateTypeDropdownContainer li.selected, .GBCategoriesTemplateTypeDropdownContainer li:first-child, .GBCategoriesTemplateTypeDropdownContainer .chevron",{backgroundColor:s.css.hexToBackgroundColor(b.val,c.val)+b.key+c.key,titleFont:s.css.createFontStyle(d.val)+d.key,titleSelectedColorStyleTag:s.css.createStyleTag(f,g)}},makeCircleBandStyleTag:function(a){var b="",c={},d=q(a,"section.categories.circle.titleSelectedColor","categories.circle.titleSelectedColor"),e=q(a,"section.categories.circle.selectedBackgroundColor","categories.circle.selectedBackgroundColor"),f=q(a,"section.categories.circle.selectedBackgroundImage","categories.circle.selectedBackgroundImage");return d.val&&(b+="#circleBandContainer li.focus a{color:"+d.val+" !important}\n"),e.val&&(b+="#circleBandContainer li.focus a{background-color:"+e.val+"}\n"),f.val&&(b+="#circleBandContainer li.focus a{background-image:"+s.getImageUrl(f.val,!0)+"}\n"),c[d.key]="#circleBandContainer li.focus a",c[e.key]="#circleBandContainer li.focus a",s.css.createStyleTag(b,c)},getCurrentViewType:function(){var a=s.getSelectedSection(a);return this.getSectionViewType(a)},getSectionViewType:function(a){var b=["GBModuleTypeUserslist","GBModuleTypeChat"];return a&&-1!=b.indexOf(a.get("type"))?"multiView":"classicView"},currentViewHasOtherTargetButton:function(a,b){if(!modules.login.checkAccessOnCurrentView().status)return!1;var c=!1,d=appSettings.get("root.otherTarget"),e="GBRootControllerTypeTypo"==s.rootMode()||"GBRootControllerTypeLargeTypo"==s.rootMode();return util.empty(d)?!1:("navBar"==a?c=("GBRootControllerTypeCustomTabBar"==s.rootMode()||e)&&d!=b.get("id"):"root"==a?c=s.isRoot()&&!s.isRootAndSection()&&!e:"swipeRoot"==a&&(c=!0),c)},makeOtherTargetButton:function(a,b){if(!a){var c=q("root."+s.getRootConfigKey()+".myAccountLinkColor","root."+s.getRootConfigKey()+".textFont.color");c=c.val?s.css.hexToRgba(c.val)+c.key:""}var d=a?"":appLang.GB_TXT_187,e=util.getCurrentBaseUrl()+"/assets/gbicon/img/v1/317.png",f=a?this.makeNavBarButton(b,"317","",!0,e):s.createIcon(s.getRealIconUrl(e)),g=a?"":"<div id='otherTargetButtonContainer' style='color:"+c+"'>",h=a?"":"</div>";return g+"<a href='"+this.urlTo("section",appSettings.get("root.otherTarget"))+"' id='otherTargetButton' style='color:"+c+"'>"+f+"<span style='color:"+c+"'>"+d+"</span></a>"+h},getOtherTarget:function(){return appSettings.get("root.otherTarget")},map:{getListThumbnail:function(a,b){var c=b.smallThumbnail;return util.empty(c)&&(c=q(a,"section.defaultThumb.imageUrl","defaultThumb.imageUrl").val),"background-image:"+s.getImageUrl({imageUrl:c},!0)},isMapdistant:function(a){return"GBMapsListTemplateTypeClassic"==a.get("template")},displayList:function(a){return!util.empty(a.get("displayList"))},displayFirst:function(a,b){if(!this.displayList(a))return"map"==b?!0:!1;if(s.getPost("section",hashHistory[1])==a.get("id")&&util.data.sectionsData[a.get("id")].currentMapDistantShowsList)return"list"==b?!0:!1;var c=!util.empty(a.get("displayListFirst")||"1");return c&&"map"==b||!c&&"list"==b?!1:!0},displayFirstStyle:function(a,b){return this.displayFirst(a,b)?"":"display:none;"},getListClass:function(a){var b="";return s.isRTL({section:a})&&(b+="rtl"),util.empty(a.get("showThumb"))?b+=" noThumb":util.empty(a.get("thumbPosition"))||"right"!=a.get("thumbPosition")||(b+=" thumbnailOnRight"),b},getListElementsStyle:function(a){var b="",c={},d=q(a,"section.titleFont");b+=".titleFont{"+s.fontStyle(d.val,void 0,{disableTabletSize:!0})+"}\n",c[d.key]=".notSelected .titleFont",util.empty(a.get("titleOnColor"))||(b+=".selected .titleFont{color:"+a.get("titleOnColor")+"}\n"),c[p("titleOnColor",a)]=".selected .titleFont";var e=q(a,"section.subtitleFont");b+=".subtitle.subtitleFont{"+s.fontStyle(e.val,void 0,{disableTabletSize:!0})+"}\n",c[e.key]=".notSelected .subtitleFont",util.empty(a.get("subtitleOnColor"))||(b+=".selected .subtitleFont{color:"+a.get("subtitleOnColor")+"}\n"),c[p("subtitleOnColor",a)]=".selected .subtitleFont";var f=q(a,"section.textFont");b+=".textFont{"+s.fontStyle(f.val,void 0,{disableTabletSize:!0})+"}\n",c[f.key]=".notSelected .textFont",util.empty(a.get("textOnColor"))||(b+=".selected .textFont{color:"+a.get("textOnColor")+"}\n"),c[p("textOnColor",a)]=".selected .textFont";var g=q(a,"section.cellSelectedColor");return b+=".selected .itemContainer{background-color:"+s.css.hexToRgba(g.val)+"}\n",c[g.key]=".selected .itemContainer",s.css.createStyleTag(b,c)},getDetailStyle:function(a){var b="",c={},d=q(a,"section.linkColor","section.subtitleFont.color");return b+="#middleInnerContainer a{color:"+s.css.hexToRgba(d.val)+"}\n",c[d.key]="#middleInnerContainer a",s.css.createStyleTag(b,c)},getListTitleStyle:function(a,b){var c="",d=q(a,"section.titleFont");return b&&!util.empty(a.get("titleOnColor"))&&(d.val.color=a.get("titleOnColor"),d.key=f("titleOnColor",a)),c+=s.fontStyle(d.val)+d.key},getListSubtitleStyle:function(a,b){var c="",d=q(a,"section.subtitleFont");return b&&!util.empty(a.get("subtitleOnColor"))&&(d.val.color=a.get("subtitleOnColor"),d.key=f("subtitleOnColor",a)),c+=s.fontStyle(d.val)+d.key},getListTextStyle:function(a,b){var c="",d=q(a,"section.textFont");return b&&!util.empty(a.get("textOnColor"))&&(d.val.color=a.get("textOnColor"),d.key=f("textOnColor",a)),c+=s.fontStyle(d.val)+d.key},getPinImage:function(a,b,c){if(s.map.isMapdistant(a)){var d,e;return d=util.empty(b)?util.empty(a.get("defaultPinIcon.imageUrl"))?util.getCurrentBaseUrl()+"/assets/img/gbpreview/pinIcon-2.png":a.get("defaultPinIcon.imageUrl"):b,e=util.empty(c)?util.empty(a.get("defaultPinIconColor"))?"#FFFFFF":a.get("defaultPinIconColor"):c,$(s.imgFromPng([d,e,"",1])).attr("src")}return a.get("template").contains("GBUserslist")?_.pos(b)?b:util.empty(a.get("defaultThumb.imageUrl"))?util.getRelativeUrlBase()+"/assets/img/gbpreview/defaultProfileCover.jpg":a.get("defaultThumb.imageUrl"):util.getCurrentBaseUrl()+"/assets/img/gbpreview/pinIcon-2.png"},makePopupInfoIcon:function(a){return user.device.mobile&&s.isItemCall()?"":s.createIcon(s.getRealIconUrl("map-info"),"#475a6c","","popupInfoIcon","","data-itemid='"+a+"'")},getPopupInfos:function(a,b){var c=a.get("popUpInfosContentType");return c&&c.length>0&&(c=c.replace("[ADDRESS]",b)),c||b},getPopupStyle:function(a){var b=".leaflet-popup-content-wrapper, .leaflet-popup-tip{background-color:"+a.get("popUpBackgroundColor")+";}\n",c={};return c[f("popUpBackgroundColor",a)]=".leaflet-popup-content-wrapper",s.css.createStyleTag(b,c)},getDetailImage:function(a){return!util.empty(a.images)&&a.images.length>0&&a.images[0]?{imageUrl:s.css.toCSSURL(a.images[0].url,!0),imageID:a.images[0].id}:""},makeLinkToExternalMap:function(a,b,c){var d=a+","+b,c=c?encodeURIComponent(c):"",e='href="';return e+=user.device.desktop?"http://maps.google.com/maps?q="+d+"("+c+')&output=classic" target=_blank':user.os.ios?"http://maps.apple.com/?q="+d+'"':user.os.android?"geo:"+d+"?q="+d+"("+c+')"':user.os.windowsphone&&user.os.version>=7?"maps:"+d+"("+c+')"':"http://maps.google.com/maps?q="+d+"("+c+')&output=classic" target=_blank'},getFormattedDistance:function(a){var b=s.useMiles();if(b){var c=util.convertKmIntoMiles(a);return 100>c?Math.round(10*c)/10+" miles":Math.round(c)+" miles"}return 1>a?Math.round(1e3*a)+" m":10>a?Math.round(10*a)/10+" km":Math.round(a)+" km"},getDistanceIcon:function(a,b){return s.createIcon(s.getRealIconUrl("event-place"),void 0,void 0,void 0,void 0,void 0,b||"font-family:'Helvetica Neue';font-size:14px;","<span>"+s.map.getFormattedDistance(a)+"</span>")}},showAppRatingPopup:function(){modules.popup.show("ratingPopup")},hideAppRatingPopup:function(){modules.popup.hide("ratingPopup")},getNodeTemplateType:function(a){var b=a.get("template");return"GBNodeListTemplateTypeVisuels"==b||"GBNodeListTemplateTypeVisuelsColor"==b||"GBNodeListTemplateTypeSlideShow"==b?"nodeListVisuels":"GBNodeListTemplateTypeUneGrid"==b||"GBNodeListTemplateTypeUneGridColor"==b?"nodeListUneGrid":"GBNodeListTemplateTypeGrid"==b||"GBNodeListTemplateTypeGridColor"==b?"nodeListGrid":"GBNodeListTemplateTypeList"==b||"GBNodeListTemplateTypeListColor"==b?"nodeListList":void 0},getNodeTemplateContentType:function(a){var b=s.getNodeTemplateType(a);return"nodeListVisuels"==b||"nodeListUneGrid"==b?"complexLayout":"nodeListGrid"==b?"gridLayout":"listLayout"},nodeHasBlur:function(a){var b=a.get("template")+".";return"blur"==a.get(b+"effectImage")&&_.pos(a.get(b+"showTitle"))},getNodeOrientedCellBackgroundImagesStyleTag:function(a){if("GBNodeListTemplateTypeSlideShow"==a.get("template")&&!user.device.mobile){var b="<style>",c=a.get(a.get("template")+".sectionParams");return _.each(c,function(a,c){var d="";d=_.pos(a.cellBackgroundImagePortrait)?"url('"+a.cellBackgroundImagePortrait.imageUrl+"')":"none",b+=" .portrait a#tile"+c+", .portrait a#tile"+c+" .backgroundClone{background-image:"+d+" !important;}",d="",d=_.pos(a.cellBackgroundImageLandscape)?"url('"+a.cellBackgroundImageLandscape.imageUrl+"')":"none",b+=" .landscape a#tile"+c+", .landscape a#tile"+c+" .backgroundClone{background-image:"+d+" !important;}"}),b+="</style>"}return""},getNodeTileStyle:function(a,b,c){var d=";",e=a.get("template")+".",f=e+"sectionParams["+b+"].";if(slideShowSuffix="","GBNodeListTemplateTypeSlideShow"!=a.get("template")||user.device.mobile||(slideShowSuffix="portrait"==orient?"Portrait":"Landscape"),_.inArray("backgroundImage",c)){var g=n(a,f+"cellBackgroundImage"+slideShowSuffix,e+"cellBackgroundImage"+slideShowSuffix,!0);(preview&&!g||g&&(!g.val||util.empty(g.val.imageUrl)))&&(g={val:{imageUrl:"http://themes.goodbarber.com/assets/img/gbpreview/noPhoto.png"},key:"background-size:contain;"}),g&&(d+='background-image:url("'+s.getImageUrl(g.val)+'");'+g.key)}if(_.inArray("backgroundColor",c)){if("nodeListList"==s.getNodeTemplateType(a))var g=n(a,e+"listBackgroundColor","",!0),h=n(a,e+"listBackgroundOpacity","",!0)||{val:1,key:""};else var g=n(a,f+"cellBackgroundColor",e+"cellBackgroundColor",!0),h=n(a,f+"cellBackgroundOpacity",e+"cellBackgroundOpacity",!0)||{val:1,key:""};_.is(g)&&(d+="background-color:"+s.css.hexToRgba(g.val,h.val)+g.key+h.key)}if(_.inArray("titleFont",c)){var i,g=n(a,e+"titleFont","",!0),h=n(a,f+"titleColor","",!0);h&&h.val?i=";color:"+h.val+h.key:g&&g.val&&(i=g.key),g&&g.val&&(d+=s.fontStyle(g.val)+i)}if(_.inArray("borderColor",c)){var g=n(a,e+"borderColor","",!0);g&&(d+="border-color: "+g.val+g.key)}if(_.inArray("separatorColor",c)){var g=n(a,e+"separatorColor","",!0);g&&(d+="border-color: "+g.val+g.key)}return d},getNodeStyle:function(a,b){var c=a.get("template"),d=[];return"GBNodeListTemplateTypeVisuels"==c&&(d=["titleFont","backgroundImage"]),"GBNodeListTemplateTypeVisuelsColor"==c&&(d=["titleFont","backgroundColor"]),"GBNodeListTemplateTypeUneGrid"==c&&(d=["titleFont","backgroundImage","borderColor"]),"GBNodeListTemplateTypeUneGridColor"==c&&(d=["titleFont","backgroundColor","borderColor"]),"GBNodeListTemplateTypeGrid"==c&&(d=["titleFont","backgroundColor","borderColor"]),"GBNodeListTemplateTypeGridColor"==c&&(d=["titleFont","backgroundColor","borderColor"]),"GBNodeListTemplateTypeList"==c&&(d=["titleFont","separatorColor"]),"GBNodeListTemplateTypeListColor"==c&&(d=["titleFont","separatorColor"]),"GBNodeListTemplateTypeSlideShow"==c&&(d=["titleFont","backgroundImage"]),s.getNodeTileStyle(a,b,d)},getNodeOverlayStyle:function(a){var b="",c=a.get("template")+".";return"gradient"==a.get(c+"effectImage")&&(b="background: linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"),b},getNodeBandStyle:function(a){var b="",c=a.get("template")+".";return"blur"!=a.get(c+"effectImage")||util.empty(a.get(c+"showTitle"))||(b="background-color:rgba(255,255,255,0.2);width:100%;"),b},getNodeTileContent:function(a,b,c,d){var e=appSections[c],f=a.get("template")+".",g=!1;if(_.is(e)){var h="1"==a.get(f+"showIcon"),i="1"==a.get(f+"showTitle"),j="",k=f+"sectionParams["+b+"].";if(h){var l=q(a,"section."+k+"iconColor","section."+f+"iconColor");l.val=l.val||"#FFFFFF",l.key=l.key||"";var m=n(a,k+"iconTexture",f+"iconTexture",!0),o=_.isEmpty(m)?"":m.val,p=s.getSectionIcon(e);j+=p.imageUrl?s.css.createImg("",p.imageUrl):s.createIcon(s.getRealIconUrl(p.image),l.val,o,"","","",l.key),g=!0}else if("GBNodeListTemplateTypeGrid"==a.get("template")||"GBNodeListTemplateTypeList"==a.get("template")){var r=!1,t=n(a,k+"cellBackgroundImage",f+"cellBackgroundImage",!0);if(r=!t||t&&!t.val||t&&t.val&&util.empty(t.val.imageUrl),preview&&r&&(t={val:{imageUrl:"http://themes.goodbarber.com/assets/img/gbpreview/noPhoto.png"}},r=!1),!r){var u="background-image:"+s.getImageUrl(t.val,!0);j+='<div class="customIcon" style="'+u+';" />',g=!0}}if(g&&"nodeListList"==s.getNodeTemplateType(a)&&(j='<div class="listIconContainer">'+j+"</div>"),i){var v="",w="";if(0==d&&"GBNodeListTemplateTypeUneGrid"==a.get("template")&&a.get(f+"displaySubtitleOnFirst")){var x=n(a,f+"subtitleFont","",!0),y=n(a,f+"subtitleColor","",!0);x&&(w+=s.fontStyle(x.val),y&&(w+="color:"+y.val+";",x.key=y.key)),v+='<p style="'+w+'">'+a.get(f+"subtitle")+"</p>"}var u="";h&&(u+='style="margin-top:15px;"');var z=s.fallback(e,"section.prettyTitle","section.title").val;j+="<div "+u+' class="nodeTitle"><p>'+util.stripslashes(z)+v+"</p></div>",g||"nodeListGrid"!=s.getNodeTemplateType(a)||(j='<div class="gridCenteringContainer">'+j+"</div>")}else g&&"GBNodeListTemplateTypeGridColor"==a.get("template")&&(j='<div class="gridCenteringContainer">'+j+"</div>");if("nodeListList"==s.getNodeTemplateType(a)&&!user.os.android){var l=n(a,k+"titleColor",f+"titleFont.color",!0);j+=s.createIcon(s.getRealIconUrl("arrow-settings"),l.val,"","nodeListArrow","","",l.key)}return j}},getNodeTileContentPosition:function(a){var b=a.get("template")+".",c=a.get(b+"titleAlign")||"center_center";c=c.split("_");var d=c[1],e=c[0];return"center"==e&&(e="middle"),"text-align:"+d+";vertical-align:"+e+";"},getContactLinkElementStyle:function(a,b){try{var c="",d="GBContactListTemplateTypeButton"==a.get("template")?"typebutton.":"typelist.",e=n(a,d+"buttons["+b+"].cellBackgroundColor",d+"cellBackgroundColor",!0);return _.is(e)&&(c+="background-color:"+s.css.hexToRgba(e.val)+";"+e.key),"GBContactListTemplateTypeClassic"==a.get("template")&&(e=s.fallback(a,"section."+d+"separatorColor","separatorColor"),c+=_.is(e.val)?"border-color:"+s.css.hexToRgba(e.val)+";"+e.key:"border:none;"),"GBContactListTemplateTypeButton"==a.get("template")&&(e=n(a,d+"buttons["+b+"].buttonBorderColor",d+"buttonBorderColor",!0),c+=_.is(e)?"border-color:"+s.css.hexToRgba(e.val)+";"+e.key:"border:none;",e=n(a,"cornerRadius","",!0),_.is(e)&&(c+="border-radius:"+e.val+"px;")),c}catch(f){return util.postError("getContactLinkElementStyle",f,f.stack),""}},getContactLinkIcon:function(a,b){try{var c="GBContactListTemplateTypeButton"==a.get("template")?"typebutton.":"typelist.",d=c+"buttons["+b+"].",e=n(a,"links["+b+"].icon","",!0);if(_.not(e))return"";var f=n(a,d+"iconColor",c+"iconColor",!0);_.not(f)&&(f=n(a,d+"textFont.color",c+"textFont.color",!0));var g=n(a,d+"iconTexture",c+"iconTexture",!0)||{val:""};return s.createIcon(e.val,f.val,g.val,"","","",f.key)}catch(h){return util.postError("getContactLinkIcon",h,h.stack),""}},getContactListLogo:function(a){try{var b=s.fv("logo",a,"appIcon");if(_.not(b))return"";"string"==typeof b&&(b={imageUrl:b});var c="",d=a.get("logoCornerRadius");return _.is(d)&&(d=parseInt(65*parseFloat(d)),c="border-radius:"+d+"px;"),"background-image:"+s.getImageUrl(b,!0)+";"+c}catch(e){return util.postError("getContactListLogo",e,e.stack),""}},getContactLinkTitleFont:function(a,b){try{var c="GBContactListTemplateTypeButton"==a.get("template")?"typebutton.":"typelist.",d=q(a,"section."+c+"buttons["+b+"].textFont");if(_.not(d.val))d=q(a,"section."+c+"textFont");else if(util.empty(d.val.fontType)){var e=d.val.color,f=d.key;d=q(a,"section."+c+"textFont"),d.val.color=e,d.key=f}return _.not(d.val)?"":s.fontStyle(d.val)+d.key}catch(g){return util.postError("getContactLinkTitleFont",g,g.stack),""}},urlUsesSameContent:function(a,b){if(a==b)return!0;var c=s.getPost("section",a),d=s.getPost("section",b);return c&&d&&c==d?!0:!1},asyncContentRequestCallback:function(a){s.urlUsesSameContent(viewFactory.currentView.locationKey,a.requestOriginLocationKey)?viewFactory.currentView.registerPostDOMInsertCallback(function(){_.not(a.callback)?viewFactory.currentView.addAsyncContentToDOM(a.parentTemplateName,a.idContainer,a.asyncTemplate,a.section,a.data):a.callback(a.data)}):viewFactory.addPostDOMInsertCallbackToCachedView(a.requestOriginLocationKey,function(){_.not(a.callback)?(viewFactory.currentView.addAsyncContentToDOM(a.parentTemplateName,a.idContainer,a.asyncTemplate,a.section,a.data),$(".photo").each(function(){var a=$(this),b=a.attr("data-origin");$("<img/>").load(function(){a.css("background-image",s.css.toCSSURL(b))}).error(function(a){}).attr("src",b)})):a.callback(a.data)})},getContent:function(){try{return function(a,b,c,d,e,f,g){var h,i=window.location.href,j=function(g){return s.asyncContentRequestCallback({section:a,asyncTemplate:b,parentTemplateName:c,idContainer:d,contentField:e,data:g,requestOriginLocationKey:i,callback:f})};return util.isBBModel(a)?h=s.getCurrentContentUrl(a,e):"object"==typeof a&&_.is(a.contentUrl)?(h=a.contentUrl,a=a.section):"string"==typeof a&&(h=a),d&&!f&&viewFactory.currentView.registerPostDOMInsertCallback(function(){$("#"+d).html(util.htmlComponents.loadingSpinner)}),util.requester(h,g,j)}.apply(this,arguments)}catch(a){return util.postError("getContent",a,a.stack),""}},getCatIDFromCatIndex:function(a,b){return a.get("subsections["+b+"].ids")},buildContentUrlWithTokens:function(a,b,c,d){return a?(b=_.is(b)?b:s.getPost("cat"),c=_.is(c)?c:s.getPost("tab"),_.is(b)&&(a=a.replace("[GROUP]",this.getCatIDFromCatIndex(d||s.getSelectedSection(),b))),_.is(c)&&(a=a.replace("[SORT]",c)),a):""},contentUrlIsReadyForPreloading:function(a){return a?a.contains("[SORT]")?!1:a.contains("[GEOLOC]")?!1:!0:!1},getSectionUrl:function(a){try{var b;return b=a.get("GBNodeListTemplateTypeScratch"==a.get("template")?"controllerUrl":"GBModuleTypeShop"==a.get("type")?"proxyUrl":"sectionUrl"),util.replaceHostname(b)}catch(c){return util.postError("getSectionUrl",c,c.stack),a.get("sectionUrl")||""}},searchByDirectAccess:function(a){var b=!0;return"GBModuleTypePhoto"==a.get("type")&&(b=!1),b},searchItemByID:function(a,b,c){function d(g){return util.data.itemToLoadForIDPair[a.get("id")+"/"+b]?c(util.data.itemToLoadForIDPair[a.get("id")+"/"+b]):void util.requester(g,null,function(h,i){function j(a,b){var c=!1;if(l){var d=util.getCurrentAvailableData();if(d&&(d=d.extraData),d&&(d=d.next_page),_.pos(d))return c=!0,a(d)}else if(h&&h.items&&h.items.length&&h.next_page&&h.next_page!=g)return d=h.next_page,c=!0,a(d);return c?void 0:b(void 0)}var k=contentLoader.getRequestContext(g,{}),l=k&&("contents"==k.methodType||"contentsByCategory"==k.methodType);if(l?(e=s.getItemById(util.getCurrentAvailableContentData(),b),e||(e=s.getItemById(h.items,b))):e=s.getItemById(h.items,b),_.pos(e))c(e,h);else if(s.searchByDirectAccess(a)&&!f)util.requester(util.getCurrentBaseUrl()+"/apiv3/getItem/"+a.get("id")+"/"+b+"/"+util.getContentRequestSuffix(),{},function(a){return a&&a.items&&a.items.length>0?c(a.items[0]):(f=!0,void j(d,c))});else{if(i)return exitCallback(void 0);j(d,c)}})}try{var e,f=!1;d(s.getCurrentContentUrl(a))}catch(g){return util.postError("getItem",g,g.stack),""}},getContentForItem:function(){try{return function(a,b,c,e,f,g,h){function i(d){s.asyncContentRequestCallback({section:a,asyncTemplate:b,parentTemplateName:c,idContainer:e,data:d,requestOriginLocationKey:location.href,callback:g})}var j=a;this.isBookmarkSection()&&(j=appSections[s.getPost("parent")]),e&&!g&&viewFactory.currentView.registerPostDOMInsertCallback(function(){$("#"+e).html(util.htmlComponents.loadingSpinner)}),s.map.isMapdistant(j)&&s.isSearchCall()?util.requester(s.getCurrentContentUrl(j),{},function(a){i(a)}):s.searchItemByID(j,f,function(e,f){util.empty(e)?h||(s.isSectionAndItem(j)?i({_data:f,items:[util.getEmptyItem()]}):location.hash="#!section="+j.get("id")):(_.inArray(c,["_asyncAgendaDetail","_asyncAgendaDetail_bkmrkdtl"])&&(asyncTemplateName=s.getAgendaDetailContentTemplate(e,a),asyncTemplateName!==c&&(b=d.getTemplate(asyncTemplateName))),i({_data:f,items:[e]}))})}.apply(this,arguments)}catch(a){return util.postError("getContentForItem",a,a.stack),""}},getString:function(){try{return function(a){return _.not(a)||null==a||util.empty(a)?"":a}.apply(this,arguments)}catch(a){return util.postError("getString",a,a.stack),""}},getCurrentContentUrl:function(){try{return function(a,b){var c=s.getPost("search");if(!util.empty(c))return util.Tokens.search(a.get("searchUrl"),c);_.not(b)&&(b="contentUrl");var d=a.get(b),e=s.getPost("cat"),f=!1,g=s.getSectionSubSections(a);return _.is(g)&&1==g.length?f=g[0].contentUrl:s.sectionHasSubSections(a)&&_.not(e)&&_.is(g)&&g.length>0?f=g[0].contentUrl:_.is(e)&&_.is(g)&&g.length>0&&_.each(g,function(a,b){e==b&&(f=a.contentUrl)},this),f&&(d=f),d}.apply(this,arguments)}catch(a){return util.postError("getCurrentContentUrl",a,a.stack),""}},getSpecificField:function(){try{return function(a,b){return _.not(b)&&(b="commentsUrl"),util.isBBModel(a)?a.get(b):a[b]}.apply(this,arguments)}catch(a){return util.postError("getSpecificField",a,a.stack),""}},getDisqus:function(){try{return function(a){var b=a.get("disqusShortname");return b?b:!1}.apply(this,arguments)}catch(a){return util.postError("getDisqus",a,a.stack),""}},addDisqus:function(){try{return function(a,b,c,d){function e(){DISQUS.reset({reload:!0,config:function(){this.page.identifier=g,this.page.url=g,this.page.title=d,this.language=appSettings.get("lg")}}),$("#disqus_thread").css("display","block")}0==$("#disqus_thread").length&&$("#"+b).html('<div style="padding: 10px" id="disqus_thread"></div>');var f=util.getCurrentAvailableItem()||{},g=f.disqusUrl||f.url||window.location.href;if(_.not(this.disqusLoaded)){var h=s.getSelectedSection().get("disqusShortname");if(!h)return!1;!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="http://"+h+".disqus.com/embed.js",a.onload=e,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}(),this.disqusLoaded=!0}else e()}.apply(this,arguments)}catch(a){return util.postError("addDisqus",a,a.stack),""}},rootType:function(){try{return function(){return appSettings.get("root.type")}.apply(this,arguments)}catch(a){return util.postError("rootType",a,a.stack),""}},rootMode:function(){try{return function(){return"GBRootControllerTypeClassicTabBar"==this.rootType()?"GBRootControllerTypeCustomTabBar":appSettings.get("root.type")}.apply(this,arguments)}catch(a){return util.postError("rootMode",a,a.stack),""}},rootModeIsSwipe:function(){return"GBRootControllerTypeLittleSwipe"==this.rootMode()||"GBRootControllerTypeFacebookMenu"==this.rootMode()},getRootConfigKey:function(){var a;switch(this.rootMode()){case"GBRootControllerTypeCustomTabBar":a="tabBar";break;case"GBRootControllerTypeFacebookMenu":a="menu";
break;case"GBRootControllerTypeLittleSwipe":a="littleMenu";break;case"GBRootControllerTypeMetroGrid":a="grid";break;case"GBRootControllerTypeGrid":a="grid";break;case"GBRootControllerTypeSlate":a="slate";break;case"GBRootControllerTypeTypo":a="typo";break;case"GBRootControllerTypeLargeTypo":a="largeTypo"}return a},rootConfig:function(){try{return function(a){var b=this.getRootConfigKey();if(b="root."+b,a)return b;var c=_.clone(appSettings.get(b));return _.not(c.separatorType)&&(c.separatorType=appSettings.get("separatorType")),c}.apply(this,arguments)}catch(a){return util.postError("rootConfig",a,a.stack),""}},hasAds:function(){try{return function(){return _(appSettings).has("ads")}.apply(this,arguments)}catch(a){return util.postError("hasAds",a,a.stack),""}},hasPager:function(){try{return function(a){return a.get("detail.toolbar.pager")&&("GBModuleTypeArticle"==s.getSectionType(a)||"GBModuleTypeVideo"==s.getSectionType(a))}.apply(this,arguments)}catch(a){return util.postError("hasPager",a,a.stack),""}},hasTabBar:function(){try{return function(){return"GBRootControllerTypeCustomTabBar"==this.rootMode()?!0:!1}.apply(this,arguments)}catch(a){return util.postError("hasTabBar",a,a.stack),""}},getCustomTabBarMode:function(){try{return function(){return appSettings.get("mode")}.apply(this,arguments)}catch(a){return util.postError("getMode",a,a.stack),""}},getCustomTabBarProIconSrc:function(a,b){try{var c=a.get("proIcon");return _.is(c)?s.getImageUrl(b?c.selectedBackgroundImage:c.normalBackgroundImage):""}catch(d){return util.postError("getMode",d,d.stack),""}},isOtherMenuShown:function(){try{return function(){var a=!1;return util.getNbSections()>this.getTabBarNbSections()&&"other"==this.getPost("section")&&"GBRootControllerTypeCustomTabBar"==this.rootMode()&&(a=!0),a}.apply(this,arguments)}catch(a){return util.postError("isOtherMenuShown",a,a.stack),""}},backgroundGeneral:function(){try{return function(a){a||(a=window.orient?window.orient:"portrait");var b=s.getSelectedSection(),c=s.isOtherMenuShown(),d="",e="";if(modules.login.checkAccessOnCurrentView().status||(b=void 0),c)g=s.fvk("root.other.backgroundColor");else{if(b)var f=q(b,"section.backgroundColor","backgroundColor"),g="";else var f=q("backgroundColor"),g="";f&&f.val&&(g="background-color:"+f.val+";"+f.key)}return _.is(b)&&-1!=b.get("template").indexOf("GBNodeListTemplateTypeGrid")?d=s.getImageUrl(s.getNodeGridBackgroundImage(b,a),!0):user.device.mobile?d=c?s.getImageUrl("root.other.backgroundImage",!0):s.getImageUrl(k("effectBackgroundImage",b),!0):("landscape"==a?c?(e=appSettings.get("root.other.backgroundImageLandscape")||appSettings.get("root.other.backgroundImage"),e=s.getImageUrl(e,!0)):(e=b?s.getImageUrl(b.get("backgroundImageLandscape"),!0):"",(""==e||"none"==e)&&(e=s.getImageUrl(appSettings.get("backgroundImageLandscape"),!0))):"portrait"==a&&(c?(e=appSettings.get("root.other.backgroundImagePortrait")||appSettings.get("root.other.backgroundImage"),e=s.getImageUrl(e,!0)):(e=b?s.getImageUrl(b.get("backgroundImagePortrait"),!0):"",(""==e||"none"==e)&&(e=s.getImageUrl(appSettings.get("backgroundImagePortrait"),!0)))),d=e),""!=d&&(g+="background-image:"+d),g}.apply(this,arguments)}catch(a){return util.postError("backgroundGeneral",a,a.stack),""}},backgroundGeneralForMobile:function(){try{return function(){return'style="background-color:'+appSettings.get("backgroundColor")+';"'}.apply(this,arguments)}catch(a){return util.postError("backgroundGeneralForMobile",a,a.stack),""}},isRedirectedSection:function(){try{return function(a,b){if(_.not(a)||_.not(appSections[a]))return a;var c="GBModuleTypeClickto"==s.getSectionType(appSections[a]),d=_.pos(appSettings.get("login.hookUserProfile"))&&!util.data.firstLandingDone&&this.rootModeIsSwipe()&&"GBModuleTypeProfile"==s.getSectionType(appSections[a]),e="GBModuleTypeShop"==s.getSectionType(appSections[a])&&!preview;return e&&_.pos(appSections[a].get("htmlForceInternalEcommerce"))&&(e=!1),b&&e?(window.location=appSections[a].get("url"),""):b?c||d||e?"":a:c||d||e}.apply(this,arguments)}catch(a){return util.postError("getRedirectedSection",a,a.stack),""}},getFirstDisplayableSectionID:function(a){for(var b,c=appSettings.get("root.targets"),d=0,e=!1;!e&&d<c.length;)c[d]==a||s.isRedirectedSection(c[d])||(b=c[d],e=!0),d++;return e?b:appSections[0].get("id")},getSelectedSection:function(a,b){function c(a,b){{var c=IDinUrl=this.getPost("section"),d=appSettings.get("root.targets");d.length}return util.getNbSections()>this.getTabBarNbSections()&&"other"==c&&"GBRootControllerTypeCustomTabBar"==this.rootMode()?(c=d[this.getTabBarNbSections()-1],appSections[c]):(_.is(c)&&(c=s.isRedirectedSection(c,!0)),(_.not(c)&&_.inArray(this.rootMode(),["GBRootControllerTypeCustomTabBar","GBRootControllerTypeLittleSwipe","GBRootControllerTypeFacebookMenu"])||_.is(c)&&_.not(appSections[c]))&&(c=s.getFirstDisplayableSectionID()),a&&_.not(c)||a&&_.is(c)&&_.not(appSections[c])?!1:b?c!=IDinUrl?(s.setPost("section",c),!1):!0:appSections[c])}return _.not(a)&&(a=!1),_.not(b)&&(b=!1),a||b?c.call(this,a,b):(_.not(cur.section)&&(cur.section=c.call(this,!1,!1)),cur.section)},getSelectedSubsection:function(){try{return function(a){var a=a||this.getSelectedSection(!0),b=_.is(this.getPost("cat"))?this.getPost("cat"):!1,c=!1,d=a.get("subsections");return a&&b&&_.is(d)?_.each(d,function(a,d){d==b&&(c=a)},this):!c&&_.is(d)&&d.length>0&&(c=d[0]),c}.apply(this,arguments)}catch(a){return util.postError("getSelectedSubsection",a,a.stack),""}},getSelectedSubsectionID:function(){try{return function(){var a=_.is(this.getPost("cat"))?this.getPost("cat"):!1,b=this.getSelectedSection();if(_.is(b)&&a){a=parseInt(a,10);var c=this.getSectionSubSections(b);return _.is(c[a])?a:!1}return!1}.apply(this,arguments)}catch(a){return util.postError("getSelectedSubsectionID",a,a.stack),""}},getSectionSubSections:function(){try{return function(a){return _.is(a.get("subsections"))?a.get("subsections"):[]}.apply(this,arguments)}catch(a){return util.postError("getSectionSubSections",a,a.stack),""}},hasSubsectionSelector:function(){try{return function(a){return this.getSectionSubSections(a).length>1}.apply(this,arguments)}catch(a){return util.postError("hasSubsectionSelector",a,a.stack),""}},showSubSectionSelector:function(a){return user.device.mobile&&"GBMapsListTemplateTypeClassic"==a.get("template")&&s.map.displayFirst(a,"map")?!1:!0},searchFormCanBeDisplayed:function(a){return!s.map.isMapdistant(a)||!$("#map").is(":visible")},isRootAndSection:function(){var a=this.rootMode();return"GBRootControllerTypeLittleSwipe"==a||"GBRootControllerTypeFacebookMenu"==a||"GBRootControllerTypeCustomTabBar"==a},isRoot:function(){if(s.isItemCall())return!1;var a=s.getSelectedSection();if(!a)return!0;var b=util.getSectionParentID(a);return"root"!=b||"GBRootControllerTypeCustomTabBar"!=this.rootMode()&&"GBRootControllerTypeLittleSwipe"!=this.rootMode()&&"GBRootControllerTypeFacebookMenu"!=this.rootMode()?!1:!0},isSectionCall:function(){try{return function(a){var b=this.isItemCall();return comments=this.isCommentsCall(),sharing=this.isSharingCall(),settings=this.isSettingsCreditsCall(),submit=this.isSubmitDetailCall(),search=this.isSearchCall(),test=a?b&&!comments&&!sharing&&!settings&&!search:b||comments||sharing||settings||submit||search?!1:!0}.apply(this,arguments)}catch(a){return util.postError("isSectionCall",a,a.stack),""}},isSectionShown:function(){try{return function(){return this.isSectionCall()?!this.isRoot()||this.isRoot()&&this.isRootAndSection():!1}.apply(this,arguments)}catch(a){return util.postError("isItemCall",a,a.stack),""}},isItemCall:function(){try{return function(a){var b=!util.empty(this.getPost("item"));return a?b&&!s.getPost("share")&&!s.getPost("comments")&&!s.getPost("addcomment"):b}.apply(this,arguments)}catch(a){return util.postError("isItemCall",a,a.stack),""}},isCommentsCall:function(){try{return function(){return this.isPostCommentCall()||this.isListCommentsCall()}.apply(this,arguments)}catch(a){return util.postError("isCommentsCall",a,a.stack),""}},isPostCommentCall:function(){try{return function(){return _.is(this.getPost("addcomment"))&&"1"==this.getPost("addcomment")}.apply(this,arguments)}catch(a){return util.postError("isPostCommentCall",a,a.stack),""}},isListCommentsCall:function(){try{return function(){return _.is(this.getPost("comments"))&&"1"==this.getPost("comments")}.apply(this,arguments)}catch(a){return util.postError("isListCommentsCall",a,a.stack),""}},isSharingCall:function(){try{return function(){return _.is(this.getPost("share"))&&"1"==this.getPost("share")}.apply(this,arguments)}catch(a){return util.postError("isSharingCall",a,a.stack),""}},isSettingsCreditsCall:function(){try{return function(){return _.is(this.getPost("item"))&&"credits"==this.getPost("item")}.apply(this,arguments)}catch(a){return util.postError("isSettingsCreditsCall",a,a.stack),""}},isSubmitArticleCall:function(){try{return function(){return _.is(this.getPost("item"))&&"article"==this.getPost("item")}.apply(this,arguments)}catch(a){return util.postError("isSubmitArticleCall",a,a.stack),""}},isSubmitVideoCall:function(){try{return function(){return _.is(this.getPost("item"))&&"video"==this.getPost("item")}.apply(this,arguments)}catch(a){return util.postError("isSubmitVideoCall",a,a.stack),""}},isSubmitPhotoCall:function(){try{return function(){return _.is(this.getPost("item"))&&"photo"==this.getPost("item")}.apply(this,arguments)}catch(a){return util.postError("isSubmitPhotoCall",a,a.stack),""}},isSubmitDetailCall:function(){try{return function(){return this.isSubmitPhotoCall()||this.isSubmitVideoCall()||this.isSubmitArticleCall()}.apply(this,arguments)}catch(a){return util.postError("isSubmitDetailCall",a,a.stack),""}},isSearchCall:function(){try{return function(){return _.is(this.getPost("search"))&&!util.empty(this.getPost("search"))}.apply(this,arguments)}catch(a){return util.postError("isSearchCall",a,a.stack),""}},isCustomPanelCall:function(){return window.location.hash&&-1!=window.location.hash.indexOf("panel_")},isBookmarkSection:function(){try{return function(){var a=s.getSelectedSection();return a?"GBModuleTypeBookmark"==a.get("type"):!1}.apply(this,arguments)}catch(a){return util.postError("isBookmarkCall",a,a.stack),""}},getItemById:function(){try{return function(a,b,c){return a=a||{},_.not(c)&&(c="id"),"undefined"==b&&"id"==c?util.getEmptyItem():(a=_.is(a.items)?a.items:a,_.filter(a,function(a){return b=_.isNumber(a[c])?parseInt(b,10):b,a[c]==b}).shift())}.apply(this,arguments)}catch(a){return util.postError("getItemById",a,a.stack),""}},getCurrentData:function(a){var b=s.getSelectedSection();if(b)var c=s.getCurrentContentUrl(b);else a("failed getSection");c?util.requester(c,{},a):a("failed getUrl")},getSelectedItem:function(a){var b=this.getSelectedSection();this.isBookmarkSection()&&(b=appSections[this.getPost("parent")]),s.searchItemByID(b,s.getPost("item"),function(b){b?a(null,b):a("failed to find selected item")})},getNextPrevItem:function(a){var b="next"==a?1:-1,c=util.getCurrentAvailableContentData();if(c&&c.length){for(var d,e=s.getPost("item"),f=!1,g=0;!f&&g<c.length;)d=c[g],d.id==e&&(f=c[g+b]),g++;if(f)return f}},getRootPreview:function(){try{return function(){return util.getCurrentBaseUrl()+"/_public/gbpreview/"}.apply(this,arguments)}catch(a){return util.postError("getRootPreview",a,a.stack),""}},removeKeyValueFromHashString:function(a,b){_.contains(a,"#!")&&(a=a.split("#!").slice(1).join("")),a=a.split("&");var c="",d=0,e="";return a.length>0&&_.each(a,function(a){var a=a.split("=");a.length>1&&a[0]!=b&&(e=d>0?"&":"",c+=e+a[0]+"="+a[1],d++)},this),c},addKeyValueToHashString:function(a,b,c){var d="";return _.contains(a,"=")&&(d="&"),a+d+b+"="+c},parsePost:function(a){var b=a||window.location.hash.substr(2);return b?_.chain(b.split("&")).map(function(a){var b=a.split("=");return[b[0],decodeURIComponent(b[1])]}).object().value():!1},getPost:function(){try{return function(a,b){var c=b||location.hash;_.contains(c,"#!")&&(c=c.split("#!").slice(1).join(""));var d=c.split("&"),e={};return _.each(d,function(a){var a=a.split("=");e[a[0]]=a[1]},this),"searchquery"==a&&e[a]?decodeURIComponent(e[a]):e[a]}.apply(this,arguments)}catch(a){return util.postError("getPost",a,a.stack),""}},setHashValues:function(a,b){var c=location.hash;_.each(a,function(a,b){c=s.removeKeyValueFromHashString(c,b),c=s.addKeyValueToHashString(c,b,a)},this),s.setHash(c,b)},setPost:function(){try{return function(a,b,c){var d=location.hash;d=s.removeKeyValueFromHashString(d,a),d=s.addKeyValueToHashString(d,a,b),s.setHash(d,c)}.apply(this,arguments)}catch(a){return util.postError("setPost",a,a.stack),""}},removePost:function(a,b){var c=s.removeKeyValueFromHashString(location.hash,a);s.setHash(c,b)},setHash:function(a,b){b&&(globalsAppVars.changePageDisabled=!0),location.hash="!"+a},getImageUrl:function(){try{return function(a,b,c){if("undefined"==typeof b&&(b=!1),"undefined"==typeof c&&(c=-1),_.is(a)){var d="";return c>-1?_.size(a)>0&&_.is(a[c].url)&&(d=a[c].url):a.imageUrl&&(d=a.imageUrl),b?this.css.toCSSURL(d):d}return b?"none":""}.apply(this,arguments)}catch(a){return util.postError("getImageUrl",a,a.stack),""}},fontStyle:function(){try{return function(a,b,c){if("object"==typeof a)return this.css.createFontStyle(a,c);if(a){var d=f(a,b),e=k(a,b);return this.css.createFontStyle(e,c)+d}return""}.apply(this,arguments)}catch(a){return util.postError("fontStyle",a,a.stack),""}},buttonBackTo:function(){try{return function(a,b){return this.css.createBackButton(a,b)}.apply(this,arguments)}catch(a){return util.postError("buttonBackTo",a,a.stack),""}},hasButtonBackground:function(){try{return function(a){return void 0!=a.buttonBackgroundColor&&"transparent"!=a.buttonBackgroundColor||void 0!=a.buttonBackgroundTexture&&""!=this.getImageUrl(a.buttonBackgroundTexture)?!0:void 0!=a.normalBackgroundColor&&"transparent"!=a.normalBackgroundColor||""!=(void 0!=a.normalBackgroundImage&&this.getImageUrl(a.normalBackgroundImage))?!0:!1}.apply(this,arguments)}catch(a){return util.postError("hasButtonBackground",a,a.stack),""}},buttonSwipeClass:function(){try{return function(){var a=appSettings.get("root.swipe.typeButton");return a+this.css.getButtonSwipeBackgroundClass(a)}.apply(this,arguments)}catch(a){return util.postError("buttonSwipeClass",a,a.stack),""}},objectiveUrlTo:function(a){var b="#!",c=[];return _.is(a.section)&&c.push("section="+a.section),_.is(a.cat)&&c.push("cat="+a.cat),_.is(a.tab)&&c.push("tab="+a.tab),_.is(a.item)&&c.push("item="+a.item),b+=c.join("&"),_.is(a.extraUrlComponents)&&(b+="&"+a.extraUrlComponents),b},urlTo:function(){try{return function(a,b,c){var d="javascript:",e=appSections[b],f="",g="";if(_.isEmpty(this.getPost("cat"))||(f="&cat="+this.getPost("cat")),_.isEmpty(this.getPost("tab"))||(g="&tab="+this.getPost("tab")),_.is(e)){var h=s.getSectionType(e);if("GBModuleTypeClickto"==h){switch(e.get("linkType")){case"email":preview?d+="gbmail=1;":d="mailto:"+e.get("link");break;case"tel":preview?d+="gbtel=1;":d="tel:"+e.get("link");break;case"intern":d=e.get("link").substr("goodbarber://");break;case"extern":d=e.get("link")}return d}if("GBModuleTypeShop"==h&&!preview&&_.neg(e.get("htmlForceInternalEcommerce")))return"javascript:url="+e.get("id")}switch(c=_.not(c)?"":String(c),a){case"section":d="#!section="+b,_.isEmpty(c)||(d+="&cat="+c);break;case"article":d="#!section="+b,d+=f+=g,d+="&item="+c;break;case"agenda":case"photo":case"tweet":case"sound":case"settings":case"submit":d="#!section="+b,d+=f+=g,d+="&item="+c;break;case"oauth":break;case"comments":d="#!section="+b+"&item="+c+"&comments=1";break;case"addcomment":d="#!section="+b+"&item="+c+"&addcomment=1";break;case"share":d="#!section="+b,_.isEmpty(this.getPost("cat"))||(d+="&cat="+this.getPost("cat")),d+="&item="+c+"&share=1";break;case"search":d="#!section="+b+"&search="+c;break;case"favoris":d="#!section="+c+"&item="+b.id+"&parent="+b.parentSection,_.isEmpty(this.getPost("cat"))||(d+="&cat="+this.getPost("cat"));break;case"messages":d="#!section="+b+"&item="+c}return d}.apply(this,arguments)}catch(a){return util.postError("urlTo",a,a.stack),""}},getCoeffSize:function(){try{return function(){return util.coeffSize}.apply(this,arguments)}catch(a){return util.postError("getCoeffSize",a,a.stack),""}},getIndexSelectedSection:function(){try{return function(){var a;return _.each(appSections,function(b,c){return b.id==this.getPost("section")?a=c:void 0},this),util.getNbSections()>this.getTabBarNbSections()&&"other"==this.getPost("section")&&"GBRootControllerTypeCustomTabBar"==this.rootMode()?a=this.getTabBarNbSections()-1:appSettings.get("indexSelectedSection")||"GBRootControllerTypeMetroGrid"===this.rootMode()?a:a=0}.apply(this,arguments)}catch(a){return util.postError("getIndexSelectedSection",a,a.stack),""}},getIdSelectedSection:function(){try{return function(){return this.getSelectedSection().get("id")}.apply(this,arguments)}catch(a){return util.postError("getIdSelectedSection",a,a.stack),""}},getSectionBackgroundColor:function(){try{return function(a){var b=n(a,"listBackgroundColor","",!0);if(_.not(b))return"";var c=n(a,"listBackgroundOpacity","",!0),d=1,e=";";return _.is(c)&&(d=c.val,e+=c.key),s.css.hexToRgba(b.val,d)+b.key+e}.apply(this,arguments)}catch(a){return util.postError("getSectionBackgroundColor",a,a.stack),""}},getNodeGridBackgroundImage:function(a,b){b||(b=window.orient?window.orient:"portrait");var c,d=a.get("template")+".";return user.device.mobile?(c=a.get(d+"effectBackgroundImage"),(!c||c&&util.empty(c.imageUrl))&&(c=appSettings.get("effectBackgroundImage"))):"portrait"==b?(c=a.get(d+"backgroundImagePortrait"),(!c||c&&util.empty(c.imageUrl))&&(c=appSettings.get("backgroundImagePortrait"))):(c=a.get(d+"backgroundImageLandscape"),(!c||c&&util.empty(c.imageUrl))&&(c=appSettings.get("backgroundImageLandscape"))),c},getSectionEffectBackgroundImage:function(){try{return function(a){return a.get("effectBackgroundImage")?a.get("effectBackgroundImage"):appSettings.get("effectBackgroundImage")}.apply(this,arguments)}catch(a){return util.postError("getSectionEffectBackgroundImage",a,a.stack),""}},getSectionBackground:function(a,b,c,d){var e="",a=a||"",f=d?"detail.":"",g=b?s.fallback(b,"section."+f+"backgroundColor","backgroundColor"):s.fallback(a+"backgroundColor","backgroundColor"),h=b?s.fallback(b,"section."+f+"backgroundOpacity","backgroundOpacity"):s.fallback(a+"backgroundOpacity","backgroundOpacity");g.val&&(e+=h.val?"background-color:"+s.css.hexToRgba(g.val,h.val)+g.key+h.key:"background-color:"+s.css.hexToRgba(g.val)+g.key);var i;return i=user.device.mobile?b?s.fallback(b,"section."+f+"effectBackgroundImage","effectBackgroundImage"):s.fallback(a+"effectBackgroundImage","effectBackgroundImage"):"portrait"==orient?b?s.fallback(b,"section."+f+"backgroundImagePortrait","backgroundImagePortrait"):s.fallback(a+"backgroundImagePortrait","backgroundImagePortrait"):b?s.fallback(b,"section."+f+"backgroundImageLandscape","backgroundImageLandscape"):s.fallback(a+"backgroundImageLandscape","backgroundImageLandscape"),i.val&&(e+="background-image:"+s.getImageUrl(i.val,!0)),c&&(e={val:e,key:(g.key||"")+(h.key||"")}),e},getSectionCategories:function(){try{return function(a){return a.get("categories")?a.get("categories"):appSettings.get("categories")}.apply(this,arguments)}catch(a){return util.postError("getSectionCategories",a,a.stack),""}},getSectionCategoriesTemplate:function(){try{return function(a){var b=this.getSectionCategories(a);return b&&b.template?b.template:""}.apply(this,arguments)}catch(a){return util.postError("getSectionCategoriesTemplate",a,a.stack),""}},isCategoriesTemplateInNavBar:function(){try{return function(a){var b=s.getSectionCategoriesTemplate(a);return"GBCategoriesTemplateTypePager"==b?!0:!1}.apply(this,arguments)}catch(a){return util.postError("isCategoriesTemplateInNavBar",a,a.stack),""}},getCategoriesPagerBulletColor:function(){try{return function(a,b){var c=b?h("categories.pager.onColor",a):h("categories.pager.offColor",a),d=c.split(";");return{value:d[0],key:d[1].replace("key:","")}}.apply(this,arguments)}catch(a){return util.postError("getCategoriesPagerBulletColor",a,a.stack),""}},getCategoriesPagerBackground:function(){try{return function(a){return"background-color:"+this.css.hexToRgba(k("categories.pager.backgroundColor",a),k("categories.pager.backgroundOpacity",a))+f("categories.pager.backgroundColor",a)+f("categories.pager.backgroundOpacity",a)}.apply(this,arguments)}catch(a){return util.postError("getCategoriesPagerBackground",a,a.stack),""}},getCategoriesTemplate:function(a,b){var c,e=d.getTemplate(s.getSectionCategoriesTemplate(a));if(b)c=e({section:a});else{var f=s.showSubSectionSelector(a)?"":'style="display:none;"';c='<div id="list-subsections-'+a.get("id")+'" class="list-subsections '+s.getSectionCategoriesTemplate(a)+'"'+f+'><div class="subsections" style="display:inline;">'+e({section:a})+"</div></div>"}return c},isOnScrollSupported:function(){try{return function(){return(user.os.android&&user.os.version<4||user.os.ios)&&!preview?!1:!0}.apply(this,arguments)}catch(a){return util.postError("isOnScrollSupported",a,a.stack),""}},hasSectionMargins:function(a,b){return"GBArticleListTemplateTypeCheckerboard"==a.get("template")?!1:_.inArray(a.get("template"),["GBPhotoListTemplateTypeSquare","GBPhotoListTemplateTypeEdgetoedge","GBPhotoListTemplateTypePinterest"])?!1:!user.device.mobile||b?!_.inArray(a.get("template"),["GBContactListTemplateTypeButton","GBContactListTemplateTypeClassic","GBAboutListTemplateTypeBannerImage","GBAboutListTemplateTypeBannerImageAndTitle","GBPhotoListTemplateTypeClassic","GBPhotoListTemplateTypePinterest"]):"GBMapsListTemplateTypeClassic"==a.get("template")?!1:!0},getSectionMargin:function(){try{return function(a,b,c,d){return d||s.hasSectionMargins(a)?this.css.getSectionMargin(a,b,c):""}.apply(this,arguments)}catch(a){return util.postError("getSectionMargin",a,a.stack),""}},getSectionTemplate:function(){try{return function(a){var b=a.get("template");if("GBNodeListTemplateTypeVisuelsColor"==b&&(b="GBNodeListTemplateTypeVisuels"),b||(b=""),a.get("service"))switch(a.get("service")){case"soundcloud":b="GBSoundListTemplateTypeSoundCloud";break;case"liveplus":b="GBLiveListTemplateTypePlus"}return user.device.mobile&&this.isSearchCall()&&!viewFactory.currentView.isMultiView?"GBArticleListTemplateTypeClassic":b}.apply(this,arguments)}catch(a){return util.postError("getSectionTemplate",a,a.stack),""}},getSectionTemplateMode:function(){try{return function(a){return"GBArticleListTemplateTypeClassicUne"==this.getSectionTemplate(a)?"GBArticleListTemplateTypeClassic":this.getSectionTemplate(a)}.apply(this,arguments)}catch(a){return util.postError("getSectionTemplateMode",a,a.stack),""}},getSearchResultsTemplateName:function(a){return"GBMapsListTemplateTypeClassic"==a.get("template")?"GBMapsListTemplateTypeClassic":"GBSearchResults"},getSearchResultsTemplate:function(a){return d.getTemplate(s.getSearchResultsTemplateName(a))},getArticleListClass:function(){try{return function(a){var b=this.getSectionTemplate(a),c=this.getSectionTemplateMode(a);return"GBArticleListTemplateTypeClassic"==c&&"GBArticleListTemplateTypeClassicUne"==b?c+" une":c}.apply(this,arguments)}catch(a){return util.postError("getArticleListClass",a,a.stack),""}},getSectionSearchBar:function(){try{return function(a){return a.get("searchBar")?a.get("searchBar"):appSettings.get("searchBar")}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchBar",a,a.stack),""}},getSectionSeparatorType:function(){try{return function(a){return a.get("separatorType")?a.get("separatorType"):appSettings.get("separatorType")}.apply(this,arguments)}catch(a){return util.postError("getSectionSeparatorType",a,a.stack),""}},borderSeparator:function(){try{return function(a,b){_.not(b)?b="bottom":"all"==b&&(b=void 0);var c,d,e;return util.isBBModel(a)?(c=k("separatorType",a),d=k("separatorColor",a),e=f("separatorColor",a)):(c=a.separatorType,d=a.separatorColor,e=""),this.css.getBorder("1px",c,d,b)+e}.apply(this,arguments)}catch(a){return util.postError("borderSeparator",a,a.stack),""}},getSectionSeparatorColor:function(){try{return function(a,b){return b?_.is(a.get("separatorColor"))?a.get("separatorColor"):appSettings.get("separatorColor"):h("separatorColor",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionSeparatorColor",a,a.stack),""}},getSectionSettingsListBackgroundColor:function(){try{return function(){var a="#ffffff";return a}.apply(this,arguments)}catch(a){return util.postError("getSectionSettingsListBackgroundColor",a,a.stack),""}},getSectionSearchListBackgroundColor:function(){try{return function(a){var b=q(a,"section.searchListBackgroundColor","searchListBackgroundColor");_.isUndefined(b.val)&&(b.val="#FFFFFF",b.key=";key:appSettings-searchListBackgroundColor;");var c=q(a,"section.searchListBackgroundOpacity","searchListBackgroundOpacity");return _.isUndefined(c.val)&&(c.val="1",c.key=";key:appSettings-searchListBackgroundOpacity"),b.val&&"transparent"!==b.val&&c.val&&parseFloat(c.val,10)<1&&(b.val=this.css.hexToRgba(b.val,c.val)),b.stringify()}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchListBackgroundColor",a,a.stack),""}},getSectionSearchListBackgroundOpacity:function(){try{return function(a){return k("searchListBackgroundOpacity",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchListBackgroundOpacity",a,a.stack),""}},getSectionSearchTitleFont:function(){try{return function(a){var b=_.clone(a.get("searchTitleFont"))||_.clone(appSettings.get("searchTitleFont"))||{},c=a.get("searchTitleColor")||appSettings.get("searchTitleColor")||"#000000";return b.color=c,this.css.createFontStyle(b)}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchTitleFont",a,a.stack),""}},getSectionSearchListTitleColor:function(){try{return function(a){return h("searchListTitleColor",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchListTitleColor",a,a.stack),""}},getSectionSearchPlaceHolder:function(){try{return function(){var a=s.getSelectedSection().get("searchBar.placeHolder");if(_.isUndefined(a)||""===a){var b=appSettings.get("searchBar.placeHolder");return _.isUndefined(b)||""===b?appLang.GB_TXT_67:b}return a}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchPlaceHolder",a,a.stack),""}},getSectionSearchBarBackgroundColor:function(){try{return function(a){var b=s.fk("navBar.backgroundColor"),c=this.getSectionNavBar(a).backgroundColor,d=this.moduleNavBarOpacity(a),e=this.css.hexToRgba(c,d),f="background-size: 100% 100%; background-image:"+this.navBarBackground(a)+";background-color:"+e+b;return"transparent"===e&&(b=this.fk("backgroundColor"),c=appSettings.get("backgroundColor"),f="background-size: 100% 100%; background-image:"+this.navBarBackground(a)+";background-color:"+c+b),f}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchBarBackgroundColor",a,a.stack),""}},getSectionSearchBarCancelColor:function(){try{return function(a){return h("navBar.buttonIconColor",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchBarCancelColor ",a,a.stack),""}},getSectionDetailBackgroundColor:function(){try{return function(a){return h("detail.backgroundColor",a,"backgroundColor")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailBackgroundColor",a,a.stack),""}},getSectionDetailBackgroundImage:function(){try{return function(a){return a.get("detail.backgroundImage")?a.get("detail.backgroundImage"):appSettings.get("backgroundImage")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailBackgroundImage",a,a.stack),""}},getSectionDetailEffectBackgroundImage:function(){try{return function(a){return a.get("detail.effectBackgroundImage")?a.get("detail.effectBackgroundImage"):appSettings.get("effectBackgroundImage")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailEffectBackgroundImage",a,a.stack),""}},getSectionDetailNavBar:function(){try{return function(a){return a.get("detail.navBar")?a.get("detail.navBar"):appSettings.get("navBar")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailNavBar",a,a.stack),""}},getSectionDetailListBackgroundColor:function(){try{return function(a){return _.is(a.get("detail.listBackgroundOpacity"))?s.css.hexToRgba(a.get("detail.listBackgroundColor"),a.get("detail.listBackgroundOpacity"))+f("detail.listBackgroundColor",a,"detail.listBackgroundColor")+f("detail.listBackgroundOpacity",a,"detail.listBackgroundOpacity"):h("detail.listBackgroundColor",a,"detail.listBackgroundColor")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailListBackgroundColor",a,a.stack),""}},getSectionDetailTemplate:function(){try{return function(a){return"GBModuleTypePhoto"==a.get("type")?"GBPhotoDetailTemplate":"soundcloud"==a.get("service")?"GBSoundDetailTemplateTypeSoundCloud":"GBModuleTypeMaps"==a.get("type")?"GBMapsDetailTemplateTypeClassic":a.get("detail.template")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailTemplate",a,a.stack),""}},getSectionDetailCommentAuthorColor:function(){try{return function(a){return h("detail.commentAuthorColor",a,"detail.titleFont.color")}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentAuthorColor",a,a.stack),""}},getSectionDetailCommentDate:function(){try{return function(a){return _.is(a.get("detail.commentsDate"))?a.get("detail.commentsDate"):appLang.GB_TXT_9}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentDate",a,a.stack),""}},getSectionDetailCommentDateColor:function(){try{return function(a){return h("detail.commentDateColor",a,"detail.subtitleFont.color",!0)}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentDateColor",a,a.stack),""}},getSectionDetailCommentTextColor:function(){try{return function(a){return h("detail.commentTextColor",a,"detail.textFont.Color",!0)}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentTextColor",a,a.stack),""}},getSectionDetailCommentTextBackgroundColor:function(){try{return function(a){return h("detail.commentTextBackgroundColor",a,"separatorColor",!0)}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentTextBackgroundColor",a,a.stack),""}},getSectionDetailCommentListBackgroundColor:function(){try{return function(a){return h("detail.commentListBackgroundColor",a,"listBackgroundColor",!0)}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentListBackgroundColor",a,a.stack),""}},getSectionDetailCommentListBackgroundOpacity:function(){try{return function(a){return h("detail.commentListBackgroundOpacity",a,"listBackgroundOpacity",!0)}.apply(this,arguments)}catch(a){return util.postError("getSectionDetailCommentListBackgroundOpacity",a,a.stack),""}},getSectionMenu:function(){try{return function(a){return"GBRootControllerTypeFacebookMenu"==appSettings.get("root.type")?appSettings.get("root.menu"):a.get("menu")}.apply(this,arguments)}catch(a){return util.postError("getSectionMenu",a,a.stack),""}},getSectionMenuTextFontKey:function(){try{return function(a){return"GBRootControllerTypeFacebookMenu"==appSettings.get("root.type")?f("root.menu.textFont"):f("menu.textFont",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionMenuTextFontKey",a,a.stack),""}},getSectionMenuSelectedTextColorKey:function(){try{return function(a){return"GBRootControllerTypeFacebookMenu"==appSettings.get("root.type")?f("root.menu.selectedTextColor"):f("menu.textFont.selectedTextColor",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionMenuSelectedTextColorKey",a,a.stack),""}},getSectionLittleMenu:function(){try{return function(a){return"GBRootControllerTypeLittleSwipe"==appSettings.get("root.type")?appSettings.get("root.littleMenu"):a.get("littleMenu")}.apply(this,arguments)}catch(a){return util.postError("getSectionLittleMenu",a,a.stack),""
}},getSectionLittleMenuKey:function(){try{return function(a,b){return"GBRootControllerTypeLittleSwipe"==appSettings.get("root.type")?f("root.littleMenu."+b):f("littleMenu."+b,self)}.apply(this,arguments)}catch(a){return util.postError("getSectionLittleMenuKey",a,a.stack),""}},getSectionIcon:function(){try{return function(a){if(_.is(a.get("iconPerso"))){var b=_.clone(a.get("iconPerso"));return util.extendProperty(appSettings.get("root"),b,"icon"),b}if(_.is(a.get("icon"))){var c=_.clone(a.get("icon"));return util.extendProperty(appSettings.get("root"),c,"icon"),c}return _.clone(appSettings.get("root").icon)}.apply(this,arguments)}catch(a){return util.postError("getSectionIcon",a,a.stack),""}},getSectionIndexMinimal:function(){try{return function(a){return/GBArticleListTemplateTypeMinimal/i.test(this.getSectionTemplateMode(a))?this.getPost("minimal")>0?parseInt(this.getPost("minimal"),10)-1:0:void 0}.apply(this,arguments)}catch(a){return util.postError("getSectionIndexMinimal",a,a.stack),""}},getMinimalCover:function(){try{return function(a){var b="";return b=util.empty(a.originalThumbnail)?a.largeThumbnail:a.originalThumbnail,s.css.toCSSURL(b)}.apply(this,arguments)}catch(a){return util.postError("getMinimalCover",a,a.stack),""}},getSectionBorder:function(){try{return function(a,b){var c=a.get("borderColor");color=c&&"transparent"!==c?c:"";var d="",e=["top","right","bottom","left"];if(color)for(key in e)position=e[key],(b||0!=s.getSectionMargin(a,position,!0,!0))&&(d+=this.css.getBorder("1px","solid",c,position));return d+f("borderColor",a)}.apply(this,arguments)}catch(a){return util.postError("getSectionBorder",a,a.stack),""}},getDetailBorder:function(){try{return function(a,b){var c=a.get("detail.borderColor");return color=c&&"transparent"!==c?c:"",_.is(b)&&!_.isEmpty(b)?color?"border-"+b+": 1px solid "+c+f("detail.borderColor",a):"border-"+b+": 1px solid transparent"+f("detail.borderColor",a):color?"border: 1px solid "+c+f("detail.borderColor",a):"border: 1px solid transparent"+f("detail.borderColor",a)}.apply(this,arguments)}catch(a){return util.postError("getDetailBorderLeft",a,a.stack),""}},sectionHasSubSections:function(){try{return function(a){return s.getSectionSubSections(a).length>0?!0:!1}.apply(this,arguments)}catch(a){return util.postError("sectionHasSubSections",a,a.stack),""}},sectionHasFilterTabs:function(a){return _.pos(a.get("sorting"))&&this.getSectionTabs(a).length},sectionShowFilterTabsTemplate:function(a){return _.pos(a.get("sorting"))&&this.getSectionTabs(a).length>1},getDefaultTabIdForSection:function(a){var b=s.getSectionTabs(a),c=a.get("sorting.defaultTabIndex");if(_.is(c)){var d=a.get("sorting.targets["+c+"]"),e=_.getObjectById(b,d);if(e)return d}return d=b.length%2==0?b[0].id:b[Math.floor(b.length/2)].id},sectionHasFilters:function(a){return this.sectionHasSubSections(a)||this.sectionHasFilterTabs(a)},getSectionTabs:function(a){if("GBModuleTypeProfile"==a.get("type"))return this.getProfileTabs();var b=[];return _.each(a.get("sorting.targets"),function(c){var d=a.get("sorting.tabs."+c);if(d&&_.pos(d.enabled)){var e=_.clone(d);e.id=c,b.push(e)}}),b},getProfileTabs:function(){var a=[],b={id:"infos",title:appLang.GB_TXT_216};if(this.moduleMyAccount()){var c={id:"account",title:appLang.GB_TXT_215};a.push(c),a.push(b)}return a},getProfileTabsLinks:function(){var a=[],b=modules.chat.rules.getChatSection();return _.pos(b)&&a.push({id:"messages",title:appLang.GB_TXT_230,icon:"gbicongeneric icon-gbicongeneric-profil-messages",target:s.objectiveUrlTo({section:b.get("id")})}),modules.push.displayNotificationsListLink()&&a.push({id:"notificationsListButton",title:"Push notifications",icon:"gbicongeneric icon-gbicongeneric-profil-push",target:"javascript:void();"}),a},getTabIndex:function(a,b){var c,d=this.getSectionTabs(a);return _.each(d,function(a,d){a.id==b&&(c=d)},this),c},getSectionContentFilteringLevels:function(a){var b=[];return this.sectionHasFilterTabs(a)&&b.push("tab"),this.sectionHasSubSections(a)&&b.push("cat"),b},getClosestContentFiltersFromCurrent:function(a,b){function c(a){_.each(e,function(b){var c={tab:b.id,distance:b.distance};_.is(a)&&(c.cat=a.id,c.distance+=a.distance),o.push(c)},this)}if(!b.length)return[{distance:0}];var d=[],e=[],f=[],g={};if(_.each(b,function(a){var b=s.getPost(a);b&&(g[a]=b)}),_.is(g.tab)){var h,i,j=s.getSectionTabs(a),k=_.findIndex(j,function(a){return a.id==g.tab}),l=1;for(e.push({id:j[k].id,distance:0});k-l>=0||k+l<j.length;)i=j[k+l],h=j[k-l],_.is(i)&&e.push({id:i.id,distance:l}),_.is(h)&&e.push({id:h.id,distance:l}),l++}if(_.is(g.cat)){g.cat=parseInt(g.cat);var h,i,m=s.getSectionSubSections(a),n=g.cat,l=1;for(f.push({id:n,distance:0});n-l>=0||n+l<m.length;)i=n+l,h=n-l,i<m.length&&f.push({id:i,distance:l}),h>=0&&f.push({id:h,distance:l}),l++}var o=[];if(!f.length&&e.length){var p;_.is(g.cat)&&(p={id:g.cat,distance:0}),c(p)}else f.length&&_.each(f,function(a){e.length?c(a):o.push({cat:a.id,distance:a.distance})},this);return d=o.sort(function(a,b){return a.distance-b.distance})},getSectionIndexSelectedSubSection:function(){try{return function(){return 0}.apply(this,arguments)}catch(a){return util.postError("getSectionIndexSelectedSubSection",a,a.stack),""}},getSectionNavBar:function(){try{return function(a,b){if(_.is(a)){if(_.not(b)||!b){if(_(a.get("navBar")).isUndefined())return appSettings.get("navBar");if(!a.get("navBar").alreadyExtended){var c=_.extend({},appSettings.get("navBar"),a.get("navBar"));c.alreadyExtended=!0,a.set("navBar",c)}return a.get("navBar")}return _(a.get("navBar")).isUndefined()?"appSettings":"section"}return!1}.apply(this,arguments)}catch(a){return util.postError("getSectionNavBar",a,a.stack),""}},getSectionType:function(){try{return function(a){return a.get("type")}.apply(this,arguments)}catch(a){return util.postError("getSectionType",a,a.stack),""}},getSectionLoginRequired:function(){try{return function(a){var b=this.getSectionType(a);return _.inArray(b,["GBModuleTypeArticle","GBModuleTypeVideo","GBModuleTypePhoto"])?this.loginRequiredForComments()||this.loginRequiredForBookmarks():"GBModuleTypeSubmit"==b?!util.empty(a.get("auth")):!1}.apply(this,arguments)}catch(a){return util.postError("getSectionLoginRequired",a,a.stack),""}},loginRequiredForBookmarks:function(){try{return function(){return _.is(appSettings.get("authentification.favoris"))&&1==appSettings.get("authentification.favoris")}.apply(this,arguments)}catch(a){return util.postError("loginRequiredForBookmarks",a,a.stack),""}},loginRequiredForComments:function(){try{return function(){return _.is(appSettings.get("authentification.comments"))&&1==appSettings.get("authentification.comments")}.apply(this,arguments)}catch(a){return util.postError("loginRequiredForComments",a,a.stack),""}},getEnabledServices:function(){try{return function(a,b){globalsAppVars.serviceToTest=a;var c=function(a){globalsAppVars.enabledServices=a.services,globalsAppVars.serviceToTest&&(globalsAppVars.serviceToTest=_.inArray(globalsAppVars.serviceToTest,globalsAppVars.enabledServices))},d=b?b:c;return util.requester(util.getCurrentBaseUrl()+"/apiv3/service/getEnabledServices",{},d),a?globalsAppVars.serviceToTest:globalsAppVars.enabledServices}.apply(this,arguments)}catch(a){return util.postError("getEnabledServices",a,a.stack),""}},isServiceEnabled:function(){try{return function(a){return s.getEnabledServices(a)}.apply(this,arguments)}catch(a){return util.postError("isServiceEnabled",a,a.stack),""}},getSectionSearchEnabled:function(){try{return function(a){return s.map.isMapdistant(a)&&!s.map.displayList(a)?!1:a.get("searchEnabled")&&"1"==a.get("searchEnabled")?!0:!1}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchEnabled",a,a.stack),""}},getSectionSearchKey:function(){try{return function(a){return a.get("searchKey")?a.get("searchKey"):!1}.apply(this,arguments)}catch(a){return util.postError("getSectionSearchKey",a,a.stack),""}},sectionHasDetail:function(){try{return function(a){return!!a.get("detail")}.apply(this,arguments)}catch(a){return util.postError("sectionHasDetail",a,a.stack),""}},sectionHasSelectedItem:function(){try{return function(){return!0}.apply(this,arguments)}catch(a){return util.postError("sectionHasSelectedItem",a,a.stack),""}},getSectionSelectedItem:function(){try{return function(a){return a.get("selected_item")}.apply(this,arguments)}catch(a){return util.postError("getSectionSelectedItem",a,a.stack),""}},getNavBarClassName:function(){try{return function(){return appSettings.get("navBar.className")?appSettings.get("navBar.className"):"navBar"}.apply(this,arguments)}catch(a){return util.postError("getNavBarClassName",a,a.stack),""}},getNavBarTypeBackTo:function(){try{return function(){return appSettings.get("navBar.typeBackTo")?appSettings.get("navBar.typeBackTo"):"button-back"}.apply(this,arguments)}catch(a){return util.postError("getNavBarTypeBackTo",a,a.stack),""}},getNavBarIconBackTo:function(){try{return function(){return appSettings.get("navBar.iconBackTo")?appSettings.get("navBar.iconBackTo"):""}.apply(this,arguments)}catch(a){return util.postError("getNavBarIconBackTo",a,a.stack),""}},getRootSwipeTypeButton:function(){try{return function(){return appSettings.get("root.swipe.typeButton")?appSettings.get("root.swipe.typeButton"):"button-swipe-classic"}.apply(this,arguments)}catch(a){return util.postError("getRootSwipeTypeButton",a,a.stack),""}},getRootHomeMenuNbItems:function(){try{return function(){return appSettings.get("root.homeMenuNbItems")?appSettings.get("root.homeMenuNbItems"):6}.apply(this,arguments)}catch(a){return util.postError("getRootHomeMenuNbItems",a,a.stack),""}},subsectionIsTheFirst:function(){try{return function(a){return s.getSelectedSubsection()&&s.getSectionSubSections(a).length>0&&s.getSelectedSubsection()==s.getSectionSubSections(a)[0]}.apply(this,arguments)}catch(a){return util.postError("subsectionIsTheFirst",a,a.stack),""}},isSectionAndItem:function(){try{return function(a,b){var c=s.getSectionType(a);if((user.device.tablet||user.device.desktop)&&(/Sound/g.test(c)||"GBModuleTypeAgenda"==c||"GBModuleTypeMaps"==c)){if(!b)return!0;if(s.isItemCall(!0))return!0}return!1}.apply(this,arguments)}catch(a){return util.postError("isSectionAndItem",a,a.stack),""}},makeElementsByName:function(a,b){var c="";return a=[].concat(a),_.each(a,function(a){switch(a){case"loginTermsAcceptButton":c+=s.makeNavBarButton(b,"loginTermsAcceptButton","loginTermsAcceptButton");break;case"hideEditProfileButton":c+=s.makeNavBarButton(b,"specialCancel","hideEditProfileButton");break;case"saveProfileButton":c+=s.makeNavBarButton(b,"save","saveProfileButton");break;case"editProfileTitle":c+="<span class='navTitle' >"+appLang.GB_TXT_194+"</span>";break;case"editProfileAdvancedTitle":c+="<span class='navTitle' >"+appLang.GB_TXT_192+"</span>";break;case"newSearchButton":c+=s.makeNavBarButton(b,"search",'id="new-search-button"',!0);break;case"searchBar":c+='<input type="text" class="searchBar" placeholder="'+appLang.GB_TXT_67+'"/>';break;case"newSearchCancelButton":c+=s.makeNavBarButton(b,"specialCancel","backButton searchButtonColor searchButtonBackgroundColor");break;case"searchFiltersPanelButton":c+=s.makeNavBarButton(b,"filter",'id="searchFiltersPanelButton"',!0);break;case"narrowResults":c+="<span class='navTitle' >Affiner les résultats</span>";break;case"addKeywords":c+="<span class='navTitle' >"+util.getNavTitleFromSearchQuery()+"</span>";break;case"otherTargetButton":c+=s.getOtherTargetButtonForNavBar(b);break;case"closeModalButton":c+=s.makeNavBarButton(b,"specialCancel","closeModalButton");break;case"notificationsListTitle":c+="<span class='navTitle' >Push notifications</span>";break;case"notificationsSettingsTitle":c+="<span class='navTitle' >Settings</span>";break;case"backNotificationsListButton":c+=s.makeNavBarButton(b,"backButton",'id="backNotificationsListButton"');break;case"displayNotificationsSettings":c+=s.makeNavBarButton(b,"profilsettings",'id="displayNotificationsSettings"',!0);break;case"cancelNotificationsSettingsButton":c+=s.makeNavBarButton(b,"specialCancel","cancelNotificationsSettingsButton");break;case"saveNotificationsSettingsButton":c+=s.makeNavBarButton(b,"specialSave","saveNotificationsSettingsButton",!0);break;case"chatNewMessageTitle":c+="<span class='navTitle'>New Message</span>";break;case"chatNewMessageCancelButton":c+=s.makeNavBarButton(b,"specialCancel","backButton");break;case"chatDetailTitle":c+="<span class='navTitle chatDetailNavBarTitle'></span>";break;case"postMessageViewTitle":c+="<span class='navTitle chatDetailNavBarTitle'>"+appLang.GB_TXT_220+"</span>"}}),c},getAppTitle:function(a){var b=this.getSectionNavBar(a).title;return util.empty(b)?appSettings.get("navBar.title"):b},showNavBarTitleInDetail:function(a){return s.isItemCall()&&a&&_.pos(a.get("detail.showNavBarTitle"))},getNavBarTitle:function(){try{return function(a){var b="";util.empty(this.getSectionNavBar(a).alignLeftLogo)||(b="navTitleAlignLeft");var c=this.getImageUrl(this.getSectionNavBar(a).titleImage);if(titleNavBar=_.isEmpty(c)?"<span class='navTitle "+b+"' >"+this.getAppTitle(a)+"</span>":this.css.createImg("titleLogo "+b,c),subTitle="<span class='navTitle "+b+"' >"+this.getSelectedSubsection(a).title+"</span>",this.showNavBarTitleInDetail(a))return"<span class='navTitle asyncFill"+b+"' >"+a.get("title")+"</span>";if(!s.sectionHasSubSections(a)||"GBCategoriesTemplateTypeCircleBand"==s.getSectionCategoriesTemplate(a))return titleNavBar;var d=_.is(a.get("categories.navBarTitle"))?a.get("categories.navBarTitle"):appSettings.get("categories.navBarTitle");_.not(d)&&(d=0);var e=s.getPost("cat"),f=this.getSelectedSubsection()&&this.getSelectedSubsection().title?subTitle:titleNavBar;return"0"==d?0==e?titleNavBar:f:"1"==d?titleNavBar:"2"==d?f:void 0}.apply(this,arguments)}catch(a){return util.postError("getNavBarTitle",a,a.stack),""}},getNavBarBackButton:function(){if(s.isRoot()&&!s.isRootAndSection())return"";var a="",b="leftButton backButton ",c=!1,d=!1,e=hashHistory[1];if(_.is(e)&&(lastSectionID=s.getPost("section",e),lastSectionID&&(appSections[lastSectionID]&&"node"==appSections[lastSectionID].get("nodeType")&&-1!=appSections[lastSectionID].get("targets").indexOf(s.getSelectedSection().get("id"))||appSettings.get("root.otherTarget")==s.getPost("section"))&&(b+=" backToSection backToNode ",d=!0)),_.not(e)||!d){var g=util.getSectionParentID(s.getSelectedSection());"root"!=g&&appSections[g]&&"node"==appSections[g].get("nodeType")&&(b+=" backToSection backToNode ",d=!0)}if(!d){if(!d&&"GBRootControllerTypeCustomTabBar"==this.rootMode())return"";!d&&"GBRootControllerTypeLittleSwipe"==this.rootMode()||"GBRootControllerTypeFacebookMenu"==this.rootMode()?(c=!0,b="leftButton "):b+=" backToRoot "}var h=s.getSelectedSection();h&&_.pos(h.get("useBackButtonMenu"))&&(b=b.replace("backToSection","backToRoot").replace("backToNode","backToRoot"));var i=this.getRealIconUrl(d?"button-back-arrow":this.getRootSwipeTypeButton());return c?this.createIcon(i,appSettings.get("root.swipe.buttonIconColor"),"",b+this.getRootSwipeTypeButton(),"",'onclick="util.toggleSwipe()"',"background-image:"+this.getImageUrl(appSettings.get("root.swipe.buttonBackgroundTexture"),!0)+";background-color:"+s.css.hexToRgba(appSettings.get("root.swipe.buttonBackgroundColor"),appSettings.get("root.swipe.buttonBackgroundOpacity"))+";"+f("root.swipe.buttonIconColor")+f("root.swipe.buttonBackgroundColor")+f("root.swipe.buttonBackgroundOpacity")):s.makeNavBarButton(s.getSelectedSection(),b,a)},navBarHasTitle:function(a){var b=!0,a=a||s.getSelectedSection();return a&&_.pos(a.get("detail.showNavBarTitle"))&&(b=!1),this.isCommentsCall()||this.isItemCall(!0)&&this.isToolBarType(a,"Up")&&user.device.mobile&&b?!1:"GBModuleTypeUserslist"==a.get("type")&&s.isItemCall()&&b?!1:!0},detailHasFullNavBar:function(a){var b=s.isItemCall(!0);return b&&"GBModuleTypeArticle"==s.getSectionType(a)&&"GBArticleContentTemplateTypeBannerNoNavBar"==s.getArticleDetailContentTemplate()?!1:!0},getOtherTargetButtonForNavBar:function(a){return s.currentViewHasOtherTargetButton("navBar",a)?this.makeOtherTargetButton(!0,a):""},getNavBar:function(a,b){var c=d.getTemplate("navBar");if(a.get("id")){var e=s.fallback(a,"section.navBar","navBar").val;return b.navBar=_.extend({},e,b.settingsOverridings),c({item:a,options:b})}var f=new Backbone.NestedModel(appSections[_.keys(appSections)[0]].attributes),g=_.extend({},a.get("navBar"),b.settingsOverridings);return f.set("navBar",g),f.set("subsectionsEnabled","0"),f.unset("subsections"),c({item:f,options:b})},makeNavBarContent:function(){try{return function(a,b){function c(a){return a+""}{var b=b||{},d="";s.getToolBarType(a)}if(b.mode||(s.isSectionCall(!0)||s.isItemCall()?b.mode="item":s.isSectionCall()&&(b.mode="section")),s.detailHasFullNavBar(a)){var e="";b.navBGExtraClasses&&(e=b.navBGExtraClasses);var f=s.isOtherSelected()?s.fk("navBar.backgroundColor"):s.fk("navBar.backgroundColor",a),g=this.getSectionNavBar(a).backgroundColor,h=this.moduleNavBarOpacity(a),i=this.css.hexToRgba(g,h),j="background-size: 100% 100%; background-image:"+this.navBarBackground(a)+";background-color:"+i+f;b.navBGDisabled&&(j=""),d+="<div class='navBgContainer "+s.getSectionNavBar(a).effect+" "+e+"' style='"+j+"' >",d+=this.getNavBarMask(a),d+="</div>"}if(d+=b.leftContent?this.makeElementsByName(b.leftContent,a):this.isListCommentsCall()?this.makeNavBarButton(a,"ok"):this.isPostCommentCall()||this.isSharingCall()?this.makeNavBarButton(a,"cancel"):!s.isSectionAndItem(a)&&("item"==b.mode||b.isAPanelNavBar||this.isSearchCall()||this.isSubmitDetailCall())?this.makeNavBarButton(a,"section"):"GBRootControllerTypeCustomTabBar"==this.rootMode()&&util.getNbSections()>this.getTabBarNbSections()&&util.isOtherSection()&&"other"!=this.getPost("section")?this.makeNavBarButton(a,"other"):s.getNavBarBackButton(),!s.detailHasFullNavBar(a))return c(d);if(b.middleContent)d+=this.makeElementsByName(b.middleContent,a);else if(this.isPhotoDetailCall(a)){var k=this.moduleDetailTitleToken(a);k=k.replace(/\[CURRENT\]/g,'<b style="font-weight:normal;" class="index-current"></b>'),k=k.replace(/\[TOTAL\]/g,'<b style="font-weight:normal;" class="index-total"></b>'),d+='<div id="photoindex" style="position:relative;">'+k+"</div>"}else s.navBarHasTitle(a)?d+=this.getNavBarTitle(a):this.isListCommentsCall()?d+="<span>"+appLang.CODE_COMMENT+"</span>":this.isPostCommentCall()&&(d+="<span>"+appLang.CODE_COMMENT+"</span>");if(!modules.login.checkAccessOnCurrentView().status)return c(d);var l=!1;if(d+="<div class='navBarRightButtonsContainer'>",b.rightContent)d+=this.makeElementsByName(b.rightContent,a);else{if("section"==b.mode||s.isSearchCall()&&s.map.isMapdistant(a)||s.isSectionAndItem(a)&&s.isItemCall(!0)){if(user.device.mobile&&"GBModuleTypeMaps"==s.getSectionType(a)&&s.map.displayList(a)){var m="event-place",n="map-list";d+=s.map.displayFirst(a,"map")?this.makeNavBarButton(a,n,'id="mapdistantSwitchButton"',!0):this.makeNavBarButton(a,m,'id="mapdistantSwitchButton"',!0)}!user.device.mobile&&s.getSectionSearchEnabled(a)&&(d+=this.makeNavBarButton(a,"search",'id="search-tablet-button"',!0),l=!0),"GBModuleTypeProfile"==a.get("type")&&this.moduleProfileShowSettingsButton(a)&&(d+=this.makeNavBarButton(a,"profilsettings",'id="profileSettingsAdvancedButton"',!0)),d+=s.getOtherTargetButtonForNavBar(a)}if("item"==b.mode){var o=l?"navBarHasSearchButton":"";if(this.isToolBarType(a,"Up"))d+='<div id="toolbarHolder" class="toolbarup-other toolbarup '+o+' "></div>';else if(this.isItemCall()&&!this.isCommentsCall()&&!this.isSharingCall()){var p=this.getToolBarType(a);("Slide"==p||"Swipe"==p)&&(d+=this.makeToolBarOpeningButton(a,p,o))}}if(s.isListCommentsCall()&&!user.device.mobile&&!s.getDisqus(a)){var q=preview||!s.getSectionLoginRequired(a)?s.urlTo("addcomment",a.get("id"),s.getPost("item")):"javascript:void(0);";d+="<a id='tablet-post-comment' href='"+q+"'>",d+=this.makeNavBarButton(a,"edit-icon","",!0),d+="</a>"}if(s.isSharingCall()&&(d+=this.makeNavBarButton(a,"share","",!0)),(s.isSubmitDetailCall()||s.isPostCommentCall())&&(d+=this.makeNavBarButton(a,"send","",!0)),"GBModuleTypeCustom"==s.getSectionType(a)&&"GBModuleTypeCustomUrl"==a.get("template")&&(d+='<div id="toolbarup" class="toolbarup-other toolbarup navigation">'+this.makeNavigationButton(a)+"</div>"),this.isSectionCall()&&this.isBookmarkSection()&&util.appHasFavoris()){var r="color:[BKMRKCOLOR];".replace(/\[BKMRKCOLOR\]/,s.fvk("navBar.buttonIconColor",a));d+='<div class="GBBookmark-editbtn" style="'+r+'">'+(appLang.GB_TXT_132||"edit")+"</div>"}}return d+="</div>",c(d)}.apply(this,arguments)}catch(a){return util.postError("makeNavBarContent",a,a.stack),""}},getSpecificNavBarOptionsForSection:function(a){var b={},c=s.getOtherTargetButtonForNavBar(a);return _.pos(c)&&(b.rightContent||(b.rightContent=[]),b.rightContent.push("otherTargetButton")),"GBModuleTypeUserslist"==a.get("type")&&(b.rightContent||(b.rightContent=[]),_.pos(a.get("searchEnabled"))&&b.rightContent.push("newSearchButton")),b},makeToolBarOpeningButton:function(a,b){return s.makeNavBarButton(a,"action-button",'onclick="util.toggleToolBar'+b+'()"',!0)||""},isToolBarType:function(){try{return function(a,b){var c=s.getToolBarType(a),d=!1;return c==b&&(d=!0),d}.apply(this,arguments)}catch(a){return util.postError("isToolBarType",a,a.stack),""}},getToolBarType:function(a){if(s.map.isMapdistant(a))return"Up";if("GBPhotoDetailTemplate"==s.getSectionDetailTemplate(a))return"Up";var b=["Up","Classic","Swipe","Slide"],c="none";return _.each(b,function(b){var d=new RegExp(b),e=_.is(this.getSectionDetailTemplate(a))?this.getSectionDetailTemplate(a):this.getSectionType(a);d.test(e)&&(c=b)},this),c},makeNavBarButton:function(){try{return function(a,b,c,d,e){var g=/backToRoot/.test(b)?appSettings.get("root.swipe"):this.getSectionNavBar(a),h="button-back"==g.typeBackTo?"":" button-swipe";h+=" backButton ";var i=d?"right":"",j=this.hasButtonBackground(g)?"":" noBg",k=" ";"send"!==b&&"specialCancel"!=b&&"save"!=b&&"loginTermsAcceptButton"!=b&&"specialSave"!=b?k+="backButton ":("specialCancel"==b||"save"==b||"loginTermsAcceptButton"==b||"specialSave"==b)&&(k+=c);var l="send"==b?'id="send-button"':"",m="ok"==b||"loginTermsAcceptButton"==b?"OK":"";m+="cancel"==b||"specialCancel"==b?appLang.ANNULER:"",m+="send"==b?a.get("postButtonTitle")||appLang.ENVOYER:"",m+="save"==b||"specialSave"==b?appLang.GB_TXT_190:"",m+="share"==b?appLang.GB_TXT_56:"";var n="";if(!_.isEmpty(j)&&"specialCancel"!==b&&"specialSave"!==b){var o=d?"left":"right";n+="border-radius:0;",n+=this.css.getBorder("1px","solid",this.css.hexToRgba(g.buttonIconColor,g.backgroundOpacity),o),n+=d?"right:0px;":"left:0px;",n+=f("navBar.buttonIconColor",a)+f("navBar.backgroundOpacity",a)}if(!_.isEmpty(m))return"<label class='"+i+k+j+" labelButton' "+l+' style="background-color:'+s.css.hexToRgba(g.buttonBackgroundColor,g.buttonBackgroundOpacity)+";background-image:"+s.getImageUrl(g.buttonBackgroundTexture,!0)+";color:"+g.buttonIconColor+";"+n+f("navBar.buttonIconColor",a)+f("navBar.buttonBackgroundColor",a)+f("navBar.buttonBackgroundOpacity",a)+'" >'+m+"</label>\n";if(d)return this.createIcon(this.getRealIconUrl(e||b),g.buttonIconColor,"",b+" right","",c,"background-color:"+s.css.hexToRgba(g.buttonBackgroundColor,g.buttonBackgroundOpacity)+";background-image:"+s.getImageUrl(g.buttonBackgroundTexture,!0)+f("navBar.buttonBackgroundColor",a)+f("navBar.buttonBackgroundOpacity",a)+f("navBar.buttonIconColor",a)+";");if(h+="other"==b?" backToOther":/backToRoot/.test(b)?b:" backToSection","button-back"!=g.typeBackTo||/backToRoot/.test(b)){var p="backButton ";p+="other"==b?"backToOther":/backToRoot/.test(b)?b:"backToSection";var q=s.moduleIconBackTo(a,p);if(_.neg(q)){var r=/backToRoot/.test(b)?s.getRootSwipeTypeButton():g.typeBackTo;return this.createIcon(this.getRealIconUrl(r),g.buttonIconColor,"","leftButton "+g.typeBackTo+" "+h,"",c,"background-color:"+s.css.hexToRgba(g.buttonBackgroundColor,g.buttonBackgroundOpacity)+";background-image:"+s.getImageUrl(g.buttonBackgroundTexture,!0)+f("navBar.buttonIconColor",a)+f("navBar.buttonBackgroundColor",a)+f("navBar.buttonBackgroundOpacity",a)+";")}return q}var t=a.get("navBar.backButtonText")||appSettings.get("navBar.backButtonText")||appLang.RETOUR;return _.isEmpty(j)?this.createIcon(this.getRealIconUrl("button-back"),g.buttonBackgroundColor,g.buttonBackgroundTexture,g.typeBackTo+" "+h,g.buttonBackgroundOpacity,c+" "+g.typeBackTo,"color:"+g.buttonIconColor+";"+f("navBar.buttonIconColor",a),t):"<label class='"+g.typeBackTo+k+j+" labelButton' "+c+' style="background-color:'+s.css.hexToRgba(g.buttonBackgroundColor,g.buttonBackgroundOpacity)+";background-image:"+s.getImageUrl(g.buttonBackgroundTexture,!0)+";color:"+g.buttonIconColor+";"+n+f("navBar.buttonIconColor",a)+'" >'+t+"</label>\n"}.apply(this,arguments)}catch(a){return util.postError("makeNavBarButton",a,a.stack),""}},navBarBackground:function(){try{return function(a){var b=this.getSectionNavBar(a),c=user.device.mobile?"effectBackgroundImage":"backgroundImageIpad",d=this.getImageUrl(b[c],!0);return"none"!=d?d:""}.apply(this,arguments)}catch(a){return util.postError("navBarBackground",a,a.stack),""}},getNavBarMask:function(){try{return function(a){var b=this.getSectionNavBar(a),c="type"in b?b.type.replace("GBNavBarType","").toLowerCase():"";return""!==c&&"normal"!==c?this.css.createImg("mask",util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/gradient-navbar-x2-"+c+".png"):""}.apply(this,arguments)}catch(a){return util.postError("getNavBarMask",a,a.stack),""}},makeNavBarEffect:function(){try{return function(a){{var b=s.getSectionNavBar(a);s.getNavBarEffect(b)}$(".navBar.toHide").length&&(height=$(".navBar.toHide").height(),$(".navBar.toHide").css("position","relative").css("margin-top",-height).css("margin-bottom","-2px").addClass("hideEffect")),$(".navBar.toBlur").length&&$(".navBar.toBlur .navBgContainer.blur, .navBar .navBgContainer.transparent").css("opacity",.7)}.apply(this,arguments)}catch(a){return util.postError("makeNavBarEffect",a,a.stack),""}},isHideEffect:function(){try{return function(a){var b=s.getSectionNavBar(a);return"hide"==this.getNavBarEffect(b)?!0:!1}.apply(this,arguments)}catch(a){return util.postError("isHideEffect",a,a.stack),""}},getNavBarEffect:function(){try{return function(a,b){_.is(b)&&(a=s.getSectionNavBar(b));var c=a.effect;return _.isEmpty(c)||"normal"==c?!1:c}.apply(this,arguments)}catch(a){return util.postError("getNavBarEffect",a,a.stack),""}},isNavBarTransparent:function(){var a=s.getSelectedSection();return e=s.getSectionNavBar(a),e&&("blur"==e.effect||"transparent"==e.effect&&(_.not(e.backgroundOpacity)||_.is(e.backgroundOpacity)&&parseFloat(e.backgroundOpacity)<1))?!0:!1},useSynchronousDetailTemplate:function(a){return _.inArray(s.getSectionDetailTemplate(a),["GBSubmitDetailTemplateTypeClassic"])},prioritizeCustomCss:function(a){try{var b=[];return _.each(a.split("}"),function(a){var c=a.split("{");if(2==c.length){var d=(c[0],c[1]);d=d.split(";"),d=_.map(d,function(a,b){return-1==a.indexOf("!important")&&b<d.length-1?a+" !important":-1!=a.indexOf("!important")&&b<d.length-1?a:void 0}).join(";"),c[1]=d,a=c.join("{")}b.push(a)}),b=b.join("}\n")}catch(c){return util.postError("prioritizeCustomCss",c,c.stack),a}},getCustomCssForDetail:function(a){return util.empty(a.get("detail.customCSS"))?util.empty(appSettings.get("customCSS"))?util.empty(a.get("detail.customCss"))?util.empty(appSettings.get("customCss"))?"":'<style id="detailCustomCss" type="text/css">'+this.prioritizeCustomCss(appSettings.get("customCss"))+"</style>":'<style id="detailCustomCss" type="text/css">'+this.prioritizeCustomCss(a.get("detail.customCss"))+"</style>":'<style id="detailCustomCss" type="text/css">'+this.prioritizeCustomCss(appSettings.get("customCSS"))+"</style>":'<style id="detailCustomCss" type="text/css">'+this.prioritizeCustomCss(a.get("detail.customCSS"))+"</style>"},getDetailTemplate:function(){try{return function(a){var b=this.getSectionType(a),c=this.getSectionDetailTemplate(a);return"GBMapsDetailTemplateTypeClassic"==c?"_asyncMapsDetailClassic":/Article/g.test(b)?"_asyncArticleDetail":/Video/g.test(b)?"_asyncVideoDetail":/Photo/g.test(b)?"_asyncPhotoDetail":/Twitter/g.test(b)?"_asyncTwitterDetail":/Agenda/g.test(b)?"_asyncAgendaDetail":/Custom/g.test(b)?"_asyncCustomDetail":/Sound/g.test(b)&&/Cloud/g.test(c)?"_asyncSoundcloudDetail":/Sound/g.test(b)?"_asyncSoundDetail":!1}.apply(this,arguments)}catch(a){return util.postError("getDetailTemplate",a,a.stack),""}},makeToolBar:function(){try{return function(a,b){if(b){var c="",d=_.is(a.get("detail.template"))?a.get("detail.template"):"",e=/Sound|Photo/g.test(s.getSectionType(a));return c+=s.makeToolBarRouter(a,b,s.getToolBarType(a),e),'<div id="toolbarContainer" style="position:relative;" class="'+d+'">'+c+"</div>"}}.apply(this,arguments)}catch(a){return util.postError("makeToolBar",a,a.stack),""}},makeToolBarUp:function(){try{return function(a,b,c){if(toolbar="",tab_ok_buttons=[],isMapdistant=s.map.isMapdistant(a),isAgendaMcms="GBModuleTypeAgenda"==a.get("type")&&"mcms"==a.get("service"),_.is(b)){fontSizeIndex=-1,compt=0;for(var d in a.get("detail.toolbar.buttons")){var f=a.get("detail.toolbar.buttons")[d];if((!c||"iconComments"==f.type||"iconShare"==f.type||"iconFavoris"==f.type||"iconPurchaseSound"==f.type)&&(util.empty(f.enabled)||("iconFontSize"==f.type&&(fontSizeIndex=compt),("iconFavoris"!=f.type||this.appHasBookmarks())&&(tab_ok_buttons[compt]=f,compt++)),5==compt))break}isMapdistant&&_.neg(a.get("detail.toolbar"))?(tab_ok_buttons.push({enabled:a.get("detail.commentsEnabled"),icon:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/comments.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/comments.png"}}},type:"iconComments"}),tab_ok_buttons.push({enabled:a.get("detail.shareEnabled"),icon:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/share2.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/share2.png"}}},type:"iconShare"}),tab_ok_buttons.push({enabled:a.get("detail.favorisEnabled")||"1",icon:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/favoris-selected.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/favoris-selected.png"}}},iconOff:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/favoris-off.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/favoris-off.png"}}},type:"iconFavoris"})):isAgendaMcms&&_.pos(a.get("detail.shareEnabled"))&&tab_ok_buttons.push({enabled:a.get("detail.shareEnabled"),icon:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/share2.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/share2.png"}}},type:"iconShare"}),s.getSectionDetailTemplate(a).contains("GBAgendaDetailTemplate")&&_.neg(a.get("detail.toolbar"))&&(preview&&tab_ok_buttons.push({enabled:!0,icon:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/add-event.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/add-event.png"}}},type:"iconAdd"}),tab_ok_buttons.push({enabled:a.get("detail.favorisEnabled")||"1",icon:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/favoris-selected.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/favoris-selected.png"}}},iconOff:{image:{imageUrl:util.getCurrentBaseUrl()+"/assets/img/gbpreview/iphone/favoris-off.png",otherImagesUrl:{iphone6plus:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/favoris-off.png"}}},type:"iconFavoris"})),icons=a.get("detail.toolbar.icons"),nb_ok_butons=tab_ok_buttons.length,isFontsizeFirst=0==fontSizeIndex,isFontsizeLast=fontSizeIndex==nb_ok_butons-1;for(var d in tab_ok_buttons){var f=tab_ok_buttons[d],g=d;if(_.is(f.enabled)&&1==f.enabled){if(attribs="",icons)selectedColor=icons.selectedColor,selectedColorKey=s.fk("detail.toolbar.icons.selectedColor",a),selectedTexture=icons.selectedTexture,bgColor=icons.normalBackgroundColor,bgColorKey=s.fk("detail.toolbar.icons.normalBackgroundColor",a);
else{var h=s.getSectionNavBar(a);icons={normalBackgroundColor:e.buttonBackgroundColor,normalBackgroundImage:e.backgroundImage},selectedColor=h.buttonIconColor,selectedColorKey=q(a,"section.navBar.buttonIconColor","navBar.buttonIconColor").key,selectedTexture=h.buttonIconTexture,bgColor=h.buttonBackgroundColor,bgColorKey=q(a,"section.navBar.buttonBackgroundColor","navBar.buttonBackgroundColor").key}"iconFontSize"!=f.type||isMapdistant?(selectedSrc=f.icon.image,toolbarAbsoluteButtonClass=1==nb_ok_butons?"single":0==g?g==fontSizeIndex-1?"single":"left":g==fontSizeIndex+1?g==nb_ok_butons-1?"single":"left":g==fontSizeIndex-1||g==nb_ok_butons-1?"right":"center",toolbar+='<div class="encapse button-swipe-'+toolbarAbsoluteButtonClass+(this.hasButtonBackground(icons)?" with_bg":" no_bg")+' icon-parent" data-target-property="'+s.pk("selectedColor","border-color")+s.pk("normalBackgroundColor","background-color")+'" style="background-color:'+bgColor+bgColorKey+";background-image:"+this.getImageUrl(icons.normalBackgroundImage,!0)+";border-color:"+this.css.hexToRgba(selectedColor,.3)+selectedColorKey+'" >',"iconPocket"==f.type?attribs+=' data-url="'+b.url+'"':"iconPurchaseSound"==f.type&&(attribs+=' data-url="'+b.purchaseUrl+'"'),toolbar+="iconComments"==f.type||"iconShare"==f.type||"iconFavoris"==f.type?this.getCommentShareButtons(a,b,f,icons,void 0,selectedColor):this.createIcon(this.getRealIconUrl(selectedSrc),selectedColor,selectedTexture,f.type,1,attribs,selectedColorKey),toolbar+="</div>"):(toolbar+='<div class="encapse'+(isFontsizeFirst?"":" marginleft")+(this.hasButtonBackground(icons)?"":" separator")+" button-swipe-left"+(this.hasButtonBackground(icons)?" with_bg":"")+'" onclick="util.decreaseFont()" data-target-property="'+s.pk("selectedColor","border-color")+s.pk("normalBackgroundColor","background-color")+'" style="border-color:'+this.css.hexToRgba(selectedColor,.3)+selectedColorKey+";background-color:"+bgColor+bgColorKey+";background-image:"+this.getImageUrl(icons.normalBackgroundImage,!0)+'">',toolbar+=this.createIcon(this.getRealIconUrl(f.iconMinus.image),selectedColor,selectedTexture,"iconMinus","","",selectedColorKey),toolbar+="</div>",toolbar+='<div class="encapse'+(isFontsizeLast?"":" marginright")+(this.hasButtonBackground(icons)?"":" separator")+" button-swipe-right"+(this.hasButtonBackground(icons)?" with_bg":" no_bg")+'" onclick="util.increaseFont()" data-target-property="'+s.pk("selectedColor","border-color")+s.pk("normalBackgroundColor","background-color")+'" style="border-color:'+this.css.hexToRgba(selectedColor,.3)+selectedColorKey+";background-color:"+bgColor+bgColorKey+";background-image:"+this.getImageUrl(icons.normalBackgroundImage,!0)+'">',toolbar+=this.createIcon(this.getRealIconUrl(f.iconPlus.image),selectedColor,selectedTexture,"iconPlus","","",selectedColorKey),toolbar+="</div>")}}}return toolbar}.apply(this,arguments)}catch(a){return util.postError("makeToolBarUp",a,a.stack),""}},makeToolBarClassic:function(){try{return function(a,b){var c=0;toolbar="",bgColor=a.get("detail.toolbar.backgroundColor"),bgColorKey=s.fk("detail.toolbar.backgroundColor",a),toolbar+='<table  class="toolbar bottom" style="background-image:'+this.getImageUrl(a.get("detail.toolbar.backgroundImage"),!0)+";background-color:"+bgColor+bgColorKey+'"><tr>';for(var d in a.get("detail.toolbar.buttons")){var e=a.get("detail.toolbar.buttons")[d];if(this.toolbarButtonToDisplay(e)&&(toolbar+='<td class="toolbarup-other toolbardown icon-parent" style="width:'+Math.round(100/this.getNbToolbarButton(a,b,!0)*100)/100+'%">'+this.displayToolbarButton(b,e,a,!0)+"</td>",c++),4==c)break}return toolbar+="</tr></table>"}.apply(this,arguments)}catch(a){return util.postError("makeToolBarClassic",a,a.stack),""}},makeToolBarSlide:function(){try{return function(a,b,c){toolbar="",bgColor=a.get("detail.toolbar.backgroundColor"),bgColorKey=s.fk("detail.toolbar.backgroundColor",a),bgOpacity=a.get("detail.toolbar.opacity"),bgOpacityKey=s.fk("detail.toolbar.opacity",a),absolute=s.isHideEffect(a)?"position:absolute;":"",toolbar+='<div class="toolbar slidedown close" style="'+absolute+"background-image:"+this.getImageUrl(a.get("detail.toolbar.backgroundImage"),!0)+";background-color:"+s.css.hexToRgba(bgColor,bgOpacity)+bgColorKey+bgOpacityKey+'">';for(var d in a.get("detail.toolbar.buttons")){var e=a.get("detail.toolbar.buttons")[d];this.toolbarButtonToDisplay(e)&&(toolbar+='<div class="item-button icon-parent">'+this.displayToolbarButton(b,e,a,!1,c)+"</div>")}return toolbar+="</div>"}.apply(this,arguments)}catch(a){return util.postError("makeToolBarSlide",a,a.stack),""}},makeToolBarSwipe:function(){try{return function(a,b,c){toolbar="",bgColor=a.get("detail.toolbar.backgroundColor"),bgColorKey=s.fk("detail.toolbar.backgroundColor",a),toolbar+='<div class="toolbar swipeleft close" style="background-image:'+this.getImageUrl(a.get("detail.toolbar.backgroundImage"),!0)+";background-color:"+bgColor+bgColorKey+'">';for(var d in a.get("detail.toolbar.buttons")){var e=a.get("detail.toolbar.buttons")[d];this.toolbarButtonToDisplay(e)&&(toolbar+='<div class="item-button icon-parent">'+this.displayToolbarButton(b,e,a,!1,c)+"</div>")}return toolbar+="</div>"}.apply(this,arguments)}catch(a){return util.postError("makeToolBarSwipe",a,a.stack),""}},makeToolBarRouter:function(a,b,c,d){var e=!1,f=[];for(var g in a.get("detail.toolbar.buttons")){var h=a.get("detail.toolbar.buttons")[g];"iconLike"!=h.type&&f.push(h),"iconPurchaseSound"==h.type&&(e=!0)}util.empty(b.purchaseUrl)||e||f.push({enabled:"1",icon:{image:"liveplayerplus-buy"},type:"iconPurchaseSound"}),a.set("detail.toolbar.buttons",f);var i;return"Classic"==c?i=this.makeToolBarClassic:"Slide"==c?i=this.makeToolBarSlide:"Swipe"==c?i=this.makeToolBarSwipe:"Up"==c&&(i=this.makeToolBarUp),i?i.call(this,a,b,d):""},getNbToolbarButton:function(){try{return function(a){var b=0;for(var c in a.get("detail.toolbar.buttons")){var d=a.get("detail.toolbar.buttons")[c];this.toolbarButtonToDisplay(d)&&b++}return b>4?4:b}.apply(this,arguments)}catch(a){return util.postError("getNbToolbarButton",a,a.stack),""}},toolbarButtonToDisplay:function(a){return _.is(a.enabled)&&1==a.enabled&&("iconFavoris"!=a.type||this.appHasBookmarks())},displayToolbarButton:function(){try{return function(a,b,c,d,e){if(icons=c.get("detail.toolbar.icons"),displayedButton="",d=_.not(d)?!1:d,_.is(a))if("iconFontSize"!=b.type)attribs="",selectedSrc=b.icon.image,selectedColor=icons.selectedColor,selectedColorKey=s.fk("detail.toolbar.icons.selectedColor",c),selectedTexture=icons.selectedTexture,"iconPocket"==b.type&&(attribs+='data-url="'+a.url+'"'),"iconPurchaseSound"==b.type&&(attribs+='data-url="'+a.purchaseUrl+'"'),displayedButton+="iconComments"==b.type||"iconShare"==b.type||"iconFavoris"==b.type?this.getCommentShareButtons(c,a,b,icons,d):this.createIcon(this.getRealIconUrl(selectedSrc),selectedColor,selectedTexture,b.type+" center",1,attribs,selectedColorKey);else if(!e){var f=this.isToolBarType(c,"Classic")?"":" center";plusminus=this.createIcon(this.getRealIconUrl(b.iconMinus.image),selectedColor,selectedTexture,"iconMinus"+f,1,'onclick="util.decreaseFont()"',selectedColorKey),plusminus+=this.createIcon(this.getRealIconUrl(b.iconPlus.image),selectedColor,selectedTexture,"iconPlus"+f,1,'onclick="util.increaseFont()"',selectedColorKey),_.isEmpty(f)&&(plusminus=plusminus.split("div").join("span")),displayedButton+=plusminus}return displayedButton}.apply(this,arguments)}catch(a){return util.postError("displayToolbarButton",a,a.stack),""}},escapeEntities:function(a){return util.wm_htmlentities(s.getString(a))},getSharingText:function(a){return util.empty(appSettings.get("shareRecommendAppUrl"))?a.title:appSettings.get("shareText")},getSharingUrl:function(a){if(util.empty(appSettings.get("shareRecommendAppUrl"))){var b=a.url,c=b.replace(/\&cat=(\d+)/,function(a,b){var c=parseInt(b,10)-1;return"&cat="+String(c)});return c}return user.os.ios?appSettings.get("store.url"):util.getCurrentBaseUrl()},getCommentShareButtons:function(){try{return function(a,b,c,d,e,f){var g=s.fk("detail.toolbar.icons.selectedColor",a),h="opacity:0.7;"+s.fk("detail.toolbar.icons.normalColor",a),i="",j=c.icon.image,k=f||d.selectedColor,l=d.selectedTexture,m=d.normalColor,n=d.normalTexture;if("iconComments"==c.type&&"GBSoundDetailTemplateTypeSoundCloud"!=s.getSectionDetailTemplate(a)){var o=0,p="",q="";if(o=_.is(b.nbcomments)?b.nbcomments:_.is(b.nbComments)?b.nbComments:_.is(b.comments)?b.comments:0,0!=o&&_.neg(a.get("detail.redBadgeDisabled"))){var r=this.moduleDetailVerticalToolBarBadgeTextColor(a);_.is(e)&&e?q="<p class='nbcomment' style=\"color:"+r+' !important;">'+(o>9?"9+":o)+"</p>":p="<p class='nbcomment' style=\"color:"+r+' !important;">'+(o>9?"9+":o)+"</p>"}if(comButton="",_.is(b.commentsUrl)&&!_.isEmpty(b.commentsUrl)){var t=a.get("id");s.isBookmarkSection()&&(t=s.getPost("parent")),comButton+=p+"<a class='linkNbComment' href=\""+s.urlTo("comments",t,b.id)+'" >'+q,comButton+=s.createIcon(this.getRealIconUrl(j),k,l,c.type+" center",1,"",g),comButton+="</a>\n",i+=comButton.split("div").join("span"),varCommentsPostUrl=_.is(b.commentsPostUrl)&&!_.isEmpty(b.commentsPostUrl)?b.commentsPostUrl:!1}else i+=s.createIcon(this.getRealIconUrl(j),m,n,c.type+" center",1,"",h)}else if("iconShare"==c.type){var u=s.createIcon(this.getRealIconUrl(j),k,l,c.type+" center",1,"",g);user.device.mobile?i+='<a href="'+s.urlTo("share",a.get("id"),b.id)+'" >'+u+"</a>\n":(i+='<a id="tabletShareButton" href="">'+u+"</a>\n",s.createSharingModal())}else if("iconFavoris"==c.type&&this.appHasBookmarks()){var v="favHide",w="";util.itemIsOnFav(String(b.id))&&(w="favHide",v="");var x=c.iconOff.image;i+='<a style="color:inherit;" class="favorisbtn" href="javascript:void(0)">',i+=this.createIcon(this.getRealIconUrl(x),m,n,c.type+" "+w+" offFav center",1,"data-itemid="+b.id,h),i+="</a>",i+='<a style="color:inherit;" class="favorisbtn" href="javascript:void(0)">',i+=this.createIcon(this.getRealIconUrl(j),k,l,c.type+" "+v+" onFav center",1,"data-itemid="+b.id,g),i+="</a>"}return i}.apply(this,arguments)}catch(a){return util.postError("getCommentShareButtons",a,a.stack),""}},makeNavigationButton:function(){try{return function(a){var b="";if(_.is(a.get("url"))&&util.empty(a.get("hideNavBarButtons"))){var c=this.getSectionNavBar(a),d=c.buttonIconColor,e=s.fk("navBar.buttonIconColor",a),f=c.buttonBackgroundColor,g=s.fk("navBar.buttonBackgroundColor",a);b+='<div class="encapse button-swipe-right home" onclick="util.navigationBackward(true);" style="background-color:'+f+g+";background-image:"+this.getImageUrl(c.buttonBackgroundTexture,!0)+'">',b+=this.createIcon(this.getRealIconUrl("une-icon"),d,"","","","",e),b+="</div>",b+='<div class="encapse button-swipe-left marginleft'+(this.hasButtonBackground(c)?"":" separator")+(this.hasButtonBackground(c)?" with_bg":"")+'" onclick="util.navigationBackward();" data-target-property="'+s.pk("buttonIconColor","border-color")+s.pk("buttonBackgroundColor","background-color")+'" style="border-color:'+this.css.hexToRgba(d,.3)+e+";background-color:"+f+g+";background-image:"+this.getImageUrl(c.buttonBackgroundTexture,!0)+'">',b+=this.createIcon(this.getRealIconUrl("backward"),d,"","","","",e),b+="</div>",b+='<div class="encapse button-swipe-right'+(this.hasButtonBackground(c)?" with_bg":"")+'" onclick="util.navigationForward();" style="border-color:'+this.css.hexToRgba(d,.3)+";background-color:"+f+g+";background-image:"+this.getImageUrl(c.buttonBackgroundTexture,!0)+'">',b+=this.createIcon(this.getRealIconUrl("forward"),d,"","","","",e),b+="</div>"}return b}.apply(this,arguments)}catch(a){return util.postError("makeNavigationButton",a,a.stack),""}},createSharingModal:function(){try{return function(){$("body").append(d.getTemplate("sharingModal"))}.apply(this,arguments)}catch(a){return util.postError("createSharingModal",a,a.stack),""}},showSharingModal:function(){try{return function(a){function b(){$(".sharingModal").height($(document).height())}function c(){if(0!=".sharingModal".length){var a=$(window).height(),b=$(".sharingModalWindow").outerHeight(),c=a/2-b/2;$(".sharingModalWindow").css("margin-top",c+"px")}}0==$(".sharingModal").length&&s.createSharingModal(),$(".textAreaContainer").val(),util.getCurrentItem(function(a){if(a){var b=s.getSharingText(a),c=s.getSharingUrl(a),d=b+" "+c;$(".sharingModalTA").val(d);var e="mailto:?subject="+encodeURI(appLang.GB_TXT_58+" : "+a.title)+"&body="+encodeURI(appLang.GB_TXT_57+" : "+a.url);$(".sendByMail").attr("href",e)}}),a?$(".sharingModal").show():$(".sharingModal").fadeIn(),$(".copyToClipboard").on("click",function(a){a.preventDefault()}),window.print?$(".print").on("click",function(a){a.preventDefault(),window.print()}):$(".print").parent().hide(),b(),c(),$(window).on("scroll.removable",b),$(window).on("resize.removable",c)}.apply(this,arguments)}catch(a){return util.postError("showSharingModal",a,a.stack),""}},hideSharingModal:function(){try{return function(a){a?$(".sharingModal").hide():$(".sharingModal").fadeOut()}.apply(this,arguments)}catch(a){return util.postError("hideSharingModal",a,a.stack),""}},isUpperCase:function(){try{return function(a){return _(a).has("showUppercase")&&"1"==a.showUppercase?this.css.upperCase():""}.apply(this,arguments)}catch(a){return util.postError("isUpperCase",a,a.stack),""}},makeShadow:function(){try{return function(a,b){return this.css.makeShadow(a,b)}.apply(this,arguments)}catch(a){return util.postError("makeShadow",a,a.stack),""}},isShowInfos:function(){try{return function(a){if(util.isBBModel(a)){if(a.get("showInfos")&&"1"==a.get("showInfos"))return!0}else if(_(a).has("showInfos")&&"1"==a.showInfos)return!0;return!1}.apply(this,arguments)}catch(a){return util.postError("isShowInfos",a,a.stack),""}},isShowPager:function(){try{return function(a){if(util.isBBModel(a)){if(a.get("showPager")&&"1"==a.get("showPager"))return!0}else if(_(a).has("showPager")&&"1"==a.showPager)return!0;return!1}.apply(this,arguments)}catch(a){return util.postError("isShowPager",a,a.stack),""}},isShowSummary:function(){try{return function(a){if(util.isBBModel(a)){if(a.get("showSummary")&&"1"==a.get("showSummary"))return!0}else if(_(a).has("showSummary")&&"1"==a.showSummary)return!0;return!1}.apply(this,arguments)}catch(a){return util.postError("isShowSummary",a,a.stack),""}},isShowThumb:function(){try{return function(a){if(util.isBBModel(a)){if(a.get("showThumb")&&"1"==a.get("showThumb"))return!0}else if(_(a).has("showThumb")&&"1"==a.showThumb)return!0;return!1}.apply(this,arguments)}catch(a){return util.postError("isShowThumb",a,a.stack),""}},isInfosContentType:function(){try{return function(a){return!_.isEmpty(this.getInfosContentType(a))}.apply(this,arguments)}catch(a){return util.postError("isInfosContentType",a,a.stack),""}},getInfosContentType:function(){try{return function(a){var b=s.fallback(a,"section.infosContentType","articleInfosContentType");if(_.not(b.val)){switch(a.get("type")){case"GBModuleTypeVideo":b=appLang.GB_TXT_2;break;case"GBModuleTypeSound":b=appLang.GB_TXT_15;break;case"GBModuleTypeAgenda":b=appLang.GB_TXT_8;break;case"GBModuleTypeBookmark":b=appLang.GB_TXT_3;break;case"GBModuleTypeMaps":b=appLang.GB_TXT_19;break;default:b=appLang.GB_TXT_1}return b}return b.val}.apply(this,arguments)}catch(a){return util.postError("getInfosContentType",a,a.stack),""}},tokenizeArticle:function(){try{return function(a,b){return _.is(b)&&(a=a.replace("[TITLE]",_(b).has("title")?util.safeAmp(b.title):""),b.date&&(a=a.replace("[DATE]",util.Tokens.dateFormat(b.date)),a=a.replace("[DATETXT1]",util.Tokens.dateFormat(b.date,"GB_DATETXT1")),a=a.replace("[DATETXT2]",util.Tokens.dateFormat(b.date,"GB_DATETXT2")),a=a.replace("[DATETXT3]",util.Tokens.dateFormat(b.date,"GB_DATETXT3")),a=a.replace("[DATETXT4]",util.Tokens.dateFormat(b.date,"GB_DATETXT4")),a=a.replace("[DATETXT5]",util.Tokens.dateFormat(b.date,"GB_DATETXT5")),a=a.replace("[DATETXT6]",util.Tokens.dateFormat(b.date,"GB_DATETXT6")),a=a.replace("[DATETXT7]",util.Tokens.dateFormat(b.date,"GB_DATETXT7")),a=a.replace("[DATETXT8]",util.Tokens.dateFormat(b.date,"GB_DATETXT8"))),a=a.replace("[LEADIN]",b.leadin),a=a.replace("[SUBTITLE]",b.subtitle),a=util.empty(b.latitude)||util.empty(b.longitude)?a.replace("[MAP]",""):a.replace("[MAP]",util.MAP.getMapAsAnImage(b.latitude,b.longitude)),a=a.replace("[HOUR]",util.Tokens.hour(b.date)),a=a.replace("[HEURE]",util.Tokens.hour(b.date)),a=a.replace("[AUTHOR]",_(b).has("author")?util.safeAmp(b.author):""),a=a.replace("[AUTEUR]",_(b).has("author")?util.safeAmp(b.author):""),a=a.replace("[CONTENT]",b.content),a=a.replace("[SUMMARY]",b.summary),"video"==b.type&&a.contains("[EMBEDHTML]")&&"GBArticleContentTemplateTypeClassic"!=s.getArticleDetailContentTemplate(b)?(a=a.replace("[EMBEDHTML]",""),a=this.getEmbedHTML(b)+a):a=a.replace("[EMBEDHTML]",this.getEmbedHTML(b)),a=a.replace("[VIEWS]",_(b).has("nbViews")?this.viewsText(b.nbViews):""),a=a.replace("[DURATION]",_(b).has("length")&&b.length>0?util.secondsToHms(b.length):""),a=a.replace("[ADDRESS]",_(b).has("address")?util.safeAmp(b.address):""),a=a.replace("[NBCOMMENTS]",_(b).has("nbcomments")?b.nbcomments:""),a=a.replace("[COMMENTS]",_(b).has("nbcomments")?this.commentsText(b.nbcomments):""),a=a.replace("[URL_ITEM]",b.url)),a}.apply(this,arguments)}catch(a){return util.postError("tokenizeArticle",a,a.stack),""}},commentsText:function(){try{return function(a){var b=1!=a?appLang.GB_TXT_65:appLang.GB_TXT_66;return b.replace("[X]",a)}.apply(this,arguments)}catch(a){return util.postError("commentsText",a,a.stack),""}},viewsText:function(){try{return function(a){var b=1!=a?appLang.GB_TXT_31:appLang.GB_TXT_32;return b.replace("[X]",a)}.apply(this,arguments)}catch(a){return util.postError("viewsText",a,a.stack),""}},getEmbedHTML:function(){try{return function(a){var b="",c="";if(_(a).has("videoUrls")){if(_(a.videoUrls).has("embedHTML"))return a.videoUrls.embedHTML;_(a.videoUrls).has("m3u8")&&(c+="<source src='"+a.videoUrls.m3u8+"' type='application/x-mpegURL' >"),_(a.videoUrls).has("mp4")&&(c+="<source src='"+a.videoUrls.mp4+"' type='video/mp4' >"),_(a.videoUrls).has("embed")&&(c+="<source src='"+a.videoUrls.embed+"' >"),b="<div class=\"embed-video\" style='padding:0;'><video controls style='visibility:visible;position:relative;top:0;left:0;width:100%;height:100%;'>"+c+"</video></div>"}return b}.apply(this,arguments)}catch(a){return util.postError("getEmbedHTML",a,a.stack),""}},setDefaultIcon:function(){try{return function(a){a.icon.normalTexture.imageUrl="none",a.icon.selectedTexture.imageUrl="none",a.icon.selectedColor="#157dfb",a.icon.normalColor="#929292"}.apply(this,arguments)}catch(a){return util.postError("setDefaultIcon",a,a.stack),""}},getPercentSize:function(){try{return function(a,b){return this.css.makeWidth(parseInt(100/Math.min(a,b)),"%")}.apply(this,arguments)}catch(a){return util.postError("getPercentSize",a,a.stack),""}},isOtherSelected:function(){try{return function(){var a=!1;if("GBRootControllerTypeCustomTabBar"==this.rootMode()){var b=0;_(appSettings.get("root.targets")).each(function(c){var d=appSections[c];this.getPost("section")==d.get("id")&&util.getNbSections()>this.getTabBarNbSections()&&b>=this.getTabBarNbSections()-1&&(a=!0),b++},this),util.getNbSections()>this.getTabBarNbSections()&&"other"==this.getPost("section")&&"GBRootControllerTypeCustomTabBar"==this.rootMode()&&(a=!0)}return a}.apply(this,arguments)}catch(a){return util.postError("isOtherSelected",a,a.stack),""}},getOtherDefaultTitle:function(){try{return function(){return _(appSettings.get("root.other")).has("defaultTitle")?appSettings.get("root.other.defaultTitle"):appLang.GB_SETTINGS_6}.apply(this,arguments)}catch(a){return util.postError("getOtherDefaultTitle",a,a.stack),""}},isClassicTabBar:function(){try{return function(){return"GBRootControllerTypeClassicTabBar"==this.rootType()}.apply(this,arguments)}catch(a){return util.postError("isClassicTabBar",a,a.stack),""}},getTabBarConfig:function(){try{return function(a){var b;return b=_.clone(a?appSettings.get("root.tabBar"):appSettings.get("root.tabBar"))}.apply(this,arguments)}catch(a){return util.postError("getTabBarConfig",a,a.stack),""}},getCustomTabBarStyle:function(){try{return function(a){var b=a.backgroundColor,c=s.fk("root.tabBar.backgroundColor"),d=user.device.mobile?"backgroundImage":"backgroundImageIpad",e=this.getImageUrl(a[d],!0);return this.css.createBackground(b,e)+c}.apply(this,arguments)}catch(a){return util.postError("getCustomTabBarStyle",a,a.stack),""}},getImageOrDefault:function(){try{return function(a,b){return _.isEmpty(a)?b:a}.apply(this,arguments)}catch(a){return util.postError("getImageOrDefault",a,a.stack),""}},getSoundItemCover:function(){try{return function(a){return _.is(a.cover300)?a.cover300:_.is(a.imageUrl)?a.imageUrl:_.is(a.thumbnail)?a.thumbnail:void 0}.apply(this,arguments)}catch(a){return util.postError("getSoundItemCover",a,a.stack),""}},getNextPage:function(){try{return function(a){var b=s.getSelectedSection(),c="",d="",e="";if(b&&(c=s.getCurrentContentUrl(b),c&&(d=_.contains(c,"local=1")?"?local=1":"")),a&&a.next_page)e=a.next_page;else{var f=util.getCurrentAvailableData();f&&f.extraData&&(e=f.extraData.next_page)}return e&&d.length&&!_.contains(e,"local=1")&&(e+=_.contains(e,"?")?"&local=1":"?local=1"),e||""}.apply(this,arguments)}catch(a){return util.postError("getNextPage",a,a.stack),""}},isLoadMoreAvailableForCurrentView:function(){var a=s.getSelectedSection();return s.map.isMapdistant(a)&&user.device.mobile&&$("#map").is(":visible")?!1:s.isSearchCall()?!1:!0},getServiceTitle:function(){try{return function(a){var b=a.title;if(_.not(b))switch(a.type){case"photo":b=appLang.GB_TXT_23;break;case"video":b=appLang.GB_TXT_25;break;default:b=appLang.GB_TXT_28}return b}.apply(this,arguments)}catch(a){return util.postError("getServiceTitle",a,a.stack),""}},getServiceDescription:function(){try{return function(a){var b=a.description;if(_.not(b))switch(a.type){case"photo":b=appLang.GB_TXT_21;break;case"video":b=appLang.GB_TXT_24;break;default:b=appLang.GB_TXT_26}return b}.apply(this,arguments)}catch(a){return util.postError("getServiceDescription",a,a.stack),""}},getServiceTxt:function(){try{return function(a){var b=a.textareaValue;if(_.not(b))switch(a.type){case"photo":b=appLang.GB_TXT_22;break;case"video":b=appLang.GB_TXT_22;break;default:b=appLang.GB_TXT_27}return b}.apply(this,arguments)}catch(a){return util.postError("getServiceTxt",a,a.stack),""}},isMinimalSection:function(){try{return function(a){return/GBArticleListTemplateTypeMinimal/i.test(this.getSectionTemplate(a))}.apply(this,arguments)}catch(a){return util.postError("isMinimalSection",a,a.stack),""}},getHomeMenuNbItems:function(){try{return function(){var a=appSettings.get("root.homeMenuNbItems");return _.not(a)&&(a=6),a}.apply(this,arguments)}catch(a){return util.postError("getHomeMenuNbItems",a,a.stack),""}},showLittleMenuLabel:function(){try{return function(a){return"1"==this.getSectionLittleMenu(a).showSectionLabel}.apply(this,arguments)}catch(a){return util.postError("showLittleMenuLabel",a,a.stack),""}},createIcon:function(){try{return function(a,b,c,d,e,f,g,h,i,j,k){var l=_.pos(a.isColored),m=this.isPersoIcon(a),n=!1;if(c=_.not(c)?"":c,d=_.not(d)?"":d,e=_.not(e)?1:e,f=_.not(f)?"":f,g=_.not(g)?"":g,h=_.not(h)?"":h,k=_.not(k)?"":k,l||!_.isEmpty(c.imageUrl)||user.browser.ie&&user.browser.version<=9||user.browser.iemobile&&user.browser.version<=9||j)return d+=l?" isColored":"",this.imgFromPng([a.imageUrl,b,c.imageUrl,e],d,f,g,h,k,l);var o=" gbicongeneric",p="gbicongeneric",q="/assets/gbicon/img/v";if(_.contains(a.imageUrl,q)){n=!0;var r=a.imageUrl.split(q)[1][0];o=" gbiconv"+r,p="gbiconvX"}else m&&(o=" custom",p="custom");d+=o,_.contains(a.imageUrl,"object")&&util.dev.printStack();var s=this.getIconId(a.imageUrl);return s=m?"icon-perso-"+_.first(s.split("-")):n?"icon-gbiconv"+r+"-"+s:/^icon/g.test(s)?s.replace("icon","icon-gbicongeneric-").toLowerCase():"icon-gbicongeneric-"+s.toLowerCase(),this.imgFromCanvas(s,b,e,d,f,g,h,k,p)}.apply(this,arguments)}catch(a){return util.postError("createIcon",a,a.stack),""}},makeIcon:function(a){var b=a.src||"";b=s.getRealIconUrl(b);var c=a.size?"font-size:"+a.size+";":"",d=a.style||"";return d+=c,this.createIcon(b||"",a.color||"",a.texture||"",a.classes||"",a.opacity||"",a.extraAttributes||"",d,a.content||"",a.noDefaultIconSize||!0,a.forceImg||!1,a.size||void 0)},imgFromCanvas:function(){try{return function(a,b,c,d,e,f,g,h,i){var j,k=30,l=41;return"gbiconvX"==i&&(k=34,l=45),/button-back/.test(e)?(j=_.pos(h)?"font-size:"+h+" !important;":"font-size:41px;",'<div class="canvas '+a+" "+d+"\" data-target-property='color' style=\""+j+"color:"+this.css.hexToRgba(b,c)+s.fk("navBar.buttonBackgroundColor",s.getSelectedSection())+";\" ><label class='backButton "+(/backToRoot/.test(d)?"backToRoot":"backToSection")+"' "+e+" style='"+f+"'>"+g+"</label></div>\n"):(j=_.pos(h)?"font-size:"+h+" !important;":"font-size:30px;",'<div class="canvas '+a+" "+d+'" style="'+j+"color:"+this.css.hexToRgba(b,c)+";"+f+'" '+e+">"+g+"</div>\n")}.apply(this,arguments)}catch(a){return util.postError("imgFromCanvas",a,a.stack),""}},imgFromPng:function(){try{return function(a,b,c,d,e,f,g){var h=a[1],i=_.not(f)?"21px":f;if(g)return'<img class="canvas '+b+'" '+c+' style="height:'+i+"; width:"+i+";"+d+";color:"+h+';" src="'+a[0]+'" />'+e+"\n";var j=util.getCurrentBaseUrl()+"/apiv3/colorImage/?seek="+util.Base64.encode(a.join(","));return/button-back/.test(c)?"<div class='canvas texturedBackButton "+b+"' "+c+" style='background-image: url(\""+j+'") '+s.fk("navBar.buttonBackgroundColor",s.getSelectedSection())+"' data-image-color='"+h+"'><label class=\"backButton "+(/backToRoot/.test(b)?"backToRoot":"backToSection")+'" style="'+d+'" >'+e+"</label></div>\n":"<img data-image-color='"+h+"' class=\"canvas "+b+'" '+c+' style="height:'+i+"; width:"+i+";"+d+";color:"+h+';" src="'+j+'" />'+e+"\n"}.apply(this,arguments)}catch(a){return util.postError("imgFromPng",a,a.stack),""}},getRealIconUrl:function(){try{return function(a){var b="";return b=_.is(a)&&!util.empty(a.imageUrl)?a.imageUrl:/.png/.test(a)?a:util.getCurrentBaseUrl()+"/assets/img/gbpreview/mask/"+a+".png",b=user.os.android?b.replace("mask","android"):b.replace("mask","iphone"),{imageUrl:b,isColored:a.isColored}}.apply(this,arguments)}catch(a){return util.postError("getRealIconUrl",a,a.stack),""}},isPersoIcon:function(){try{return function(a){if(_.not(a.isPerso)){var b=/\/var\/icons\//g,c=/\/apiv3\/icons\//g;return b.test(a.imageUrl)||c.test(a.imageUrl)}return a.isPerso}.apply(this,arguments)}catch(a){return util.postError("isPersoIcon",a,a.stack),""}},getIconId:function(){try{return function(a){var b=_.first(_.last(a.split("/")).split("."));return b}.apply(this,arguments)}catch(a){return util.postError("getIconId",a,a.stack),""}},getMenuItemCSS:function(){try{return function(a,b){var c=this.rootConfig(),d=this.rootConfig(!0),e=this.getSectionIcon(a),f=b?"selectedColor":"normalColor";f=c.icon[f];var g=d+".icon."+(b?"selectedColor":"normalColor"),h=b?"selectedTexture":"normalTexture";h=c.icon[h];var i=b?"selectedTextColor":"";i=c[i];var j=_.clone("root.littleMenu"==d?s.getSectionLittleMenu(a).textFont:s.getSectionMenu(a).textFont),k=b?"selectedBackgroundColor":"backgroundColor";k=c[k];var l=b?d+".selectedBackgroundColor":d+".backgroundColor",m=b?"selectedBackgroundImage":"";m=c[m];var n=c.separatorType,o=c.separatorColor,p=d+".separatorColor",q=a.get("icon.height");_.isUndefined(q)||""==q?(q=appSettings.get("root.icon.height"),_.isUndefined(q)||""==q?"GBRootControllerTypeFacebookMenu"==this.rootMode?q="24px":"GBRootControllerTypeLittleSwipe"==this.rootMode&&(q="32px"):q+="px"):q+="px","root.littleMenu"==d?(b&&a.get("littleMenu.icon.selectedColor")?(f=a.get("littleMenu.icon.selectedColor"),g="littleMenu.icon.selectedColor"):a.get("littleMenu.icon.normalColor")&&(f=a.get("littleMenu.icon.normalColor"),g="littleMenu.icon.normalColor"),b&&a.get("littleMenu.icon.selectedTexture")?h=a.get("littleMenu.icon.selectedTexture"):a.get("littleMenu.icon.normalTexture")&&(h=a.get("littleMenu.icon.normalTexture")),b&&a.get("littleMenu.selectedTextColor")&&(i=a.get("littleMenu.selectedTextColor")),b&&a.get("littleMenu.selectedBackgroundColor")?(k=a.get("littleMenu.selectedBackgroundColor"),l="littleMenu.selectedBackgroundColor"):a.get("littleMenu.cellBackgroundColor")&&(k=a.get("littleMenu.cellBackgroundColor"),l="littleMenu.cellBackgroundColor"),b&&a.get("littleMenu.selectedBackgroundImage")?m=a.get("littleMenu.selectedBackgroundImage"):a.get("littleMenu.cellBackgroundImage")&&(m=a.get("littleMenu.cellBackgroundImage")),a.get("littleMenu.separatorType")&&(n=a.get("littleMenu.separatorType")),a.get("littleMenu.separatorColor")&&(o=a.get("littleMenu.separatorColor"),p="littleMenu.separatorColor")):"root.menu"==d&&(b&&a.get("menu.icon.selectedColor")?(f=a.get("menu.icon.selectedColor"),g="menu.icon.selectedColor"):a.get("menu.icon.normalColor")&&(f=a.get("menu.icon.normalColor"),g="menu.icon.normalColor"),b&&a.get("menu.icon.selectedTexture")?h=a.get("menu.icon.selectedTexture"):a.get("menu.icon.normalTexture")&&(h=a.get("menu.icon.normalTexture")),b&&a.get("menu.selectedTextColor")&&(i=a.get("menu.selectedTextColor")),b&&a.get("menu.selectedBackgroundColor")?(k=a.get("menu.selectedBackgroundColor"),l="menu.selectedBackgroundColor"):a.get("menu.cellBackgroundColor")&&(k=a.get("menu.cellBackgroundColor"),l="menu.cellBackgroundColor"),b&&a.get("menu.selectedBackgroundImage")?m=a.get("menu.selectedBackgroundImage"):a.get("menu.cellBackgroundImage")&&(m=a.get("menu.cellBackgroundImage")),a.get("menu.separatorType")&&(n=a.get("menu.separatorType")),a.get("menu.separatorColor")&&(o=a.get("menu.separatorColor"),p="menu.separatorColor"),a.get("menu.textFont")&&_.extend(j,a.get("menu.textFont")));var r=k+s.fk(l),t=s.getImageUrl(m,!0);return src=e.image,{background:this.css.createBackground(r,t)+"background-position:left center;",icon:this.createIcon(this.getRealIconUrl(src),f,h,"","","",s.fk(g),void 0,void 0,void 0,q),label:"",borderTop:this.css.getBorder("1px",n,o,"top")+s.fk(p),labelFont:j}}.apply(this,arguments)}catch(a){return util.postError("getMenuItemCSS",a,a.stack),""}},getMenuSubItemCSS:function(){try{return function(a,b){var c=k("categories.expandable",a);if(_.is(c)){var d=b?q(a,"section.categories.expandable.selectedBackgroundColor","categories.expandable.selectedBackgroundColor"):q(a,"section.categories.expandable.cellBackgroundColor","categories.expandable.cellBackgroundColor"),e=b?c.selectedBackgroundImage:c.cellBackgroundImage,f=q(a,"section.categories.expandable.separatorColor"),g=q(a,"section.categories.expandable.separatorType"),h={background:this.css.createBackground(d.val,s.getImageUrl(e,!0))+"background-position:center;",backgroundKey:d.key,borderTop:this.css.getBorder("1px",g.val,f.val,"top"),borderTopKey:f.key,borderTopTypeKey:g.key};return h}return getMenuItemCSS(a,isSelected)}.apply(this,arguments)}catch(a){return util.postError("getMenuSubItemCSS",a,a.stack),""}},getMenuSubItemTextColor:function(){try{return function(a,b){var c=_.clone(s.getSectionMenu(a).textFont);c.color="";{var d,e=s.fontStyle(c);s.getSectionMenuTextFontKey(a)}return d=_.is(k("categories.expandable",a))?b?q(a,"section.categories.expandable.selectedTextColor"):q(a,"section.categories.expandable.textColor"):{val:b?s.getSectionMenu(a).selectedTextColor:"",key:""},{value:"color:"+d.val+";"+e,key:d.key}}.apply(this,arguments)}catch(a){return util.postError("getMenuSubItemTextColor",a,a.stack),""}},getRTLClass:function(a){return this.isRTL({section:a})?" RTL":""},isRTL:function(){try{return function(a){fontStyleObject=_.is(a.fontStyleObject)?a.fontStyleObject:!1,_.is(a.section)?(section=a.section,section=_.is(section.section)?section.section:section):section=!1;var b=_.is(s.getSelectedSection())?s.getSelectedSection().get("detail.isRTL"):"0";if(!_.isUndefined(b)&&""!==b&&s.isItemCall()){if("0"==b)return!1;if("1"==b)return!0}else if(section&&!_.isUndefined(section.get("isRTL"))){if("0"==section.get("isRTL"))return!1;
if("1"==section.get("isRTL"))return!0}return _.is(fontStyleObject)&&fontStyleObject&&_.is(fontStyleObject.direction)&&"rtl"==fontStyleObject.direction?!0:_.is(section)&&section&&_.is(section.get("direction"))&&"rtl"==section.get("direction")?!0:_.is(appSettings.get("direction"))&&"rtl"==appSettings.get("direction")?!0:"ar"==appSettings.get("lg")?!0:section&&s.isItemCall()&&!util.empty(section.get("detail.isRTL"))?!0:section&&!util.empty(section.get("isRTL"))?!0:s.isRoot()&&!util.empty(appSettings.get("root.isRTL"))?!0:util.empty(appSettings.get("isRTL"))?!1:!0}.apply(this,arguments)}catch(a){return util.postError("isRTL",a,a.stack),""}},truncateText:function(){try{return function(a,b,c){_.not(c)&&(c="...");var b=parseInt(b);return isNaN(b)&&(b=100),util.wordwrap(a,b).split("\n")[0]+(a.length>b?c:"")}.apply(this,arguments)}catch(a){return util.postError("truncateText",a,a.stack),""}},getThumbPosition:function(){try{return function(a){return a.get("thumbPosition")}.apply(this,arguments)}catch(a){return util.postError("getThumbPosition",a,a.stack),""}},getThumbParentClass:function(){try{return function(a){return"GBThumbFormat169"==a.get("thumbFormat")?"photo-169":""}.apply(this,arguments)}catch(a){return util.postError("getThumbParentClass",a,a.stack),""}},isThumbToShow:function(){try{return function(a){return"0"==a.get("showThumb")?"none":""}.apply(this,arguments)}catch(a){return util.postError("isThumbToShow",a,a.stack),""}},getThumbConfig:function(){try{return function(a){return{classArticle:[this.getThumbPosition(a),this.isThumbToShow(a)].join(" "),wrapPhotoClass:this.getThumbParentClass(a)}}.apply(this,arguments)}catch(a){return util.postError("getThumbConfig",a,a.stack),""}},articleIsUne:function(){try{return function(a,b){return this.isClassicUne(a)&&0==b?!0:!1}.apply(this,arguments)}catch(a){return util.postError("articleIsUne",a,a.stack),""}},getArticleUneClass:function(){try{return function(a,b,c){return c=c||!1,!c&&this.articleIsUne(a,b)?"first":""}.apply(this,arguments)}catch(a){return util.postError("getArticleUneClass",a,a.stack),""}},getArticleThumbnail:function(){try{return function(a,b,c){return this.articleIsUne(a,c)?b.largeThumbnail:b.thumbnail}.apply(this,arguments)}catch(a){return util.postError("getArticleThumbnail",a,a.stack),""}},getArticleTitleFont:function(){try{return function(a,b,c){return c=c||!1,!c&&this.articleIsUne(a,b)?this.fontStyle("uneFont",a):this.fontStyle("titleFont",a)}.apply(this,arguments)}catch(a){return util.postError("getArticleTitleFont",a,a.stack),""}},getThumbContentForVideoSection:function(){try{return function(a,b,c){var d="",e="";if(_.is(c)&&c&&(d="big",e="-big"),_.not(a.get("videoItem"))||"GBModuleTypeVideo"!=a.get("type")||!user.device.mobile)return"";switch(a.get("videoItem")){case"play":return"<img class='video-play "+d+"' src='/assets/img/gbpreview/iphone/video-play"+e+".png' alt='' />";case"camera":return"<img class='video-camera "+d+"' src='/assets/img/gbpreview/iphone/video-camera"+e+".png' alt='' />";case"duration":return"<div class='video-duration "+d+"'>"+util.secondsToHms(b.length)+"</div>"}}.apply(this,arguments)}catch(a){return util.postError("getThumbContentForVideoSection",a,a.stack),""}},isClassicUne:function(){try{return function(a){return"GBArticleListTemplateTypeClassicUne"==this.getSectionTemplate(a)}.apply(this,arguments)}catch(a){return util.postError("isClassicUne",a,a.stack),""}},getPinterestImg:function(a){var b=a.images.medium;return(util.empty(b.height)||util.empty(b.width))&&(b=a.images.large),(util.empty(b.height)||util.empty(b.width))&&(b=a.images.small),'<img height="'+b.height+'" width="'+b.width+'" src="'+b.url+'" alt="'+a.title+'" />'},getInstagramActionButtons:function(){try{return function(a){var b="iconShare_iconComments".split("_"),c=[];return this.appHasBookmarks()&&b.push("iconFavoris"),_.each(a.get("detail.toolbar.buttons"),function(a){_.inArray(a.type,b)&&"1"==a.enabled&&c.push({button:a,linkType:a.type.replace(/^icon/,"").toLowerCase()})}),c}.apply(this,arguments)}catch(a){return util.postError("getInstagramActionButtons",a,a.stack),""}},getDetailHtmlTemplate:function(){try{return function(a){var b=a.get(user.device.tablet?"detail.ipadHtmlTemplate":"detail.htmlTemplate");if(_.not(b))switch(this.getSectionType(a)){case"GBModuleTypeVideo":b=appLang.GB_TXT_11;break;case"GBModuleTypeSound":b=appLang.GB_TXT_14;break;default:b=appLang.GB_TXT_10}return b}.apply(this,arguments)}catch(a){return util.postError("getDetailHtmlTemplate",a,a.stack),""}},hideImageInStringByID:function(a,b){var c='id="'+b+'"';return a=a.replace(c,c+' style="display:none;"')},formateArticleDetail:function(){try{return function(a,b,c,d){var e=_.is(c)?c:this.getDetailHtmlTemplate(a);return e=this.tokenizeArticle(e,b),d&&(e=this.hideImageInStringByID(e,d)),/(<iframe[^>]+>.*?<\/iframe>)/i.test(e)&&(e=this.wrapArticleIframe(e,b)),e.replace(/\|( *)</,"<").replace(/>( *)\|/,">"),e}.apply(this,arguments)}catch(a){return util.postError("formateArticleDetail",a,a.stack),""}},wrapArticleIframe:function(){try{return function(a){if(_.is(a)){var b=/(<iframe[^>]+>.*?<\/iframe>)/gi,c='<div class="embed-video">$1</div>';a=a.replace(b,c)}return a}.apply(this,arguments)}catch(a){return util.postError("wrapArticleIframe",a,a.stack),""}},getCSSForDetail:function(){try{return function(a){var b="."+this.getSectionDetailTemplate(a),c="";/^\.gbarticlecontent|^\.gbarticledetail/i.test(b)&&(c+=".detail-article{font-size:[FONTSIZE]px;}\n".replace("[FONTSIZE]",this.generalDefaultTextFontSize())),c+=b+" hr.sep{"+this.borderSeparator(a)+";}\n",c+=b+" h1{"+this.css.createFontStyle(a.get("detail.titleFont"))+";}\n",c+=b+" .date, "+b+" .author,  "+b+" .intertitre,  "+b+" .titlePosition {"+this.css.createFontStyle(a.get("detail.subtitleFont"))+";}\n",c+=b+" .content{"+this.css.createFontStyle(a.get("detail.textFont"))+";}\n",c+=b+" a{text-decoration:underline;color:"+(a.get("detail.linkColor")||a.get("detail.subtitleFont.color"))+";}\n",c+=b+" .titlePosition{color:"+this.css.createFontStyle(a.get("detail.subtitleFont"))+";}\n",c+=s.getBannerGradientAndTitleAlign(a,b),c+=b+" img{max-width:100%;margin-bottom:10px;[HIDEPHOTOS]}".replace("[HIDEPHOTOS]",this.moduleDetailHidePhotosCSS(a));var d={};return d[f("detail.titleFont",a)]=b+" h1",d[f("detail.subtitleFont",a)]=b+" .date, "+b+" .author, "+b+" .intertitre, "+b+" .titlePosition ",d[f("detail.textFont",a)]=b+" .content",d[f("detail.subtitleFont.color",a)]=b+" a",this.css.createStyleTag(c,d)}.apply(this,arguments)}catch(a){return util.postError("getCSSForDetail",a,a.stack),""}},getBannerGradientAndTitleAlign:function(){try{return function(a,b){var c="rgba(0, 0, 0, 0)",d="rgba(0, 0, 0, 0.7)";_.isEmpty(a.get("gradientColor"))||(c=s.css.hexToRgba(a.get("gradientColor"),.1),d=s.css.hexToRgba(a.get("gradientColor"),.7));var e=a.get("titleAlign");if(_.is(e)){e=e.split("_");var f="vertical-align:",g="text-align:";f+="center"==e[0]?"middle;":e[0]+";",g+=e[1]+";",cssRules=b+" .contentTitle{"+f+g+"}\n"}else cssRules="";return cssRules+=b+" .bannerGradient { background: -webkit-linear-gradient("+c+" , "+d+"); /* For Safari 5.1 to 6.0 */ background: -o-linear-gradient("+c+", "+d+"); /* For Opera 11.1 to 12.0 */ background: -moz-linear-gradient("+c+", "+d+"); /* For Firefox 3.6 to 15 */ background: linear-gradient("+c+" , "+d+"); /* Standard syntax */ }"}.apply(this,arguments)}catch(a){return util.postError("getBannerGradient",a,a.stack),""}},getAboutSectionCSS:function(){try{return function(a){var b=".GBAboutListContainer."+this.getSectionTemplate(a);cssRules="",cssRules+=b+" hr.sep{"+this.borderSeparator(a)+";}\n",cssRules+=b+" h1{"+this.css.createFontStyle(a.get("titleFont"))+";}\n",cssRules+=b+" a{cursor:pointer;color:"+a.get("linkColor")+";}\n",cssRules+=b+" .about-content{"+this.css.createFontStyle(a.get("textFont"))+";}\n",cssRules+=s.getBannerGradientAndTitleAlign(a,b);var c={};return c[f("titleFont",a)]=b+" h1",c[f("textFont",a)]=b+" .about-content",c[f("linkColor",a)]=b+" a",this.css.createStyleTag(cssRules,c)}.apply(this,arguments)}catch(a){return util.postError("getAboutSectionCSS",a,a.stack),""}},getAboutSectionTitle:function(){try{return function(a,b){var c=this.getAboutSectionTitleAlign(a,b);return s.tokenizeArticle(c,a)}.apply(this,arguments)}catch(a){return util.postError("getAboutSectionTitle",a,a.stack),""}},getAboutSectionTitleAlign:function(){try{return function(a,b){s.getSelectedSection();return str=b?s.getItemFirstImageAttribute(a)?"<div class='titlePosition' ><h1>[TITLE]</h1></div>":"<div class='titlePosition' ><h1 class='noImg'>[TITLE]</h1></div>":/BannerInfos/.test(s.getArticleDetailContentTemplate(a))?s.getArticleDetailInfoContentType():""}.apply(this,arguments)}catch(a){return util.postError("getAboutSectionTitleAlign",a,a.stack),""}},getIdFromFirstImageInHTML:function(a){var b="tempDiv_"+util.getUniqueString();$("body").append("<div id='"+b+"' class='tempDiv'>"+a+"</div>");var c=$("#"+b).find("img[id]:first");return $("#"+b).remove(),c.length?c.attr("id"):""},getItemFirstImageAttribute:function(){try{return function(a,b){b=b||"id";var c,d,e=!1;if(a&&!util.empty(a.images)&&(e=a.images),!util.empty(e)&&e[0]&&(a.isFeatured?d=s.getItemById(e,a.isFeatured):util.empty(s.getSelectedSection().useFirstArrayAsBanner)?(c=s.getIdFromFirstImageInHTML(a.content),d=c?s.getItemById(e,c):!1):d=e[0],d)){if("url"==b)return d.imageUrl||d.url;if("id"==b&&!util.empty(d.id))return d.id}return!1}.apply(this,arguments)}catch(a){return util.postError("getItemFirstImageAttribute",a,a.stack),""}},getAboutSectionContent:function(){try{return function(a,b){if(_.is(b)&&_.is(b.content)){var c=b.content;return c=s.tokenizeArticle(c,b),/(<iframe[^>]+>.*?<\/iframe>)/i.test(c)&&(c=this.wrapArticleIframe(c)),"<div class='about-content' style=\""+this.css.createFontStyle(a.get("textFont"))+'">'+c+"</div>"}return""}.apply(this,arguments)}catch(a){return util.postError("getAboutSectionContent",a,a.stack),""}},getArticleDetailContent:function(){try{return function(a,b,c){var c=c||[];if(_.is(b)){var d=s.getArticleDetailHtmlTemplate();return d=s.tokenizeArticle(d,b),c.length&&(d+='<style type="text/css">',d+=c.join(", ")+"{display : none;}",d+="</style>"),/(<iframe[^>]+>.*?<\/iframe>)/i.test(d)&&(d=this.wrapArticleIframe(d)),"<div class='content' style=\""+this.css.createFontStyle(a.get("textFont"))+'">'+d+"</div>"}return""}.apply(this,arguments)}catch(a){return util.postError("getArticleDetailContent",a,a.stack),""}},getArticleDetailContentTemplate:function(){try{return function(a){if(a&&!util.empty(a.contentTemplate))return a.contentTemplate;var b=s.getSelectedSection(),c=b.get("detail.contentTemplate"),d=b.get("detail.template");return _.not(c)?/GBArticleDetailTemplateTypeClassic/g.test(d)?"GBArticleContentTemplateTypeBannerNoNavBar":/GBArticleDetailTemplateTypeToolBarUp/g.test(d)?"GBArticleContentTemplateTypeBanner":/GBArticleDetailTemplateTypeToolBarSlide/g.test(d)?"GBArticleContentTemplateTypeClassic":/GBArticleDetailTemplateTypeToolBarSwipe/g.test(d)?"GBArticleContentTemplateTypeBannerInfos":!1:c}.apply(this,arguments)}catch(a){return util.postError("getArticleDetailContentTemplate",a,a.stack),""}},getArticleDetailHtmlTemplate:function(){try{return function(){var a,b=s.getSelectedSection(),c=s.getArticleDetailContentTemplate(util.getCurrentAvailableItem());return a=user.device.tablet?b.get("detail.ipadHtmlTemplate")||b.get("detail.htmlTemplate"):b.get("detail.htmlTemplate"),a?a:appSettings.get("articleHtmlTemplate")?appSettings.get("articleHtmlTemplate"):/GBArticleContentTemplateTypeClassic$/g.test(c)?appLang.GB_TXT_10:/GBArticleContentTemplateTypeBanner$/g.test(c)?appLang.GB_TXT_10:/GBArticleContentTemplateTypeBannerNoNavBar$/g.test(c)?appLang.GB_TXT_10:/GBArticleContentTemplateTypeBannerInfos$/g.test(c)?'<div class="content">[CONTENT]</div>':'<div class="content">[CONTENT]</div>'}.apply(this,arguments)}catch(a){return util.postError("getArticleDetailHtmlTemplate",a,a.stack),""}},getArticleDetailInfoContentType:function(){try{return function(){var a=s.getSelectedSection(),b=a.get("detail.infosContentType"),c=(s.getArticleDetailContentTemplate(util.getCurrentAvailableItem()),"");return c=b?b:appSettings.get("infosContentType")?appSettings.get("infosContentType"):appLang.GB_TXT_160,util.empty(c)||(c=c.replace("[TITLE]","<h1>[TITLE]</h1>"),c=c.replace(/\\n/g,"<br />")),"<div class='titlePosition' >"+c+"</div>"}.apply(this,arguments)}catch(a){return util.postError("getArticleDetailInfoContentType",a,a.stack),""}},getAgendaDetailContentTemplate:function(){try{return function(a,b){var c="_asyncAgendaDetail";return c=_.pos(a.contentTemplate)?a.contentTemplate:_.pos(b.get("detail.contentTemplate"))?b.get("detail.contentTemplate"):"_asyncAgendaDetail"+(s.isBookmarkSection()?"_bkmrkdtl":""),_.inArray(c,["GBEventContentTemplateTypeBanner","GBEventContentTemplateTypeCover"])&&_.neg(s.getItemFirstImageAttribute(a))&&(c="_asyncAgendaDetail"+(s.isBookmarkSection()?"_bkmrkdtl":"")),c}.apply(this,arguments)}catch(a){return""}},getAgendaCoverButton:function(){try{return function(a){var b="";return _.findWhere(a,{key:"ticket"})?b=_.findWhere(a,{key:"ticket"}):_.findWhere(a,{key:"phone"})?b=_.findWhere(a,{key:"phone"}):_.findWhere(a,{key:"location"})?b=_.findWhere(a,{key:"location"}):_.findWhere(a,{key:"mail"})&&(b=_.findWhere(a,{key:"mail"})),b}.apply(this,arguments)}catch(a){}},isNavBar:function(){try{return function(){return/_asyncArticleDetail/.test(s.getDetailTemplate(s.getSelectedSection()))&&s.isSectionCall(!0)?"GBArticleContentTemplateTypeBannerNoNavBar"!=s.getArticleDetailContentTemplate(util.getCurrentAvailableItem())||!user.device.mobile&&1==s.getSelectedSection().get("detail.littleBannerImage")?!0:!1:!0}.apply(this,arguments)}catch(a){return util.postError("isLittleBanner",a,a.stack),""}},getFormListCountries:function(){try{return function(a){if(util.data.countryList)a(util.data.countryList);else{var b=util.getCurrentBaseUrl()+"/apiv3/getCountries";util.requester(b,{},function(b){_.isEmpty(b)||(util.data.countryList=b,a&&a(b))})}}.apply(this,arguments)}catch(a){return util.postError("getFormListCountry",a,a.stack),""}},getContentFormattingCSS:function(){return"			img {			    max-width: 100% !important;			}						.videoWrapper {			    position: relative;			    padding-bottom: 56.25%; / 16:9 /			    padding-top: 25px;			    height: 0;			}			.videoWrapper iframe {			    position: absolute;			    top: 0;			    left: 0;			    width: 100%;			    height: 100%;			}						br.clear {			    display:none;			}"},getFormSectionStyleTag:function(){try{return function(a,b,c){var d=".GBFormListTemplateTypeClassic .style"+b.id,e="section.fields."+b.id,f={};if(cssRules="","radio"==c){var g=q(a,e+".fieldOnColor","section.fieldOnColor","section.submitButtonBackgroundColor"),h=q(a,e+".fieldOffColor","section.fieldOffColor");cssRules+=d+" label.ui-"+c+"-on:before { border-color: "+g.val+"; }\n",cssRules+=d+" label.ui-"+c+"-on .roundFront { background-color: "+g.val+"; }\n",cssRules+=d+" label.ui-"+c+"-off:before { color: "+h.val+";border-color: "+h.val+"; }\n",f[g.key]=d+" label.ui-"+c+"-on:before",f[h.key]=d+" label.ui-"+c+"-off:before"}if("checkbox"==c){var g=q(a,e+".fieldOnColor","section.fieldOnColor","section.submitButtonBackgroundColor"),h=q(a,e+".fieldOffColor","section.fieldOffColor","section.submitButtonBackgroundColor");cssRules+=d+" label.ui-"+c+"-on:before { background-color: "+g.val+"; }\n",cssRules+=d+" label.ui-"+c+"-off:before { color: "+h.val+";border-color: "+h.val+"; }\n",f[g.key]=d+" label.ui-"+c+"-on:before",f[h.key]=d+" label.ui-"+c+"-off:before"}return"select"==c&&(cssRules+=d+" .ui-select span { "+s.getFormSectionFieldStyle(a,b,"dropDownTextFont")+"; }\n",f[q(a,e+".fieldTextFont","section.fieldTextFont").key]=d+" .ui-select span"),("date"==c||"time"==c)&&(cssRules+=d+" .picker, "+d+" .timePicker, "+d+" .blockSelector, "+d+" .hideSelector { background-color: "+b.fieldBackgroundColor+"; }\n",cssRules+=d+" .picker, "+d+" .timePicker { border: 1px solid "+q(a,e+".fieldBorderColor","section.fieldBorderColor").val+"; }\n",1==b.fieldRounded&&(cssRules+=d+" .picker, "+d+" .timePicker { border-radius: 0 0 5px 5px; }\n"),f[q(a,e+".fieldBackgroundColor","section.fieldBackgroundColor").key]=d+" .picker, "+d+" .timePicker, "+d+" .blockSelector, "+d+" .hideSelector",f[q(a,e+".fieldBorderColor","section.fieldBorderColor").key]=d+" .picker, "+d+" .timePicker"),this.css.createStyleTag(cssRules,f)}.apply(this,arguments)}catch(a){return util.postError("getFormSectionCSS",a,a.stack),""}},getFormSectionInfos:function(){try{return function(a,b){var c=a.get("infos."+b);return _.is(c)?c:""}.apply(this,arguments)}catch(a){return util.postError("getFormSectionTitle",a,a.stack),""}},getFormSectionFieldStyle:function(){try{return function(a,b,c){var d="",e=b?b.id:!1,f=s.fallback(a,"section.fields["+e+"].fieldBackgroundColor","section.fieldBackgroundColor"),g=s.fallback(a,"section.fields["+e+"].fieldTextFont","section.fieldTextFont"),h=s.fallback(a,"section.fields["+e+"].fieldBorderColor","section.fieldBorderColor"),i=s.fallback(a,"section.fields["+e+"].fieldRounded","section.fieldRounded"),f=f.val?"background-color:"+f.val+f.key:"",j=_.is(g.val)?s.fontStyle(g.val)+g.key:"",h=h.val?"border: 1px solid"+h.val+h.key:"",i=1==i.val?"border-radius: 5px;":"";if("checkbox"==c||"radio"==c)return j=s.fallback(a,"section.fields["+e+"].fieldTextFont","section.textFont"),j=_.is(j.val)?s.fontStyle(j.val)+j.key:"",d={label:j,input:f+h,rounded:_.isEmpty(i)?"":"rounded"},d;if("title"==c){var k=s.fallback(a,"section.fields["+e+"].fieldTitleFont","section.fieldTitleFont"),k=_.is(k.val)?s.fontStyle(k.val)+k.key:"";return k}if("textFont"==c)return j;if("radioBg"==c){var l=s.fallback(a,"section.fields["+e+"].fieldOnColor","section.fieldOnColor"),l=l.val?"background: "+l.val+l.key:"";return l}if("pin"==c){var m=s.fallback(a,"section.fields["+e+"].geolocButtonColor","section.submitButtonTextFont.color"),n=s.fallback(a,"section.fields["+e+"].geolocButtonBackgroundColor","section.submitButtonBackgroundColor"),m=m.val?"color: "+m.val+m.key:"",n=n.val?"background: "+n.val+n.key:"";return m+n+h+i}if("file"==c){var o=s.fallback(a,"section.fields["+e+"].sendButtonTextFont","section.submitButtonTextFont"),p=s.fallback(a,"section.fields["+e+"].sendButtonBackgroundColor","section.submitButtonBackgroundColor"),q=s.fallback(a,"section.fields["+e+"].sendButtonBorderColor","section.submitButtonBorderColor"),o=_.is(o.val)?s.fontStyle(o.val)+o.key:"",p=p.val?"background: "+p.val+p.key:"",q=q.val?"border: 1px solid "+q.val+q.key:"";return o+p+q+i}if(g.val){var r=g.val.color.toUpperCase();("#FFF"==r||"#FFFFFF"==r)&&(r="#666",j+=";color:"+r+";")}if("dropDownTextFont"==c)return j;if("price"==c){var t=s.fallback(a,"section.fields["+e+"].fieldSubtitleFont","section.fieldSubtitleFont"),d=t.val?s.css.createFontStyle(t.val)+t.key:"";return d}return f+j+h+i}.apply(this,arguments)}catch(a){return util.postError("getFormSectionFieldStyle",a,a.stack),""}},getFormSectionSubmitStyle:function(){try{return function(a){var b=s.fallback(a,"section.submitButtonTextFont"),c=s.fallback(a,"section.submitButtonBackgroundColor"),d=s.fallback(a,"section.submitButtonBorderColor"),e=s.fallback(a,"section.submitButtonRounded"),b=_.is(b.val)?s.fontStyle(b.val)+b.key:"";return c=c.val?"background: "+c.val+c.key:"",d=d.val?"border: 1px solid "+d.val+d.key:"",e=1==e.val?"border-radius: 5px;":"",b+c+d+e}.apply(this,arguments)}catch(a){return util.postError("getFormSectionSubmitStyle",a,a.stack),""}},getFormSectionSubtitle:function(){try{return function(a,b){var c=b.instructions?b.instructions:b.subtitle,c=c||"";return breakField="GBFieldSectionBreak"==b.fieldType,fieldId=b?b.id:!1,subtext=s.fallback(a,"section.fields["+fieldId+"].fieldSubtitleFont","section.fieldSubtitleFont"),style=subtext.val?s.css.createFontStyle(subtext.val)+subtext.key:"","<p class='"+(breakField?"":"instructions")+"' style=\""+style+'">'+c+"</p>"}.apply(this,arguments)}catch(a){return util.postError("getFormSectionSubtitle",a,a.stack),""}},getFormSectionSubtitlePosition:function(){try{return function(a){return-1!=["checkbox","radio","select","date","time","address"].indexOf(a)?"top":"bottom"}.apply(this,arguments)}catch(a){return util.postError("getFormSectionSubtitle",a,a.stack),""}},getFormSectionPlaceHolderPosition:function(a,b){return-1!=["checkbox","radio","select","date","time","address","file"].indexOf(b)?"top":util.empty(a.placeholderOnTop)?"bottom":"top"},getFormSectionFieldType:function(){try{return function(a){var b="";switch(a.fieldType){case"GBFieldSingleLine":b="text";break;case"GBFieldNumber":b="text";break;case"GBFieldParagraph":b="textarea";break;case"GBFieldRadio":b="radio";break;case"GBFieldCheckboxes":b="checkbox";break;case"GBFieldDropdown":b="select";break;case"GBFieldName":b="text";break;case"GBFieldAddress":b="address";break;case"GBFieldDate":b="date";break;case"GBFieldTime":b="time";break;case"GBFieldMail":b="email";break;case"GBFieldPhone":b="text";break;case"GBFieldWebsite":b="text";break;case"GBFieldPrice":b="price";break;case"GBFieldSectionBreak":b="breaktext";break;case"GBFieldFiles":b="file"}return b}.apply(this,arguments)}catch(a){return util.postError("getFormSectionFieldType",a,a.stack),""}},getContactEmail:function(a){try{return function(){return _.is(a.get("contactEmail"))?"mailto:"+a.get("contactEmail"):"#!section="+a.get("id")}.apply(this,arguments)}catch(b){return util.postError("getContactEmail",b,b.stack),""}},showSettingsCredits:function(){try{return function(a){return"1"==a.get("showCredits")}.apply(this,arguments)}catch(a){return util.postError("showSettingsCredits",a,a.stack),""}},showSettingsContact:function(){try{return function(a){return"1"==a.get("showContact")}.apply(this,arguments)}catch(a){return util.postError("showSettingsContact",a,a.stack),""}},showSettingsDisconnect:function(){try{return function(a){return"1"==a.get("showDisconnect")}.apply(this,arguments)}catch(a){return util.postError("showSettingsDisconnect",a,a.stack),""}},showSettingsRecommand:function(){try{return function(a){return"1"==a.get("showRecommand")}.apply(this,arguments)}catch(a){return util.postError("showSettingsRecommand",a,a.stack),""}},showSettingsGeneral:function(){try{return function(a){return this.showSettingsRecommand(a)||this.showSettingsContact(a)||this.showSettingsCredits(a)}.apply(this,arguments)}catch(a){return util.postError("showSettingsGeneral",a,a.stack),""}},showSettingsServices:function(){try{return function(a){return s.showSettingsDisconnect(a)}.apply(this,arguments)}catch(a){return util.postError("showSettingsServices",a,a.stack),""}},showSettingsNotifications:function(){try{return function(){return!1}.apply(this,arguments)}catch(a){return util.postError("showSettingsNotifications",a,a.stack),""}},getSettingsTexts:function(){try{return function(){var a=appLang;return{generalTitle:a.GB_SETTINGS_4,creditsLabel:a.GB_SETTINGS_1,supportLabel:a.GB_SETTINGS_2,recommandLabel:a.GB_SETTINGS_3,authTitle:a.GB_SETTINGS_5,cacheTitle:a.GB_TXT_34,clearCacheLabel:a.GB_TXT_35,updateLabel:a.GB_TXT_36,notificationsTitle:a.GB_TXT_80,notificationsLabel:a.GB_TXT_81,distancesTitle:a.GB_TXT_164,distancesMilesLabel:a.GB_TXT_165,distancesKmLabel:a.GB_TXT_166}}.apply(this,arguments)}catch(a){return util.postError("getSettingsTexts",a,a.stack),""}},getSettingsCredits:function(){try{return function(a){var b=a.get("creditsContent"),c=this.fontStyle(a.get("textFont"),{sizeMultiplier:util.coeffDetailFontSize}),d="1"==a.get("creditsHtml");return _.is(b)&&(b=d?b:util.striptags2br(b)),{font:c,content:b}}.apply(this,arguments)}catch(a){return util.postError("getSettingsCredits",a,a.stack),""}},getRootHeaderBackground:function(){try{return function(){var a=appSettings.get("root.header.backgroundColor"),b=this.getImageUrl(appSettings.get("root.header.backgroundImage"),!0),c=f("root.header.backgroundColor"),d="";return util.empty(a)||"transparent"==a||(d+="background-color:"+a+";"),util.empty(b)||"none"==b||(d+="background-image: "+b+";"),d+c}.apply(this,arguments)}catch(a){return util.postError("getRootHeaderBackground",a,a.stack),""}},getFacebookMenuBackground:function(){try{return function(){var a=appSettings.get("root.menu.backgroundColor"),b=user.device.mobile?this.getImageUrl(appSettings.get("root.menu.backgroundImage"),!0):this.getImageUrl(appSettings.get("root.menu.backgroundImageIpad"),!0),c=f("root.menu.backgroundColor");return(util.empty(a)||"transparent"==a)&&(a="#FFFFFF"),this.css.createBackground(a,b)+c}.apply(this,arguments)}catch(a){return util.postError("getFacebookMenuBackground",a,a.stack),""}},getLittleSwipeBackground:function(){try{return function(){var a=appSettings.get("root.littleMenu.backgroundColor"),b=user.device.mobile?this.getImageUrl(appSettings.get("root.littleMenu.backgroundImage"),!0):this.getImageUrl(appSettings.get("root.littleMenu.backgroundImageIpad"),!0),c=f("root.littleMenu.backgroundColor");return(util.empty(a)||"transparent"==a)&&(a="#FFFFFF"),this.css.createBackground(a,b)+c}.apply(this,arguments)}catch(a){return util.postError("getLittleSwipeBackground",a,a.stack),""}},getSlateBackground:function(){try{return function(){var a=appSettings.get("root.slate.pageBackgroundColor"),b=user.device.mobile?this.getImageUrl(appSettings.get("root.slate.pageBackgroundImage"),!0):this.getImageUrl(appSettings.get("root.slate.pageBackgroundImagePortrait"),!0),c=f("root.slate.pageBackgroundColor");return(util.empty(a)||"transparent"==a)&&(a="#FFFFFF"),this.css.createBackground(a,b)+c}.apply(this,arguments)}catch(a){return util.postError("getSlateBackground",a,a.stack),""}},getGridBackground:function(){try{return function(){var a=appSettings.get("root.grid.pageBackgroundColor"),b="";b=user.device.mobile?this.getImageUrl(appSettings.get("root.grid.pageBackgroundImage"),!0):"landscape"==window.orient?this.getImageUrl(appSettings.get("root.grid.pageBackgroundImageLandscape"),!0):this.getImageUrl(appSettings.get("root.grid.pageBackgroundImagePortrait"),!0);var c=f("root.grid.pageBackgroundColor");return(util.empty(a)||"transparent"==a)&&(a="#FFFFFF"),this.css.createBackground(a,b)+c}.apply(this,arguments)}catch(a){return util.postError("getGridBackground",a,a.stack),""}},getTypoBackground:function(){try{return function(){var a=appSettings.get("root.typo.pageBackgroundColor"),b=user.device.mobile?this.getImageUrl(appSettings.get("root.typo.pageBackgroundImage"),!0):this.getImageUrl(appSettings.get("root.typo.pageBackgroundImagePortrait"),!0),c=f("root.typo.pageBackgroundColor");return(util.empty(a)||"transparent"==a)&&(a="#FFFFFF"),this.css.createBackground(a,b)+c}.apply(this,arguments)}catch(a){return util.postError("getTypoBackground",a,a.stack),""}},getRootHeaderTitle:function(){try{return function(){return{style:this.fontStyle("root.header.titleFont"),title:appSettings.get("root.header.title")}}.apply(this,arguments)}catch(a){return util.postError("getRootHeaderTitle",a,a.stack),""}},isRootHeaderLogo:function(){try{return function(){return""!==this.getRootHeaderLogo()}.apply(this,arguments)}catch(a){return util.postError("isRootHeaderLogo",a,a.stack),""}},getRootHeaderLogo:function(){try{return function(){return _.is(appSettings.get("root.header.titleImage"))?this.getImageUrl(appSettings.get("root.header.titleImage")):""}.apply(this,arguments)}catch(a){return util.postError("getRootHeaderLogo",a,a.stack),""}},getBorderStyle:function(){try{return function(a){this.css.getBorderStyle(a)}.apply(this,arguments)}catch(a){return util.postError("getBorderStyle",a,a.stack),""}},getSectionInfosLike:function(){try{return function(a){return _.not(a.get("infosLike"))?appLang.GB_TXT_5:a.get("infosLike")}.apply(this,arguments)}catch(a){return util.postError("getSectionInfosLike",a,a.stack),""}},getFacebookIlikeData:function(){try{return function(a,b){var c="//www.facebook.com/plugins/like.php?href=";c+=util.urlencode(b.page_info.url),c+="&amp;colorscheme=light&amp;layout=button_count",c+="&amp;action=like&amp;show_faces=false&amp;send=false";var d='scrolling="no" frameborder="0" allowTransparency="true"',e='style="border:none; overflow:hidden; width: 0 !important;';return e+='min-width:92px; height:21px !important;"',{src:c,style:e,attrs:d}}.apply(this,arguments)}catch(a){return util.postError("getFacebookIlikeData",a,a.stack),""}},getFacebookArticleNbLikes:function(){try{return function(a,b){return _.is(a.nbLikes)?a.nbLikes+" "+util.stripslashes(s.getSectionInfosLike(b)):""}.apply(this,arguments)}catch(a){return util.postError("getFacebookArticleNbLikes",a,a.stack),""}},getInfosCheckin:function(){try{return function(a){return _.not(a.get("infosCheckin"))?appLang.GB_TXT_4:a.get("infosCheckin")}.apply(this,arguments)}catch(a){return util.postError("getInfosCheckin",a,a.stack),""}},getLabelLink:function(){try{return function(a){return _.is(a.get("labelLink"))?a.get("labelLink"):appLang.GB_TXT_33}.apply(this,arguments)}catch(a){return util.postError("getLabelLink",a,a.stack),""}},getInfosLink:function(){try{return function(a){return _.is(a.get("infosLink"))?a.get("infosLink"):appLang.GB_TXT_6}.apply(this,arguments)}catch(a){return util.postError("getInfosLink",a,a.stack),""}},getListBackgroundColor:function(){try{return function(a,b){var c=b?"detail.":"";return _.is(a.get(c+"listBackgroundOpacity"))&&a.get(c+"listBackgroundOpacity")<1?s.css.hexToRgba(a.get(c+"listBackgroundColor"),a.get(c+"listBackgroundOpacity"))+f(c+"listBackgroundColor",a)+f(c+"listBackgroundOpacity",a):h("listBackgroundColor",a)}.apply(this,arguments)}catch(a){return util.postError("getListBackgroundColor",a,a.stack),""}},getFormattedTitle:function(){try{return function(a,b,c){var d='<span style="'+s.fontStyle("titleFont",a)+'">'+b.page_info.title+"</span> ";return"checkin"==c.type&&(d+=s.getInfosCheckin(a).replace("[PLACE]",'<a href="'+c.link+'" target="_blank"><span>'+c.name+"</span></a>")),"link"==c.type&&(d+=s.getInfosLink(a).replace("[LINK]",'<a style="color:inherit;" href="'+c.link+'" target="_blank"><span>'+s.getLabelLink(a)+"</span></a>")),d}.apply(this,arguments)}catch(a){return util.postError("getFormattedTitle",a,a.stack),""}},getFacebookCoverTitleFont:function(){try{return function(a){var b="font-size: 1.3em; color: #FFF; text-shadow: 0 1px 1px #000";return!user.device.mobile&&_.is(a.get("banner.textFont"))?s.fontStyle("banner.textFont",a):b}.apply(this,arguments)}catch(a){return util.postError("getFacebookCoverTitleFont",a,a.stack),""}},getFacebookCoverSubtitle:function(){try{return function(a){var b=s.fontStyle("subtitleFont",a),c=h("banner.textFont.color",a)||"#FFF"+f("banner.textFont.color",a);return b+";color:"+c}.apply(this,arguments)}catch(a){return util.postError("getFacebookCoverSubtitle",a,a.stack),""}},getFacebookCoverBackground:function(){try{return function(a){var b=a.get("banner.backgroundColor");if(_.is(b)){var c=a.get("banner.backgroundOpacity")||.75;return s.css.hexToRgba(b,c)+f("banner.backgroundColor",a)+f("banner.backgroundOpacity",a)}return s.getListBackgroundColor(a)}.apply(this,arguments)}catch(a){return util.postError("getFacebookCoverBackground",a,a.stack),""}},getFacebookArticleLikes:function(){try{return function(){return"0 likes"}.apply(this,arguments)}catch(a){return util.postError("getFacebookArticleLikes",a,a.stack),""}},toTitleCase:function(){try{return function(a){return a=a||"",a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}.apply(this,arguments)}catch(a){return util.postError("toTitleCase",a,a.stack),""}},getQuoteIconNormalColor:function(){try{return function(a,b){var c=b+".normalColor",d=a.get(c);return util.empty(d)&&(c="twitterIcon.normalColor",d=a.get(c)),d}.apply(this,arguments)}catch(a){return util.postError("getQuoteIconNormalColor",a,a.stack),""}},getQuoteIconNormalTexture:function(){try{return function(a,b){return a.get(_.is(a.get(b+".normalTexture"))?b+".normalTexture":"twitterIcon.normalTexture")}.apply(this,arguments)}catch(a){return util.postError("getQuoteIconNormalTexture",a,a.stack),""
}},formatTweet:function(){try{return function(a){var b=a.content,c=s.getSelectedSection(),d=this.fontStyle("linkFont",c);return b=b.replace(/http([^ ]*)/g,'<a style="'+d+'" target="_blank" href="http$1">http$1</a>'),b=b.replace(/@([a-z0-9-_]+)/gi,'<a style="'+d+'" target="_blank" href="http://twitter.com/$1">@$1</a>'),b=b.replace(/(#[a-z0-9]+ )/gi,'<a style="'+d+'" target="_blank" href="http://twitter.com/search?q=$1"> $1 </a>')}.apply(this,arguments)}catch(a){return util.postError("formatTweet",a,a.stack),""}},getTimeLineHeight:function(){try{return function(a){return"line-height:"+1.5*a.get("titleFont.size")+"px"}.apply(this,arguments)}catch(a){return util.postError("getTimeLineHeight",a,a.stack),""}},isTwitterSection:function(){try{return function(a){return/GBTwitterListTemplateType/i.test(this.getSectionTemplate(a))}.apply(this,arguments)}catch(a){return util.postError("isTwitterSection",a,a.stack),""}},isTwitterBanner:function(){try{return function(a){return/GBTwitterListTemplateTypeBanner/i.test(this.getSectionTemplate(a))}.apply(this,arguments)}catch(a){return util.postError("isTwitterBanner",a,a.stack),""}},isTwitterProfile:function(){try{return function(a){return/GBTwitterListTemplateTypeProfile/i.test(this.getSectionTemplate(a))}.apply(this,arguments)}catch(a){return util.postError("isTwitterProfile",a,a.stack),""}},isTwitterClassic:function(){try{return function(a){return/GBTwitterListTemplateTypeClassic/i.test(this.getSectionTemplate(a))}.apply(this,arguments)}catch(a){return util.postError("isTwitterClassic",a,a.stack),""}},isTwitterPPRounded:function(){try{return function(a){var b=a.get("profilePicRadius");return b?b:1}.apply(this,arguments)}catch(a){return util.postError("isTwitterPPRounded",a,a.stack),""}},twitterAvatar:function(){try{return function(a){return"1"==a.get("showProfilePic")}.apply(this,arguments)}catch(a){return util.postError("twitterAvatar",a,a.stack),""}},isTwitterAvatarRounded:function(){try{return function(a){var b=a.get("profilePicRadius");return b?b:1}.apply(this,arguments)}catch(a){return util.postError("isTwitterAvatarRounded",a,a.stack),""}},getTwitterBannerPPRadius:function(){try{return function(a){return this.isTwitterPPRounded(a)?user.device.mobile?"35px":"100%":"initial"}.apply(this,arguments)}catch(a){return util.postError("getTwitterBannerPPRadius",a,a.stack),""}},getTwitterProfilePPRadius:function(){try{return function(a){return this.isTwitterPPRounded(a)?user.device.mobile?"45px":"100%":"initial"}.apply(this,arguments)}catch(a){return util.postError("getTwitterProfilePPRadius",a,a.stack),""}},getTwitterClassicPPRadius:function(){try{return function(a){return this.isTwitterAvatarRounded(a)?user.device.mobile?"24px":"100%":"initial"}.apply(this,arguments)}catch(a){return util.postError("getTwitterClassicPPRadius",a,a.stack),""}},getTwitterBannerBackgroundColor:function(){try{return function(a){var b=a.get("bannerBackgroundColor"),c=f("bannerBackgroundColor",a)||";appSections-"+a.get("id")+"-bannerBackgroundColor";return b?b+c:"#333333"+c}.apply(this,arguments)}catch(a){return util.postError("getTwitterBannerBackgroundColor",a,a.stack),""}},getTwitterBannerTitleFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("bannerTitleFont");return c&&!user.device.mobile&&_.not(c.tabletSize)&&(c.tabletSize=22),c?c:{color:"#FFFFFF",fontType:"Helvetica neue",size:user.device.mobile?"19":"22"}}return f("bannerTitleFont",a)}.apply(this,arguments)}catch(a){return util.postError("getTwitterBannerTitleFont",a,a.stack),""}},getTwitterBannerSubtitleFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("bannerSubtitleFont");return c&&!user.device.mobile&&_.not(c.tabletSize)&&(c.tabletSize=18),c?c:{color:"#FFFFFF",fontType:"Helvetica neue",size:user.device.mobile?"12":"18"}}return f("bannerSubtitleFont",a)}.apply(this,arguments)}catch(a){return util.postError("getTwitterBannerSubtitleFont",a,a.stack),""}},getTwitterBannerInfosFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("bannerInfosFont");return c?c:{color:"#FFFFFF",fontType:"Helvetica neue Light",size:"13"}}return f("bannerInfosFont",a)}.apply(this,arguments)}catch(a){return util.postError("getTwitterBannerInfosFont",a,a.stack),""}},getTwitterBannerStatsFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=_.clone(this.getTwitterBannerInfosFont(a));return c.size=String(parseInt(c.size,10)+10),c}return this.getTwitterBannerInfosFont(a,!0)}.apply(this,arguments)}catch(a){return util.postError("getTwitterBannerStatsFont",a,a.stack),""}},getBannerGradient:function(){try{return function(a){var b=a.get("bannerGradientOpacity"),c=f("bannerGradientOpacity",a)||"",d=b?parseFloat(b):.8,e="#000000";_.pos(a.get("detail.gradientColor"))&&(e=a.get("detail.gradientColor"));var g=this.css.hexToRgba(e,d),h=c+"position: absolute; top:0px; left:0px; width:100%; height:100%;background:transparent;			background: linear-gradient(top, rgba( 255, 255, 255, 255 ) 0%, "+g+" 100% );			background: -moz-linear-gradient(top, rgba( 255, 255, 255, 0) 0%, "+g+" 100% );			background: linear-gradient(top, rgba( 255, 255, 255, 0 ) 0%, "+g+" 100% );			background: -o-linear-gradient( top, rgba( 255, 255, 255, 0 ) 0%, "+g+" 100% );			background: -webkit-linear-gradient( top, rgba( 255, 255, 255, 0 ) 0%, "+g+" 100% );",i=100*d,j=100>i?String(i):"FF";return h+="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF, endColorstr=#"+j+e.substr(1)+");	        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#00ffffff, endColorstr=#"+j+e.substr(1)+");"}.apply(this,arguments)}catch(a){return util.postError("getBannerGradient",a,a.stack),""}},getTwitterProfileTitleFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("profileTitleFont");return c&&!user.device.mobile&&_.not(c.tabletSize)&&(c.tabletSize=22),c?c:{color:"#FFFFFF",fontType:"Helvetica neue",size:user.device.mobile?"19":"22"}}return f("profileTitleFont",a)}.apply(this,arguments)}catch(a){return util.postError("getTwitterProfileTitleFont",a,a.stack),""}},getTwitterProfileSubtitleFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("profileSubtitleFont");return c&&!user.device.mobile&&_.not(c.tabletSize)&&(c.tabletSize=18),c?c:{color:"#FFFFFF",fontType:"Helvetica neue",size:user.device.mobile?"12":"18"}}return f("profileSubtitleFont",a)}.apply(this,arguments)}catch(a){return util.postError("getTwitterProfileSubtitleFont",a,a.stack),""}},getTwitterProfileInfosFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("profileInfosFont");return c?c:{color:"#FFFFFF",fontType:"Helvetica neue",size:"13"}}return f("profileInfosFont",a)}.apply(this,arguments)}catch(a){return util.postError("getTwitterProfileInfosFont",a,a.stack),""}},getTwitterProfileStatsFont:function(){try{return function(a,b){if(_.not(b)||!b){var c=_.clone(this.getTwitterProfileInfosFont(a));return c.size=String(parseInt(c.size,10)+10),c}return this.getTwitterProfileInfosFont(a,!0)}.apply(this,arguments)}catch(a){return util.postError("getTwitterProfileStatsFont",a,a.stack),""}},getTwitterFollowBtnColorOn:function(){try{return function(a){var b=f("followButtonColorOff",a),c=a.get("followButtonColorOn");return c?c+b:"#FFFFFF"+b}.apply(this,arguments)}catch(a){return util.postError("getTwitterFollowBtnColorOn",a,a.stack),""}},getTwitterFollowBtnColorOff:function(){try{return function(a){var b=f("followButtonColorOff",a),c=a.get("followButtonColorOff");return c?c+b:"#FFFFFF"+b}.apply(this,arguments)}catch(a){return util.postError("getTwitterFollowBtnColorOff",a,a.stack),""}},getTwitterFollowBtnFillColor:function(){try{return function(a){var b=f("followButtonFillColor",a),c=a.get("followButtonFillColor");return c?c+b:"transparent"+b}.apply(this,arguments)}catch(a){return util.postError("getTwitterFollowBtnFillColor",a,a.stack),""}},getTwitterSelectedStyle:function(){try{return function(a){var b="",c={};return b+=".actions, .selected-tweet article{background:"+a.get("cellSelectedColor")+";border-bottom: none !important;}",c[f("cellSelectedColor",a)]=".selected-tweet article",this.css.createStyleTag(b,c)}.apply(this,arguments)}catch(a){return util.postError("getTwitterSelectedStyle",a,a.stack),""}},getSubmitServices:function(){try{return function(a){return a.get("services")}.apply(this,arguments)}catch(a){return util.postError("getSubmitServices",a,a.stack),""}},getSubmitDetailSelectedService:function(){try{return function(a){return this.getItemById(this.getSubmitServices(a),this.getPost("item"),"type")}.apply(this,arguments)}catch(a){return util.postError("getSubmitDetailSelectedService",a,a.stack),""}},getSubmitDetailObject:function(){try{return function(a,b){var c=util.getCurrentBaseUrl()+"/apiv3/getUploadTmpObject/"+a.type+"/"+b+"/",d=!1,e=this;return $.get(c,function(b){b&&"ok"==b.stat&&(d=b.name,"photo"==a.type&&$("#file-photo").css("background-image","url("+b.name+")"),"video"==a.type&&(videoType=b.name.replace(/data:([^;]+)(.*)/i,"$1"),$("#file-video").prop("type",videoType),$("#file-video").prop("src",b.name),$("#file-video").css({visibility:"visible",position:"relative",top:"0"})),$("#submit_object_name").val(decodeURIComponent(e.getPost("object_name"))))},"json"),d}.apply(this,arguments)}catch(a){return util.postError("getSubmitDetailObject",a,a.stack),""}},getSubmitIcon:function(){try{return function(a){return"photo"==a.type?"item-photos":"submit-"+a.type}.apply(this,arguments)}catch(a){return util.postError("getSubmitIcon",a,a.stack),""}},getSubmitDetailTitle:function(){try{return function(a){var b;return b="photo"==a.type?appLang.GB_TXT_23:"video"==a.type?appLang.GB_TXT_25:appLang.GB_TXT_28}.apply(this,arguments)}catch(a){return util.postError("getSubmitDetailTitle",a,a.stack),""}},getSubmitDetailDescription:function(){try{return function(a){var b;return b="photo"==a.type?appLang.GB_TXT_21:"video"==a.type?appLang.GB_TXT_24:appLang.GB_TXT_26}.apply(this,arguments)}catch(a){return util.postError("getSubmitDetailDescription",a,a.stack),""}},getSubmitDetailEmailPlaceholder:function(){try{return function(a,b){return a.authorPlaceholder||b.get("authorPlaceholder")||appLang.GB_TXT_82}.apply(this,arguments)}catch(a){return util.postError("getSubmitDetailEmailPlaceholder",a,a.stack),""}},getSubmitDetailTextareaPlaceholder:function(){try{return function(a,b){return a.yourTextPlaceholder||b.get("yourTextPlaceholder")||appLang.GB_TXT_83}.apply(this,arguments)}catch(a){return util.postError("getSubmitDetailTextareaPlaceholder",a,a.stack),""}},getNextOrPreviousItem:function(){try{return function(a,b,c){var d=!1;return _.each(a,function(e,f){if(e.id==b.id){var g=f+1;"previous"==c&&(g=f-1),_.is(a[g])&&(d=a[g])}}),d}.apply(this,arguments)}catch(a){return util.postError("getNextOrPreviousItem",a,a.stack),""}},getDateLang:function(){var a=appSettings.get("dateLocalisation.locale")||appLang.GB_DATELOCALE;return a?a.split("_")[0]:void 0},getEventSortDate:function(a,b){try{var c=user.browser.safari;if(_.is(a.sortDate)&&!b){var d=c?a.sortDate.replace(/-/g,"/").replace("T"," "):a.sortDate;return new Date(d)}if(b){var e=c?a.endDate.replace(/-/g,"/").replace("T"," "):a.endDate;return new Date(e)}var f=c?a.date.replace(/-/g,"/").replace("T"," "):a.date,g=new Date(f),h=new Date;return new Date(Math.max(g,h))}catch(i){return util.postError("getEventSortDate",i,i.stack),new Date}},getGroupedEvents:function(a,b){try{var c=s.getSelectedSection();b&&(b=b.split("/"),2==b[b.length-3]&&(util.data["eventsByDay-"+c]="",util.data["multipleDaysEvent-"+c]="",util.data["tempDate-"+c]=""));var d=util.data["eventsByDay-"+c]||{},e=null,f=util.data["multipleDaysEvent-"+c]||{},g=!util.empty(c.get("repeatEvents")),h=util.data["tempDate-"+c]||null;return _.each(a,function(a){a.sortDate=s.getEventSortDate(a);var b=s.getEventSortDate(a,!0),c=moment(b);if(_.pos(a.allDay)){var i=c.get("date");c.set("date",i+1),c.set("hours",0),c.set("minutes",0),c.set("seconds",0)}if(!(b&&c.unix()<moment().unix())){e=new Date(a.sortDate.getFullYear(),a.sortDate.getMonth(),a.sortDate.getDate());var j=new Date(a.sortDate.getFullYear(),a.sortDate.getMonth(),a.sortDate.getDate()),k=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(_.is(d[e])||(d[e]=[]),g){do _.is(f[j])||(f[j]=[]),f[j].push(a);while(j.setDate(j.getDate()+1)<=k);for(;h&&_.is(f[h])&&e>h;)d[h]=f[h],h.setDate(h.getDate()+1);d[e]=f[e]}else d[e].push(a)}}),g&&(util.data["eventsByDay-"+c]=d,util.data["multipleDaysEvent-"+c]=f,util.data["tempDate-"+c]=e),d}catch(i){return util.postError("getGroupedEvents",i,i.stack),{}}},getEventsListBackground:function(){try{return function(a,b){if(_.not(b)||!b){var c=a.get("listBackgroundColor"),d=a.get("listBackgroundOpacity");return this.css.hexToRgba(c,d)}return this.fk("listBackgroundColor",a)+";"+this.fk("listBackgroundOpacity",a)}.apply(this,arguments)}catch(a){return util.postError("getEventsListBackground",a,a.stack),""}},getEventsListSeparator:function(){try{return function(a){return this.borderSeparator(a)}.apply(this,arguments)}catch(a){return util.postError("getEventsListSeparator",a,a.stack),""}},getEventsStartClassNames:function(){try{return function(a,b,c){var d=0;_.is(c)&&(d=c?a:-1);var e={timeline:"notSelected",infos:""},f=b.get("startExpandableMode");switch(f){case"all":case"GBEventsStartExpandableModeAll":e={timeline:"selected",infos:"open"};break;case"none":case"GBEventsStartExpandableModeNone":break;default:a==d&&(e={timeline:"selected",infos:"open"})}return e}.apply(this,arguments)}catch(a){return util.postError("getEventsStartClassNames",a,a.stack),""}},getEventsExpandableMode:function(){try{return function(a){var b=a.get("expandableMode");return b?b:"GBEventsExpandableModeOnlyOne"}.apply(this,arguments)}catch(a){return util.postError("getEventsExpandableMode",a,a.stack),""}},getEventsListTimeLineTitle:function(){try{return function(a){var b=a.get("infosTimelineFont");return this.css.createFontStyle(b)}.apply(this,arguments)}catch(a){return util.postError("getEventsListTimeLineTitle",a,a.stack),""}},getEventsListTimeLineSubtitle:function(){try{return function(a){var b=a.get("timelineFont");return this.css.createFontStyle(b)}.apply(this,arguments)}catch(a){return util.postError("getEventsListTimeLineSubtitle",a,a.stack),""}},getEventsListTimeLineSelectedTitle:function(){try{return function(a){var b=_.clone(a.get("infosTimelineFont"));return b.color=a.get("infosTimelineOnColor")||"transparent",this.css.createFontStyle(b)}.apply(this,arguments)}catch(a){return util.postError("getEventsListTimeLineSelectedTitle",a,a.stack),""}},getEventsListTimeLineSelectedSubtitle:function(){try{return function(a){var b=_.clone(a.get("timelineFont"));return b.color=a.get("timelineOnColor")||"transparent",this.css.createFontStyle(b)}.apply(this,arguments)}catch(a){return util.postError("getEventsListTimeLineSelectedSubtitle",a,a.stack),""}},getEventsListInfosTitle:function(){try{return function(a,b){var c=_.clone(a.get("titleFont"));return!user.device.mobile&&b&&(c.color=a.get("titleOnColor")||"transparent"),this.css.createFontStyle(c)}.apply(this,arguments)}catch(a){return util.postError("getEventsListInfosTitle",a,a.stack),""}},isEventsListInfos:function(){try{return function(a){var b=a.get("showInfos");return"1"==b}.apply(this,arguments)}catch(a){return util.postError("isEventsListInfos",a,a.stack),""}},getEventSubtitle:function(a,b){try{moment.locale(lang);var c=b.address;if(b.allDay){if(_.isEmpty(c))return a.get("infosContentTypeAllDay")||a.get("infosContentTypeNoAddress")||"";var d=a.get("infosContentTypeAllDay")||appLang.GB_TXT_19;return d.replace("[ADDRESS]",c)}var e=moment(b.date).format("LT");if(_.isEmpty(c)){var d=a.get("infosContentTypeNoAddress")||appLang.GB_TXT_20;return d.replace("[HOUR]",e)}return appLang.GB_TXT_8.replace("[ADDRESS]",c).replace("[HOUR]",e)}catch(f){return util.postError("getEventSubtitle",f,f.stack),""}},getEventsListInfosSubtitle:function(){try{return function(a,b){var c=_.clone(a.get("subtitleFont"));return!user.device.mobile&&b&&(c.color=a.get("subtitleOnColor")||"transparent"),this.css.createFontStyle(c)}.apply(this,arguments)}catch(a){return util.postError("getEventsListInfosSubtitle",a,a.stack),""}},isEventsThumb:function(){try{return function(a){var b=a.get("showThumb");return"1"==b}.apply(this,arguments)}catch(a){return util.postError("isEventsThumb",a,a.stack),""}},getEventsListThumbFormat:function(){try{return function(a){var b=a.get("thumbFormat");return b}.apply(this,arguments)}catch(a){return util.postError("getEventsListThumbFormat",a,a.stack),""}},getEventsListThumb:function(){try{return function(a){return this.getImageUrl(a.get("defaultThumb"))}.apply(this,arguments)}catch(a){return util.postError("getEventsListThumb",a,a.stack),""}},addEventStyle:function(){try{return function(a){var b="";b+=".timelineTitle {"+this.getEventsListTimeLineTitle(a)+"}",b+="li.selected .timelineTitle {"+this.getEventsListTimeLineSelectedTitle(a)+"}",b+=".timelineSubtitle {"+this.getEventsListTimeLineSubtitle(a)+"}",b+="li.selected .timelineSubtitle {"+this.getEventsListTimeLineSelectedSubtitle(a)+"}",b+=".eventInfosTitle {"+this.getEventsListInfosTitle(a)+"}",b+=".eventInfosSubtitle {"+this.getEventsListInfosSubtitle(a)+"}",b+=".eventLocation.currentEvent .eventInfosTitle {"+this.getEventsListInfosTitle(a,!0)+"}",b+=".eventLocation.currentEvent .eventInfosSubtitle {"+this.getEventsListInfosSubtitle(a,!0)+"}";var c={};return c[f("infosTimelineFont",a)]="li.notSelected .timelineTitle",c[f("infosTimelineOnColor",a)]="li.selected .timelineTitle",c[f("timelineFont",a)]="li.notSelected .timelineSubtitle",c[f("timelineOnColor",a)]="li.selected .timelineSubtitle",c[f("titleFont",a)]=".eventInfosTitle",c[f("subtitleFont",a)]=".eventInfosSubtitle",c[f("titleFont.color",a)]=".eventInfosTitle",c[f("subtitleFont.color",a)]=".eventInfosSubtitle",user.device.mobile||(_.is(a.get("cellSelectedColor"))&&(b+=".eventLocation.currentEvent {background-color:"+a.get("cellSelectedColor")+"}",c[f("cellSelectedColor",a)]=".eventLocation.currentEvent"),c[f("titleOnColor",a)]=".eventLocation.currentEvent .eventInfosTitle",c[f("subtitleOnColor",a)]=".eventLocation.currentEvent .eventInfosSubtitle"),this.css.createStyleTag(b,c)}.apply(this,arguments)}catch(a){return util.postError("addEventStyle",a,a.stack),""}},toggleLiveStatus:function(){var a=this.getSelectedSection();if(_.pos(a)){var b=!a.get("liveOffPreviewState");return a.set("liveOffPreviewState",b),viewFactory.currentView.rerender()}return!1},getLiveStatus:function(a){try{if(preview){var b=a.get("liveOffPreviewState")||!1;return _.neg(b)}var c=a.get("scheduling");if(!util.empty(c)&&!util.empty(c.enabled)){var d=c.beginning.date,e=c.beginning.hour,f=c.beginning.date,g=c.end.hour;switch(c.frequency){case"single":var h=new Date(d+"T"+e+".000Z"),i=new Date(f+"T"+g+".000Z"),j=new Date;if(h>j||j>i)return!1;break;case"daily":var k=moment().format("YYYY-MM-DD"),h=new Date(k+"T"+e+".000Z"),i=new Date(k+"T"+g+".000Z"),j=new Date;if(h>j||j>i)return!1;break;case"weekly":var l=(new Date).getDay()-1;if(-1==l&&(l=6),util.empty(c.dayWeek[l]))return!1;var k=moment().format("YYYY-MM-DD"),h=new Date(k+"T"+e+".000Z"),i=new Date(k+"T"+g+".000Z"),j=new Date;if(h>j||j>i)return!1;break;case"monthly":var m=(new Date).getDate();if(m!=c.dayMonth)return!1;var k=moment().format("YYYY-MM-DD"),h=new Date(k+"T"+e+".000Z"),i=new Date(k+"T"+g+".000Z"),j=new Date;if(h>j||j>i)return!1;break;default:return!0}}return!0}catch(n){return util.postError("getLiveStatus",n,n.stack),!1}},getLiveService:function(){try{return function(a){return a.get("service")}.apply(this,arguments)}catch(a){return util.postError("getLiveService",a,a.stack),""}},isLiveRadio:function(){try{return function(a){return"liveradio"==this.getLiveService(a)}.apply(this,arguments)}catch(a){return util.postError("isLiveRadio",a,a.stack),""}},hasAudioVisualizer:function(){try{return function(a){return _.is(a.get("equalizerEnabled"))&&"1"==a.get("equalizerEnabled")}.apply(this,arguments)}catch(a){return util.postError("hasAudioVisualizer",a,a.stack),""}},hasDetailAudioVisualizer:function(){try{return function(a){return _.is(a.get("detail.equalizerEnabled"))&&"1"==a.get("detail.equalizerEnabled")}.apply(this,arguments)}catch(a){return util.postError("hasDetailAudioVisualizer",a,a.stack),""}},getEqualizerBarColor:function(){try{return function(a){return this.css.hexToRgba(a.get("equalizerColor"),parseFloat(a.get("equalizerOpacity"),10))}.apply(this,arguments)}catch(a){return util.postError("getEqualizerBarColor",a,a.stack),""}},getLoopColor:function(){try{return function(a){var b=a.get("loopColor"),c=f("loopColor",a,"playerTintColor",!0);return b?b+c:a.get("playerTintColor")+c}.apply(this,arguments)}catch(a){return util.postError("getLoopColor",a,a.stack),""}},getStreamUrl:function(a){return a&&-1!=a.indexOf("/",a.length-1)?a+";":a+"/;"},getLiveSectionCSS:function(){try{return function(a){var b=a.get("playerTintColor"),c=this.css.hexToRgba(b,.4),d=this.css.hexToRgba(b,.5),e=this.css.hexToRgba(b,.3),g=this.css.hexToRgba(b,.4),h=a.get("listBackgroundColor"),i="";i+=".spinner{background-color:"+c+";}\n",i+=".spinner .content:after, .spinner .content::after{background:"+d+";}\n",i+=".spinner .outerContent:after, .spinner .outerContent::after{background:"+e+";}",i+=".spinner .content li{background:"+g+";}\n",i+="#mainViewHolder{background-color:"+h+"}\n";var j={};return j[f("playerTintColor",a)]=".spinner",j[f("listBackgroundColor",a)]="#mainViewHolder",this.css.createStyleTag(i,j)}.apply(this,arguments)}catch(a){return util.postError("getLiveSectionCSS",a,a.stack),""}},getLivePlusNbItems:function(){try{return function(a){var b=a.get("nbItems");return b?b:5}.apply(this,arguments)}catch(a){return util.postError("getLivePlusNbItems",a,a.stack),""}},hasHistoryEnabled:function(){try{return function(a){return"1"==a.get("historyEnabled")}.apply(this,arguments)}catch(a){return util.postError("hasHistoryEnabled",a,a.stack),""}},getLivePlusItemsToShow:function(){try{return function(a,b){var c=this.hasHistoryEnabled(b)?this.getLivePlusNbItems(b):1,d=_.is(a)&&a.length>0;return d?_.first(a,c).reverse():[{id:"",author:"",images:{artworkUrl400:""},duration:0,title:""}]}.apply(this,arguments)}catch(a){return util.postError("getLivePlusItemsToShow",a,a.stack),""}},getLivePlusOverlayBlurOpacity:function(){try{return function(a){var b=a.get("blurOpacityOverlay");return b?b:.6}.apply(this,arguments)}catch(a){return util.postError("getLivePlusOverlayBlurOpacity",a,a.stack),""}},getLivePlusOverlayColor:function(){try{return function(a){var b=a.get("blurOpacityColor");return b?b:a.get("listBackgroundColor")}.apply(this,arguments)}catch(a){return util.postError("getLivePlusOverlayColor",a,a.stack),""}},getLivePlusOverlay:function(){try{return function(a){var b=this.css.hexToRgba(this.getLivePlusOverlayColor(a),this.getLivePlusOverlayBlurOpacity(a));return b+=f("listBackgroundColor",a),b+=f("listBackgroundOpacity",a)}.apply(this,arguments)}catch(a){return util.postError("getLivePlusOverlay",a,a.stack),""}},getSoundCloudOverlayBlurOpacity:function(){try{return function(a){var b=a.get("detail.blurOpacityOverlay");return _.is(b)?b:.6}.apply(this,arguments)}catch(a){return util.postError("getSoundCloudOverlayBlurOpacity",a,a.stack),""}},getSoundCloudOverlayColor:function(){try{return function(a){var b=a.get("detail.blurOpacityColor");return _.is(b)?b:a.get("detail.listBackgroundColor")}.apply(this,arguments)}catch(a){return util.postError("getSoundCloudOverlayColor",a,a.stack),""}},getSoundCloudOverlay:function(){try{return function(a){var b=s.fk("detail.listBackgroundColor",a)+s.fk("detail.listBackgroundOpacity",a),c=this.css.hexToRgba(this.getSoundCloudOverlayColor(a),this.getSoundCloudOverlayBlurOpacity(a));return c+b}.apply(this,arguments)}catch(a){return util.postError("getSoundCloudOverlay",a,a.stack),""}},getSoundEqualizer:function(){try{return function(a){return equalizer=a.get("detail.equalizerEnabled"),_.is(equalizer)?equalizer:!0}.apply(this,arguments)}catch(a){return util.postError("getSoundEqualizer",a,a.stack),""}},getEqualizerColor:function(){try{return function(a){return equalizerColor=a.get("detail.equalizerColor"),_.is(equalizerColor)?equalizerColor:"#FFFFFF"}.apply(this,arguments)}catch(a){return util.postError("getEqualizerColor",a,a.stack),""}},getEqualizerOpacity:function(){try{return function(a){return equalizerOpacity=a.get("detail.equalizerOpacity"),_.is(equalizerOpacity)?equalizerOpacity:.3}.apply(this,arguments)}catch(a){return util.postError("getEqualizerOpacity",a,a.stack),""}},getSoundCoverRadius:function(){try{return function(a){return coverRadius=a.get("detail.coverRadius"),_.is(coverRadius)?coverRadius:!1}.apply(this,arguments)}catch(a){return util.postError("getSoundCoverRadius",a,a.stack),""}},getSoundCloudCoverRadius:function(){try{return function(a){return coverRadius=a.get("detail.soundcloudCoverRadius"),_.is(coverRadius)?coverRadius:!0}.apply(this,arguments)}catch(a){return util.postError("getSoundCloudCoverRadius",a,a.stack),""}},get:function(){try{return function(a,b){var c=s.getSelectedSection();if(_.not(b)&&(b={}),"categories.circle.borderColor"==a){var d=k(a);return _.is(d)&&"transparent"!=d?"border-right: 1px solid "+h(a,c):f(a,c)}return"categories.circle.selectedBackgroundImage"==a?b.isSelected?"background-image:"+s.getImageUrl(c.get(a),!0):"background-image:none":"categories.circle.selectedBackgroundColor"==a&&b.isSelected?"background-color:"+h(a,c):"categories.circle.titleSelectedColor"==a?b.isSelected?"color:"+h(a,c):"color:"+h("categories.circle.titleFont.color",c):void 0}.apply(this,arguments)}catch(a){return util.postError("get",a,a.stack),""}},getCss:function(){try{return function(a,b){return";"+this.get(a,b)+";"}.apply(this,arguments)}catch(a){return util.postError("getCss",a,a.stack),""}},getLoadMoreContainer:function(){try{return function(a){return util.empty(a.get("repeatEvents"))?"GBMapsListTemplateTypeClassic"==a.get("template")?"GBMapsListTemplateTypeClassicContainer":"buffering":"GBEventsListTemplateTypeExpandableContainer"}.apply(this,arguments)}catch(a){return util.postError("getLoadMoreContainer",a,a.stack),""}},getLoadMoreTemplate:function(){try{return function(a){var b;switch(a.get("template")){case"GBArticleListTemplateTypeUneGrid":if(!user.device.mobile){b="_asyncUneGrid";break}case"GBArticleListTemplateTypeClassic":b="_asyncArticleClassic";break;case"GBArticleListTemplateTypeClassicUne":b="_asyncArticleClassic";break;case"GBArticleListTemplateTypeGrid":b="_asyncGrid";break;case"GBArticleListTemplateTypeMinimalColor":b="_asyncMinimalColor";break;case"GBArticleListTemplateTypeMinimalPhotos":b="_asyncMinimalPhotos";break;case"GBArticleListTemplateTypeVisuels":b="_asyncVisuels";break;case"GBArticleListTemplateTypeCheckerboard":b="_asyncArticleCheckerboard";break;case"GBMapsListTemplateTypeClassic":b="_asyncMapdistantList";break;case"GBPhotoListTemplateTypeClassic":b="_asyncPhotoClassic";break;case"GBPhotoListTemplateTypeSquare":b="_asyncPhotoClassic";break;case"GBPhotoListTemplateTypeEdgetoedge":b="_asyncEdgetoedge";break;case"GBPhotoListTemplateTypeInstagram":b="_asyncInstagram";break;case"GBPhotoListTemplateTypePinterest":b="_asyncPinterest";break;case"GBAgendaListTemplateTypeClassic":b="_asyncEventsExpandable";break;case"GBAgendaListTemplateTypeExpandable":b="_asyncEventsExpandable";break;case"GBSoundListTemplateTypeClassic":b="_asyncSoundClassic";break;case"GBSoundListTemplateTypeSoundCloud":b="_asyncSoundCloud";break;case"GBTwitterListTemplateTypeProfile":case"GBTwitterListTemplateTypeBanner":case"GBTwitterListTemplateTypeClassic":b="_asyncTwitterClassic";break;default:b="_asyncArticleClassic"}return{key:b,tpl:d.getTemplate(b)}}.apply(this,arguments)}catch(a){return util.postError("getLoadMoreTemplate",a,a.stack),""}},getTabBarNbSections:function(){try{return function(){return user.device.mobile?5:8}.apply(this,arguments)}catch(a){return util.postError("getTabBarNbSections",a,a.stack),""}},clearCache:function(){try{return function(){return appLang.GB_TXT_38}.apply(this,arguments)}catch(a){return util.postError("clearCache",a,a.stack),""}},getSoundListSelectedBackgroundColor:function(){try{return function(a,b){if(!b)return s.getListBackgroundColor(a);var c=a.get("cellSelectedColor");return _.is(c)?c+f("cellSelectedColor",a):s.getListBackgroundColor(a)}.apply(this,arguments)}catch(a){return util.postError("getSoundListSelectedBackgroundColor",a,a.stack),""}},getSoundListSelectedSubtitleColor:function(){try{return function(a,b){if(!b)return"";var c=a.get("titleSelectedColor");return _.is(c)?(_.is(c.color)&&(c=c.color),"color:"+c+f("titleSelectedColor",a)):forceKey("titleSelectedColor",a)}.apply(this,arguments)}catch(a){return util.postError("getSoundListSelectedSubtitleColor",a,a.stack),""}},getCategoriesContainerHeight:function(){var a=this.getSelectedSection(),b=0;if(_.is(a.get("subsections"))&&a.get("subsections").length>0)switch(this.getSectionCategoriesTemplate(a)){case"GBCategoriesTemplateTypePager":b=18;break;case"GBCategoriesTemplateTypeCircleBand":b=44;break;default:b=0}return b},appHasBookmarks:function(){return _.filter(appSections,function(a){return"GBModuleTypeBookmark"==a.get("type")}).length>0},moduleRootGridIconNormalBackgroundColorWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.normalBackgroundColor||"";return _.pos(d)?d:appSettings.get("root.grid.icon.normalBackgroundColor")}return appSettings.get("root.grid.icon.normalBackgroundColor")},moduleRootGridIconNormalBackgroundImageWithWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.normalBackgroundImage||"";return _.pos(d)?d:appSettings.get("root.grid.icon.normalBackgroundImage")}return appSettings.get("root.grid.icon.normalBackgroundImage")},moduleRootGridIconColorWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.iconColor||"";return _.pos(d)?d:appSettings.get("root.grid.iconColor")}return appSettings.get("root.grid.iconColor")},moduleRootGridIconTextureWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.iconTexture||"";return _.pos(d)?d:appSettings.get("root.grid.iconTexture")}return appSettings.get("root.grid.iconTexture")},moduleRootGridIconTitleBackgroundColorWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.titleBackgroundColor||"";return _.pos(d)?d:appSettings.get("root.grid.titleBackgroundColor")}return appSettings.get("root.grid.titleBackgroundColor")},moduleRootGridIconTitleBackgroundOpacityWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.titleBackgroundOpacity||0;return _.pos(d)?d:1}return 1},moduleRootGridIconTitleFontWithSectionId:function(a){var b=appSettings.get("root.grid.sectionParams")||[];if(b.length>0){var c=b[a]||{},d=c.titleFont||{};return _.pos(d)?d:appSettings.get("root.grid.textFont")}return appSettings.get("root.grid.textFont")},moduleMinimalColorSubtitleOnTop:function(a){var b=a.get("subtitleOnTop")||"0";return _.pos(b)},moduleMinimalPageControlColor:function(a,b){var c=1,d="";b?(d=s.fvk("minimal.pager.onColor",a),c=a.get("minimal.pager.onOpacity")||1):(d=s.fvk("minimal.pager.offColor",a),c=a.get("minimal.pager.offOpacity")||1);var e=d.split(/^(#[0-9A-Fa-f]{6});/);return this.css.hexToRgba(e[1],c)+";"+e[2]},isPhotoDetailCall:function(a){return this.isItemCall()&&"GBPhotoDetailTemplate"==this.getSectionDetailTemplate(a)},moduleDetailTitleToken:function(a){return a.get("detail.navBarTitleToken")||appLang.GB_TXT_12},modulePhotoShowTitleInDesc:function(a){return _.pos(a.get("showTitleInDesc"))||!1},moduleNavBarOpacity:function(a){var b=this.getSectionNavBar(a);if("transparent"==this.getNavBarEffect(b)){var c=parseFloat(b.opacity,10);return _.is(c)&&c>=0&&1>=c?c:.7}return 1},rootLittleMenuCellHeight:function(){return parseFloat(appSettings.get("root.littleMenu.cellHeight"),10)||90
},rootLittleMenuWidth:function(){return parseFloat(appSettings.get("root.littleMenu.width"),10)||93},rootLittleMenuCSS:function(){var a="",b=this.rootLittleMenuWidth();return a="#root.GBRootControllerTypeLittleSwipe section.menu {width:"+b+"px !important;}		.transform3d #root.GBRootControllerTypeLittleSwipe section.main.open, .transform3d.tablet #root.GBRootControllerTypeLittleSwipe section.main.open{			transform: translate3d("+b+"px,0,0);			-webkit-transform: translate3d("+b+"px,0,0);			-moz-transform: translate3d("+b+"px,0,0);			-ms-transform: translate3d("+b+"px,0,0);			-o-transform: translate3d("+b+"px,0,0);		}",this.css.createStyleTag(a)},rootLittleMenuIsCentered:function(){return _.pos(appSettings.get("root.littleMenu.isCentered"))||!1},rootMenuCellHeight:function(){return parseFloat(appSettings.get("root.menu.cellHeight"),10)||44},rootMenuWidth:function(){return parseFloat(appSettings.get("root.menu.width"),10)||260},rootMenuCSS:function(){var a="",b=this.rootMenuWidth();return a="#root.GBRootControllerTypeFacebookMenu section.menu,		.GBRootControllerTypeFacebookMenu section.menu header,		.tablet #root.GBRootControllerTypeFacebookMenu section.menu.open .facebookmenuheaderinner,		#root.GBRootControllerTypeFacebookMenu section.menu.open .facebookmenuheaderinner,		#facebookMenuSection-inner {width:"+b+"px !important;}		.transform3d #root.GBRootControllerTypeFacebookMenu section.main.open, .transform3d.tablet #root.GBRootControllerTypeFacebookMenu section.main.open{			transform: translate3d("+b+"px,0,0);			-webkit-transform: translate3d("+b+"px,0,0);			-moz-transform: translate3d("+b+"px,0,0);			-ms-transform: translate3d("+b+"px,0,0);			-o-transform: translate3d("+b+"px,0,0);		}",this.css.createStyleTag(a)},moduleDetailVerticalToolBarBadgeTextColor:function(a){var b=a.get("detail.toolbar.badgeTextColor");return _.is(b)?b:a.get("detail.toolbar.icons.selectedColor")||"#FFFFFF"},moduleDetailHidePhotos:function(a){return _.pos(a.get("detail.hidePhotos"))||!1},moduleDetailHidePhotosCSS:function(a){return this.moduleDetailHidePhotos(a)?"display:none !important;":""},moduleUseOriginalImageIfPossible:function(a){var b=a.get("useOriginalImageIfPossible")||appSettings.get("useOriginalImageIfPossible");return _.pos(b)},isThereMapSection:function(){var a=!1;return _.pos(appSections)&&(a=_.find(appSections,function(a){return"GBModuleTypeMaps"==a.get("type")},this)),_.pos(a)},isThereLoyaltyCardSection:function(){var a=!1;return _.pos(appSections)&&(a=_.find(appSections,function(a){return"GBModuleTypeLoyaltyCard"==a.get("type")},this)),_.pos(a)},useMiles:function(){if(_.isNull(modules.storage.get("useMiles"))){var a="en",b=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||a,c=_.contains(b,"en");return modules.storage.set("useMiles",c),c}return modules.storage.get("useMiles")},moduleIconBackTo:function(a,b){if(s.isItemCall()&&_.pos(a.get("detail.navBar.iconBackTo")))var c=a.get("detail.navBar.iconBackTo");else if(_.pos(a.get("navBar.iconBackTo")))var c=a.get("navBar.iconBackTo");else{if(!_.pos(appSettings.get("navBar.iconBackTo")))return!1;var c=appSettings.get("navBar.iconBackTo")}var d=c.imageUrl;return"<img class='customIconBackTo canvas leftButton "+b+"' src='"+d+"'>"},generalDefaultTextFontSize:function(){var a=15,b=17,c=12,d=30,e=appSettings.get("defaultTextFontSize");if(_.pos(e)){var f=parseFloat(e,10);return c>f&&(f=c),f>d&&(f=d),f}return user.device.mobile?a:b},commentsDisqusHTML:function(){var a=appSettings.get("disqusHTML");return _.pos(a)?a:!1},moduleHidePageCategorie:function(a){return _.pos(a.get("hidePageCategorie"))||!1},moduleSeeWebsite:function(a){return a.get("detail.browseWebsite")||appLang.GB_SETTINGS_14},moduleMyAccount:function(){var a,b,c;return a=modules.push.displayNotificationsListLink(),b=modules.chat.rules.getChatSection(),c=this.isThereLoyaltyCardSection(),a||_.pos(b)||c},sectionUserProfilePushNotificationsTitleFont:function(a){if(_.pos(a.get("pushHistory.titleFont")))return this.fallbackFont(a,"section.pushHistory.titleFont");var b=_.clone(a.get("entitledFont"));return b.size=b.tabletSize="18",this.fontStyle(b)+p("entitledFont",a)},sectionUserProfilePushNotificationsDateFont:function(a){if(_.pos(a.get("pushHistory.dateFont")))return this.fallbackFont(a,"section.pushHistory.dateFont");var b=_.clone(a.get("infosFont"));return b.size=b.tabletSize="14",this.fontStyle(b)+p("infosFont",a)},moduleProfileShowEditButton:function(a){var b=a.get("hideEditButton")||!1;return _.neg(b)},moduleProfileShowSettingsButton:function(a){var b=a.get("hideSettingsButton")||!1;return _.neg(b)},css:{css3Prefix:["","-webkit-","-moz-","-o-"],hexToRgba:function(){try{return function(a,c,d){return(_.not(c)||""==c)&&(c=1),c=parseFloat(c,10),a=_.not(a)?"":a,a=a.replace("#",""),this.isValidHex(a)?(r=parseInt(a.substring(0,2),16),g=parseInt(a.substring(2,4),16),b=parseInt(a.substring(4,6),16),_.is(d)&&(r=Math.floor(Math.max(0,Math.min(255,r*d))),g=Math.floor(Math.max(0,Math.min(255,g*d))),b=Math.floor(Math.max(0,Math.min(255,b*d)))),result="rgba("+r+","+g+","+b+","+c+")"):a}.apply(this,arguments)}catch(a){return util.postError("hexToRgba",a,a.stack),""}},hexToBackgroundColor:function(a,b){var c=this.hexToRgba(a,b);return"background-color:"+c+";"},makeBackgroundColor:function(a){var b=q(a+"Color"),c=q(a+"Opacity");return b.val?"background-color:"+s.css.hexToRgba(b.val,c.val)+b.key+c.key:""},makeRectangleButtons:function(a,b,c){function d(b,c,d,e,f,g){var h="";return h+="<a "+b+" class='rectangleButtonContainer' ",h+=" style='",util.empty(d)||(h+="background-image:"+d+";"),h+="background-color:"+s.fvk("detail.buttonBackgroundColor",a)+"'>",h+=s.createIcon(s.getRealIconUrl(f),e.val,"","button-event"+g,"","","font-size:15px;",'<span style="'+s.fontStyle("detail.textFont",a)+"font-size:12px!important;color:"+e.val+e.key+'margin-left:5px;font-weight:bold;">'+c+"</span>"),h+="</a>"}var e,f,c=c||!1,g=[];if("GBModuleTypeAgenda"==a.get("type")?(e=s.getImageUrl(a.get("detail.buttonBackgroundTexture"),!0),f=q(a,"section.detail.buttonIconColor")):f=q(a,"section.detail.buttonTextColor"),util.empty(b.phoneNumber)||g.push({key:"phone",html:d(' href="tel:'+b.phoneNumber+'"',b.phoneNumber,e,f,"tel-event-button","")}),_.is(b.latitude)&&_.is(b.longitude)&&0!=b.latitude&&0!=b.longitude){var h=s.map.makeLinkToExternalMap(b.latitude,b.longitude,b.title),i=a.get("detail.infosTrip")||appLang.GB_TXT_7;g.push({key:"location",html:d(h,i,e,f,"map-event-button",_.isEmpty(b.phoneNumber)?"":" right")})}if(!util.empty(b.email)){var j=$(window).width()<290?appLang.GB_TXT_175:appLang.GB_TXT_163,k=a.get("detail.sendMail")||j;g.push({key:"mail",html:d(' href="mailto:'+b.email+'"',k,e,f,"email","")})}if(!util.empty(b.website)){var k=a.get("detail.browseWebsite")||appLang.GB_TXT_99;g.push({key:"website",html:d(' href="'+b.website+'"',k,e,f,"contact-link","")})}if(!util.empty(b.urlShop)){var k=a.get("detail.infosTicketing")||appLang.GB_TXT_212;g.push({key:"ticket",html:d(' href="'+b.urlShop+'"',k,e,f,"buyticket","")})}return c?g:'<div class="rectangleButtonsContainer">'+_.pluck(g,"html").join("")+"</div>"},isValidHex:function(){try{return function(a){return"string"==typeof a&&6===a.length&&!isNaN(parseInt(a,16))}.apply(this,arguments)}catch(a){return util.postError("isValidHex",a,a.stack),""}},toCSSURL:function(){try{return function(a){return""==a?"none":"url("+a+")"}.apply(this,arguments)}catch(a){return util.postError("toCSSURL",a,a.stack),""}},getBorderStyle:function(){try{return function(a){var b=f("borderColor",a);return util.empty(a.get("borderColor"))||"transparent"==a.get("borderColor")?"none"+b:"1px solid "+a.get("borderColor")+b}.apply(this,arguments)}catch(a){return util.postError("getBorderStyle",a,a.stack),""}},getBorderSoundCover:function(){try{return function(a){var b=f("detail.borderColor",a);return 1!=a.get("detail.coverBordersEnabled")||util.empty(a.get("borderColor"))||"transparent"==a.get("detail.borderColor")?"none"+b:"1px solid "+a.get("detail.borderColor")+b}.apply(this,arguments)}catch(a){return util.postError("getBorderSoundCover",a,a.stack),""}},toCSSProperty:function(){try{return function(a){var b="";for(i=0;i<a.length;i++){var c=i>0?"-":"",d=a.charAt(i);b+=d==d.toUpperCase()?c+d.toLowerCase():d}return b}.apply(this,arguments)}catch(a){return util.postError("toCSSProperty",a,a.stack),""}},getRTLStyle:function(){try{return function(a){return s.isRTL({section:a})?"text-align: right;direction: rtl;":""}.apply(this,arguments)}catch(a){return util.postError("getRTLStyle",a,a.stack),""}},getRTLTag:function(a){return s.isRTL({section:a})?{opening:'<bdo dir="rtl">',closing:"</bdo>"}:{opening:"",closing:""}},createFontStyle:function(){try{return function(a,b){_.not(b)&&(b={}),_.not(b.sizeMultiplier)&&(b.sizeMultiplier=1),_.not(b.useRTL)&&(b.useRTL=!1),isRTL=s.isRTL(_.not(b.section)?{fontStyleObject:a}:{fontStyleObject:a,section:b.section});var c="";if(isRTL&&b.useRTL&&(c+="text-align: right;"),void 0!=a.fontType){var d=a.fontType;-1!=d.indexOf(":")&&(d=d.substring(0,d.indexOf(":"))),c+="font-family: '"+d+"';"}if(void 0!=a.size){var e=a.size;user.device.mobile||b.disableTabletSize||void 0==a.tabletSize||(e=a.tabletSize),c+="font-size:"+String(Math.ceil(parseInt(e,10)*b.sizeMultiplier*s.getCoeffSize()))+"px;"}return void 0!=a.shadow&&void 0!=a.shadow.color&&(c+="font-size:"+Math.ceil(parseInt(e,10)*b.sizeMultiplier*s.getCoeffSize())+"px;",c+="text-shadow:"+a.shadow.color+" "+parseInt(a.shadow.orientationLeft,10)+"px ",c+=parseInt(a.shadow.orientationTop,10)+"px "+parseInt(a.shadow.size,10)+"px;"),void 0!=a.urlFont&&-1==util.CSSFonts.indexOf(a.fontType)&&util.CSSFonts.push(a.fontType),_.each(a,function(a,b){-1==["fontType","size","tabletSize","shadow","urlFont","localFont"].indexOf(b)&&(c+=this.toCSSProperty(b)+":"+a+";")},this),c}.apply(this,arguments)}catch(a){return util.postError("createFontStyle",a,a.stack),""}},getButtonSwipeBackgroundClass:function(){try{return function(){var a="";return s.hasButtonBackground(appSettings.get("root.swipe"))&&(a+=" with_bg"),a}.apply(this,arguments)}catch(a){return util.postError("getButtonSwipeBackgroundClass",a,a.stack),""}},createBackButton:function(){try{return function(a,b){var c,d,e="",g="",h=f("navBar.backgroundColorBackTo",s.getSelectedSection()),i="",j="";return a.backgroundColorBackTo&&"transparent"!==a.backgroundColorBackTo&&(h="background-color : "+a.backgroundColorBackTo),g=""!==h?"bg-on-back":"",d=s.getSelectedSection(),d.get("indexSelectedItem")&&d.get("templateMode").match("/GBArticleListTemplateTypeMinimal/")&&(b+="&amp;minimal="+d.get("indexSelectedItem")+1),e='<a class="'+g+'" style="'+h+'" data-role="none" href="'+b+'">\n',i="button-back"==a.typeBackTo?a.typeBackTo:"button-swipe",c=s.hasButtonBackground(a),"button-back"==a.typeBackTo&&(j=c?j:"flat-border",e+='<label class="backto '+a.typeBackTo+" "+j+'" 					style="color:'+a.buttonIconColor+" 					;"+f("navBar.buttonIconColor",s.getSelectedSection())+"border-color:"+s.css.hexToRgba(a.buttonIconColor,.3)+'"> 					'+appLang.RETOUR+"</label>\n"),e+="</a>\n"}.apply(this,arguments)}catch(a){return util.postError("createBackButton",a,a.stack),""}},getSectionMargin:function(){try{return function(a,b,c,d){_.not(c)&&(c=!1);var e="margin: 0;";if(!s.isMinimalSection(a)&&"node"!=a.get("nodeType")||s.isItemCall()){if(a.get("marginStyle"))e=a.get("marginStyle");else{var f=a&&a.get("margin")?a:appSettings;e="margin: "+f.get("margin.top")*util.coeffSize+"px "+f.get("margin.right")*util.coeffSize+"px "+f.get("margin.bottom")*util.coeffSize+"px "+f.get("margin.left")*util.coeffSize+"px;"}if(_.is(b))switch(m=e.replace("margin: ","").split("px"),b){case"top":if(_.isI(m[0]))return c?m[0]:"margin-top : "+m[0]+";";break;case"right":if(_.isI(m[1]))return c?m[1]:"margin-right : "+m[1]+";";break;case"bottom":if(_.isI(m[2]))return c?m[2]:"margin-bottom : "+m[2]+";";break;case"left":if(_.isI(m[3]))return c?m[3]:"margin-left : "+m[3]+";"}}return d&&(e=e.replace(/margin/g,"padding")),e}.apply(this,arguments)}catch(a){return util.postError("getSectionMargin",a,a.stack),""}},detailHasMargin:function(a){return user.device.mobile||"GBMapsListTemplateTypeClassic"!=a.get("template")?!0:!1},getDetailMargin:function(a){if(s.css.detailHasMargin(a)){var b=n(a,"detail.margin","",!0),c="";return _.is(b)?(_.each(b.val,function(a,b){c+="margin-"+b+":"+a+"px;"}),c+b.key):s.getSectionMargin(a)}return""},getBorder:function(){try{return function(a,b,c,d){if("top"!=d&&"bottom"!=d&&"left"!=d&&"right"!=d)return"";var e=": "+a+" "+b+" "+c+";";return _(d).isUndefined()?"border"+e:"border-"+d+e}.apply(this,arguments)}catch(a){return util.postError("getBorder",a,a.stack),""}},makeShadow:function(){try{return function(a,b){var c="";return _(this.css3Prefix).each(function(d){c+=d+"box-shadow:"+String(-10*s.getCoeffSize())+"px 0 0 "+this.hexToRgba(a,b)+";"},this),c}.apply(this,arguments)}catch(a){return util.postError("makeShadow",a,a.stack),""}},upperCase:function(){try{return function(){return"text-transform:uppercase;"}.apply(this,arguments)}catch(a){return util.postError("upperCase",a,a.stack),""}},makeWidth:function(){try{return function(a,b){return"width:"+a+b+";"}.apply(this,arguments)}catch(a){return util.postError("makeWidth",a,a.stack),""}},createBackground:function(){try{return function(a,b){return"background-color:"+a+";background-image:"+b+";"}.apply(this,arguments)}catch(a){return util.postError("createBackground",a,a.stack),""}},createImg:function(){try{return function(a,b){return'<img class="'+a+'" src="'+b+'" alt="" />'}.apply(this,arguments)}catch(a){return util.postError("createImg",a,a.stack),""}},createStyleTag:function(){try{return function(a,b,c){_.not(b)&&(b={});var d="",e=c?"keyForSelectorV2":"keyForSelector";return _.each(b,function(a,b){c&&(window.user.browser.ie?(b=b.replace("key:","").replace(";",""),b=b.replace(/^\s+|\s+$/g,"")):b=b.replace(";key:","").replace(";","")),d+='<div class="'+e+' hidden" data-key="'+b+'" data-selector="'+a+'"></div>'}),{tag:'<style type="text/css">\n'+a+"</style>\n",keys:d}}.apply(this,arguments)}catch(a){return util.postError("createStyleTag",a,a.stack),""}},createGradient:function(){try{return function(){}.apply(this,arguments)}catch(a){return util.postError("createGradient",a,a.stack),""}},shadeBlendColor:function(a,b,c){var d=0>a?-1*a:a,e=Math.round,f=parseInt;if(b.length>7){var g=b.split(","),h=(c?c:0>a?"rgb(0,0,0)":"rgb(255,255,255)").split(","),i=f(g[0].slice(4)),j=f(g[1]),k=f(g[2]);return"rgb("+(e((f(h[0].slice(4))-i)*d)+i)+","+(e((f(h[1])-j)*d)+j)+","+(e((f(h[2])-k)*d)+k)+")"}var g=f(b.slice(1),16),h=f((c?c:0>a?"#000000":"#FFFFFF").slice(1),16),l=g>>16,m=g>>8&255,n=255&g;return"#"+(16777216+65536*(e(((h>>16)-l)*d)+l)+256*(e(((h>>8&255)-m)*d)+m)+(e(((255&h)-n)*d)+n)).toString(16).slice(1)}}};c.exports=s},{"./templates/templateFactory":176}],34:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+=" ";var util=require("../util"),rules=require("../rules"),section=rules.getSelectedSection(),template=(/^GBAboutListTemplateType/.test(rules.getSectionTemplate(section)),rules.getSectionTemplate(section)),article=section.get("article"),margin=rules.hasSectionMargins(section,!0)?rules.css.getSectionMargin(section,void 0,void 0,!0):"",border=_.isEmpty(margin)?"":"border:"+rules.getSectionBorder(section)+";",hasBannerImage=rules.getItemFirstImageAttribute(article),effect="about-"+rules.getNavBarEffect(!1,rules.getSelectedSection());__p+="\n\n";var style=rules.getAboutSectionCSS(section);__p+="\n"+(null==(__t=style.tag)?"":__t)+"\n"+(null==(__t=style.keys)?"":__t)+'\n\n<div class="GBAboutListContainer '+(null==(__t=template)?"":__t)+'" style="'+(null==(__t=margin)?"":__t)+'">\n	',!/Classic/.test(template)&&hasBannerImage&&(__p+='\n		<div class="bannerContainer '+(null==(__t=effect)?"":__t)+' parallax__layer">\n			<div class="bannerContent '+(null==(__t=user.device.tablet?"tablet":"")?"":__t)+'" data-replace-image="'+(null==(__t=rules.getItemFirstImageAttribute(article))?"":__t)+'" style="background-image:url('+(null==(__t=rules.getItemFirstImageAttribute(article,"url"))?"":__t)+')">\n				',"GBAboutListTemplateTypeBannerImageAndTitle"==template&&(__p+='\n					<div class="bannerGradient">\n						<div class="contentTitle">\n							'+(null==(__t=rules.getAboutSectionTitle(article,!0))?"":__t)+"\n						</div>\n					</div>\n			"),__p+="\n			</div>\n		</div>\n	"),__p+='\n	<div class="_asyncArticleDetailContainer" style="background-color:'+(null==(__t=rules.getSectionBackgroundColor(section))?"":__t)+";"+(null==(__t=border)?"":__t)+';" class="GBAboutList '+(null==(__t=effect)?"":__t)+' parallax__layer">\n		<div>\n			<article class="content detail-article '+(null==(__t=template)?"":__t)+'" style="padding-bottom: '+(null==(__t=8*util.coeffSize)?"":__t)+'px;">\n				',"GBAboutListTemplateTypeBannerImageAndTitle"==template&&hasBannerImage||(__p+="\n					"+(null==(__t=rules.getAboutSectionTitle(article,!0))?"":__t)+"\n				"),__p+="\n				"+(null==(__t=rules.getAboutSectionContent(section,article))?"":__t)+'\n			</article>\n		</div>\n	</div>\n</div>\n<div class="clearfix"></div>'}return __p}},{"../rules":33,"../util":177}],35:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var section=rules.getSelectedSection(),asyncArticleCheckerboard=templateFactory.getTemplate("_asyncArticleCheckerboard");__p+='\n\n<div id="GBArticleListTemplateTypeCheckerboardContainer" style="'+(null==(__t=user.device.tablet?"":rules.getSectionBorder(section))?"":__t)+'">\n	\n	',rules.getContent(section,asyncArticleCheckerboard,"GBArticleListTemplateTypeCheckerboard","GBArticleListTemplateTypeCheckerboardContainer"),__p+="\n\n</div>"}return __p}},{}],36:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncArticleClassic=templateFactory.getTemplate("_asyncArticleClassic");__p+='\n\n<div id="GBArticleListTemplateTypeClassicContainer" style="'+(null==(__t=user.device.tablet?"":rules.getSectionBorder(section))?"":__t)+'">\n	\n	',rules.getContent(section,asyncArticleClassic,"GBArticleListTemplateTypeClassic","GBArticleListTemplateTypeClassicContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],37:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncGrid");__p+='\n\n<div id="GBArticleListTemplateTypeGridContainer" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n\n	',rules.getContent(self,asyncTemplate,"GBArticleListTemplateTypeGrid","GBArticleListTemplateTypeGridContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],38:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncMinimalColor");__p+='\n\n\n\n\n\n		<div id="GBArticleListTemplateTypeMinimalColorContainer" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'" >\n\n			',rules.getContent(self,asyncTemplate,"GBArticleListTemplateTypeMinimalColor","GBArticleListTemplateTypeMinimalColorContainer"),__p+="\n\n		</div>\n\n"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],39:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncMinimalPhotos");__p+='\n\n<div id="GBArticleListTemplateTypeMinimalPhotosContainer" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n\n	',rules.getContent(self,asyncTemplate,"GBArticleListTemplateTypeMinimalPhotos","GBArticleListTemplateTypeMinimalPhotosContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],40:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncSlideShow");__p+='\n\n<div id="GBArticleListTemplateTypeSlideShowContainer" style="'+(null==(__t=rules.getSectionBorder(self))?"":__t)+'" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n\n	',rules.getContent(self,asyncTemplate,"GBArticleListTemplateTypeSlideShow","GBArticleListTemplateTypeSlideShowContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],41:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncUneGrid");__p+='\n\n<div id="GBArticleListTemplateTypeUneGridContainer" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+' ">\n\n	',rules.getContent(self,asyncTemplate,"GBArticleListTemplateTypeUneGrid","GBArticleListTemplateTypeUneGridContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],42:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var section=(require("../util"),rules.getSelectedSection()),templateFactory=require("./templateFactory"),_renderArticles=templateFactory.getTemplate("_asyncVisuels");__p+='\n\n<div data-next="'+(null==(__t=rules.getNextPage(section))?"":__t)+'" data-section="'+(null==(__t=section.get("id"))?"":__t)+'" class="'+(null==(__t=rules.getSectionTemplateMode(section))?"":__t)+'">\n	\n	<div id="GBArticleListTemplateTypeVisuelsContainer"></div>\n\n	',rules.getContent(section,_renderArticles,"GBArticleListTemplateTypeVisuels","GBArticleListTemplateTypeVisuelsContainer"),__p+="\n\n</div>\n\n"}return __p}},{"../util":177,"./templateFactory":176}],43:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncBookmarkList");__p+='\n\n<div id="GBBookmarkListTemplateTypeClassicContainer" style="'+(null==(__t=user.device.tablet?"":rules.getSectionBorder(section))?"":__t)+'">\n\n	',rules.getContent(section,asyncTemplate,"GBArticleListTemplateTypeClassic","GBBookmarkListTemplateTypeClassicContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],44:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div id="circleBandOuterDiv" class="categoriesFilterInNavBarContainer" style="'+(null==(__t="background-color:"+rules.fvk("categories.circle.normalBackgroundColor",section)+";background-image:"+rules.getImageUrl(rules.fv("categories.circle.normalBackgroundImage",section),!0))?"":__t)+'">\n<ul id="circleBandContainer" data-scroll="x" style="'+(null==(__t="background-color:"+rules.fvk("categories.circle.normalBackgroundColor",section)+";background-image:"+rules.getImageUrl(rules.fv("categories.circle.normalBackgroundImage",section),!0))?"":__t)+'">\n\n	';var tag=rules.makeCircleBandStyleTag(section);__p+="\n	"+(null==(__t=tag.tag+tag.keys)?"":__t)+"\n\n	",_.each(section.get("subsections"),function(a,b){var c=b,d=rules.getSelectedSubsection(),e=d&&rules.getSelectedSubsectionID()==c;__p+='\n		<li data-subsectionid="'+(null==(__t=c)?"":__t)+'" style="'+(null==(__t=rules.getCss("categories.circle.borderColor"))?"":__t)+'" class="'+(null==(__t=e?"focus":"")?"":__t)+'">\n\n			<a href="'+(null==(__t=rules.urlTo("section",section.get("id"),c))?"":__t)+'" \n				style="'+(null==(__t=rules.fallbackFont(section,"section.categories.circle.titleFont","categories.circle.titleFont"))?"":__t)+'">\n\n				<span style="">\n					'+(null==(__t=a.title)?"":__t)+"\n				</span>\n\n			</a>\n		</li>\n	"}),__p+="\n\n</ul>\n</div>"}return __p}},{}],45:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{var data=rules.getDropdownFilterDisplayData();user.device.mobile?data.backgroundColor:"",user.device.mobile?"":data.backgroundColor}__p+='\n\n<div id="dropdownOuterDiv" class="categoriesFilterInNavBarContainer">\n	<div class="GBCategoriesTemplateTypeDropdownContainer">\n		<div class="backgroundRepeater left" style="'+(null==(__t=data.backgroundColor)?"":__t)+'"></div>\n		<div class="backgroundRepeater right" style="'+(null==(__t=data.backgroundColor)?"":__t)+'"></div>\n		<style>\n		.GBCategoriesTemplateTypeDropdownContainer.open{max-height:'+(null==(__t=36*(section.get("subsections").length+1)+20)?"":__t)+"px;}\n		</style>\n		"+(null==(__t=data.titleSelectedColorStyleTag.tag)?"":__t)+"\n		"+(null==(__t=data.titleSelectedColorStyleTag.keys)?"":__t)+'\n		<span class="chevron left"></span>\n		<ol class="subsectionList"  style="'+(null==(__t=data.titleFont+data.backgroundColor)?"":__t)+'">\n			<li class="subsectionListHeader"></li>\n			',_.each(section.get("subsections"),function(a,b){var c=rules.getSelectedSubsection(),d=c&&rules.getSelectedSubsectionID()==b,e=d?' class="selected" ':"";__p+='\n				<li data-cat-id="'+(null==(__t=b)?"":__t)+'" '+(null==(__t=e)?"":__t)+">"+(null==(__t=a.title)?"":__t)+"</li>\n			"}),__p+='\n		</ol>\n		<span class="chevron right"></span>\n	</div>\n</div>'}return __p}},{}],46:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="GBCategoriesTemplateTypeOverlay">\n<img class="categoriesArrow leftArrow" src="'+(null==(__t=util.getCurrentBaseUrl())?"":__t)+'/assets/img/gbpreview/iphone/multicat-arrow-left.png"></img>\n<img class="categoriesArrow rightArrow" src="'+(null==(__t=util.getCurrentBaseUrl())?"":__t)+'/assets/img/gbpreview/iphone/multicat-arrow-right.png"></img>\n</div>';return __p}},{}],47:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var subsections=(rules.getSectionNavBar(section),rules.getSectionSubSections(section)),selectedID=rules.getSelectedSubsectionID(),onColor=rules.getCategoriesPagerBulletColor(section,!0),offColor=rules.getCategoriesPagerBulletColor(section,!1),cssRules=".catPagerBullet{ background-color:"+offColor.value+"; }                .catPagerBullet--sel{ background-color:"+onColor.value+"; }",selectorKeys={};selectorKeys[offColor.key]=".catPagerBullet",selectorKeys[onColor.key]=".catPagerBullet--sel";var cssTag=rules.css.createStyleTag(cssRules,selectorKeys);__p+="\n\n"+(null==(__t=cssTag.tag+cssTag.keys)?"":__t)+'\n\n<div class="catPager" style="'+(null==(__t=rules.showSubSectionSelector(section)?"":"display:none;")?"":__t)+" "+(null==(__t=rules.getCategoriesPagerBackground(section))?"":__t)+'">\n\n	',_.each(subsections,function(a,b){var c=b==selectedID?!0:!1;classname=c?"catPagerBullet--sel":"catPagerBullet",__p+='\n		<a data-role="none" href="#!section='+(null==(__t=section.get("id"))?"":__t)+"&cat="+(null==(__t=b)?"":__t)+'" data-target-property="background-color" class="'+(null==(__t=classname)?"":__t)+'" >\n			&nbsp;\n		</a>\n	'}),__p+="\n\n</div>"}return __p}},{}],48:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="chatlistMain '+(null==(__t=section.get("template"))?"":__t)+'">\n	<div id="postMessageButton" class="fabButton writingButtonBackgroundColor writingButtonIconColor">\n		<div class="canvas gbicongeneric icon-gbicongeneric-chat-newmessage"></div>\n	</div>\n	<div id="tabletNoItemBackgroundPlaceHolder" class="detail-listBackgroundColor"></div>\n</div>\n';return __p}},{}],49:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),article=(require("../util"),rules.getItemById(data,rules.getPost("item")));__p+='\n\n<div data-role="content" style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+'">\n\n			<!-- Post Comment View -->\n			<h2 style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+'">\n				'+(null==(__t=appLang.GB_TXT_43)?"":__t)+'\n			</h2>\n\n			<form class="form-comment" action="'+(null==(__t=rules.urlTo("article",self.get("id"),article.id))?"":__t)+'&addcomment=1" method="post" accept-charset="utf-8">\n\n				<input type="hidden" name="action" value="add_comment" />\n				<input type="hidden" name="postUrl" value="'+(null==(__t=article.commentsPostUrl)?"":__t)+'"/>\n				<div class="form-infos">\n					<input class="form" type="text" name="comment_username" placeholder="'+(null==(__t=appLang.GB_TXT_44)?"":__t)+'" value="" />\n					<input class="form" type="email" name="comment_email" placeholder="'+(null==(__t=appLang.GB_TXT_45)?"":__t)+'" value="" />\n				</div>\n\n				<textarea class="form" name="comment_content" maxlength="1500" placeholder="'+(null==(__t=appLang.ENTERTEXT)?"":__t)+'">\n				</textarea>\n\n			</form>\n\n</div>'}return __p}},{"../rules":33,"../util":177}],50:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var viewFactory=require("../views/viewFactory");__p+='\n<div data-role="content" style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n		<div id="disqus_gbcontainer">\n\n';var disqusHTML=rules.commentsDisqusHTML();if(disqusHTML)__p+="\n	"+(null==(__t=disqusHTML)?"":__t)+"\n";else{var disqusShortname=rules.getDisqus(self);disqusShortname?viewFactory.currentView.registerPostDOMInsertCallback(function(){rules.getContent(self,void 0,void 0,void 0,void 0,function(a){var b=rules.getItemById(a,rules.getPost("item"));_.is(b)&&rules.addDisqus(disqusShortname,"disqus_gbcontainer",b.id,b.title)})},!0):window.history.back()}__p+="\n\n		</div>\n</div>"}return __p}},{"../views/viewFactory":183}],51:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),section=rules.getSelectedSection();__p+='\n\n<div class="GBContactListContainer" style="'+(null==(__t=rules.getSectionBorder(section)+"background:"+rules.getListBackgroundColor(section))?"":__t)+"\n	"+(null==(__t=rules.getSectionMargin(section,void 0,void 0,!0).replace("margin","padding"))?"":__t)+'">\n\n	<div class="GBContactList">\n		',util.empty(section.get("showLogo"))||(__p+='\n			<div class="logoContainer">\n				<div class="logo" style="'+(null==(__t=rules.getContactListLogo(section))?"":__t)+'"></div>\n			</div>\n		'),__p+='\n		<div class="title" style="'+(null==(__t=rules.fontStyle("titleFont",section))?"":__t)+'">\n			'+(null==(__t=section.get("contentTitle"))?"":__t)+'\n		</div>\n		<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",section))?"":__t)+'">\n			'+(null==(__t=section.get("contentSubtitle"))?"":__t)+'\n		</div>\n\n		<div class="linksList '+(null==(__t=section.get("template"))?"":__t)+'">\n			',_.each(section.get("links"),function(a,b){__p+='\n				<a class="linkElement" href="'+(null==(__t=a.link)?"":__t)+'" style="'+(null==(__t=rules.getContactLinkElementStyle(section,b))?"":__t)+'">\n					<div class="linkContentWrapper">\n						';
var c=rules.getContactLinkIcon(section,b);c.length>0&&(__p+='\n							<span class="linkIcon">\n								'+(null==(__t=c)?"":__t)+"\n							</span>\n						"),__p+='\n						<span style="'+(null==(__t=rules.getContactLinkTitleFont(section,b))?"":__t)+'" class="linkText">\n							<div>'+(null==(__t=a.title)?"":__t)+"</div>\n						</span>\n					</div>\n				</a>\n			"}),__p+='\n		</div>\n	</div>\n\n<div class="clearfix"></div>\n\n</div>'}return __p}},{"../rules":33,"../util":177}],52:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),section=rules.getSelectedSection();if(templateFactory=require("./templateFactory"),asyncArticleClassic=templateFactory.getTemplate("_asyncCustomClassic"),proxy=devMode?"/proxy?url=":"",url="GBModuleTypeCustomUrl"==section.get("template")?section.get("url"):util.replaceHostname(rules.getSectionUrl(section)),define=/\?/.test(url)?"&define_function=1":"?define_function=1",device=user.device.mobile?"mobile":"tablet","GBModuleTypeShop"==section.get("type")){if(device="&device="+device,addClass="shop",_.pos(section.get("htmlForceInternalEcommerce"))){var splitUrl=url.split("?url=");2==splitUrl.length&&(url=decodeURIComponent(splitUrl[1]),device="",define="",addClass="",proxy="")}}else device="",addClass="";__p+='\n\n<div id="GBCustomTemplateTypeClassicContainer" class="GBPluginTemplateTypeClassic '+(null==(__t=addClass)?"":__t)+'">\n	\n	<iframe class="customScratchPluginIframe" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" onload="if(typeof globalsAppVars.varcustomisloading == \'undefined\' || !globalsAppVars.varcustomisloading) { globalsAppVars.varNavigationcompt++; varMaxNavigationCompt = globalsAppVars.varNavigationcompt; } globalsAppVars.varcustomisloading = false; modules.linkManager.updateLinks() " id="iframe-'+(null==(__t=section.get("id"))?"":__t)+'" src="'+(null==(__t=proxy)?"":__t)+(null==(__t=url+define+device)?"":__t)+'"></iframe>\n\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],53:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var section=(require("../util"),rules.getSelectedSection()),templateFactory=require("./templateFactory"),_renderEvents=templateFactory.getTemplate("_asyncEventsExpandable");__p+='\n\n<div id="GBEventsListTemplateTypeExpandableContainer" style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+'"></div>\n\n',rules.getContent(section,_renderEvents,"GBAgendaListTemplateTypeClassic","GBEventsListTemplateTypeExpandableContainer"),__p+=""}return __p}},{"../util":177,"./templateFactory":176}],54:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),section=(require("../util"),rules.getSelectedSection()),templateFactory=require("./templateFactory"),_asyncFacebookClassic=templateFactory.getTemplate("_asyncFacebookClassic");__p+='\n<div data-next="'+(null==(__t=rules.getNextPage(section))?"":__t)+'" \n	data-section="'+(null==(__t=section.get("id"))?"":__t)+'"\n	class="'+(null==(__t=rules.getSectionTemplateMode(section))?"":__t)+'" \n	style="'+(null==(__t=rules.getSectionMargin(section))?"":__t)+';">\n\n	<div id="GBFacebookListTemplateTypeClassicContainer">\n		',rules.getContent(section,_asyncFacebookClassic,"GBFacebookListTemplateTypeClassic","GBFacebookListTemplateTypeClassicContainer"),__p+="\n	</div>\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],55:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+=" ";var util=require("../util"),rules=require("../rules"),section=rules.getSelectedSection(),fieldsOrder=section.get("fieldsOrder"),fields=section.get("fields"),border=rules.getSectionBorder(section);__p+='\n\n<div class="GBFormListTemplateTypeClassic '+(null==(__t=rules.getRTLClass(section))?"":__t)+'" style="'+(null==(__t=border)?"":__t)+";background:"+(null==(__t=rules.getListBackgroundColor(section))?"":__t)+'">\n	<h1 class="formTitle" style="'+(null==(__t=rules.fontStyle(section.get("titleFont")))?"":__t)+'" >'+(null==(__t=rules.getFormSectionInfos(section,"title"))?"":__t)+'</h1>\n	<div style="'+(null==(__t=rules.fontStyle(section.get("textFont")))?"":__t)+'" >\n		<style>\n		'+(null==(__t=rules.getContentFormattingCSS(section))?"":__t)+"\n		</style>\n		"+(null==(__t=rules.getFormSectionInfos(section,"content"))?"":__t)+'\n	</div>\n	<form action="" method="post" accept-charset="utf-8" enctype="multipart/form-data">\n		';var html="";_.each(fieldsOrder,function(a,b){var c=fields[a];if(_.is(c)){var d=rules.getFormSectionFieldType(c),e=rules.getFormSectionPlaceHolderPosition(c,d),f="bottom"==e?c.placeholder:"",g="top"==e?c.placeholder:"",h="top"==rules.getFormSectionSubtitlePosition(d),j=rules.getFormSectionFieldStyle(section,c,d),k=util.empty(c.required)?"":"required";if(id=c.id||fieldsOrder[b],regexType=c.fieldType,html+="<div class='blockInput style"+id+" "+d+"' style='position:relative;'>",g&&(html+="<p class='placeholderTop' "+(util.empty(c.required)?"":"data-required='required'")+' style="'+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+g+"</p>"),h&&(html+=rules.getFormSectionSubtitle(section,c)),"textarea"==d)html+="<textarea name='"+id+"' class='"+k+"' placeholder='"+f+"' data-field-type='"+regexType+"' rows='1' style=\""+j+'" ></textarea>';else if("checkbox"==d||"radio"==d||"select"==d){var l=rules.getFormSectionStyleTag(section,c,d);__p+="\n				"+(null==(__t=l.tag)?"":__t)+"\n				"+(null==(__t=l.keys)?"":__t)+"\n				",html+="select"==d?"<div class='"+k+" blockSelect' style=\""+j+"\"><select name='"+id+"' ><option class='"+k+" placeholderSelect' value=''>"+f+"</option>":"<div class='"+k+"'>";var m=_.map(c.choices,function(a,b){var e=!1;return"select"==d||"radio"==d?e=c.defaultChoice==b:"checkbox"==d&&(e=!util.empty(c.defaultChoice[b])),e?{key:b,value:a,isDefault:!0}:{key:b,value:a}});util.empty(c.randomChoices)||(m=_.shuffle(m)),_.each(m,function(a){if("select"==d)html+="<option "+(a.isDefault?"selected":"")+" id='"+id+a.key+"' value=\""+a.value+'" >'+_.escape(a.value)+"</option>";else{var b=a.isDefault?"checked":"";html+='<input style="'+j.input+'" type="'+d+'" '+b+' id="'+id+a.key+'" name="'+id+'" value="'+_.escape(a.value)+'" />',html+="<label class='"+j.rounded+"' for='"+id+a.key+"'><span class='roundBack'></span><span class='roundFront' style='"+rules.getFormSectionFieldStyle(section,c,"radioBg")+"'></span><span class='labelRadio' style=\""+j.label+'" >'+a.value+"</span></label>"}}),"select"==d&&(html+="</select>"),html+="</div>"}else if("date"==d){var l=rules.getFormSectionStyleTag(section,c,d);__p+="\n				"+(null==(__t=l.tag)?"":__t)+"\n				"+(null==(__t=l.keys)?"":__t)+"\n				";var n=c.defaultDate?new Date(c.defaultDate):new Date,o=util.Tokens.dateFormat(n),p=moment().locale("en").format("YYYY-MM-DD"),q=new Date,r=q.getFullYear();if(html+=user.os.android?"<input class='dateInput "+k+"' data-field-type='"+regexType+"' type='date' value=\""+p+"\" name='"+id+"' style=\""+j+'" />':"<input data-date='"+n.valueOf()+"' class='dateInput "+k+"' data-field-type='"+regexType+"' type='text' value=\""+o+"\" name='"+id+"' style=\""+j+'" readonly />',_.not(s)){var s="<div class='picker' style='display:none;'><div class='validSelector'><p>X</p></div>";for(s+="<div class='blockSelector daySelector'>",i=1;31>=i;i++)s+="<p data-value='"+i+"'>"+i+"</p>";for(s+="</div>",s+="<div class='blockSelector monthSelector'>",i=1;12>=i;i++)s+="<p data-value='"+i+"'>"+appLang["MOIS_"+i]+"</p>";for(s+="</div>",s+="<div data-date='"+r+"' class='blockSelector yearSelector'>",r+=50,i=0;100>=i;i++)s+="<p data-value='"+(i+1)+"'>"+(r-i)+"</p>";s+="</div>",s+="<div class='hideSelector'></div><div class='selectorLine'></div><div class='selectorLine bottomLine'></div></div>"}html+=s}else if("time"==d){var l=rules.getFormSectionStyleTag(section,c,d);__p+="\n				"+(null==(__t=l.tag)?"":__t)+"\n				"+(null==(__t=l.keys)?"":__t)+"\n				";var t=new Date;if(!util.empty(c.defaultTime))var t=c.defaultTime.split(":"),u=t[0],v=t[1],t=new Date(0,0,0,u,v);if(timeHolder=util.Tokens.dateFormat(t,"GB_DATEHOUR"),androidTimeHolder=moment().locale("en").format("HH:mm"),html+=user.os.android?"<input class='timeInput "+k+"' data-field-type='"+regexType+"' type='time' value=\""+androidTimeHolder+"\" name='"+id+"' style=\""+j+'" />':"<input data-date='"+t.valueOf()+"' class='timeInput "+k+"' data-field-type='"+regexType+"' type='text' value=\""+timeHolder+"\" name='"+id+"' style=\""+j+'" readonly />',_.not(w)){var w="<div class='timePicker' style='display:none;'><div class='validSelector'><p class='validTime'>X</p></div>";for(w+="<div class='blockSelector hourSelector "+(user.device.desktop?"desktopBarHide":"")+"'>",i=0;24>i;i++)w+="<p data-value='"+(i+1)+"'>"+(10>i?"0"+i:i)+"</p>";for(w+="</div>",w+="<div class='hourPoint'> : </div>",w+="<div class='blockSelector minuteSelector'>",i=0;60>i;i++)w+="<p data-value='"+(i+1)+"'>"+(10>i?"0"+i:i)+"</p>";w+="</div>",w+="<div class='hideSelector'></div><div class='selectorLine'></div><div class='selectorLine bottomLine'></div></div>"}html+=w}else if("address"==d){var l=rules.getFormSectionStyleTag(section,c,"select");__p+="\n				"+(null==(__t=l.tag)?"":__t)+"\n				"+(null==(__t=l.keys)?"":__t)+"\n				",html+="<div>",html+='<p style="'+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+(""!=g&&c.placeholderAddress?c.placeholderAddress:"")+"</p>",html+="<div style='position:relative;'>",html+="<input class='"+k+" fieldAddress _address' type='text' placeholder='"+appLang.GB_TXT_167+"' name='"+id+"_address' style=\""+j+'" />',html+=util.empty(c.autoCompletionGeoloc)?"":"<div class='pin adjustLH' style=\""+rules.getFormSectionFieldStyle(section,c,"pin")+'">'+rules.createIcon(rules.getRealIconUrl("map-pin"))+"</div>",html+='<p style="'+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+appLang.GB_TXT_168+"</p>",html+="<input class='fieldAddress _address2' type='text' placeholder='"+appLang.GB_TXT_168+"' name='"+id+"_address2' style=\""+j+'" />',html+="<p class='halfBlock' style=\""+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+(""!=g&&c.placeholderCity?c.placeholderCity:"")+"</p>",html+="<p class='halfBlock rightBlock' style=\""+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+(""!=g&&c.placeholderState?c.placeholderState:"")+"</p>",html+="<input class='"+k+" fieldAddress _city' type='text' placeholder='"+appLang.GB_TXT_171+"' name='"+id+"_city' style=\""+j+'" />',html+="<input class='"+k+" fieldAddress _state' type='text' placeholder='"+appLang.GB_TXT_169+"' name='"+id+"_state' style=\""+j+'" />',html+="<p class='halfBlock' style=\""+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+(""!=g&&c.placeholderZipCode?c.placeholderZipCode:"")+"</p>",html+="<p class='halfBlock rightBlock' style=\""+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+(""!=g&&c.placeholderCountry?c.placeholderCountry:"")+"</p>",html+="<input class='"+k+" fieldAddress _zipCode' type='text' placeholder='"+appLang.GB_TXT_170+"' name='"+id+"_zipCode' style=\""+j+'" />',html+="<div class='blockSelect _country' style=\""+j+"\"><select class='fieldAddress' data-default='"+(c.defaultCountry||"")+"' name='"+id+"_country' id='"+id+"_country' >",html+="<option class='"+k+" placeholderSelect' value=''>"+(""==g&&c.placeholderCountry?c.placeholderCountry:"")+"</option>",html+="</select></div>",html+="</div></div>"}else if("breaktext"==d)html+='<p style="'+rules.getFormSectionFieldStyle(section,c,"textFont")+'">'+c.title+"</p>";else if("price"==d)html+="<div class='priceBlock adjustLH'>",html+="<div class='priceBlock innerHolder'>",html+="<input class='"+k+"' data-field-type='"+regexType+"' type='text' placeholder='"+f+"' name='"+id+"' style=\""+j+'" />',html+='<p style="'+j+'">'+(c.currencyGlyph||"$")+"</p>",html+='<div class="currencyName" style="'+j+'">'+c.currencyCode+"</div>",html+="</div>",html+="</div>";else if("file"==d)html+="<input class='fileButton' data-field-type='"+regexType+"' type='button' data-role='none' data-submit-input='sendFile"+id+"' value=\""+(c.uploadButton||c.sendButtonText||section.get("submitButtonText"))+'" style="'+j+'" />',html+="<input class='"+k+" sendFile sendFile"+id+"' data-role='none' type='"+d+"' name='"+id+"' accept='"+("video"==c.fieldType?c.fieldType:"image")+"/*'/>",html+='<canvas class="previewFileCanvas" width="320" height="320">Your browser does not support the HTML5 canvas tag.</canvas>';else{var x="";if(modules.login.data.loggedIn){var y=modules.login.data.user;switch(regexType){case"GBFieldName":x=y.name;break;case"GBFieldMail":x=y.email}}html+="<input class='"+k+"' data-field-type='"+regexType+"' type='"+d+"' placeholder='"+f+"' name='"+id+"' value=\""+x+'" style="'+j+'" />'}h||(html+=rules.getFormSectionSubtitle(section,c)),html+="</div>"}}),__p+="\n		"+(null==(__t=html)?"":__t)+"\n		<input type='button' class='submitButton' data-role='none' style=\""+(null==(__t=rules.getFormSectionSubmitStyle(section))?"":__t)+'" value="'+(null==(__t=util.empty(section.get("submitButtonText"))?"Submit":util.wm_htmlentities(section.get("submitButtonText")))?"":__t)+'"/>\n	</form>\n</div>\n<div class="clearfix"></div>'}return __p}},{"../rules":33,"../util":177}],56:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var templateFactory=require("./templateFactory"),_navBar=templateFactory.getTemplate("navBar"),section=rules.getSelectedSection(),rtlTag=rules.css.getRTLTag(section),viewType=viewFactory.currentView.isMultiView?"multiView":"classicView",rtlClass=rules.isRTL({section:section})?"isRTL":"",access=modules.login.checkAccessOnCurrentView();if(access.status||"blockSection"!=access.lockType)if(rules.isItemCall()&&"multiView"!=rules.getSectionViewType(section)){if(__p+='\n\n	<!-- SHOW DETAIL -->\n	<section id="section-detail-'+(null==(__t=section.get("id"))?"":__t)+'" data-role="page" style="'+(null==(__t=rules.css.getRTLStyle({section:section}))?"":__t)+'" class="main detail withNavBar section-detail-'+(null==(__t=rules.getSectionDetailTemplate(section))?"":__t)+" "+(null==(__t=rules.getDetailTemplate(section))?"":__t)+"-section "+(null==(__t=rtlClass)?"":__t)+'">\n\n		'+(null==(__t=_navBar({item:section}))?"":__t)+"\n\n		"+(null==(__t=rtlTag.opening)?"":__t)+"\n		",rules.sectionHasDetail(section)&&rules.sectionHasSelectedItem(section)&&!rules.isSettingsCreditsCall()){rules.isSectionAndItem(section)&&(!rules.hasSubsectionSelector(section)||!rules.getSectionCategoriesTemplate(section)||rules.getSectionSearchKey(section)||rules.isCategoriesTemplateInNavBar(section)||rules.isCommentsCall()||rules.isSearchCall()||(__p+="\n						"+(null==(__t=rules.getCategoriesTemplate(section))?"":__t)+"\n				"),rules.getSectionSearchEnabled(section)&&(_GBSearch=templateFactory.getTemplate("GBSearchTemplate"),__p+="\n					"+(null==(__t=_GBSearch())?"":__t)+"\n				"));var tplName,containerId,containerClass;if(rules.isCommentsCall()?(tplName="GBCommentTemplateTypeClassic",containerClass=["comments",tplName].join(" ")):rules.isSharingCall()?(tplName="GBShareTemplateTypeClassic",containerClass=tplName):rules.isBookmarkSection()?(section=appSections[rules.getPost("parent")],tplName=rules.getDetailTemplate(section)+"_bkmrkdtl",containerClass="GBBookmarkDetailTemplate "+rules.getSectionDetailTemplate(section)):(tplName=rules.getDetailTemplate(section),containerClass=""),containerId=tplName+"Container",asyncTemplate=templateFactory.getTemplate(tplName),__p+='\n			<div id="'+(null==(__t=containerId)?"":__t)+'" class="generalDetailContainer '+(null==(__t=containerClass)?"":__t)+'" ></div>\n\n			',rules.isCommentsCall()&&rules.getDisqus(rules.getSelectedSection())){__p+="\n				";var disqus=templateFactory.getTemplate("GBCommentTemplateTypeDisqus");__p+="\n				"+(null==(__t=disqus({self:section}))?"":__t)+"\n			"}else if(rules.isCommentsCall())rules.isListCommentsCall()?(_asyncList=templateFactory.getTemplate("_asyncListComments"),rules.getContentForItem(section,_asyncList,"GBCommentTemplateTypeClassic",containerId,rules.getPost("item"),function(a){item=rules.getItemById(a,rules.getPost("item")),rules.getContent({section:item,contentUrl:item.commentsUrl},_asyncList,"GBCommentTemplateTypeClassic",containerId)})):rules.getContentForItem(section,asyncTemplate,"GBCommentTemplateTypeClassic",containerId,rules.getPost("item"));else if(rules.useSynchronousDetailTemplate(section)){var synchronousDetailTemplate=templateFactory.getTemplate(rules.getSectionDetailTemplate(section));__p+="\n					"+(null==(__t=synchronousDetailTemplate({self:section}))?"":__t)+"\n				"}else rules.getContentForItem(section,asyncTemplate,tplName,containerId,rules.getPost("item"));__p+="\n\n\n		"}__p+="\n\n		",rules.isSettingsCreditsCall()&&(_Credits=templateFactory.getTemplate("GBSettingsDetailTemplateTypeClassic"),__p+="\n			<!-- Settings Credits -->\n			"+(null==(__t=_Credits())?"":__t)+"\n		"),__p+="\n\n		<!-- TabBar -->\n		",rules.hasTabBar()&&rules.isSectionAndItem(section)&&(_tabBar=templateFactory.getTemplate("tabBar"),__p+="\n			"+(null==(__t=_tabBar())?"":__t)+"\n		"),__p+="\n\n		<!-- Detail ADS -->\n		",rules.hasAds()&&(__p+='\n			<div id="detail-ads-'+(null==(__t=section.get("id"))?"":__t)+'" class="banner-ads"></div>\n		'),__p+=""+(null==(__t=rtlTag.closing)?"":__t)+"\n\n	</section>\n"}else{if(__p+='\n\n	<section data-role="page" class="main section withNavBar section-'+(null==(__t=rules.getSectionTemplate(section))?"":__t)+" "+(null==(__t=viewType)?"":__t)+" "+(null==(__t=rtlClass)?"":__t)+'"   style="'+(null==(__t=rules.css.getRTLStyle({section:section}))?"":__t)+'" >\n\n		<!--'+(null==(__t=rtlTag.opening)?"":__t)+"-->\n\n		",rules.isOtherMenuShown())__p+="\n\n			"+(null==(__t=_navBar({item:appSettings}))?"":__t)+"\n\n			"+(null==(__t=templateFactory.getTemplate("GBRootControllerTemplateTypeTabBarOtherMenu")())?"":__t)+"\n		";else{if(__p+="\n\n			","classicView"==viewType)__p+="\n				"+(null==(__t=_navBar({item:section}))?"":__t)+"\n			";else{var multiViewNavBarOptions={mode:"section",fixed:!0};multiViewNavBarOptions=_.extend(multiViewNavBarOptions,rules.getSpecificNavBarOptionsForSection(section)),__p+="\n				"+(null==(__t=_navBar({item:section,options:multiViewNavBarOptions}))?"":__t)+"\n			"}if(__p+="\n\n			","GBModuleTypePlugin"!=rules.getSectionType(section)&&"GBModuleTypeCustom"!=rules.getSectionType(section)){var hasCategoriesFilter=!1;if(__p+="\n\n				<!-- CATEGORIES - pager must be in navbar, not here. circleband too if rules says it  -->\n				",!rules.hasSubsectionSelector(section)||!rules.getSectionCategoriesTemplate(section)||rules.getSectionSearchKey(section)||rules.isCategoriesTemplateInNavBar(section)||rules.isSearchCall()||(hasCategoriesFilter=!0,__p+="\n						"+(null==(__t=rules.getCategoriesTemplate(section))?"":__t)+"\n				"),__p+="\n\n				<!-- Search engine for section -->\n				","multiView"!=viewType&&rules.getSectionSearchEnabled(section)&&!rules.getSectionSearchKey(section)&&(_GBSearch=templateFactory.getTemplate("GBSearchTemplate"),__p+="\n					"+(null==(__t=_GBSearch())?"":__t)+"\n				"),__p+='\n\n				<!-- SECTION  or multiview holder-->\n				<div class="generalSectionContainer content-role '+(null==(__t=hasCategoriesFilter?"withCategoriesFilter":"")?"":__t)+'" data-role="content" style="'+(null==(__t=rules.getSectionMargin(section))?"":__t)+'">\n\n					<!-- Contents (standard templates or viewComponents for multiview) -->\n					<div id="mainViewHolder" class="main-content">\n						',"multiView"!=rules.getSectionViewType(section)&&(rules.isSearchCall()?(_searchResults=rules.getSearchResultsTemplate(section),__p+="\n								"+(null==(__t=_searchResults(section))?"":__t)+"\n							"):(_sectionTemplate=templateFactory.getTemplate(rules.getSectionTemplateMode(section)),__p+="\n								"+(null==(__t=_sectionTemplate(section))?"":__t)+"\n							")),__p+='\n					</div>\n\n					<!-- Panels for multiview  -->\n					<div id="fullscreenViewHolder" class="main-content"></div>\n\n					<!-- Other contents for multiview -->\n					<div id="extracontentViewHolder" class="main-content">\n						',"multiView"==rules.getSectionViewType(section)){var multiTemplate=templateFactory.getMultiViewTemplate(section.get("template"),{section:section});__p+="\n							"+(null==(__t=multiTemplate.mainTemplate.template({section:section}))?"":__t)+"\n							"}__p+="\n					</div>\n				</div>\n\n			"}else __p+="\n				<!-- Search Engine -->\n\n				",_sectionTemplate=templateFactory.getTemplate(rules.getSectionTemplateMode(section)),__p+="\n				"+(null==(__t=_sectionTemplate(section))?"":__t)+"\n\n			";__p+="\n		"}__p+="\n		<!-- TabBar -->\n		",rules.hasTabBar()&&(_tabBar=templateFactory.getTemplate("tabBar"),__p+="\n			"+(null==(__t=_tabBar())?"":__t)+"\n		"),__p+="\n\n		<!-- List ADS -->\n		",rules.hasAds()&&(__p+='\n			<div id="list-ads-'+(null==(__t=section.get("id"))?"":__t)+'" class="banner-ads"></div>\n		'),__p+="\n		 <!--"+(null==(__t=rtlTag.closing)?"":__t)+"-->\n\n	</section>\n\n"}else __p+='\n       <section data-role="page" class="main withNavBar section-login ">\n\n        	'+(null==(__t=_navBar({item:section}))?"":__t)+'\n\n       		<!-- <div class="generalSectionContainer content-role" data-role="content" style="'+(null==(__t=rules.getSectionMargin(section))?"":__t)+'">-->\n				<!-- <div class="main-content">-->\n       	  			'+(null==(__t=modules.login.getLoginModal(access.lockType))?"":__t)+"\n       	  		<!-- </div>-->\n			<!-- </div>-->\n\n			<!-- TabBar -->\n			",rules.hasTabBar()&&(_tabBar=templateFactory.getTemplate("tabBar"),__p+="\n				"+(null==(__t=_tabBar())?"":__t)+"\n			"),__p+="\n       </section>\n       ";__p+=""}return __p}},{"./templateFactory":176}],57:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),isRadio=rules.isLiveRadio(self),stream=rules.getStreamUrl(self.get("streamUrl")),playerColor=self.get("playerTintColor");rules.getLoopColor(self)}__p+="\n\n";var styleTag=rules.getLiveSectionCSS(self);if(__p+="\n"+(null==(__t=styleTag.tag+styleTag.keys)?"":__t)+"\n\n",__p+=isRadio?'\n    <audio id="liveMedia" preload="auto" src="'+(null==(__t=stream)?"":__t)+'"></audio>\n':'\n    <video id="liveMedia" preload="auto" src="'+(null==(__t=stream)?"":__t)+'"></video>\n',__p+="\n\n",rules.getLiveStatus(self))__p+='\n    <div id="livePlayerContainer">\n        <div>\n            <div class="spinner">\n                <canvas id="livePlayerCanvas" height="275" width="275"></canvas>\n                <div class="content">\n\n                        <ul>\n                            <li>\n                                <a href="#" title="" class="playPause">\n                                    '+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerColor))?"":__t)+'\n                                </a>\n                            </li>\n                            <li style="display:none">\n                                <a href="#" title="" class="playPause">\n                                    <div id="stop-button" style="background-color:'+(null==(__t=playerColor)?"":__t)+';"></div>\n                                </a>\n                            </li>\n                        </ul>\n                </div>\n            </div>\n\n        </div>\n\n        <h1 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'text-align:center;margin-top:2rem;">\n        	'+(null==(__t=self.get("liveTitle"))?"":__t)+"\n        </h1>\n    </div>\n\n    ",rules.hasAudioVisualizer(self)&&(__p+='\n\n        <div id="audioviz" style="height:100px;width:100%;position:absolute;bottom:0"></div>\n\n    '),__p+="\n\n";else{var liveOffBg=rules.getImageUrl(self.get("liveOff.backgroundImage"),!0);__p+='\n    <!-- Live OFF -->\n    <div style="display:table;height:100%;width:100%;text-align:center;background:'+(null==(__t=liveOffBg)?"":__t)+' center / cover;">\n        <div style="display:table-cell;vertical-align:middle;">\n            <p style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n\n                ',__p+=_.pos(self.get("liveOffHtml"))?"\n                    "+(null==(__t=self.get("liveOffDescription"))?"":__t)+"\n                ":"\n                    "+(null==(__t=self.get("liveOffDescription"))?"":_.escape(__t))+"\n                ",__p+="\n            </p>\n        </div>\n    </div>\n"}__p+=""}return __p}},{"../rules":33,"../util":177}],58:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),_livePlus=templateFactory.getTemplate("_asyncLivePlus");__p+='\n\n<div id="GBLiveListTemplateTypePlusContainer" style="height:100%;'+(null==(__t=rules.getSectionBorder(section))?"":__t)+'">\n\n	',rules.getContent(section,_livePlus,"GBLiveListTemplateTypePlus","GBLiveListTemplateTypePlusContainer"),__p+="\n\n</div>\n"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],59:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var r=modules.login.rules,data=_.clone(appSettings.get("login")),signUpEnabled=!util.empty(data.signUpEnabled),facebookEnabled=modules.login.isFacebookLoginEnabled(),twitterEnabled=modules.login.isTwitterLoginEnabled(),soloSocialButton=facebookEnabled&&twitterEnabled?"":"soloSocialButton",startingStep=r.getStartingStep(),steps={},template=r.getTemplate(),textFont='style="'+rules.fontStyle("login.textFont")+'"',skipStyle=r.getSkipStyle(),fieldTextFont='style="'+rules.fontStyle({color:"#000000",fontType:"Helvetica neue",localFont:"http://themes.goodbarber.com.preprod/public/assets/fonts/HelveticaNeueLight.ttf",size:"12",tabletSize:"13"})+'"',titleColor=rules.fallback("login.titleFont"),baselineFont='style="'+rules.fontStyle("login.baselineFont")+'"',loginButtonText=appLang.GB_TXT_177;"GBLoginTemplateSocial"==template&&(loginButtonText=appLang.GB_TXT_173);var defaultLogin="";_.pos(data.autoFillLogin)&&_.pos(modules.storage.get("lastLogin"))&&(defaultLogin=modules.storage.get("lastLogin")),titleColor=titleColor.val?"color:"+titleColor.val.color+titleColor.key:"";var logoOrTitle=r.makeTitle("logoOrTitle"),loginTitle=r.makeTitle("loginTitle",titleColor),signInTitle=r.makeTitle("signInTitle",titleColor),signInButton=signUpEnabled?'<div class="button signupButton signInButton" style="'+r.getButtonStyle("signIn")+'">'+appLang.GB_TXT_180+"</div>":"",goToSignInButton=signUpEnabled?'<div class="button signInButton" style="'+r.getButtonStyle("signIn")+'">'+(util.empty(data.signInButtonText)?appLang.GB_TXT_174:data.signInButtonText)+"</div>":"",loginButton='<div class="button loginButton " style="'+r.getButtonStyle("login")+'">'+loginButtonText+"</div>",goToLoginButton='<div class="button loginButton" style="'+r.getButtonStyle("login")+'">'+(util.empty(data.loginButtonText)?appLang.GB_TXT_173:data.loginButtonText)+"</div>",facebookButton=facebookEnabled?'<div class="button facebookButton '+soloSocialButton+'" style="'+r.getButtonStyle("facebook")+'"><div class="buttonInnerContainer">'+rules.createIcon(rules.getRealIconUrl("contact-facebook"))+'<div class="buttonLabel">Facebook</div></div></div>':"",twitterButton=twitterEnabled?'<div class="button twitterButton '+soloSocialButton+'" style="'+r.getButtonStyle("twitter")+'"><div class="buttonInnerContainer">'+rules.createIcon(rules.getRealIconUrl("10"))+'<div class="buttonLabel">Twitter</div></div></div>':"",nextStepButton='<div class="button signupButton nexStepSignup" style="'+r.getButtonStyle("signIn")+'">'+appLang.GB_TXT_213+"</div>",signupViewButton=modules.login.data.signupHasTwoSteps?nextStepButton:signInButton,nameInput='<input class="nameInput" '+fieldTextFont+' type="text" placeholder="'+appLang.GB_TXT_181+'"/>',emailInput='<input class="usernameInput" '+fieldTextFont+' type="text" placeholder="'+appLang.GB_TXT_175+'"/>',usernameInput='<input class="usernameInput" name="email" '+fieldTextFont+' type="text" placeholder="'+[appLang.GB_SETTINGS_10,appLang.GB_TXT_179,appLang.GB_TXT_175].join(" ")+'" value="'+defaultLogin+'"/>',passwordInput='<input class="passwordInput" name="password" '+fieldTextFont+' type="password" placeholder="'+appLang.GB_TXT_176+'"/>',cross='<div class="cross" style="'+titleColor+'">'+rules.makeIcon({src:"close",size:"20px"})+"</div>";if(r.skipEnabled())var skip='<div class="skip" style="'+skipStyle+'" >'+(util.empty(data.skipButtonText)?appLang.GB_TXT_195:data.skipButtonText)+"</div>";else var skip="";textFontColorAsBackground=rules.fallback("login.textFont"),textFontColorAsBackground=textFontColorAsBackground.val?'style="background-color:'+rules.css.hexToRgba(textFontColorAsBackground.val.color)+'"':"";var textColor=rules.fallback("login.textFont").val.color,shouldAcceptTerms=modules.login.rules.shouldAcceptTerms();if(shouldAcceptTerms)var termsCheckboxStyle="<style>#termsCheckboxLabel.ui-checkbox-off:before { background-color: "+textColor+";} #termsCheckboxLabel.ui-checkbox-on:before { background-color: "+textColor+"; color: "+("#FFFFFF"==textColor?"#333333":"#FFFFFF")+";}</style>",termsCheckBox=termsCheckboxStyle+"<div class='termsCheckBox'><input id='termsCheckbox' class='checkbox' type='checkbox'><label id='termsCheckboxLabel' for='termsCheckbox'></label><div class='termsCheckboxText' "+textFont+">"+appLang.GB_TXT_184+"</div></div>";else var termsCheckBox="";{var baseline=util.empty(data.baseline)?"":'<div class="baseline" '+baselineFont+">"+data.baseline+"</div>",forgotPassword='<div class="forgotPassword" '+textFont+">"+appLang.GB_TXT_178+"</div>",terms=signUpEnabled?'<div class="terms" '+textFont+">"+appLang.GB_TXT_184+"</div>":"",termsModal=data.terms,orDivisor='<div class="orDivisor" '+textFont+"><div "+textFontColorAsBackground+"></div>"+appLang.GB_TXT_179+"<div "+textFontColorAsBackground+"></div></div>",notYet=signUpEnabled?'<div class="notYet" '+textFont+">"+appLang.GB_TXT_182+" "+appLang.GB_TXT_174+"</div>":"",lastBlock=facebookEnabled||twitterEnabled?orDivisor+facebookButton+twitterButton:"";templateFactory.getTemplate("navBar")}if("GBLoginTemplateSocial"==template?steps.loginForm={extra:skip,centerElements:logoOrTitle+baseline+usernameInput+passwordInput+loginButton+forgotPassword+orDivisor+facebookButton+twitterButton+notYet+terms}:(steps.chooseLoginOrSignup={extra:skip,topElements:logoOrTitle+baseline,bottomElements:goToSignInButton+goToLoginButton+terms},steps.loginForm={extra:cross+skip,centerElements:loginTitle+usernameInput+passwordInput+loginButton+forgotPassword+lastBlock}),steps.signInForm={extra:cross,centerElements:signInTitle+nameInput+emailInput+passwordInput+signupViewButton+lastBlock+(modules.login.data.signupHasTwoSteps?"":termsCheckBox)},modules.login.data.signupHasTwoSteps){avatarInput="",r.avatarAllowed()&&(avatarInput='        <div id="signInFormStepTwo-avatarcontainer">            <div class="centeringContainer">                <div class="centeredContainer">                    <div id="signInFormStepTwo-avatartext">                        <p id="signInFormStepTwo-avatarsign">+</p>                        <p>'+appLang.GB_TXT_214+'</p>                    </div>                </div>            </div>            <input id="signInFormStepTwo-avatar" class="avatarInput" type="file" />        </div>');var fieldsList=modules.profile.getProfileSection().get("fields"),placeholders={GBUserFieldLocation:appLang.GB_TXT_204,GBUserFieldDescription:appLang.GB_TXT_16},secondStepInputs="";_.each(fieldsList,function(a){var b=_.pos(a.required),c=b?"*":"",d=b?'required="required"':"",e='data-field-id="'+a.id+'" data-field-type="'+a.type+'" data-field-name="'+a.name+'" '+d,f=(a.name||placeholders[a.type])+c;
b&&"GBUserFieldName"!==a.type&&(_.neg(a.state)||"hidden"!==a.state)&&("GBUserFieldDescription"==a.type?secondStepInputs+="<textarea "+e+' class="GBUserFieldDescriptionInput" placeholder="'+f+'" rows="2"></textarea>':"GBUserFieldDropdown"==a.type?(secondStepInputs+="<select "+e+' class="GBUserFieldDropdownInput" >',secondStepInputs+='<option value="" disabled selected>'+f+"</option>",secondStepInputs+=_.map(a.choices,function(a,b){return'<option value="'+b+'">'+a+"</option>"}).join(""),secondStepInputs+="</select>"):secondStepInputs+="<input "+e+' class="'+a.type+'Input" type="text" placeholder="'+f+'" />')}),steps.signInFormStepTwo={topElements:avatarInput+'<div id="signInFormStepTwo-title" class="loginTitle" style="'+titleColor+'"></div>',centerElements:secondStepInputs,bottomElements:signInButton+termsCheckBox,extra:cross}}__p+='\n\n<div id="GBLoginModalOuterContainer" class="'+(null==(__t=displayMode)?"":__t)+'" style="'+(null==(__t=r.getModalBackground())?"":__t)+'">\n    <div id="GBLoginModalContainer" class="'+(null==(__t=template)?"":__t)+'">\n        <div id="GBLoginModalInnerContainer" class="'+(null==(__t=startingStep)?"":__t)+'">\n            ',_.each(steps,function(a,b){__p+='\n                <div class="step" id="'+(null==(__t=b)?"":__t)+'" style="'+(null==(__t=b==startingStep?"display:block":"")?"":__t)+'">\n                    '+(null==(__t=a.extra)?"":__t)+'\n                    <div class="centeringContainer">\n                        <div class="centeredContainer">\n                            ',a.topElements&&(__p+='\n                                <div class="topBlock">\n                                    '+(null==(__t=a.topElements)?"":__t)+"\n                                </div>\n                            "),__p+="\n                            ",a.centerElements&&(__p+='\n                                <div class="centerBlock">\n                                    <div class="centerBlockInner">\n                                        '+(null==(__t=a.centerElements)?"":__t)+"\n                                    </div>\n                                </div>\n                            "),__p+="\n                            ",a.bottomElements&&(__p+='\n                                <div class="bottomBlock">\n                                    '+(null==(__t=a.bottomElements)?"":__t)+"\n                                </div>\n                            "),__p+="\n                        </div>\n                    </div>\n                </div>\n            "}),__p+='\n        </div>\n\n    </div>\n</div>\n<div id="termsModalContainer">\n            <div id="termsNavBarContainer">\n                '+(null==(__t=rules.getNavBar(appSettings,{id:"termsModalNavBar",fixed:!1,leftContent:["loginTermsAcceptButton"]}))?"":__t)+'\n            </div>\n            <div class="termsModalText">\n                <p>'+(null==(__t=termsModal)?"":__t)+'</p>\n                <div class="termsModalPadder">\n            </div>\n        </div>'}return __p}},{}],60:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncMapdistantList=templateFactory.getTemplate("_asyncMapdistantList");__p+="\n\n","GBMapListTemplateTypeClassic"==section.get("template")?__p+='\n	<div id="map" style="width:100%;"></div>\n':user.device.mobile&&(__p+='\n	<div id="map" class="mapdistant" style="'+(null==(__t=rules.map.displayFirstStyle(section,"map"))?"":__t)+'width:100%;"></div>\n	<div id="GBMapsListTemplateTypeClassicContainer" style="'+(null==(__t=rules.map.displayFirstStyle(section,"list"))?"":__t)+(null==(__t=user.device.tablet?"":rules.getSectionBorder(section))?"":__t)+"background-color:"+(null==(__t=rules.getListBackgroundColor(section))?"":__t)+(null==(__t=rules.getSectionMargin(section,void 0,void 0,!0))?"":__t)+'">\n		',rules.getContent(section,asyncMapdistantList,"GBMapsListTemplateTypeClassic","GBMapsListTemplateTypeClassicContainer"),__p+="</div>\n"),__p+="\n\n"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],61:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="<!-- Master -->\n\n";{var access=modules.login.checkAccessOnCurrentView();rules.getSelectedSection()}access.status||"blockApp"!=access.lockType?__p+="\n	\n	<!-- Classic view container -->\n	"+(null==(__t=templateFactory.getTemplate(root.type)(this,this))?"":__t)+"\n\n":(__p+='\n\n	<!-- Login panel -->\n	<div id="root" class="GBRootControllerTypeLogin" >\n		\n		<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n		',user.device.mobile||(backgroundMenu="portrait"==orient?rules.getImageUrl(appSettings.get("root.grid.pageBackgroundImagePortrait"),!0):rules.getImageUrl(appSettings.get("root.grid.pageBackgroundImageLandscape"),!0),__p+='\n			<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n		'),__p+='\n		 <section data-role="page" class="main withNavBar section-login ">\n		 	'+(null==(__t=modules.login.getLoginModal(access.lockType))?"":__t)+'\n		 </section>\n		<div class="clearfix"></div>\n	</div>\n'),__p+=""}return __p}},{}],62:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),targets=section.get("targets")||[],nodeCount=targets.length<5?"lessThanFive":"FiveOrMore",noTiles=preview&&targets.length<1,withTabBar=rules.hasTabBar();__p+='\n\n<div class="GBNodeListContainer">\n\n',"GBNodeListTemplateTypeSlideShow"==section.get("template")&&(__p+='\n		<div class="swiperight helper"></div>\n		<div class="swipeleft helper"></div>\n'),__p+='\n\n<div class="GBNodeList '+(null==(__t=noTiles?"noTiles":"")?"":__t)+" "+(null==(__t=rules.getNodeTemplateType(section))?"":__t)+" "+(null==(__t=section.get("template"))?"":__t)+" "+(null==(__t=nodeCount)?"":__t)+" "+(null==(__t=withTabBar?"GBNodeList--with-tabbar":"")?"":__t)+'">\n	<div class="GBNodeListInner" style="'+(null==(__t=rules.getNodeTileStyle(section,"",["backgroundColor"]))?"":__t)+'">\n\n	'+(null==(__t=rules.getNodeOrientedCellBackgroundImagesStyleTag(section))?"":__t)+"\n\n	",_.each(targets,function(a,b){__p+='\n	    <a\n	    id="tile'+(null==(__t=a)?"":__t)+'"\n	    style="'+(null==(__t=rules.getNodeStyle(section,a))?"":_.escape(__t))+" "+(null==(__t=rules.getNodeTileStyle(section,"",["backgroundColor"]))?"":__t)+'"\n	    href="'+(null==(__t=rules.urlTo("section",a))?"":__t)+'">\n\n	    	',"complexLayout"==rules.getNodeTemplateContentType(section)?(__p+="\n\n	    		",rules.nodeHasBlur(section)&&(__p+='\n		    		<div class="backgroundClone" style="'+(null==(__t=rules.getNodeStyle(section,a))?"":_.escape(__t))+'"></div>\n		    	'),__p+='\n		    	<div class="nodeContentWrapper" style="'+(null==(__t=rules.getNodeOverlayStyle(section))?"":__t)+'">\n			    	<div class="nodeContentHolder" style="'+(null==(__t=rules.getNodeTileContentPosition(section))?"":__t)+'">\n			    		<div class="nodeBand" style="'+(null==(__t=rules.getNodeBandStyle(section))?"":__t)+'">\n				    		<div class="nodeContent">\n				    			'+(null==(__t=rules.getNodeTileContent(section,a,a,b))?"":__t)+"\n				    		</div>\n				    	</div>\n			    	</div>\n			    </div>\n\n		    "):__p+='\n\n		    	<div class="simpleNodeContentWrapper">\n		    		'+(null==(__t=rules.getNodeTileContent(section,a,a))?"":__t)+"\n		    	</div>\n\n		    ",__p+="\n		</a>\n    "}),__p+="\n	</div>\n	","GBRootControllerTypeCustomTabBar"==rules.rootMode()&&(__p+='\n    	<!--<div id="tabBarPadder"></div>-->\n    '),noTiles&&(__p+='\n    	<div class="noTargetsMessage">\n    		<p>'+(null==(__t=backofficeLang.GB_TXT_197)?"":__t)+"</p>\n    		<div></div>\n    	</div>\n	"),__p+='\n</div>\n\n<div class="clearfix"></div>\n\n</div>'}return __p}},{"../rules":33,"../util":177}],63:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncPhotoClassic"),style='style="background:'+rules.css.hexToRgba(self.get("listBackgroundColor"),self.get("listBackgroundOpacity"))+";"+rules.fk("listBackgroundColor",self)+rules.fk("listBackgroundOpacity",self)+'"';__p+='\n\n<div id="GBPhotoListTemplateTypeClassicContainer" class="GBPhotoListTemplateTypeClassic '+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'" '+(null==(__t=style)?"":__t)+">\n\n	",rules.getContent(self,asyncTemplate,"GBPhotoListTemplateTypeClassic","GBPhotoListTemplateTypeClassicContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],64:[function(require,module,exports){module.exports=function(obj){{var __p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),_renderPhotos=templateFactory.getTemplate("_asyncEdgetoedge");__p+='\n\n<div id="GBPhotoListTemplateTypeEdgetoedgeContainer">\n    \n    ',rules.getContent(section,_renderPhotos,"GBPhotoListTemplateTypeEdgetoedge","GBPhotoListTemplateTypeEdgetoedgeContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],65:[function(require,module,exports){module.exports=function(obj){{var __p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),_renderPhotos=templateFactory.getTemplate("_asyncInstagram");__p+='\n\n<div id="GBPhotoListTemplateTypeInstagramContainer">\n	\n	',rules.getContent(section,_renderPhotos,"GBPhotoListTemplateTypeInstagram","GBPhotoListTemplateTypeInstagramContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],66:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncPinterest");__p+="\n\n"+(null==(__t=user.device.mobile?"":'<div style="background-color:'+self.get("listBackgroundColor")+';">')?"":__t)+'\n\n<div id="GBPhotoListTemplateTypePinterestContainer" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'" style="background:'+(null==(__t=rules.css.hexToRgba(self.get("listBackgroundColor"),self.get("listBackgroundOpacity"))+rules.fk("listBackgroundColor",self)+rules.fk("listBackgroundOpacity",self))?"":__t)+'">\n	',rules.getContent(self,asyncTemplate,"GBPhotoListTemplateTypePinterest","GBPhotoListTemplateTypePinterestContainer"),__p+="\n</div>\n\n"+(null==(__t=user.device.mobile?"":"</div>")?"":__t)}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],67:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),proxy=(require("./templateFactory"),devMode?"/proxy?url=":""),idIframe="undefined"==typeof modalMode?'id="iframe-'+section.get("id")+'"':'id="modalIframe_'+modalId+'"',idContainer="undefined"==typeof modalMode?'id="GBPluginListTemplateTypeClassicContainer"':"",loadDataForModalCall="undefined"==typeof modalMode?"":"modules.plugin.loadDataForModal('"+modalId+"')";__p+="\n\n<div "+(null==(__t=idContainer)?"":__t)+' class="GBPluginListTemplateTypeClassic">\n	\n	<iframe  class="customScratchPluginIframe" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" '+(null==(__t=idIframe)?"":__t)+' onload="modules.linkManager.updateLinks();'+(null==(__t=loadDataForModalCall)?"":__t)+'" src="'+(null==(__t=proxy)?"":__t)+(null==(__t="undefined"==typeof specificUrl?rules.getSectionUrl(section):specificUrl)?"":__t)+'?define_function=1"></iframe>\n\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],68:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var getterPrefix="",publicProfile=!1;"undefined"!=typeof mode&&"publicProfile"==mode&&(getterPrefix="detail.",publicProfile=!0);var innerTemplate=templateFactory.getTemplate("GBProfileInner"),section=rules.getSelectedSection(),data={shown:!0,mode:"privateProfile",user:modules.login.data.user,section:section,profileSection:appSections[modules.profile.getProfileSectionId()],background:rules.getSectionBackground("",section,!1,!1),listBackgroundColor:"background-color:"+rules.getListBackgroundColor(section,publicProfile),editAdvancedBackground:rules.fallback(section,"section.listBackgroundColor","section.backgroundColor"),backgroundImagePortrait:"",backgroundImageLandscape:"",separator:rules.borderSeparator(section,"all"),entitledFont:rules.fallbackFont(section,"section."+getterPrefix+"entitledFont","section."+getterPrefix+"subtitleFont"),infosFont:rules.fallbackFont(section,"section."+getterPrefix+"infosFont","section."+getterPrefix+"infosFont"),r:modules.profile.rules,btnBackgroundColor:rules.fallback(section,"section."+getterPrefix+"editButtonBackgroundColor"),profileCoverOverlay:rules.fallback(section,"section."+getterPrefix+"backgroundColor"),editButtonAvailable:rules.moduleProfileShowEditButton(section)};if(publicProfile){var userId=itemID;data.user=_.find(publicProfileData.users,function(a){return a.userId==userId})}var opacity=_.pos(data.user.urlPhoto)?.6:1;if(data.profileCoverOverlay=data.profileCoverOverlay.val?rules.css.hexToBackgroundColor(data.profileCoverOverlay.val,opacity)+data.profileCoverOverlay.key:null,data.btnBackgroundColor.val&&(data.btnBackgroundColor=data.btnBackgroundColor.val+data.btnBackgroundColor.key),data.editAdvancedBackground.val&&(data.editAdvancedBackgroundColor="background-color:"+data.editAdvancedBackground.val+data.editAdvancedBackground.key),data.socialContainer=templateFactory.getTemplate("GBProfileSocialContainer"),data.data=data,publicProfile){data.mode="publicProfile";var listBackgroundColor=rules.fallback(section,"section.detail.listBackgroundColor");data.detailListBackgroundColor="background-color:"+listBackgroundColor.val+listBackgroundColor.key,data.backgroundImagePortrait=rules.getImageUrl(section.get("detail.backgroundImagePortrait")),data.backgroundImageLandscape=rules.getImageUrl(section.get("detail.backgroundImageLandscape"))}if(__p+='\n\n<style id="profileCoverStyleTag" type="text/css">\n.profileCover:before {\n	background-image: '+(null==(__t=rules.css.toCSSURL(modules.profile.rules.getUserAvatar(data.user,section)))?"":__t)+';\n}\n</style>\n\n<div id="profileOuterContainer">\n	<div class="panelOverlay"></div>\n	'+(null==(__t=innerTemplate(data))?"":__t)+"\n	","publicProfile"!=data.mode){if(__p+="\n		",data.shown=!1,__p+="\n		",data.mode="editProfile",__p+="\n		"+(null==(__t=innerTemplate(data))?"":__t)+"\n		",data.mode="editProfileAdvanced",__p+="\n		"+(null==(__t=innerTemplate(data))?"":__t)+"\n\n		",modules.push.displayNotificationsListLink()){data.mode="notificationsList";var notificationsListTemplate=templateFactory.getTemplate("notificationsList");if(__p+="\n			"+(null==(__t=notificationsListTemplate(data))?"":__t)+"\n		",modules.push.displaySettingsLink()){data.mode="notificationsSettings";var notificationsSettingsTemplate=templateFactory.getTemplate("notificationsSettings");__p+="\n\n				"+(null==(__t=notificationsSettingsTemplate(data))?"":__t)+"\n		"}}__p+="\n\n	"}__p+="\n</div>\n"}return __p}},{}],69:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="GBProfileTemplateTypeClassicContainer '+(null==(__t=mode)?"":__t)+" "+(null==(__t=shown?"shown":"")?"":__t)+' ">\n	';var getterPrefix="",tab=tab||rules.getPost("tab"),cat=cat||rules.getPost("cat"),tabs=rules.getProfileTabs(),tabLinks=rules.getProfileTabsLinks();if("editProfileAdvanced"==mode||"editProfile"==mode?__p+="\n		"+(null==(__t=rules.getNavBar(appSettings,{id:mode+"NavBar",fixed:!1,settingsOverridings:{backgroundOpacity:1,effect:"none"},leftContent:["hideEditProfileButton"],middleContent:[mode+"Title"],rightContent:["saveProfileButton"]}))?"":__t)+"\n	":"publicProfile"==mode&&(getterPrefix="detail.",__p+="\n		"+(null==(__t=rules.getNavBar(section,{id:mode+"NavBar",rightContent:[],fixed:!0,settingsOverridings:{effect:"none"}}))?"":__t)+"\n	"),__p+='\n	<div class="GBProfileTemplateTypeClassic '+(null==(__t="publicProfile"==mode?"orientableBackgroundImage":"")?"":__t)+'" style="'+(null==(__t="editProfileAdvanced"==mode?editAdvancedBackgroundColor:background)?"":__t)+'"  data-backgroundimageportrait="'+(null==(__t=backgroundImagePortrait)?"":__t)+'" data-backgroundimagelandscape="'+(null==(__t=backgroundImageLandscape)?"":__t)+'">\n		<div class="inner '+(null==(__t=_.neg(section.get(getterPrefix+"profilePhotoAsBanner"))?" noBanner":"")?"":__t)+" "+(null==(__t=_.neg(section.get(getterPrefix+"allowAvatar"))?" noAvatar":"")?"":__t)+'">\n		'+(null==(__t=modules.style.getStyle(section))?"":__t)+"\n				","editProfileAdvanced"!==mode){__p+='\n					<div class="profileCover ">\n						<div class="colorOverlay" style="'+(null==(__t=profileCoverOverlay)?"":__t)+'"></div>\n						<div class="profileCoverInner">\n							<div class="profilePicContainer">\n								<div class="profilePic" style="background-image:url(\''+(null==(__t=modules.profile.rules.getUserAvatar(user,section))?"":__t)+'\')">\n								</div>\n							</div>\n							<div class="profileName" style="'+(null==(__t=rules.fallbackFont(section,"section."+getterPrefix+"titleFont"))?"":__t)+'">\n								'+(null==(__t=user.attribs.displayName)?"":_.escape(__t))+"\n							</div>\n\n							",("privateProfile"==mode||"publicProfile"==mode)&&(__p+='\n								<div class="profileDesc" style="'+(null==(__t=rules.fallbackFont(section,"section."+getterPrefix+"subtitleFont"))?"":__t)+'">\n									'+(null==(__t=user.attribs.description)?"":_.escape(__t))+"\n								</div>\n							"),__p+="\n\n							","privateProfile"==mode&&editButtonAvailable?__p+='\n								<div class="editProfileButton scaledButton" style="background-color:'+(null==(__t=rules.fallback(section,"section.editButtonBackgroundColor").stringify())?"":__t)+"color:"+(null==(__t=rules.fallback(section,"section.editButtonTextColor").stringify())?"":__t)+'">\n								'+(null==(__t=appLang.GB_TXT_188)?"":__t)+"\n								</div>\n							":"editProfile"==mode&&_.pos(section.get(getterPrefix+"allowAvatar"))?__p+='\n								<div class="editPicButton scaledButton" style="background-color:'+(null==(__t=rules.fallback(section,"section.editButtonBackgroundColor").stringify())?"":__t)+"color:"+(null==(__t=rules.fallback(section,"section.editButtonTextColor").stringify())?"":__t)+'">\n									'+(null==(__t=appLang.GB_TXT_189)?"":__t)+"\n								</div>\n							":"publicProfile"==mode&&_.pos(modules.chat.rules.getChatSection())&&(user.attribs.allowContact||_.not(user.attribs.allowContact))&&(__p+='\n								<a class="editProfileButton scaledButton detail-buttonBackgroundColor detail-buttonTextColor" href="'+(null==(__t=rules.urlTo("messages",modules.chat.rules.getChatSection().id,user.userId))?"":__t)+'">\n									Send a message\n								</a>\n							'),__p+="\n\n							","editProfile"!=mode&&(__p+="\n								"+(null==(__t=socialContainer(data))?"":__t)+"\n							"),__p+="\n							",tabs.length>0&&"privateProfile"==mode&&(__p+='\n							<div class="profileTabFilter">\n								'+(null==(__t=templateFactory.getTemplate("tabFilter")({section:section,selectedTab:tab,selectedCat:cat,tabs:tabs}))?"":__t)+"\n							</div>\n							"),__p+="\n\n							","editProfile"==mode&&(__p+="\n								"+(null==(__t=socialContainer(data))?"":__t)+'\n								<div class="listHeader" style="'+(null==(__t=rules.fallbackFont(section,"section.subtitleFont"))?"":__t)+'">\n									<span>'+(null==(__t=appLang.GB_TXT_191)?"":__t)+"</span>\n								</div>\n							"),__p+="\n\n						</div>\n					</div>\n\n					","privateProfile"==mode&&(__p+='\n					 	<div class="tabContent account tabLinks '+(null==(__t="account"==tab&&tabs.length>0?"":"hidden")?"":__t)+'">\n					 		',_.each(tabLinks,function(a){__p+='\n					 		<a id="'+(null==(__t=a.id)?"":__t)+'" class="tabLink" style="'+(null==(__t=("publicProfile"==mode?detailListBackgroundColor:listBackgroundColor)+separator)?"":__t)+'" href="'+(null==(__t=a.target)?"":__t)+'">\n					 			<div class="iconAndTitle" style="'+(null==(__t=rules.fallbackFont(section,"section."+getterPrefix+"infosFont","section."+getterPrefix+"subtitleFont"))?"":__t)+'">\n					 				'+(null==(__t=rules.makeIcon({src:a.icon,size:"inherit"}))?"":__t)+'\n						 			<div class="title" >'+(null==(__t=a.title)?"":__t)+'</div>\n					 			</div>\n					 			<div class="badgeContainer">\n					 				<div class="badge hidden editButtonBackgroundColor editButtonTextColor"></div>\n					 			</div>\n					 		</a>\n					 		'}),__p+="\n					 	</div>\n				 	"),__p+='\n					<div class="GBProfileListContainer '+(null==(__t=mode)?"":__t)+" tabContent infos "+(null==(__t="account"==tab&&tabs.length>0&&"privateProfile"==mode?"hidden":"")?"":__t)+'" style="'+(null==(__t=("publicProfile"==mode?detailListBackgroundColor:listBackgroundColor)+separator)?"":__t)+' ">\n						';var fieldList=profileSection.get("fields");_.each(fieldList,function(a){var a=_.clone(a);if("privateProfile"==mode||"publicProfile"==mode){if("GBUserFieldName"==a.type||"GBUserFieldDescription"==a.type||"GBUserFieldMail"==a.type)return;if("publicProfile"==mode&&_.pos(a.state)&&"public"!==a.state)return;if("privateProfile"==mode&&_.pos(a.state)&&"hidden"==a.state)return}"GBUserFieldName"==a.type?(a.name=appLang.GB_TXT_181,a.value=user.attribs.displayName):"GBUserFieldDescription"==a.type?(a.name=appLang.GB_TXT_16,a.value=user.attribs.description):"GBUserFieldLocation"==a.type?(a.name=appLang.GB_TXT_204,a.value=user.attribs.location):"GBUserFieldMail"==a.type?a.value=user.email:user.attribs&&user.attribs.intern&&user.attribs.intern[a.id]&&(a.value=a.choices?a.choices[user.attribs.intern[a.id].value]||user.attribs.intern[a.id].value:user.attribs.intern[a.id].value),((preview||"privateProfile"!=mode)&&"publicProfile"!=mode||!_.neg(a.value))&&(__p+='\n								<div style="'+(null==(__t=("editProfile"==mode||"editProfileAdvanced"==mode?"background-color:#FFF;":"")+separator)?"":__t)+'" class="field '+(null==(__t=a.type)?"":__t)+'" data-field-id="'+(null==(__t=a.id)?"":__t)+'" data-field-type="'+(null==(__t=a.type)?"":__t)+'" data-field-name="'+(null==(__t=a.name)?"":__t)+'">\n									<div class="entitle" style="'+(null==(__t="privateProfile"==mode||"publicProfile"==mode?rules.fallbackFont(section,"section."+getterPrefix+"entitledFont","section."+getterPrefix+"subtitleFont"):"")?"":__t)+'">'+(null==(__t=a.name)?"":__t)+'</div>\n									<div class="infos"  data-value="'+(null==(__t=a.value)?"":_.escape(__t))+'" style="'+(null==(__t="privateProfile"==mode||"publicProfile"==mode?rules.fallbackFont(section,"section."+getterPrefix+"infosFont","section."+getterPrefix+"subtitleFont"):"")?"":__t)+'">'+(null==(__t=a.value)?"":_.escape(__t))+'</div>\n									<img class="switch-on-off" src="http://goodbarber.com/assets/img/gbpreview/iphone/switch-on-ios7.png">\n								</div>\n								')},this),__p+="\n\n					</div>\n				"}else{var existingPassword=user.hasPasswd?{id:"advanced_1",name:appLang.GB_TXT_176,value:appLang.GB_TXT_196,required:"1",type:"password",editable:!0}:{},changePasswordClass=user.hasPasswd?"":"shown",advancedFields=[{id:"advanced_0",name:[appLang.GB_SETTINGS_10,appLang.GB_TXT_179,appLang.GB_TXT_175].join(" "),value:user.login,required:"1",type:"login",editable:!0},existingPassword,{id:"advanced_2",name:appLang.GB_TXT_202,value:"",required:"1",type:"passwordNew",editable:!0},{id:"advanced_3",name:appLang.GB_TXT_199,value:"",required:"1",type:"passwordConfirm",editable:!0}];_.pos(modules.chat.rules.getChatSection())&&advancedFields.push({id:"advanced_4",name:appLang.GB_TXT_229,value:appLang.GB_TXT_228,required:"1",type:"contactRules",canBeDisabled:!0,state:_.isUndefined(user.attribs.allowContact)?1:user.attribs.allowContact}),__p+='\n					<div class="GBProfileListContainer '+(null==(__t=mode)?"":__t)+'">\n						',_.each(advancedFields,function(a){listBackgroundColor="background-color:#FFF;",a.id&&("notifications"!=a.type||preview)&&(__p+="\n								"+(null==(__t="passwordNew"==a.type?"<div class='changePasswordContainer "+changePasswordClass+"'>":"")?"":__t)+'\n								<div class="listHeader" style="'+(null==(__t=rules.fallbackFont(section,"section.subtitleFont"))?"":__t)+'">'+(null==(__t=a.name)?"":__t)+'</div>\n								<div class="field '+(null==(__t=a.type)?"":__t)+" "+(null==(__t=a.editable?"editable":"")?"":__t)+'" data-field-id="'+(null==(__t=a.id)?"":__t)+'" data-field-type="'+(null==(__t=a.type)?"":__t)+'" data-field-name="'+(null==(__t=a.name)?"":__t)+'" style="'+(null==(__t=listBackgroundColor+separator)?"":__t)+'">\n									<div class="infos" data-value="'+(null==(__t=a.value)?"":_.escape(__t))+'">'+(null==(__t=a.value)?"":__t)+"</div>\n									",a.canBeDisabled&&(__p+='\n										<img id="'+(null==(__t=a.type)?"":__t)+'" class="switch-on-off" src="http://goodbarber.com/assets/img/gbpreview/iphone/switch-'+(null==(__t=a.state?"on":"off")?"":__t)+'-ios7.png" data-state="'+(null==(__t=a.state)?"":__t)+'">\n									'),__p+="\n								</div>\n								"+(null==(__t="passwordConfirm"==a.type?"</div>":"")?"":__t)+"\n								")},this),__p+='\n						<div class="field logout" style="'+(null==(__t=listBackgroundColor+separator)?"":__t)+'">\n							<div class="infos">\n								Logout\n							</div>\n						</div>\n						<div class="field deleteAccount" style="'+(null==(__t=listBackgroundColor+separator)?"":__t)+'">\n							<div class="infos">\n								'+(null==(__t=appLang.GB_TXT_193)?"":__t)+"\n							</div>\n						</div>\n					</div>\n				"}__p+="\n\n		</div>\n	</div>\n</div>\n"}return __p}},{}],70:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="socialContainer" '+(null==(__t="editProfile"==mode?"style='"+(profileSection.get("social")&&profileSection.get("social").length?separator:"")+"background-color:#FFF;'":"")?"":__t)+">\n	";var status,activeSocials=user.attribs.socialAccountsUrl,accountUrl="",socialCount=profileSection.get("social")&&profileSection.get("social").length>5?"six":"";_.each(profileSection.get("social"),function(a,b){activeSocials&&-1!=_.keys(activeSocials).indexOf(a.type)&&_.pos(activeSocials[a.type])?(status="enabled",accountUrl=activeSocials[a.type]):(status="disabled",accountUrl=""),__p+='\n		<div class="socialElement '+(null==(__t=socialCount)?"":__t)+" "+(null==(__t=status)?"":__t)+'" data-network-name="'+(null==(__t=a.type)?"":__t)+'" data-account-url="'+(null==(__t=accountUrl)?"":__t)+'" style="background-color:'+(null==(__t=rules.fallback(profileSection,"section.social["+b+"].onColor").stringify())?"":__t)+'">\n			'+(null==(__t=rules.createIcon(rules.getRealIconUrl(a.icon),"","","","","","",a.text))?"":__t)+'\n			<div class="plusMinus">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl("100"),"","","plus"))?"":__t)+"\n				"+(null==(__t=rules.createIcon(rules.getRealIconUrl("101"),"","","minus"))?"":__t)+"\n			</div>\n		</div>\n		"},this),__p+="\n</div>"}return __p}},{}],71:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var section=rules.getSelectedSection(),titleFont=rules.fallbackFont(section,"section.titleFont","titleFont"),buttonBackgroundColor=rules.fallback(section,"section.buttonBackgroundColor");buttonBackgroundColor=buttonBackgroundColor.val?"background-color:"+rules.css.hexToRgba(buttonBackgroundColor.val)+buttonBackgroundColor.key:"";var buttonColor=rules.fallback(section,"section.buttonColor");buttonColor=buttonColor.val?"border-color:"+rules.css.hexToRgba(buttonColor.val)+buttonColor.key:"",__p+='\n<div class="GBQrcodeTemplateTypeClassic" style="'+(null==(__t=titleFont)?"":__t)+'">\n\n	<div class="noCamera">\n		<div class="noCamMessageContainer">\n			<div class="noCamMessage"  style="'+(null==(__t=titleFont)?"":__t)+'">\n			<span>\n				'+(null==(__t=appLang.GB_TXT_209)?"":__t)+'\n				</span>\n			</div>\n		</div>\n	</div>\n\n	<!--Canvas where QR code scanning will happen -->\n	<canvas id="scan_canvas" width="320" height="320"  style="border: 1px solid #d3d3d3;">\n		Your browser does not support the HTML5 canvas tag.\n	</canvas>\n\n	<!-- Stream API output (camera)-->\n	<div id="stream_canvas">\n		<video id="video_player" autoplay></video>\n	</div>\n\n	<!-- Fallback from stream API fail (upload)-->\n	<img src="" alt="" id="show_picture">\n\n	<div class="centralSquare">\n		<div class="topLeft"></div>\n		<div class="topRight"></div>\n		<div class="bottomLeft"></div>\n		<div class="bottomRight"></div>\n	</div>\n	<div class="QRCodeButtonContainer" style="'+(null==(__t=buttonBackgroundColor)?"":__t)+'">\n		\n		<div class="QRCodeButton">\n			<div class="topLeft" data-target-property="border-color" style="'+(null==(__t=buttonColor)?"":__t)+'"></div>\n			<div class="topRight" data-target-property="border-color" style="'+(null==(__t=buttonColor)?"":__t)+'"></div>\n			<div class="bottomLeft" data-target-property="border-color" style="'+(null==(__t=buttonColor)?"":__t)+'"></div>\n			<div class="bottomRight" data-target-property="border-color" style="'+(null==(__t=buttonColor)?"":__t)+'"></div>\n		</div>\n	</div>\n</div>'}return __p}},{}],72:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div id="restrictedAccessContainer" style="'+(null==(__t=modules.login.rules.getModalBackground())?"":__t)+'">\n	<div id="restrictedAccessTextContainer">\n		<div style="'+(null==(__t=rules.fontStyle("login.titleFont"))?"":__t)+'">'+(null==(__t=appLang.GB_TXT_205)?"":__t)+'</div>\n		<div style="'+(null==(__t=rules.fontStyle("login.baselineFont"))?"":__t)+'">'+(null==(__t=appLang.GB_TXT_206)?"":__t)+'</div>\n	</div>\n	<div onclick="modules.login.logout(true);" class="logout" style="'+(null==(__t=rules.fontStyle("login.textFont"))?"":__t)+'">'+(null==(__t=appLang.GB_TXT_153)?"":__t)+"</div>\n</div>";return __p}},{}],73:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div id="div-other-sections">\n	';var otherBGImage,otherRule="#fake-bg{";user.device.mobile?otherBGImage="root.other.backgroundImage":(otherBGImage="portrait"==orient?"root.other.backgroundImagePortrait":"root.other.backgroundImageLandscape",util.empty(rules.getImageUrl(appSettings.get(otherBGImage)))&&(otherBGImage="root.other.backgroundImage")),otherRule+="background-image:"+rules.getImageUrl(appSettings.get(otherBGImage),!0)+" !important;background-repeat:no-repeat;background-size:cover;background-position:center center;background-color:"+appSettings.get("root.other.backgroundColor")+";}";var otherBGImageKey=rules.fk(otherBGImage),otherBGColor=rules.fk("root.other.backgroundColor"),styleTagObject={};styleTagObject[otherBGImageKey]="#fake-bg",styleTagObject[otherBGColor]="#fake-bg",otherStyle=rules.css.createStyleTag(otherRule,styleTagObject),__p+="\n	"+(null==(__t=otherStyle.tag)?"":__t)+"\n	"+(null==(__t=otherStyle.keys)?"":__t)+'			\n\n	<div id="other-sections">\n\n		';var iconMenu=appSettings.get("root.other.iconMenu"),separatorType=_.is(appSettings.get("root.other.separatorType"))?rules.pk("separatorColor","border-bottom: 1px "+appSettings.get("root.other.separatorType")+" "):"";
__p+="\n		",_.each(util.getOtherSection(),function(a){__p+='\n		<a href="'+(null==(__t=rules.urlTo("section",a.get("id")))?"":__t)+'" data-target-property="'+(null==(__t=separatorType)?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(appSettings.get("root.other"))+rules.fk("root.other.separatorColor"))?"":__t)+'">\n			<span style="'+(null==(__t=rules.fontStyle("root.other.textFont"))?"":__t)+'">\n				';var b=rules.getSectionIcon(appSections[a.get("id")]);__p+="\n				"+(null==(__t=b.imageUrl?rules.css.createImg("canvas",b.imageUrl):rules.createIcon(rules.getRealIconUrl(b.image),iconMenu.normalColor,iconMenu.normalTexture,"","","",rules.fk("root.other.iconMenu.normalColor")))?"":__t)+"\n				"+(null==(__t=a.get("title"))?"":__t)+"\n			</span>\n		</a>\n\n		"}),__p+="\n\n	</div>\n</div>"}return __p}},{}],74:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate");__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode()+" "+rules.rootType())?"":__t)+'" \n	data-id="'+(null==(__t=rules.getSelectedSection().get("id"))?"":__t)+'">\n	\n<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n',user.device.mobile||(__p+='\n	<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n'),__p+="\n\n"+(null==(__t=_main())?"":__t)+'\n\n<div class="clearfix"></div>\n\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],75:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate"),noHeader=_.pos(appSettings.get("root.menu.noHeader")),styleTag=rules.rootMenuCSS();__p+="\n\n"+(null==(__t=styleTag.tag)?"":__t)+'\n\n<div id="root" class="'+(null==(__t=rules.rootMode()+" "+rules.rootType())?"":__t)+'"\n	data-id="'+(null==(__t=rules.getSelectedSection().get("id"))?"":__t)+'">\n\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n	<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n\n<section id="facebookMenuSection" class="menu" style="'+(null==(__t=rules.css.getRTLStyle({section:appSettings}))?"":__t)+'; background:#FFFFFF;" >\n	<div id="facebookMenuSection-inner" style=\''+(null==(__t=rules.getFacebookMenuBackground())?"":__t)+";position: fixed;height:100%;background-size: cover;'>\n	";{!_.isEmpty(rules.getImageUrl(appSettings.get("root.menu.backgroundImage"))),_.is(appSettings.get("root.header.backgroundColor"))&&"transparent"!=appSettings.get("root.header.backgroundColor")||!_.isEmpty(rules.getImageUrl(appSettings.get("root.header.backgroundImage")))}__p+='\n	<header data-position="fixed" id="FaceBookMenuHeader" class="item section" style=\'width:100%;',noHeader&&(__p+="display: none;"),__p+="padding:0;border:none;"+(null==(__t=rules.getRootHeaderBackground())?"":__t)+'\' >\n		<div style="position: fixed;height: 43px;" >\n			',__p+=rules.isRootHeaderLogo()?'\n				<div class="facebookmenuheaderinner"><img class="logo" src="'+(null==(__t=rules.getRootHeaderLogo())?"":__t)+'" alt="logo" /></div>\n			':'\n				<div class="facebookmenuheaderinner" style="'+(null==(__t=rules.getRootHeaderTitle().style)?"":__t)+'">'+(null==(__t=rules.getRootHeaderTitle().title)?"":__t)+"</div>\n			",__p+='\n		</div>\n	</header><!-- /FaceBookMenuHeader -->\n	<nav id="facebookMenuNav" style=\'background-attachment:fixed; height:100%; ',noHeader||(__p+="margin-top:43px;"),__p+='overflow-y:auto\' data-scroll="y">\n		<ul class="rootMenuTable">\n			';var targets=appSettings.get("root.targets"),cellHeight=rules.rootMenuCellHeight();_.each(targets,function(a){var b,c=appSections[a];modules.profile.data.userProfileMenuIcon&&"GBModuleTypeProfile"==rules.getSectionType(c)&&(b=modules.profile.data.userProfileMenuIcon);var d=!_.pos(appSettings.get("login.hookUserProfile")),e=rules.sectionHasSubSections(c),f="GBCategoriesTemplateTypeExpandable"==rules.getSectionCategoriesTemplate(c),g=[];e&&f&&(g=rules.getSectionSubSections(c));var h=a==rules.getIdSelectedSection()?!0:!1,i=rules.getMenuItemCSS(c,h),j=rules.rootConfig().separatorType,k=h?"color:"+rules.getSectionMenu(c).selectedTextColor+rules.getSectionMenuSelectedTextColorKey(c):rules.getSectionMenuTextFontKey(c),l=_.pos(appSettings.get("root.menu.noIcons"));if(__p+='\n\n			<li data-target-property="'+(null==(__t=h?rules.pk("root.menu.selectedBackgroundColor","background-color"):rules.pk("root.menu.backgroundColor","background-color"))?"":__t)+(null==(__t=rules.pk("root.menu.separatorColor","border-top : 1px "+j+" "))?"":__t)+'" id="menu-'+(null==(__t=c.get("id"))?"":__t)+'" class="rootMenuTable-row '+(null==(__t=h?"sel":"")?"":__t)+(null==(__t=e&&g.length>1?" swipeSectionWithSubsections":"")?"":__t)+'" data-nb-section="'+(null==(__t=g.length)?"":__t)+'" style="'+(null==(__t=(h?i.background:"")+i.borderTop)?"":__t)+'">\n\n				<a class="rootMenuTable-cell rootMenuTable-cell--middle item" href="'+(null==(__t=rules.urlTo("section",c.get("id")))?"":__t)+"\" data-target-property='color' style=\""+(null==(__t=rules.fontStyle(i.labelFont)+k)?"":__t)+";height:"+(null==(__t=cellHeight)?"":__t)+'px;">\n					<div class="padding">\n						<!-- @todo stripslashes title and canvas icon -->\n						',d||l?d&&!l?__p+="\n							"+(null==(__t=i.icon)?"":__t)+"\n						":d?l||(__p+="\n							"+(null==(__t=b?b:i.icon)?"":__t)+"\n						"):__p+="\n							"+(null==(__t=b?b:"")?"":__t)+"\n						":__p+="\n							"+(null==(__t=b?b:i.icon)?"":__t)+"\n						",__p+="\n\n						<span>"+(null==(__t=c.get("title"))?"":__t)+"</span>\n					</div>\n				</a>\n			</li>\n\n			<!--CATEGORIES-->\n			","GBCategoriesTemplateTypeExpandable"==rules.getSectionCategoriesTemplate(c)&&e&&g.length>1){var m=rules.getMenuSubItemCSS(c,!0),n=rules.getMenuSubItemCSS(c,!1),o=rules.getMenuSubItemTextColor(c,!0),p=rules.getMenuSubItemTextColor(c,!1),q="#expandableMenu-"+c.get("id"),r=q+" .expandableItem{"+n.background+n.borderTop+"}"+q+" .expandableItem--sel{"+m.background+m.borderTop+"}"+q+" .expandableItem a.item{"+p.value+"}"+q+" .expandableItem--sel a.item{"+o.value+"}",s={};s[p.key]=".expandableItem a.item",s[o.key]=".expandableItem--sel a.item",s[m.backgroundKey]=s[m.borderTopKey]=s[m.borderTopTypeKey]=".expandableItem--sel",s[n.backgroundKey]=s[n.borderTopKey]=s[n.borderTopTypeKey]=".expandableItem";var t=rules.css.createStyleTag(r,s);__p+="\n				"+(null==(__t=t.tag+t.keys)?"":__t)+'\n\n				<div id="expandableMenu-'+(null==(__t=c.get("id"))?"":__t)+'" style="'+(null==(__t=h?"":"display:none;")?"":__t)+'" class="expBlock '+(null==(__t=h?"swipeSubsectionContainerOpen":"")?"":__t)+'">\n				',_.each(g,function(a,b){var d=rules.getSelectedSection().get("id")==c.get("id")&&b==rules.getSelectedSubsectionID()?!0:!1,e=d?"expandableItem--sel":"expandableItem";__p+='\n					<li id="menu-'+(null==(__t=c.get("id")+"-cat-"+b)?"":__t)+'" class="'+(null==(__t=e)?"":__t)+'">\n\n						<a class="item" href="'+(null==(__t=rules.urlTo("section",c.get("id"),b))?"":__t)+'">\n							<div class="padding swipeSubsection">\n								<span>'+(null==(__t=a.title)?"":__t)+"</span>\n							</div>\n						</a>\n					</li>\n\n				"}),__p+="\n				</div>"}__p+="\n			"}),__p+="\n		</ul>\n	</nav>\n	</div>\n</section>\n\n	"+(null==(__t=_main())?"":__t)+'\n\n<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],76:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),suffix=window.user.device.mobile?"":"Ipad",templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate"),backgroundMenu=rules.getImageUrl(appSettings.get("root.grid.pageBackgroundImage"),!0),title=util.stripslashes(appSettings.get("root.grid.title")||""),logo=rules.getImageUrl(appSettings.get("root.grid.titleImage"+suffix),!0);"none"!=logo&&(title=""),__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode())?"":__t)+'" >\n	<!-- Fake BG -->\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n	',user.device.mobile||(backgroundMenu="portrait"==orient?rules.getImageUrl(appSettings.get("root.grid.pageBackgroundImagePortrait"),!0):rules.getImageUrl(appSettings.get("root.grid.pageBackgroundImageLandscape"),!0),__p+='\n		<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n	'),__p+="\n",__p+=rules.getSelectedSection(!0)?"\n"+(null==(__t=_main())?"":__t)+"\n":'\n	<div style="background-color:#FFFFFF;position: fixed;width: 100%;height: 100%;z-index: -10;"></div>\n	<!-- swipe -->\n	<section class="home orientableBackgroundImage" data-scroll="y" style="'+(null==(__t=rules.getGridBackground())?"":__t)+';overflow:hidden;" data-backgroundimageportrait="'+(null==(__t=appSettings.get("root.grid.pageBackgroundImagePortrait.imageUrl"))?"":__t)+'" data-backgroundimagelandscape="'+(null==(__t=appSettings.get("root.grid.pageBackgroundImageLandscape.imageUrl"))?"":__t)+'">\n\n		<div class="home-header">\n			<div class="menuTitleContainer" style="background-image:'+(null==(__t=logo)?"":__t)+'">\n				<span style="position:relative;'+(null==(__t=rules.fontStyle("root.grid.titleFont"))?"":__t)+';">\n					'+(null==(__t=title)?"":__t)+'\n				</span>\n			</div>\n		</div>\n		<div class="home-menu"></div>\n		<div class="home-footer"><div></div></div>\n	</section>\n\n',__p+='\n	<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],77:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate");if(__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode())?"":__t)+'">\n	<!-- Fake BG -->\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n	',user.device.mobile||(__p+='\n		<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n	'),__p+="\n",rules.getSelectedSection(!0))__p+="\n"+(null==(__t=_main())?"":__t)+"\n";else{__p+='\n	<!-- swipe -->\n	<section class="home" style="'+(null==(__t=rules.css.getRTLStyle({section:appSettings}))?"":__t)+'; margin-left:0;">\n		<table cellpadding="0" cellspacing="0" >\n			';var typoCompt=0;_.each(appSettings.get("root.targets"),function(a){var b=appSections[a];__p+='\n					<tr>\n						<td data-target-property="background-color" style="background-color:'+(null==(__t=rules.fvk("root.largeTypo.sectionParams["+typoCompt+"].color"))?"":__t)+'">\n							<a style="'+(null==(__t=rules.fontStyle("root.largeTypo.textFont",b))?"":__t)+'" href="'+(null==(__t=rules.urlTo("section",b.get("id")))?"":__t)+'">\n								'+(null==(__t=util.stripslashes(b.get("title")))?"":__t)+"\n							</a>\n						</td>\n					</tr>\n				",typoCompt++,typoCompt>=root.largeTypo.sectionParams.length&&(typoCompt=0)}),__p+="\n		</table>\n	</section>\n	\n"}__p+='\n	<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],78:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate");backgroundMenu=rules.getImageUrl(appSettings.get("root.littleMenu.backgroundImage"),!0);var styleTag=rules.rootLittleMenuCSS(),isCentered=rules.rootLittleMenuIsCentered();__p+="\n\n"+(null==(__t=styleTag.tag)?"":__t)+'\n\n<div id="root" class="'+(null==(__t=rules.rootMode()+" "+rules.rootType())?"":__t)+'" data-id="'+(null==(__t=rules.getSelectedSection().get("id"))?"":__t)+'">\n\n<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n',user.device.mobile||(backgroundMenu=rules.getImageUrl(appSettings.get("root.littleMenu.backgroundImageIpad"),!0),__p+='\n	<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n'),__p+='\n\n<section class="menu" data-scroll="y" style="'+(null==(__t=rules.getLittleSwipeBackground())?"":__t)+'height: 100%;">\n	<div>\n		<nav class="'+(null==(__t=isCentered?"littleMenuTable":"")?"":__t)+'">\n			<ul class="rootMenuTable '+(null==(__t=isCentered?"littleMenuTableCell":"")?"":__t)+'">\n				';var targets=appSettings.get("root.targets"),cellHeight=rules.rootLittleMenuCellHeight();_.each(targets,function(a){var b,c=appSections[a];modules.profile.data.userProfileMenuIcon&&"GBModuleTypeProfile"==rules.getSectionType(c)&&(b=modules.profile.data.userProfileMenuIcon);var d=!_.pos(appSettings.get("login.hookUserProfile")),e=a==rules.getIdSelectedSection()?!0:!1,f=rules.getMenuItemCSS(c,e),g=rules.rootConfig().separatorType,h=e?"root.littleMenu.selectedBackgroundColor":"root.littleMenu.backgroundColor",i=e?"color:"+rules.getSectionLittleMenu(c).selectedTextColor+rules.getSectionLittleMenuKey(c,"selectedTextColor"):rules.getSectionLittleMenuKey(c,"textFont");__p+='\n\n				<li data-target-property="'+(null==(__t=rules.pk(h,"background-color")+rules.pk("root.littleMenu.separatorColor","border-top : 1px "+g+" "))?"":__t)+'" id="menu-'+(null==(__t=c.get("id"))?"":__t)+'" class="rootMenuTable-row '+(null==(__t=(e?"sel":"")+(rules.showLittleMenuLabel(c)?"":" nolabel"))?"":__t)+'" style="'+(null==(__t=(e?f.background:"")+f.borderTop)?"":__t)+'">\n\n					<a class="rootMenuTable-cell item" href="'+(null==(__t=rules.urlTo("section",c.get("id")))?"":__t)+"\" data-target-property='color' style=\""+(null==(__t=rules.css.createFontStyle(rules.getSectionLittleMenu(c).textFont)+i)?"":__t)+";height:"+(null==(__t=cellHeight)?"":__t)+'px;" onclick="util.toggleSwipe();">\n						<div class="padding">\n\n							',__p+=d?"\n								"+(null==(__t=f.icon)?"":__t)+"\n							":"\n								"+(null==(__t=b?b:f.icon)?"":__t)+"\n							",__p+="\n\n							<span>"+(null==(__t=util.stripslashes(c.get("title")))?"":__t)+"</span>\n						</div>\n					</a>\n				</li>\n\n				"}),__p+="\n			</ul>\n		</nav>\n	</div>\n</section>\n\n	"+(null==(__t=_main())?"":__t)+'\n\n<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],79:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate");if(__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode())?"":__t)+'">\n\n',rules.getSelectedSection(!0))__p+='\n<!-- Fake BG -->\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n	',user.device.mobile||(__p+='\n		<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n	'),__p+="\n"+(null==(__t=_main())?"":__t)+"\n";else{var url=util.proxifyUrl(util.replaceHostname(appSettings.get("root.scratch.controllerUrl"))),define=/\?/.test(url)?"&define_function=1":"?define_function=1";__p+='\n	<section class="home" style="margin-left:0;">\n		<iframe onload="modules.linkManager.updateLinks()"  class="customScratchPluginIframe" id="iframe-rootScratch" src="'+(null==(__t=url+define)?"":__t)+'"></iframe>\n	</section>\n'}__p+='\n	<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],80:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate"),backgroundMenu=rules.getImageUrl(appSettings.get("root.slate.pageBackgroundImage"),!0);if(__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode()+" "+rules.rootType())?"":__t)+'" >\n	<!-- Fake BG -->\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n	',user.device.mobile||(__p+='\n		<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n	'),__p+="\n\n",rules.getSelectedSection(!0))__p+="\n"+(null==(__t=_main())?"":__t)+"\n";else{user.device.mobile||(backgroundMenu="portrait"==orient?rules.getImageUrl(appSettings.get("root.slate.pageBackgroundImagePortrait"),!0):rules.getImageUrl(appSettings.get("root.slate.pageBackgroundImageLandscape"),!0)),__p+='\n	<!-- swipe -->\n	<section class="home relative" data-scroll="y" style=\'background:#FFFFFF;overflow:hidden;\'>\n		<div id="slateBackgroundHolder" style="display:table;width:100%;height:100%;'+(null==(__t=rules.getSlateBackground()+rules.fvk("root.slate.pageBackgroundColor"))?"":__t)+'">\n		<div style="display:table-cell;vertical-align:middle;position:relative;">\n		';var j=0,compt=0,nbPages=Math.ceil(appSettings.get("root.targets").length/rules.getHomeMenuNbItems());if(__p+="\n			<div id='bulletSlides'>\n			",_.each(appSettings.get("root.targets"),function(a){var b=appSections[a],c="";if(j%rules.getHomeMenuNbItems()==0){__p+='\n					<div id="bulletSection-'+(null==(__t=compt)?"":__t)+'" class="home-sections">\n					<div class="home-menu" style="position:relative;margin:auto;background-color:'+(null==(__t=rules.fvk("root.slate.menuBackgroundColor"))?"":__t)+";background-image:"+(null==(__t=rules.getImageUrl(appSettings.get("root.slate.menuBackgroundImage"),!0))?"":__t)+';">\n					',compt++;for(var a=0;nbPages>a;a++){var d=rules.fallback("root.slate.onColor","root.slate.titleFont.color"),e=rules.fallback("root.slate.offColor","root.slate.textFont.color");c+="<span data-target-property='background-color' id='"+(compt-1)+"bulletButton-"+a+"' "+(compt==a+1?' class="sel" style=\'background-color:'+d.stringify()+"'":"style='background-color:"+e.stringify()+"'")+"></span>"}pagerSlate=c,__p+='\n\n					<h2 style="'+(null==(__t=rules.fontStyle("root.slate.titleFont"))?"":__t)+';">\n\n						',_.pos(appSettings.get("root.slate.titleImage"))&&(__p+='\n							<div class="menuLogoContainer">\n								<img class="menuLogo" src="'+(null==(__t=rules.getImageUrl(appSettings.get("root.slate.titleImage")))?"":__t)+'"/>\n							</div>\n						'),_.pos(appSettings.get("root.slate.title"))&&_.neg(appSettings.get("root.slate.titleImage"))&&(__p+='\n							<span class="slateTitle">\n								'+(null==(__t=util.stripslashes(appSettings.get("root.slate.title")))?"":__t)+"\n							</span>\n						"),__p+='\n					</h2>\n					<ul data-max="'+(null==(__t=rules.getHomeMenuNbItems())?"":__t)+'">\n					<li>\n				'}__p+='\n				<a style="'+(null==(__t=rules.fontStyle("root.slate.textFont"))?"":__t)+'" href="'+(null==(__t=rules.urlTo("section",b.get("id")))?"":__t)+'">\n					'+(null==(__t=util.stripslashes(b.get("title")))?"":__t)+"\n				</a>\n				",++j%rules.getHomeMenuNbItems()==0&&nbPages>1&&(__p+='\n					<div class="pager" style="position:absolute;width:100%;">'+(null==(__t=pagerSlate)?"":__t)+"</div></li></ul></div></div>\n				")}),j%rules.getHomeMenuNbItems()!=0&&(__p+='\n				<div class="pager" style="position:absolute;width:100%;">'+(null==(__t=pagerSlate)?"":__t)+"</div></li></ul></div></div>\n			"),__p+="\n			</div>\n		",util.getNbSections()>rules.getHomeMenuNbItems()){__p+='\n			<!--<div class="pager" style="position:absolute;width:100%;">\n				';var j=0,compt=0;for(var i in appSections)j%rules.getHomeMenuNbItems()==0&&(__p+='\n						<span id="bulletButton-'+(null==(__t=compt)?"":__t)+'" '+(null==(__t=0==j?' class="sel"':"")?"":__t)+" ></span>\n						",compt++),j++;__p+="\n			</div>-->\n			"}__p+="\n		</div>\n		</div>\n	</section>\n\n"}__p+='\n	<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],81:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{var util=require("../util"),rules=require("../rules"),templateFactory=require("./templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate");rules.getImageUrl(appSettings.get("root.typo.pageBackgroundImage"),!0)}if(__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode())?"":__t)+'" style="overflow-y:auto;">\n	<!-- Fake BG -->\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n\n',rules.getSelectedSection(!0))__p+="\n"+(null==(__t=_main())?"":__t)+"\n";else{__p+='\n	<div style="background-color:#FFFFFF;position: fixed;width: 100%;height: 100%;z-index: -10;"></div>\n	<!-- swipe -->\n	<section class="home" data-scroll="y" style="'+(null==(__t=rules.css.getRTLStyle({section:appSettings}))?"":__t)+"; "+(null==(__t=rules.getTypoBackground())?"":__t)+'">\n		<ul class="home-menu">\n		';var typoCompt=0;_.each(appSettings.get("root.targets"),function(a){var b=appSections[a];__p+='\n				<li>\n					<div data-target-property="background-color" style="background-color:'+(null==(__t=rules.fvk("root.typo.sectionParams["+typoCompt+"].color"))?"":__t)+'">\n						<a style="font-size:20px;'+(null==(__t=rules.fontStyle("root.typo.textFont"))?"":__t)+';" href="'+(null==(__t=rules.urlTo("section",b.get("id")))?"":__t)+'">\n							'+(null==(__t=util.stripslashes(b.get("title")))?"":__t)+"\n						</a>\n					</div>\n				</li>\n				",typoCompt++,typoCompt>=root.typo.sectionParams.length&&(typoCompt=0)}),__p+="\n		</ul>\n	</section>\n\n"}__p+='\n	<div class="clearfix"></div>\n</div>'}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],82:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),self=rules.getSelectedSection(),bar=rules.getSectionSearchBar(self),formBgKey=rules.fk("searchBar.backgroundColor",self),colorKey=rules.fk("searchBar.buttonBackgroundColor",self),searchListBgColor=rules.getSectionSearchListBackgroundColor(self),bgStyle="background-color:"+searchListBgColor+";background-image:"+rules.getImageUrl(bar.backgroundImage,!0)+";background-position:center;background-repeat:no-repeat;",titleStyle=rules.getSectionSearchTitleFont(self),searchPanelBgColor=rules.getSectionSearchBarBackgroundColor(self);cancelButtonColor=rules.getSectionSearchBarCancelColor(self),__p+='\n<div id="searchButton" style="background-color:'+(null==(__t=bar.backgroundColor+formBgKey)?"":__t)+";background-image:"+(null==(__t=rules.getImageUrl(bar.backgroundImage,!0))?"":__t)+';" >\n	<div>\n		<input style="color:'+(null==(__t=bar.buttonBackgroundColor+colorKey)?"":__t)+'" type="search" class="search-input" data-role="none" placeholder="'+(null==(__t=rules.getSectionSearchPlaceHolder())?"":__t)+'" />\n	</div>\n</div>\n<div id="searchPanel">\n	<div>\n		<form id="searchForm" style="'+(null==(__t=searchPanelBgColor)?"":__t)+'" method="get" accept-charset="utf-8">\n			<input data-role="none" type="search" class="search-input" name="key" value="" placeholder="'+(null==(__t=rules.getSectionSearchPlaceHolder())?"":__t)+'" />\n			<a id="cancelSearch" class="close-searchbar" data-role="none">\n				<label data-target-property="color" style="color:'+(null==(__t=cancelButtonColor)?"":__t)+'">\n					'+(null==(__t=appLang.ANNULER)?"":__t)+'\n				</label>\n			</a>\n		</form>\n	</div>\n	<div id="searchHistory" style="'+(null==(__t=bgStyle)?"":__t)+'">\n		',util.empty(globalsAppVars.searchHistory)||(__p+="\n			<ul>\n			",_.each(_.uniq(globalsAppVars.searchHistory),function(a){__p+='\n				<li style="'+(null==(__t=titleStyle)?"":__t)+'">\n					<a href="'+(null==(__t=rules.urlTo("search",self.get("id"),a))?"":__t)+'" style="color:inherit;">\n						'+(null==(__t=a)?"":__t)+"\n					</a>\n				</li>\n			"}),__p+="\n			</ul>\n		"),__p+="\n	</div>\n</div>"}return __p}},{"../rules":33}],83:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),settings=rules.getSelectedSection(),credits=rules.getSettingsCredits(settings);__p+='\n\n<div class="'+(null==(__t=rules.getSectionDetailTemplate(settings))?"":__t)+'" style="'+(null==(__t=rules.getSectionMargin(settings))?"":__t)+'">\n\n	<div style="'+(null==(__t=rules.fontStyle("textFont",settings))?"":__t)+';">\n		'+(null==(__t=credits.content)?"":__t)+"		\n	</div>	\n\n</div>"}return __p}},{"../rules":33}],84:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),settings=rules.getSelectedSection(),txts=rules.getSettingsTexts(),android=user.os.android;__p+='\n\n<div class="'+(null==(__t=rules.getSectionTemplateMode(settings))?"":__t)+'">\n\n';var title=rules.fontStyle("titleFont",settings)+"text-shadow:none;",ssTitle=rules.fontStyle("subtitleFont",settings),arrow=rules.createIcon(rules.getRealIconUrl("arrow-settings"),settings.get("subtitleFont.color"),"","arrow-settings","","","line-height:40px;font-size:15px;float:right;"+rules.fk("subtitleFont.color",settings));if(title=android?title+"border-color:"+rules.getSectionSeparatorColor(settings)+";":title,arrow=android?"":arrow,bg=rules.getSectionSettingsListBackgroundColor(settings),__p+="\n\n	",rules.showSettingsGeneral(settings)&&(__p+='\n		<h2 style="'+(null==(__t=title)?"":__t)+'">\n			'+(null==(__t=txts.generalTitle)?"":__t)+'\n		</h2>\n		<div class="bloc">\n\n			',rules.showSettingsCredits(settings)&&(__p+='\n				<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n					<a href="'+(null==(__t=rules.urlTo("settings",settings.get("id"),"credits"))?"":__t)+'" title="" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						<span>'+(null==(__t=txts.creditsLabel)?"":__t)+"</span>\n						"+(null==(__t=arrow)?"":__t)+"\n					</a>\n				</div>\n			"),__p+="\n\n			",rules.showSettingsContact(settings)&&(__p+='\n				<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n					<a href="'+(null==(__t=rules.getContactEmail(settings))?"":__t)+'" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						'+(null==(__t=txts.supportLabel+arrow)?"":__t)+"\n					</a>\n				</div>\n			"),__p+="\n\n			",rules.showSettingsRecommand(settings)&&(__p+='\n				<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n					<a href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						'+(null==(__t=txts.recommandLabel+arrow)?"":__t)+"\n					</a>\n				</div>\n			"),__p+="\n\n		</div>\n	"),__p+="\n\n	",rules.isThereMapSection()){var useMiles=rules.useMiles();__p+='\n\n		<h2 style="'+(null==(__t=title)?"":__t)+'">\n			'+(null==(__t=txts.distancesTitle)?"":__t)+'\n		</h2>\n		<div class="bloc">\n			<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n				<div class="ss-bloc-inner">\n					<a class="changeDistanceUnits" href="#" title="miles" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						<span>'+(null==(__t=txts.distancesMilesLabel)?"":__t)+"</span>\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("/assets/gbicon/img/v1/98.png"),settings.get("subtitleFont.color"),"",useMiles?"":"hidden","","","line-height:40px;font-size:15px;float:right;"+rules.fk("subtitleFont.color",settings)))?"":__t)+'\n					</a>\n				</div>\n			</div>\n			<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n				<div class="ss-bloc-inner">\n					<a class="changeDistanceUnits" href="#" title="kilometers" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						<span>'+(null==(__t=txts.distancesKmLabel)?"":__t)+"</span>\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("/assets/gbicon/img/v1/98.png"),settings.get("subtitleFont.color"),"",useMiles?"hidden":"","","","line-height:40px;font-size:15px;float:right;"+rules.fk("subtitleFont.color",settings)))?"":__t)+"\n					</a>\n				</div>\n			</div>\n		</div>\n\n	"}__p+="\n\n	",__p+="\n\n	",rules.showSettingsNotifications(settings)&&(__p+='\n		<h2 style="'+(null==(__t=title)?"":__t)+'">\n			'+(null==(__t=txts.notificationsTitle)?"":__t)+'\n		</h2>\n		<div class="bloc">\n			<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n				<a href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">'+(null==(__t=txts.notificationsLabel)?"":__t)+"</a>\n			</div>\n		</div>\n	"),__p+='\n\n	<h2 style="'+(null==(__t=title)?"":__t)+'">\n		'+(null==(__t=txts.cacheTitle)?"":__t)+'\n	</h2>\n	<div class="bloc">\n		<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n			<a class="clear-cache" href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">\n				'+(null==(__t=txts.clearCacheLabel+arrow)?"":__t)+'\n			</a>\n		</div>\n		<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n			<a href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">\n				'+(null==(__t=txts.updateLabel+arrow)?"":__t)+'\n			</a>\n		</div>\n	</div>\n\n<!--<div id="wrap">\n            <img id="image" src="http://placekitten.com/640/480" />\n        </div>\n</div>-->'}return __p}},{"../rules":33,"../util":177}],85:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules");if(user.device.tablet)window.location.hash="!section="+rules.getPost("section")+"&item="+rules.getPost("item")+"&sharemodal=1";else{{var util=require("../util"),templateFactory=require("./templateFactory"),article=rules.getItemById(data,rules.getPost("item"));templateFactory.getTemplate("_asyncListComments")}__p+='	\n\n	<form class="form-share" action="'+(null==(__t=rules.urlTo("article",self.get("id"),article.id)+"&amp;share")?"":__t)+'" method="post">\n		<div id="mobileSharingTAContainer" data-role="content">\n			<input type="hidden" name="action" value="share_item" />\n			<textarea id="mobileSharingTA" class="form" placeholder="'+(null==(__t=appLang.ENTERTEXT)?"":__t)+'" name="share_content">'+(null==(__t=rules.getSharingText(article)+" "+rules.getSharingUrl(article))?"":__t)+'</textarea>\n			<span id="charcounter"></span>\n		</div>\n		\n		<div class="cartouche" data-position="fixed" data-tap-toggle="false" style="background:url('+(null==(__t=util.getCurrentBaseUrl()+"/assets/img/gbpreview/bg-share-bar.png")?"":__t)+') top left repeat-x;">\n			<div class="left" id="ajax-enabled-services"></div>\n			<!--todo fill-->\n			<div class="right">\n				<a class="print" href="">\n	    			'+(null==(__t=rules.createIcon(rules.getRealIconUrl("share-print"),"","","","",""))?"":__t)+'\n				</a>\n				<a class="sendByMail" href="mailto:?subject='+(null==(__t=encodeURI(appLang.GB_TXT_58+" : "+article.title)+"&body="+encodeURI(appLang.GB_TXT_57+" : "+article.url))?"":__t)+'">\n	    			'+(null==(__t=rules.createIcon(rules.getRealIconUrl("email"),"","","","",""))?"":__t)+"\n				</a>\n			</div>\n		</div>\n	</form>\n"}__p+=""}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],86:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncSoundClassic=templateFactory.getTemplate("_asyncSoundClassic");__p+='\n\n<div id="GBSoundListTemplateTypeClassicContainer" style="'+(null==(__t=rules.getSectionTemplateMode(section))?"":__t)+'">\n	',rules.getContent(section,asyncSoundClassic,"GBSoundListTemplateTypeClassic","GBSoundListTemplateTypeClassicContainer"),__p+="\n\n</div>"
}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],87:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../util"),require("../rules")),self=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncSoundCloud");__p+='\n\n<div id="GBSoundListTemplateTypeSoundCloudContainer" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n\n	',rules.getContent(self,asyncTemplate,"GBSoundListTemplateTypeSoundCloud","GBSoundListTemplateTypeSoundCloudContainer"),__p+="\n\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],88:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),item=rules.getSubmitDetailSelectedService(self),type=item.type;"article"!=type&&(object=rules.getSubmitDetailObject(item,1)),__p+='\n\n<div data-role="content" class="'+(null==(__t=rules.getSectionDetailTemplate(self))?"":__t)+'" style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+'">\n\n	<div class="infos-form inner" style="border:'+(null==(__t=rules.getSectionBorder(self))?"":__t)+";background-color:"+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+'">\n\n		<form action="'+(null==(__t=rules.urlTo("section",self.get("id")))?"":__t)+'" method="post" accept-charset="utf-8">\n\n			<div class="infos-top">\n				<div class="infos-author">\n					',__p+=util.empty(self.get("auth"))?'\n						<input data-role="none" class="form" type="email" id="submit-user" name="submit_user" value="" placeholder="'+(null==(__t=rules.getSubmitDetailEmailPlaceholder(item,self))?"":__t)+'" />\n					':"\n\n					",__p+="\n				</div>\n\n				","photo"==type&&(__p+='\n					<div class="center">\n						<div class="photo" id="file-photo" style="background: url(\'\') center center no-repeat;">\n\n						</div>\n						<input type="hidden" id="submit_object_name" name="submit_object_name" value="" />\n					</div>\n				'),__p+="\n\n				","video"==type&&(__p+='\n					<div class="center">\n						<video id="file-video" autobuffer autoloop loop controls>\n							<source src="" type="">\n						</video>\n\n						<input type="hidden" id="submit_object_name" name="submit_object_name" value="" />\n					</div>\n				'),__p+='\n			</div>\n\n			<textarea data-role="none" name="submit_text" class="form textarea-form" placeholder="'+(null==(__t=rules.getSubmitDetailTextareaPlaceholder(item,self))?"":__t)+'" value="">\n			</textarea>\n\n		</form>\n	</div>\n</div>'}return __p}},{"../rules":33,"../util":177}],89:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="<!--<h1>Classic template test</h1>-->\n";var rules=(require("../util"),require("../rules"));__p+="\n";var self=rules.getSelectedSection();__p+='\n\n<div class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'" style="background:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+"; "+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n	<table cellpadding="0" cellspacing="0">\n		<form action="" method="post" accept-charset="utf-8" enctype="multipart/form-data">\n\n			',_.each(rules.getSubmitServices(self),function(a){var b=self.get("submitIcons"),c="service "+a.type,d="font-size:45px;line-height:55px;";__p+='\n			<tr>\n				<td style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n\n					',("photo"==a.type||"video"==a.type)&&(__p+='\n						<input type="file" data-role="none" class="" name="submit_'+(null==(__t=a.type)?"":__t)+'" accept="'+(null==(__t="photo"==a.type?"image":a.type)?"":__t)+'/*"/>\n					'),__p+='\n\n					<a class="service '+(null==(__t=a.type)?"":__t)+'" href="'+(null==(__t=rules.urlTo("submit",self.get("id"),a.type))?"":__t)+'" title="">\n\n						'+(null==(__t=rules.createIcon(rules.getRealIconUrl(rules.getSubmitIcon(a)),b.normalColor,b.normalTexture,c,"","",d))?"":__t)+'\n\n						<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">'+(null==(__t=rules.getServiceTitle(a))?"":__t)+'</h2>\n						<p style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">'+(null==(__t=rules.getServiceDescription(a))?"":__t)+'</p>\n						<div class="clearfix"></div>\n\n					</a>\n\n				</td>\n			</tr>\n			'}),__p+="\n\n		</form>\n	</table>\n</div>"}return __p}},{"../rules":33,"../util":177}],90:[function(require,module,exports){module.exports=function(obj){{var __p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),templateFactory=require("./templateFactory"),asyncTwitter=templateFactory.getTemplate("_asyncTwitterDetail");__p+='\n\n<div id="GBTwitterDetailTemplateTypeClassicContainer">\n	',rules.getContent(self,asyncTwitter,"GBTwitterDetailTemplateTypeClassic","GBTwitterDetailTemplateTypeClassicContainer"),__p+="\n</div>"}return __p}},{"../rules":33,"./templateFactory":176}],91:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),section=(require("../util"),rules.getSelectedSection()),templateFactory=require("./templateFactory"),_asyncTwitterHeader=templateFactory.getTemplate("_asyncTwitterBannerHeader"),_asyncTwitterList=templateFactory.getTemplate("_asyncTwitterClassic");__p+='\n\n	<div id="GBTwitterListTemplateTypeBannerHeaderContainer">\n	',rules.getContent(section,_asyncTwitterHeader,"GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeBannerHeaderContainer"),__p+='\n	</div>\n\n	<div id="GBTwitterListTemplateTypeBannerListContainer" class="GBTwitterListTemplateTypeClassic" style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+";"+(null==(__t="background:"+rules.getListBackgroundColor(section))?"":__t)+'">\n		',rules.getContent(section,_asyncTwitterList,"GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeBannerListContainer"),__p+="\n	</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],92:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),section=(require("../util"),rules.getSelectedSection()),templateFactory=require("./templateFactory"),_asyncTwitterClassic=templateFactory.getTemplate("_asyncTwitterClassic");__p+='\n<div data-next="'+(null==(__t=rules.getNextPage(section))?"":__t)+'" \n	 data-section="'+(null==(__t=section.get("id"))?"":__t)+'" \n	 class="'+(null==(__t=rules.getSectionTemplateMode(section))?"":__t)+'" \n	 style="border:'+(null==(__t=section.get("borderStyle"))?"":__t)+'">\n\n	 <div id="GBTwitterListTemplateTypeClassicContainer" style="'+(null==(__t=rules.getSectionBorder(section)+"background:"+rules.getListBackgroundColor(section))?"":__t)+'">\n		',rules.getContent(section,_asyncTwitterClassic,"GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeClassicContainer"),__p+="\n	 </div>\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],93:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../rules"),section=(require("../util"),rules.getSelectedSection()),templateFactory=require("./templateFactory"),_asyncTwitterHeader=templateFactory.getTemplate("_asyncTwitterProfileHeader"),_asyncTwitterList=templateFactory.getTemplate("_asyncTwitterClassic");__p+='\n\n	<div id="GBTwitterListTemplateTypeProfileHeaderContainer">\n	 ',rules.getContent(section,_asyncTwitterHeader,"GBTwitterListTemplateTypeProfile","GBTwitterListTemplateTypeProfileHeaderContainer"),__p+='\n	</div>\n\n	<div id="GBTwitterListTemplateTypeBannerListContainer" class="GBTwitterListTemplateTypeClassic" style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+";"+(null==(__t="background:"+rules.getListBackgroundColor(section))?"":__t)+'">\n	 ',rules.getContent(section,_asyncTwitterList,"GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeBannerListContainer"),__p+="\n	</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],94:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div style="height:100%;" class="advancedSearch-backgroundColor">\n',"searchquery"==mode)__p+="\n	"+(null==(__t=rules.getNavBar(appSettings,{id:"userSearchNavBar",leftContent:["searchBar"],middleContent:[],rightContent:["newSearchCancelButton"],settingsOverridings:{backgroundOpacity:1,effect:"none"}}))?"":__t)+"\n";else if("filters"==mode){var leftContent=[],middleContent=["narrowResults"],navBGExtraClasses=!1,navBGDisabled=!1;window.user.device.mobile&&(leftContent=!1,middleContent=["addKeywords"],navBGExtraClasses=" backgroundColor ",navBGDisabled=!0),__p+="\n	"+(null==(__t=rules.getNavBar(appSettings,{id:"userSearchFilterNavBar",leftContent:leftContent,middleContent:middleContent,rightContent:[],settingsOverridings:{backgroundOpacity:1,effect:"none"}}))?"":__t)+"\n\n"}var profileSection=modules.profile.getProfileSection(),fields=profileSection.get("fields");if(__p+='\n<div class="searchFilterContainer">\n	',"filters"==mode){window.user.device.mobile&&(__p+='\n			<div class="filterMobileTitle titleFont">\n				Affiner les résultats\n			</div>\n		'),__p+='\n\n		<div class="filterList">\n			';var filters=util.getCurrentSearchFilters().filters,selectedFilters={};_.each(filters.arrayFields,function(a){var b=_.keys(a)[0];selectedFilters[b]=a[b]}),_.each(fields,function(a){if(section.get("advancedSearch")&&section.get("advancedSearch").filters&&-1!=section.get("advancedSearch").filters.indexOf(a.id)){var b=selectedFilters[a.id]?selectedFilters[a.id]:"none";__p+='\n					<div class=" blockSelect" style="background-color:#ffffff;key:appSections-8377333-fieldBackgroundColor;font-family: \'Helvetica neue\';font-size:20px;color:#30284A;;key:appSections-8377333-fieldTextFont;border: 1px solid#ababab;key:appSections-8377333-fieldBorderColor;">\n						<div class="ui-select">\n							<div id="select-50-button" class="ui-btn ui-icon-carat-d ui-btn-icon-right ui-corner-all ui-shadow">\n								<span class="'+(null==(__t="none"==b?"defaultChoice":"")?"":__t)+'"> '+(null==(__t="none"==b?a.name:b)?"":__t)+'</span>\n								<select data-id="'+(null==(__t=a.id)?"":__t)+'">\n									<option '+(null==(__t="none"==b?"selected":"")?"":__t)+' class="placeholderSelect" value="noFilter">'+(null==(__t=appLang.GB_TXT_USERS_all)?"":__t)+"</option>\n									",_.each(a.choices,function(a){__p+="\n										<option "+(null==(__t="none"!=b&&b==a?"selected":"")?"":__t)+' value="'+(null==(__t=a)?"":__t)+'">\n											'+(null==(__t=a)?"":__t)+"\n										</option>\n									"}),__p+="\n								</select>\n							</div>\n						</div>\n					</div>\n					"}},this)}__p+="\n	</div>\n</div>\n</div>"}return __p}},{}],95:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="userlistMain '+(null==(__t=section.get("template"))?"":__t)+'">\n	',_.pos(section.get("mapEnabled"))&&(__p+='\n		<div class="fabButton mapListSwitch mapButtonBackgroundColor mapButtonIconColor">\n			<div class="canvas gbicongeneric icon-gbicongeneric-event-place toMap"></div>\n			<div class="canvas gbicongeneric icon-gbicongeneric-map-list toList"></div>\n		</div>\n		<div class="userlistMapContainer"><div id="map"></div></div>\n	'),__p+="\n</div>\n\n";return __p}},{}],96:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var loadMore="undefined"!=typeof loadMore?loadMore:!1,list="GBUserslistTemplateTypeClassic"==template?!0:!1,users=data.users,extraUrlComponents="undefined"!=typeof extraUrlComponents?extraUrlComponents:void 0;loadMore||(__p+='\n<div class="userList sectionMargins borderColor">\n	<div class="userListInner loadMoreContentHolder '+(null==(__t=list?"listBackgroundColor":"")?"":__t)+'">\n		',users&&users.length||(__p+='\n			<div class="noResult titleFont">\n				'+(null==(__t=appLang.GB_TXT_68)?"":__t)+"\n			</div>\n		"),__p+="\n"),__p+="\n		",_.each(users,function(a){a&&a.userId==modules.login.data.userId||(__p+='\n			<a class="'+(null==(__t=list?"separatorColor":"listBackgroundColor")?"":__t)+'" href="'+(null==(__t=rules.objectiveUrlTo({section:section.get("id"),cat:cat,tab:tab,item:a.userId,extraUrlComponents:extraUrlComponents}))?"":__t)+'">\n				<div class="rowInner">\n\n					',_.pos(section.get("thumbEnabled"))&&(__p+='\n					<div class="cell avatar">\n						<div class="avatarImg" style="background-image:url(\''+(null==(__t=modules.profile.rules.getUserAvatar(a,section))?"":__t)+"')\">\n						</div>\n					</div>\n					"),__p+='\n\n					<div class="cell text">\n						<div class="name titleFont">\n							'+(null==(__t=a.attribs.displayName)?"":_.escape(__t))+"\n						</div>\n						",list&&_.pos(section.get("showInfos"))&&(__p+='\n							<div class="location subtitleFont">\n								'+(null==(__t=modules.profile.rules.tokenizeUser(section.get("infosContentType"),a))?"":__t)+"\n							</div>\n						"),__p+="\n					</div>\n					",_.pos(section.get("showInfos"))&&(__p+='\n						<div class="cell '+(null==(__t=list?"right":"left")?"":__t)+' subtitleFont">\n							',_.is(tab)&&"nearby"==tab&&_.is(a.dist)?__p+="\n								"+(null==(__t=rules.map.getFormattedDistance(a.dist))?"":__t)+"\n							":_.is(tab)&&"recents"==tab&&_.is(a.date)&&(__p+="\n								"+(null==(__t=util.Tokens.ago(a.date))?"":__t)+"\n							"),__p+="\n						</div>\n					"),__p+="\n				</div>\n			</a>\n			")}),__p+="\n",loadMore||(__p+="\n	</div>\n</div>\n"),__p+=""}return __p}},{}],97:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var selectorsToHide=selectorsToHide||void 0,mapPadding=user.device.mobile?"":"padding:8px";__p+='\n\n<!-- CONTENT -->\n<div id="GBEventContent-content">\n    <article class="detail-article">\n        ',_.pos(event.content)&&(__p+='\n            <div class="content" style="'+(null==(__t=rules.fontStyle("detail.textFont",self))?"":__t)+'">\n                '+(null==(__t=rules.getArticleDetailContent(self,event,selectorsToHide))?"":__t)+"\n            </div>\n            <style>\n                a{\n                    "+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+";\n                    color:"+(null==(__t=rules.fallback(self,"section.detail.linkColor","section.detail.subtitleFont.color").val)?"":__t)+";\n                }\n            </style>\n        "),__p+="\n\n        ",_.pos(event.urlEvent)&&"http://"!=event.urlEvent&&_.neg(self.get("websiteButtonDisabled"))&&(__p+='\n            <div class="url" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+';">\n                <a href="'+(null==(__t=event.urlEvent)?"":__t)+'" target="_blank" style="color:'+(null==(__t=rules.vk("detail.buttonBackgroundColor",self))?"":__t)+'" data-target-property="'+(null==(__t=rules.pk("detail.buttonBackgroundColor","color"))?"":__t)+'">'+(null==(__t=rules.moduleSeeWebsite(self))?"":__t)+"</a>\n            </div>\n        "),__p+='\n\n        <div class="rectangleButtonsContainer">\n            '+(null==(__t=_.pluck(rectangleButtons,"html").join(""))?"":__t)+"\n        </div>\n\n    </article>\n</div>\n\n<!-- MAP -->\n",_.pos(event.latitude)&&_.pos(event.longitude)&&(__p+='\n    <div id="GBEventContent-map">\n\n        <a '+(null==(__t=rules.map.makeLinkToExternalMap(event.latitude,event.longitude,event.title))?"":__t)+' target="_blank" style="color:inherit;display:block;'+(null==(__t=mapPadding)?"":__t)+'">\n            <div class="div-map">\n                <div class="map" id="map-canvas-'+(null==(__t=event.id)?"":__t)+'"></div>\n                <input type="hidden" id="map-canvas-coords-'+(null==(__t=self.get("id"))?"":__t)+'" value="'+(null==(__t=event.latitude)?"":__t)+"|"+(null==(__t=event.longitude)?"":__t)+'" />\n            </div>\n        </a>\n\n    </div>\n'),__p+=""}return __p}},{}],98:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),util=require("../../util"),templateFactory=require("../templateFactory"),event=data.items[0],agendaContent=templateFactory.getTemplate("agendaContent"),buttons=rules.css.makeRectangleButtons(self,event,!0),subtitleColor=rules.vk("detail.subtitleFont.color",self),sortedButtons=(self.get("detail.subtitleFont.size")+"px",_.sortBy(buttons,function(a){var b={phone:1,ticket:2,location:3};return b[a.key]})),title=util.safeAmp(util.stripslashes(event.title)),date=util.Tokens.eventDateFormat(event.date,event.endDate,event.allDay);__p+='\n\n<div id="GBEventContentTemplateTypeClassic">\n	<div class="content-role" data-role="content" style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+" ;background-color:"+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n	    <div class="main-content">\n	    	<article class="detail-article">\n\n	    		',_.pos(title)&&(__p+='\n					<!-- title -->\n				    <h2 style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';margin-bottom:20px;">\n				        <span>'+(null==(__t=util.safeAmp(util.stripslashes(event.title)))?"":__t)+"</span>\n				    </h2>\n			    "),__p+="\n\n			    <!-- infos -->\n				",_.pos(event.address)&&(__p+='\n			        <div class="address" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n				        '+(null==(__t=rules.makeIcon({src:"event-place",color:"#"+subtitleColor,size:"20px",style:"display:table-cell;"}))?"":__t)+'\n			            <div style="display:table-cell;">'+(null==(__t=util.stripslashes(event.address))?"":__t)+"</div>\n			        </div>\n			    "),__p+="\n\n			   	",_.pos(date)&&!isNaN(date)&&(__p+='\n			   		<div style="margin-top:10px;">\n					   	 '+(null==(__t=rules.makeIcon({src:"event-date2",color:"#"+subtitleColor,size:"20px",style:"display:table-cell;"}))?"":__t)+'\n					    <time class="date" style="display:table-cell;vertical-align:top;'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n					        '+(null==(__t=util.Tokens.eventDateFormat(event.date,event.endDate,event.allDay))?"":__t)+"\n					    </time>\n					</div>\n			    "),__p+="\n			</article>\n\n			"+(null==(__t=agendaContent({self:self,event:event,rectangleButtons:sortedButtons}))?"":__t)+"\n\n		</div>\n	</div>\n\n</div>\n"}return __p}},{"../../rules":33,"../../util":177,"../templateFactory":176}],99:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),templateFactory=require("../templateFactory"),event=data.items[0],buttons=rules.css.makeRectangleButtons(self,event,!0),coverBegin=rules.isNavBarTransparent()?"margin-top:-44px;padding-top:44px;":"",coverImage=rules.getItemFirstImageAttribute(event,"url"),coverImageId=rules.getItemFirstImageAttribute(event,"id"),agendaContent=templateFactory.getTemplate("agendaContent"),subtitleColor=rules.vk("detail.subtitleFont.color",self),title=(self.get("detail.subtitleFont.size")+"px",util.safeAmp(util.stripslashes(event.title))),date=util.Tokens.eventDateFormat(event.date,event.endDate,event.allDay),contentMargin=user.device.mobile?"":rules.getSectionMargin(self);__p+='\n\n<div id="GBEventContentTemplateTypeBanner">\n\n    <!-- Banner -->\n    <div id="GBEventContentTemplateTypeBanner-cover" style="'+(null==(__t=coverBegin)?"":__t)+"position:relative; display:table; width:100%; background:url("+(null==(__t=coverImage)?"":__t)+') center center / cover; text-align:center;">\n\n        <div id="GBEventContentTemplateTypeBanner-infos" style="position:relative;display:table-cell;vertical-align:middle;padding:4em 0 2em 0;">\n\n        </div>\n\n    </div>\n\n    <div id="GBEventContentTemplateTypeBannerContentContainer">\n        <div class="content-role" data-role="content" style="'+(null==(__t=contentMargin)?"":__t)+" ;background-color:"+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n\n            <div class="main-content">\n                <article class="detail-article">\n                	',_.pos(title)&&(__p+='\n            			<!-- Title -->\n            			<h2 style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';margin-bottom:20px;">\n            			    <span>'+(null==(__t=title)?"":__t)+"</span>\n            			</h2>\n            		"),__p+="\n\n            		",_.pos(event.address)&&(__p+='\n            		    <div class="address" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n            		    	 '+(null==(__t=rules.makeIcon({src:"event-place",color:"#"+subtitleColor,size:"20px",style:"display:table-cell;"}))?"":__t)+'\n            		        <div style="display:table-cell">'+(null==(__t=util.stripslashes(event.address))?"":__t)+"</div>\n            		    </div>\n            		"),__p+="\n\n            		",_.pos(date)&&(__p+='\n            			<!-- Infos -->\n                        <div class="event-date" style="margin-top:10px;">\n                			 '+(null==(__t=rules.makeIcon({src:"event-date2",color:"#"+subtitleColor,size:"20px",style:"display:table-cell;"}))?"":__t)+'\n                			<time class="date" style="display:table-cell;vertical-align:top;'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n                			    '+(null==(__t=date)?"":__t)+"\n                			</time>\n                        </div>\n            		"),__p+="\n                </article>\n\n                "+(null==(__t=agendaContent({self:self,event:event,selectorsToHide:["#"+coverImageId],rectangleButtons:buttons}))?"":__t)+"\n\n            </div>\n        </div>\n\n    </div>\n</div>"}return __p}},{"../../rules":33,"../../util":177,"../templateFactory":176}],100:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),templateFactory=require("../templateFactory"),event=data.items[0],buttons=rules.css.makeRectangleButtons(self,event,!0),coverBegin=rules.isNavBarTransparent()?"margin-top:-44px;padding-top:44px;":"",coverImage=rules.getItemFirstImageAttribute(event,"url"),coverImageId=rules.getItemFirstImageAttribute(event,"id"),subtitleColor=rules.vk("detail.subtitleFont.color",self),coverColor=rules.vk("detail.titleFont.color",self),coverButton=rules.getAgendaCoverButton(buttons),agendaContent=templateFactory.getTemplate("agendaContent"),title=util.safeAmp(util.stripslashes(event.title)),date=util.Tokens.eventDateFormat(event.date,event.endDate,event.allDay),contentMargin=user.device.mobile?"":rules.getSectionMargin(self);__p+='\n\n<div id="GBEventContentTemplateTypeCover">\n\n    <!-- COVER -->\n    <div id="GBEventContentTemplateTypeCover-cover" style="'+(null==(__t=coverBegin)?"":__t)+"position:relative; display:table; width:100%; background:url("+(null==(__t=coverImage)?"":__t)+') center center / cover; text-align:center;">\n\n        <!-- gradient -->\n        ',_.neg(self.get("detail.hideGradient"))&&(__p+='\n            <div id="gradient" style="'+(null==(__t=rules.getBannerGradient(self))?"":__t)+'"></div>\n        '),__p+='\n\n        <div id="GBEventContentTemplateTypeCover-infos" style="position:relative;display:table-cell;vertical-align:middle;padding:40px 15px 30px 15px;">\n\n            ',_.pos(title)&&(__p+='\n                <!-- Title -->\n                <h2 style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+";margin-bottom:20px;color:"+(null==(__t=coverColor)?"":__t)+'">\n                    <span>'+(null==(__t=title)?"":__t)+"</span>\n                </h2>\n            "),__p+="\n\n            ",_.pos(date)&&(__p+='\n                <div style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n                    <!-- Infos -->\n                    '+(null==(__t=rules.makeIcon({src:"event-date2",color:"#"+subtitleColor,size:"20px",style:"display:inline;"}))?"":__t)+'\n                    <time class="date">\n                        '+(null==(__t=date)?"":__t)+"\n                    </time>\n                </div>\n            "),__p+="\n\n            ",_.pos(event.address)&&(__p+='\n                <div class="address" style="margin-top:15px;'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n                    '+(null==(__t=rules.makeIcon({src:"event-place",color:"#"+subtitleColor,size:"20px",style:"display:inline;"}))?"":__t)+'\n\n                    <p style="display:inline;">'+(null==(__t=util.stripslashes(event.address))?"":__t)+"</p>\n                </div>\n            "),__p+='\n\n            <!-- cover-button -->\n            <div id="GBEventContentTemplateTypeCover-button">\n                '+(null==(__t=coverButton.html)?"":__t)+'\n            </div>\n\n        </div>\n\n    </div>\n\n    <div class="content-role" data-role="content" style="'+(null==(__t=contentMargin)?"":__t)+" ;background-color:"+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n        <div class="main-content">\n            '+(null==(__t=agendaContent({self:self,event:event,selectorsToHide:["#"+coverImageId],rectangleButtons:_.reject(buttons,_.findWhere(buttons,{key:coverButton.key}))}))?"":__t)+"\n        </div>\n    </div>\n\n</div>"}return __p}},{"../../rules":33,"../../util":177,"../templateFactory":176}],101:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var titleFont=rules.fallbackFont(self,"section.titleFont","titleFont"),subtitleFont=rules.fallbackFont(self,"section.subtitleFont","subtitleFont"),hasInfos=!util.empty(self.get("showInfos"))&&!util.empty(rules.getInfosContentType(self)),hasSummary=!util.empty(self.get("showSummary"))&&"GBModuleTypeArticle"==self.get("type"),defaultThumb=self.get(!user.device.mobile&&_.pos(self.get("defaultThumbIpad"))?"defaultThumbIpad":"defaultThumb"),titleFontColor=rules.fallback(self,"section.titleFont","titleFont");titleFontColor=titleFontColor.val?"background-color:"+titleFontColor.val.color+titleFontColor.key:"",__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n	<div class="GBArticleListTemplateTypeCheckerboard">\n	';var i=0;_.each(data.items,function(a,b){var c=i%2!=0;__p+='\n\n		<a class="list" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'" title="">\n\n			<article style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'">\n\n					<div class="photo" style=\'background-image:'+(null==(__t=rules.getImageUrl(defaultThumb,!0))?"":__t)+"; "+(null==(__t=c?"":"float:right")?"":__t)+"'\n						data-origin=\""+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(defaultThumb)))?"":__t)+'">\n					</div>\n\n					<div class="infos" style="'+(null==(__t=c?"text-align:right;":"float:left;text-align:left;")?"":__t)+'">\n						<h2 style="'+(null==(__t=titleFont)?"":__t)+'">\n							<span>\n								'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n							</span>\n						</h2>\n						",(hasInfos||hasSummary)&&(__p+='\n							<div class="separator" style="'+(null==(__t=titleFontColor)?"":__t)+'"></div>\n						'),__p+="\n						",hasInfos&&(__p+='\n							<div class="subtitle" style="'+(null==(__t=subtitleFont)?"":__t)+'">\n								'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n							</div>\n						"),__p+="\n						",hasSummary&&(__p+='\n							<div class="subtitle" style="'+(null==(__t=subtitleFont)?"":__t)+'">\n								'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n							</div>\n						"),__p+='\n					</div>\n\n					<div class="clearfix"></div>\n			</article>\n		</a>\n\n	',i++},this),__p+="\n	</div>\n</div>\n\n"}return __p}},{}],102:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n	<div class="GBArticleListTemplateTypeClassic '+(null==(__t=rules.getArticleListClass(self))?"":__t)+'">\n	';var thumbConfig=rules.getThumbConfig(self);_.each(data.items,function(a,b){__p+='\n\n		<a class="list" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'" title="">\n\n			<article data-target-property="'+(null==(__t="border-bottom : 1px "+rules.fv("separatorType",self))?"":__t)+';" class="'+(null==(__t=thumbConfig.classArticle)?"":__t)+" "+(null==(__t=rules.getArticleUneClass(self,b,loadMore))?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n\n				<div class="'+(null==(__t=thumbConfig.wrapPhotoClass)?"":__t)+'">\n\n					<div class="photo" style=\'background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+";'\n						data-origin=\""+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n						'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+'\n					</div>\n\n					<div class="infos">\n						<h2 style="'+(null==(__t=rules.getArticleTitleFont(self,b,loadMore))?"":__t)+" "+(null==(__t=rules.css.getRTLStyle(self))?"":__t)+'">\n							<span>\n								'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n							</span>\n						</h2>\n						",util.empty(self.get("showInfos"))||util.empty(rules.getInfosContentType(self))||(__p+='\n							<div class="subtitle" \n							style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n							</div>\n						"),__p+="\n						",util.empty(self.get("showSummary"))||"GBModuleTypeArticle"!=self.get("type")||(__p+='\n							<div class="subtitle" \n							style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n							'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n							</div>\n						"),__p+='\n					</div>\n\n					<div class="clearfix"></div>\n				</div>\n			</article>\n		</a>\n\n	'},this),__p+="\n	</div>\n</div>\n\n"}return __p}},{"../../rules":33,"../../util":177}],103:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+=" ";var util=require("../../util"),rules=require("../../rules"),section=self,article=data.items[0],articles=util.getCurrentAvailableContentData(),template=rules.getArticleDetailContentTemplate(article),isClassic=/Classic/.test(template),littleBanner=1!=section.get("detail.littleBannerImage")||user.device.mobile?!1:!0,margin=rules.hasSectionMargins(section,!0)&&user.device.mobile?rules.css.getSectionMargin(section,void 0,void 0,!0):"",border=_.isEmpty(margin)?"":rules.getDetailBorder(section),hasBannerImage=rules.getItemFirstImageAttribute(article),effect="about-"+rules.getNavBarEffect(!1,rules.getSelectedSection()),isBannerView=!isClassic&&hasBannerImage;margin+=isClassic?"position:relative;":"",__p+="\n\n";var style=rules.getCSSForDetail(self,article);__p+="\n"+(null==(__t=style.tag)?"":__t)+"\n"+(null==(__t=style.keys)?"":__t)+'\n\n\n<div class="GBAboutListContainer '+(null==(__t=template)?"":__t)+" "+(null==(__t=rules.getSectionDetailTemplate(section))?"":__t)+'" >\n	'+(null==(__t=rules.getCustomCssForDetail(section))?"":__t)+"\n	",isBannerView&&!littleBanner&&(__p+='\n		<div class="bannerContainer '+(null==(__t=effect)?"":__t)+' parallax__layer">\n			<div class="bannerContent '+(null==(__t=user.device.tablet?"tablet":"")?"":__t)+'" data-replace-image="'+(null==(__t=rules.getItemFirstImageAttribute(article,"id"))?"":__t)+'" style="background-image:url('+(null==(__t=rules.getItemFirstImageAttribute(article,"url"))?"":__t)+')">\n				',"GBArticleContentTemplateTypeBannerInfos"==template&&(__p+='\n					<div class="bannerGradient '+(null==(__t=rules.disableClass(section,"section.detail.hideGradient"))?"":__t)+'">\n						<div class="contentTitle">\n							'+(null==(__t=rules.getAboutSectionTitle(article))?"":__t)+"\n						</div>\n					</div>\n			"),__p+="\n			</div>\n		</div>\n	"),__p+='\n	<div class="_asyncArticleDetailContainer '+(null==(__t=isBannerView&&littleBanner?"littleBanner":"")?"":__t)+'" style="background-color:'+(null==(__t=rules.getSectionDetailListBackgroundColor(section))?"":__t)+";"+(null==(__t=margin+border)?"":__t)+';" class="GBAboutList '+(null==(__t=effect)?"":__t)+' parallax__layer">\n		<article class="content detail-article '+(null==(__t=template)?"":__t)+'" style="padding-bottom: '+(null==(__t=8*util.coeffSize)?"":__t)+'px;">\n			',isBannerView&&littleBanner&&(__p+="\n				<div style='margin-bottom:20px;' class=\"bannerContainer "+(null==(__t=effect)?"":__t)+' parallax__layer">\n					<div class="bannerContent '+(null==(__t=user.device.tablet?"tablet":"")?"":__t)+'" data-replace-image="'+(null==(__t=rules.getItemFirstImageAttribute(article,"id"))?"":__t)+'" style="background-image:url('+(null==(__t=rules.getItemFirstImageAttribute(article,"url"))?"":__t)+')">\n						',"GBArticleContentTemplateTypeBannerInfos"==template&&(__p+='\n							<div class="bannerGradient">\n								<div class="contentTitle">\n									'+(null==(__t=rules.getAboutSectionTitle(article))?"":__t)+"\n								</div>\n							</div>\n					"),__p+="\n					</div>\n				</div>\n			"),__p+="\n			","GBArticleContentTemplateTypeBannerInfos"==template&&hasBannerImage||(__p+="\n				"+(null==(__t=rules.getAboutSectionTitle(article))?"":__t)+"\n			"),__p+="\n			"+(null==(__t=rules.getArticleDetailContent(section,article))?"":__t)+"\n		</article>\n\n	</div>\n</div>\n\n";
var displayPager=rules.isToolBarType(self,"Classic",!1)?"none":"block";__p+="\n";var paddingPager=rules.isToolBarType(self,"Classic",!1)?"displayPadding":"hidePadding";__p+="\n";var dataAttributes="none"==displayPager?"":'data-tap-toggle="false" data-position="fixed" data-role="footer"';__p+="\n\n\n<!-- Pager -->\n";var bookmarkMode=!1,pagerSection=self;rules.isBookmarkSection()&&(bookmarkMode=!0,bkmrkSection=rules.getSelectedSection(),pagerSection=bkmrkSection,articles=modules.storage.get("favoris")),__p+='\n<div style="display:'+(null==(__t=displayPager)?"":__t)+';" data-tap-toggle="false" data-position="fixed" class="'+(null==(__t=paddingPager)?"":__t)+' GBArticleDetailTemplateTypeToolBarUp">\n	<div class="pager" '+(null==(__t=dataAttributes)?"":__t)+' style="background:'+(null==(__t=rules.css.hexToRgba(pagerSection.get("detail.toolbar.pager.backgroundColor"),pagerSection.get("detail.toolbar.opacity"))+rules.fk("detail.toolbar.pager.backgroundColor",pagerSection)+rules.fk("detail.toolbar.opacity",pagerSection))?"":__t)+';">\n		';var j=1;_.each(articles,function(a){var b=rules.urlTo("article",self.get("id"),a.id),c=a.id==rules.getPost("item")?!0:!1;if(bookmarkMode){var d={id:a.item,parentSection:a.section};b=rules.urlTo("favoris",d,bkmrkSection.get("id")),c=d.id==rules.getPost("item")?!0:!1}var e=c?rules.fvk("detail.toolbar.pager.onColor",pagerSection):rules.fvk("detail.toolbar.pager.offColor",pagerSection),f=c?"sel":"";__p+='\n\n			<a class="'+(null==(__t=f)?"":__t)+'" data-target-property="background-color" style="background-color:'+(null==(__t=e)?"":__t)+';" href="'+(null==(__t=b)?"":__t)+'">&nbsp;</a>\n\n		',j++}),__p+='\n	</div>\n</div>\n\n<div class="clearfix"></div>\n\n</div>'}return __p}},{"../../rules":33,"../../util":177}],104:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="main-content">\n	<div class="GBArticleListTemplateTypeClassic">\n	';var thumbConfig=rules.getThumbConfig(self);util.empty(data.items)?__p+='\n\n		<h1 style="text-align:center;margin:10px;">'+(null==(__t=appLang.GB_TXT_68)?"":__t)+"</h1>\n\n	":_.each(data.items,function(a,b){__p+='\n\n		<a style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'" title="">\n\n			<article class="'+(null==(__t=thumbConfig.classArticle)?"":__t)+" "+(null==(__t=rules.getArticleUneClass(self,b))?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n\n				<div class="'+(null==(__t=thumbConfig.wrapPhotoClass)?"":__t)+'">\n\n					<div class="photo" style=\'background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+";'\n						data-origin=\""+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n						'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+'\n					</div>\n\n					<div class="infos">\n						<h2 style="'+(null==(__t=rules.getArticleTitleFont(self,b))?"":__t)+" "+(null==(__t=rules.css.getRTLStyle(self))?"":__t)+'">\n							<span>\n								'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n							</span>\n						</h2>\n						",util.empty(self.get("showInfos"))||util.empty(rules.getInfosContentType(self))||(__p+='\n							<div class="subtitle" \n							style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n							</div>\n						"),__p+="\n						",util.empty(self.get("showSummary"))||"GBModuleTypeArticle"!=self.get("type")||(__p+='\n							<div class="subtitle" \n							style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n							'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n							</div>\n						"),__p+='\n					</div>\n\n					<div class="clearfix"></div>\n				</div>\n			</article>\n		</a>\n\n	'},this),__p+="\n	</div>\n</div>\n\n"}return __p}},{"../../rules":33,"../../util":177}],105:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=window.util,rules=window.rules,self=rules.getSelectedSection(),favs=data.items;if(__p+='\n\n<div class="GBArticleListTemplateTypeClassic '+(null==(__t=rules.getArticleListClass(self))?"":__t)+'">\n    ',_.isEmpty(favs))__p+='\n\n            <div class="main-content" style="text-align:center;">\n                <div id="no-favs" style="text-align:center;display:table;width:100%;height:480px">\n                    <div style="display:table-cell;vertical-align:middle;">\n                '+(null==(__t=rules.createIcon(rules.getRealIconUrl("no-favoris"),self.get("titleFont").color,"","no-favoris","","","font-size:150px;"+rules.fk("titleFont.color",self)))?"":__t)+'\n\n                <h1 style="margin-top:30px;'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n                    '+(null==(__t=self.get("emptyText")||appLang.GB_TXT_29)?"":__t)+"\n                </h1>\n                </div></div>\n            </div>\n\n    ";else{var thumbConfig=rules.getThumbConfig(self);_.each(favs,function(a,b){var c=a.images.large?a.images.large.url:rules.getArticleThumbnail(self,a,b);__p+='\n                <div class="GBBookmark-item" data-itemid="'+(null==(__t=a.id)?"":__t)+'">\n                    <a style="position:relative;background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'" href="'+(null==(__t=rules.urlTo("favoris",a,self.get("id")))?"":__t)+'" title="">\n                        <article class="'+(null==(__t=thumbConfig.classArticle)?"":__t)+" "+(null==(__t=rules.getArticleUneClass(self,b))?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n\n                            <div class="'+(null==(__t=thumbConfig.wrapPhotoClass)?"":__t)+'">\n\n                                <div class="photo" style=\'background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+";'\n                                    data-origin=\""+(null==(__t=rules.getImageOrDefault(c,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n                                    '+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+'\n                                </div>\n\n                                <div class="infos">\n                                    <h2 style="'+(null==(__t=rules.getArticleTitleFont(self,b))?"":__t)+" "+(null==(__t=rules.css.getRTLStyle(self))?"":__t)+'">\n                                        <span>\n                                            '+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n                                        </span>\n                                    </h2>\n                                    ",util.empty(self.get("showInfos"))||util.empty(rules.getInfosContentType(self))||(__p+='\n                                        <div class="subtitle"\n                                        style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n                                        '+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n                                        </div>\n                                    "),__p+="\n                                    ",util.empty(self.get("showSummary"))||"GBModuleTypeArticle"!=self.get("type")||(__p+='\n                                        <div class="subtitle"\n                                        style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n                                        '+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n                                        </div>\n                                    "),__p+='\n                                </div>\n\n                                <div class="clearfix"></div>\n                            </div>\n                        </article>\n                    </a>\n                    <div class="GBBookmark-deleteoverlay hidden">\n                        '+(null==(__t=rules.makeIcon({src:"/assets/gbicon/img/v1/101.png",size:"30px",color:"#FF0000",classes:"GBBookmark-deletebtn"}))?"":__t)+"\n                    </div>\n                </div>\n    "})}__p+="\n</div>"}return __p}},{}],106:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n<div data-section="'+(null==(__t=self.get("id"))?"":__t)+'" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+';">\n    \n    <div class="polaContainer">\n    ',_.each(data.items,function(a){__p+='\n        <div class="pola relative"  style="background-image:url(\''+(null==(__t=a.images.large.url)?"":__t)+'\');">\n            <a href="'+(null==(__t=rules.urlTo("photo",self.get("id"),a.id))?"":__t)+'">\n                <div class="polabottom">\n\n                    ',util.empty(a.title)||(__p+='\n                        <h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n                            '+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n                        </h2>\n                    "),__p+="\n\n                    ",util.empty(a.date)||(__p+='\n                        <date style="'+(null==(__t=rules.fontStyle("dateFont",self))?"":__t)+'">\n                            '+(null==(__t=util.Tokens.ago(a.date))?"":__t)+"\n                        </date>\n                        <br />\n                    "),__p+="\n                </div>\n            </a>\n        </div>\n    "}),__p+="\n    </div>\n</div>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],107:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),section=rules.getSelectedSection();if(__p+="\n\n\n",!util.empty(data.items)){__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n	';var styleTag=rules.addEventStyle(self);__p+="\n	"+(null==(__t=styleTag.tag+styleTag.keys)?"":__t)+'\n\n	<ul id="listEventsExpandable" style="background-color:'+(null==(__t=rules.getEventsListBackground(self)+";"+rules.getEventsListBackground(self,!0))?"":__t)+'">\n	\n		';var thumb=rules.getThumbConfig(self),eventsByDay=rules.getGroupedEvents(data.items,data.next_page),i=0;_.each(eventsByDay,function(a,b){var c=b,d=util.Tokens.getDateNumber(c),e=util.Tokens.getDateDay(c),f=util.Tokens.getDateMonth(c),g=util.Tokens.getDateYear(c),h=rules.getEventsStartClassNames(i,self);__p+='\n			<li class="expandableEvent '+(null==(__t=h.timeline)?"":__t)+'" style="'+(null==(__t=rules.getEventsListSeparator(self))?"":__t)+'">\n				<div class="eventDate">\n					',__p+=rules.isRTL(section)?'\n						<div class="dateOther">\n							<div class="dateDay timelineTitle">\n								'+(null==(__t=e)?"":__t)+'\n							</div>\n							<div class="dateMonthYear timelineSubtitle">\n								'+(null==(__t=[f,g].join(", "))?"":__t)+'\n							</div>\n						</div>\n						<div class="dateNumber timelineTitle">\n							'+(null==(__t=d)?"":__t)+"\n						</div>\n					":'\n						<div class="dateNumber timelineTitle">\n							'+(null==(__t=d)?"":__t)+'\n						</div>\n						<div class="dateOther">\n							<div class="dateDay timelineTitle">\n								'+(null==(__t=e)?"":__t)+'\n							</div>\n							<div class="dateMonthYear timelineSubtitle">\n								'+(null==(__t=[f,g].join(", "))?"":__t)+"\n							</div>\n						</div>\n					",__p+="\n				</div>\n\n				",_.each(a,function(a){__p+='\n\n					<div class="eventLocation '+(null==(__t=h.infos)?"":__t)+'">\n						<a href="'+(null==(__t=rules.urlTo("agenda",self.get("id"),a.id))?"":__t)+'" title="">\n							',rules.isEventsThumb(self)&&(__p+='\n								<div class="photo '+(null==(__t=thumb.wrapPhotoClass)?"":__t)+'" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'" data-origin="'+(null==(__t=rules.getImageOrDefault(a.thumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n									\n								</div>\n							'),__p+='\n\n							<div class="infosOther" style="'+(null==(__t=rules.isRTL(section)?"right:0;":"")?"":__t)+'">\n							\n								<div style="max-height:40px;overflow:hidden;" class="eventTitle eventInfosTitle">\n									'+(null==(__t=rules.truncateText(util.stripslashes(a.title),self.get("cesureSummary")))?"":__t)+"\n								</div>\n\n								",rules.isEventsListInfos(self)&&(__p+='\n\n									<div style="max-height:34px;overflow:hidden;" class="eventInfos eventInfosSubtitle">\n										'+(null==(__t=rules.getEventSubtitle(self,a))?"":__t)+"\n									</div>\n								"),__p+="\n\n							</div>\n						</a>\n					</div>\n\n				"}),__p+="\n\n			</li>\n		\n		",i++}),__p+="\n	</ul>\n\n</div>\n"}__p+=""}return __p}},{"../../rules":33,"../../util":177}],108:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n',_.is(data.page_info)&&!util.empty(data.page_info)){__p+='\n	<article class="detail-article page-info" style="\n	margin-left : '+(null==(__t=-1*rules.getSectionMargin(self,"left",!0))?"":__t)+"px;\n	margin-right : "+(null==(__t=-1*rules.getSectionMargin(self,"right",!0))?"":__t)+"px;\n	margin-top : "+(null==(__t=-1*rules.getSectionMargin(self,"top",!0))?"":__t)+'px;">\n\n		<div class="cover" style="background-image: '+(null==(__t=rules.css.toCSSURL(data.page_info.cover))?"":__t)+'">\n			<div class="facebookMobileCoverOverlay linearGradientOverlay toBottom">\n				<img class="photo" src="'+(null==(__t=data.page_info.thumbnail)?"":__t)+'" alt="" />\n				<div class="infos">\n					<h2 style="'+(null==(__t=rules.getFacebookCoverTitleFont(self))?"":__t)+'">\n						<span>'+(null==(__t=util.stripslashes(data.page_info.title))?"":__t)+'</span>\n					</h2>\n					<div class="category '+(null==(__t=rules.moduleHidePageCategorie(self)?"hidden":"")?"":__t)+'">\n						'+(null==(__t=util.stripslashes(data.page_info.categories))?"":__t)+'\n					</div>\n				</div>\n			</div>\n			<div class="clearfix"></div>\n		</div>\n\n	</article>\n\n	<article class="detail-article page-info likesContainer" style="\n	background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+';">\n\n		<div class="baseline" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n			'+(null==(__t=util.stripslashes(data.page_info.content))?"":__t)+'\n		</div>\n\n		<div class="nblikes" style="\n		'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n\n			<div class="like-count">\n				<div class="nb">\n					'+(null==(__t=util.stripslashes(data.page_info.nbLikes))?"":__t)+"\n				</div>\n				<span>"+(null==(__t=util.stripslashes(rules.getSectionInfosLike(self)))?"":__t)+"</span>\n			</div>\n\n			";var ilike=rules.getFacebookIlikeData(self,data);__p+='\n			<iframe class="ilike"\n				src="'+(null==(__t=ilike.src)?"":__t)+'" '+(null==(__t=ilike.attrs)?"":__t)+" "+(null==(__t=ilike.style)?"":__t)+">\n			</iframe>\n		</div>\n\n	</article>\n"}__p+="\n\n",_.each(data.items,function(a){__p+='\n		<article class="detail-article" style="\n			background-color : '+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+";\n			"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n			<img class="photo" src="'+(null==(__t=data.page_info.thumbnail)?"":__t)+'" alt="" />\n			<div class="infos">\n				<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n					'+(null==(__t=rules.getFormattedTitle(self,data,a))?"":__t)+'\n				</h2>\n				<div class="baseline" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n					'+(null==(__t=util.Tokens.ago(a.date))?"":__t)+'\n				</div>\n			</div>\n			<div class="clearfix"></div>\n			<div class="desc type-'+(null==(__t=a.type)?"":__t)+'">\n				\n				',"video"!=a.type||util.empty(a.videoUrl)||(__p+='\n					<video controls>\n						<source src="'+(null==(__t=a.videoUrl)?"":__t)+'" type="video/mp4">\n					</video>\n				'),__p+="\n\n				",util.empty(a.content)||(__p+='\n					<div class="content" style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n						'+(null==(__t=util.nl2br(util.striptags(a.content)))?"":__t)+"\n					</div>"),__p+="\n\n				","photo"==a.type&&(__p+='\n					<img src="/_images/1.png" class="photoImage" data-origin="'+(null==(__t=a.urlPhoto)?"":__t)+'" alt="" />\n					<div style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n						'+(null==(__t=util.nl2br(util.striptags(a.title)))?"":__t)+"\n					</div>\n				"),__p+="\n\n				","link"==a.type&&(__p+="\n					",""!=a.thumbnail&&(__p+='\n						<img class="photo" src="'+(null==(__t=util.safeAmp(a.thumbnail))?"":__t)+'" alt="" />\n					'),__p+='\n					<div class="'+(null==(__t=""!=a.thumbnail?"infos":"")?"":__t)+'">\n						<h3 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n							'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+'\n						</h3>\n						<div class="baseline">\n							<a href="'+(null==(__t=a.link)?"":__t)+'" target="_blank">\n								<span style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n									'+(null==(__t=util.stripslashes(a.caption))?"":__t)+'\n								</span>\n							</a>\n						</div>\n						<div class="content" style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n							'+(null==(__t=util.stripslashes(a.description))?"":__t)+'\n						</div>\n					</div>\n					<div class="clearfix"></div>\n				'),__p+="\n\n				","checkin"==a.type&&(__p+='\n					<div class="div-map">\n						<div class="map" id="map-canvas-\''+(null==(__t=self.get("id"))?"":__t)+"fb-"+(null==(__t=a.id)?"":__t)+'"></div>\n						<input type="hidden" id="map-canvas-coords-'+(null==(__t=self.get("id"))?"":__t)+"fb-"+(null==(__t=a.id)?"":__t)+'" value="'+(null==(__t=a.latitude+"|"+a.longitude)?"":__t)+'" />\n					</div>\n				'),__p+="\n			</div>\n		</article>\n"}),__p+="\n\n</div>"}return __p}},{}],109:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="'+(null==(__t=rules.getArticleListClass(self))?"":__t)+' async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n	';var thumbConfig=rules.getThumbConfig(self);_.each(data.items,function(a,b){if(user.device.mobile)var c=b%2==0?"half-left":"",d=(b+1)%2==0?!0:!1;__p+='\n\n		<a class="same-height '+(null==(__t=c)?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'">\n\n			<article class="'+(null==(__t=thumbConfig.classArticle)?"":__t)+'" style="'+(null==(__t=rules.getSectionBorder(self))?"":__t)+";background-color:"+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'">\n				\n				',rules.isShowThumb(self)&&(__p+='\n\n					<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'" data-origin="'+(null==(__t=rules.getImageOrDefault(a.largeThumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n						'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n					</div>\n\n				"),__p+='\n\n				<div class="infos">\n\n					',rules.isShowInfos(self)&&user.device.mobile&&(__p+='\n\n						<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n						</div>\n\n					"),__p+='\n\n					<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n						<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n					</h2>\n\n					",rules.isShowSummary(self)&&"GBModuleTypeArticle"==rules.getSectionType(self)&&(__p+='\n\n						<span class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n							'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n						</span>\n\n					"),__p+="\n\n					",rules.isShowInfos(self)&&!user.device.mobile&&(__p+='\n\n						<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n						</div>\n\n					"),__p+='\n\n				</div>\n\n				<div class="clearfix"></div>\n			\n			</article>\n\n		</a>\n\n		'+(null==(__t=d?'<div class="clearfix"></div>\n':"")?"":__t)+"\n\n	"}),__p+="\n</div>"}return __p}},{"../../rules":33,"../../util":177}],110:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n<div data-section="'+(null==(__t=self.get("id"))?"":__t)+'" class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n	\n	',_.each(data.items,function(a,b){__p+="\n		"+(null==(__t=user.device.mobile?"":'<div class="pola-wrap">')?"":__t)+'\n		<div class="pola" style="background:'+(null==(__t=rules.getListBackgroundColor(self)+rules.getSectionBorder(self))?"":__t)+'">\n			\n			<div class="relative" style="background-image:url('+(null==(__t=a.images.large.url)?"":__t)+');">\n\n				<div class="instagram_buttons">\n					<div style="display:table; height:100%; width: 100%">\n						<div style="display:table-cell; vertical-align:middle;">\n						\n							',_.each(rules.getInstagramActionButtons(self),function(b){button=b.button,icons=self.get("detail.toolbar.icons"),("iconComments"==button.type&&_.is(a.commentsUrl)&&!_.isEmpty(a.commentsUrl)||"iconComments"!=button.type)&&(__p+='\n\n								<div class="instagram_button icon-parent" style="background-color:'+(null==(__t=rules.fvk("detail.toolbar.icons.normalBackgroundColor",self))?"":__t)+"; background-image:"+(null==(__t=rules.getImageUrl(self.get("detail.toolbar.icons.normalBackgroundImage"),!0))?"":__t)+';">\n								  	'+(null==(__t=rules.getCommentShareButtons(self,a,button,icons,!0))?"":__t)+"\n								</div>\n\n								")}),__p+='\n\n						</div>\n					</div>\n				</div>\n\n			</div>\n\n			<div class="polabottom">\n\n				',util.empty(a.date)||(__p+='\n					<date style="'+(null==(__t=rules.fontStyle("dateFont",self))?"":__t)+'">\n						'+(null==(__t=util.Tokens.ago(a.date))?"":__t)+"\n					</date>\n					<br />\n				"),__p+="\n\n				",util.empty(a.title)||(__p+='\n					<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n						'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n					</h2>\n				"),__p+="\n\n			</div>\n			\n		</div>\n		"+(null==(__t=user.device.mobile?'<div class="clearfix"></div>':"</div>")?"":__t)+"\n	"}),__p+="\n\n</div>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],111:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),util=require("../../util"),section=rules.getSelectedSection();if(__p+='\n<div data-role="content" style="'+(null==(__t=rules.getSectionMargin(section))?"":__t)+'">\n',util.empty(data.items))__p+='\n\n	<!-- No comments -->\n	<div style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+';display:table;width:100%;">\n		<article class="noitems" style="text-align:center;background-color:'+(null==(__t=section.get("listBackgroundColor"))?"":__t)+';display:table-cell;vertical-align:middle">\n			'+(null==(__t=rules.createIcon(rules.getRealIconUrl("no-comments"),section.get("titleFont.color"),"","no-comments","","","font-size:150px;"+rules.fk("titleFont.color",section)))?"":__t)+'\n			<h2 style="'+(null==(__t=rules.fontStyle("titleFont",section))?"":__t)+';padding-top:5px">\n				<span>\n					'+(null==(__t=appLang.GB_SETTINGS_17)?"":__t)+"\n				</span>\n			</h2>\n\n		</article>\n	</div>\n\n";else{var backDoorListBgColor=rules.fallback(section,"section.detail.commentListBackgroundColor","section.listBackgroundColor"),backDoorListBgOpacity=rules.fallback(section,"section.detail.commentListBackgroundOpacity","section.listBackgroundOpacity"),listBackground=rules.css.hexToRgba(backDoorListBgColor.val,backDoorListBgOpacity.val);__p+='\n\n	<!-- Comments List -->\n	<div style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+"background-color:"+(null==(__t=listBackground+backDoorListBgColor.key+backDoorListBgOpacity.key)?"":__t)+'">\n		<div class="list-comments">\n\n			',_.each(data.items,function(a,b){var c=("GBModuleTypePhoto"==rules.getSectionType(section),rules.getSectionDetailCommentAuthorColor(section)),d=rules.getSectionDetailCommentDateColor(section),e=rules.getSectionDetailCommentTextColor(section),f=rules.fallback(section,"section.detail.commentTextBackgroundColor","section.separatorColor","separatorColor","section.borderColor","borderColor");__p+='\n\n				<div class="infos">\n\n					<span class="author" style="'+(null==(__t=rules.fontStyle("detail.titleFont",section))?"":__t)+";color:"+(null==(__t=c)?"":__t)+';">\n						'+(null==(__t=parseInt(b,10)+1+". "+a.author)?"":__t)+'\n					</span>\n					<span class="date" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",section))?"":__t)+";color:"+(null==(__t=d)?"":__t)+';">\n						'+(null==(__t=rules.tokenizeArticle(rules.getSectionDetailCommentDate(section),a))?"":__t)+"\n					</span>\n				</div>\n\n				"+(null==(__t=rules.createIcon(rules.getRealIconUrl("arrow-top"),f.val,"","arrow-top","","",f.stringify()))?"":__t)+'\n\n				<p style="background-color:'+(null==(__t=f.stringify())?"":__t)+";"+(null==(__t=rules.fontStyle("detail.textFont",section))?"":__t)+";color:"+(null==(__t=e)?"":__t)+';">\n					'+(null==(__t=a.content)?"":__t)+"\n				</p>\n\n			"}),__p+="\n\n		</div>\n	</div>\n\n"}if(__p+="\n\n",!_.isEmpty(self.commentsPostUrl)){var bgColorVal=rules.fallback(section,"section.detail.toolbar.backgroundColor").val,bgOpacityVal=rules.fallback(section,"section.detail.toolbar.opacity").val;bgOpacityVal=bgOpacityVal||1,/GB([a-zA-Z]+)DetailTemplateTypeToolBarUp/.test(rules.getSectionDetailTemplate(section))&&_.is(section.get("detail.toolbar.pager"))&&(bgColorVal=section.get("detail.toolbar.pager.backgroundColor"),bgOpacityVal=section.get("detail.toolbar.opacity")),_.pos(section.get("detail.commentPostBarBackgroundColor"))&&(bgColorVal=section.get("detail.commentPostBarBackgroundColor"),bgOpacityVal=section.get("detail.commentPostBarBackgroundOpacity")),bgColor=rules.css.hexToRgba(bgColorVal,bgOpacityVal);var editCommentLink=preview||!rules.getSectionLoginRequired(section)?rules.urlTo("addcomment",section.get("id"),self.id):"javascript:void(0);",iconColorVal=rules.fallback(section,"section.detail.commentPostBarIconColor","section.detail.toolbar.icons.normalColor"),iconColor=iconColorVal.val;key=iconColorVal.key,iconTexture=section.get("toolbar.icons.normalTexture"),__p+="\n	",!preview&&rules.getSectionLoginRequired(section)||!user.device.mobile?(preview||!rules.getSectionLoginRequired(section))&&$("#tablet-post-comment").removeClass("hidden"):__p+='\n		<div data-role="footer" class="postCommentContainer" data-position="fixed" style="background-color:'+(null==(__t=bgColor)?"":__t)+';">\n\n		</div>\n		<div data-role="footer" class="postCommentContainer" data-position="fixed">\n			<a class="edit-comment" data-role="none" href="'+(null==(__t=editCommentLink)?"":__t)+'" style="color:inherit!important;">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl("edit-icon"),iconColor,iconTexture,"edit-icon","","","font-size:22px;position:absolute;top:10px;left:0;"+key))?"":__t)+'\n			</a>\n			<a class="arrow-comment" data-role="none" href="'+(null==(__t=editCommentLink)?"":__t)+'" style="color:inherit!important;">\n				'+(null==(__t=appLang.GB_TXT_43)?"":__t)+'\n			</a>\n			<div class="clearfix"></div>\n		</div>\n	',__p+="\n"}__p+="\n</div>"}return __p}},{"../../rules":33,"../../util":177}],112:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),user=data.page_info,items=data.items,subtitleFont=self.get("subtitleFont.color"),subtitleFontKey=rules.fk("subtitleFont",self),badgeColor=self.get("isPlayingIconColor"),badgeBgColor=self.get("isPlayingIconBackgroundColor"),badgeColorKey=rules.fk("isPlayingIconColor",self),badgeBgColorKey=rules.fk("isPlayingIconBackgroundColor",self),sID=self.get("id")+"_";if(__p+='\n<div data-role="content" style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+";border:"+(null==(__t=rules.css.getBorderStyle(self))?"":__t)+'" >\n	',_.is(user)&&(__p+='\n		<div id="soundcloud-header" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+"; %>;"+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n			<div id="soundcloud-pp">\n				<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n				data-origin="'+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,user,user.id),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n				</div>\n			</div>\n			<div id="soundcloud-user">\n				<h2 id="userAuthor" style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">'+(null==(__t=user.author)?"":__t)+'</h2>\n				<ul id="soundcloud-stats" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n					<li class="userStats" id="userStatTracks">\n						'+(null==(__t=rules.createIcon(rules.getRealIconUrl("playing-icon"),subtitleFont,"","","","","font-size:13px;"+subtitleFontKey))?"":__t)+"\n						"+(null==(__t=user.nbTracks)?"":__t)+'\n					</li>\n					<li class="userStats" id="userStatLikes">\n						'+(null==(__t=rules.createIcon(rules.getRealIconUrl("followers-soundcloud"),subtitleFont,"","","","","font-size:13px;"+subtitleFontKey))?"":__t)+"\n						"+(null==(__t=user.nbLikes)?"":__t)+'\n					</li>\n				</ul>\n				<div id="soundcloudFollowBtn" >\n					'+(null==(__t=rules.createIcon(rules.getRealIconUrl("soundcloud"),"#FFFFFF","","","","","font-size:13px;","<span style='margin-left:10px;'>Follow</span>"))?"":__t)+'\n				</div>\n			</div>\n			<div class="clearfix" ></div>\n		</div>\n	'),__p+='\n	<div id="soundcloud-list">\n\n		',!util.empty(items)){__p+='\n			<div id="soundcloud-tracks" class="GBArticleListTemplateTypeClassic '+(null==(__t=self.get("templateMode"))?"":__t)+'">\n				';{rules.getThumbConfig(self)}_.each(data.items,function(a,b){__p+='\n					<a href="'+(null==(__t=rules.urlTo("sound",self.get("id"),a.id))?"":__t)+'">\n						<article style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.borderSeparator(self))?"":__t)+'" class="'+(null==(__t=("right"==self.get("thumbPosition")?"right ":"")+(_.is(self.get("showThumb"))&&1==self.get("showThumb")?"":"none "))?"":__t)+'">\n							<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n								data-origin="'+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n								'+(null==(__t=rules.createIcon(rules.getRealIconUrl("playing-icon"),badgeColor,"","soundListIconPlaying playingIcon-"+sID+a.id,"","data-target-property='"+rules.pk("isPlayingIconColor","color")+rules.pk("isPlayingIconBackgroundColor","background-color")+"'","background-color:"+badgeBgColor+badgeColorKey+badgeBgColorKey))?"":__t)+'\n							</div>\n							<!--<div class="infos">\n								<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'"><span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span></h2>\n								",_.isEmpty(self.get("showInfos"))||(__p+='<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"</div>"),__p+='\n							</div>-->\n								<div class="infos">\n									<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'"><span style="height:37px;">'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span></h2>\n									",_.is(user)&&1==self.get("showInfos")&&(__p+='\n										<ul class="soundcloud-statsSound" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n											<li class="userStats" >\n												'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),subtitleFont,"","","","","font-size:13px;"+subtitleFontKey))?"":__t)+"\n												"+(null==(__t=user.nbTracks)?"":__t)+'\n											</li>\n											<li class="userStats" >\n												'+(null==(__t=rules.createIcon(rules.getRealIconUrl("heart"),subtitleFont,"","","","","font-size:13px;"+subtitleFontKey))?"":__t)+"\n												"+(null==(__t=user.nbLikes)?"":__t)+'\n											</li>\n											<li class="userStats" >\n												'+(null==(__t=util.secondsToHms(a.duration))?"":__t)+'\n											</li>\n											<li class="userStats" >\n												'+(null==(__t=util.Tokens.ago(a.date,"",!0))?"":__t)+"\n											</li>\n										</ul>\n									"),__p+='\n								</div>\n							<div class="clearfix"></div>\n						</article>	\n					</a>\n				'
},this),__p+="\n			</div>\n		"}__p+="\n\n	</div>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],113:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),covers=rules.getLivePlusItemsToShow(data.items,self),howMany=_.size(covers),playerColor=self.get("playerTintColor"),playerColorKey=rules.fk("playerTintColor",self),circleColor=rules.css.hexToRgba(playerColor,.4),controlsColor=rules.css.hexToRgba(playerColor,.5),durationColor=rules.css.hexToRgba(playerColor,.75);if(__p+="\n\n",rules.getLiveStatus(self)){if(__p+='\n	<audio id="media" src="'+(null==(__t=rules.getStreamUrl(self.get("streamUrl")))?"":__t)+'" preload="auto"></audio>\n\n	<div id="blur-bg">\n		<!-- SVG FOR BLUR ON GECKO BASED BROWSERS LIKE FF -->\n		<svg xmlns="http://www.w3.org/2000/svg" version="1.1">\n		    <defs>\n		        <filter id="blurfilter" x="0" y="0">\n		            <feGaussianBlur in="SourceGraphic" stdDeviation="5" />\n		        </filter>\n		    </defs>\n		</svg>\n		<div class="overlay" style="background:'+(null==(__t=rules.getLivePlusOverlay(self))?"":__t)+'"></div>\n	</div>\n	<div id="ffblurry" style="background:-moz-element(#blur-bg) no-repeat fixed;filter:url(#blurfilter)">\n\n	</div>\n\n	<div id="liveplus-slider">\n		<ul style="width:'+(null==(__t=100*howMany)?"":__t)+"%;position:relative;right:"+(null==(__t=100*(howMany-1))?"":__t)+'%;z-index:5">\n			',_.each(covers,function(a,b){{var c=b==howMany-1,d=c?"focus":"controlsHide",e=rules.getImageOrDefault(a.images.artworkUrl400,self.get("liveDefaultThumb.imageUrl"));rules.getLoopColor(self)}__p+='\n				<li data-songid="'+(null==(__t=a.id)?"":__t)+'" class="liveplayerplus-item '+(null==(__t=d)?"":__t)+'" style="width:'+(null==(__t=100/howMany)?"":__t)+'%">\n					<div class="spinner" style="background:'+(null==(__t=circleColor)?"":__t)+"; "+(null==(__t=playerColorKey)?"":__t)+'">\n\n						<canvas id="livePlayerCanvas" height="275" width="275"></canvas>\n\n						<div class="content with-background" style="background:url('+(null==(__t=e)?"":__t)+') center no-repeat;background-size:cover;">\n							',c&&(__p+='\n								<ul id="cover-controls" class="on-content">\n				                    <li style="background:'+(null==(__t=controlsColor)?"":__t)+"; "+(null==(__t=playerColorKey)?"":__t)+'">\n					                    <a href="#" title="" class="playPause">\n					                        '+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerColor,"","","","",playerColorKey))?"":__t)+'\n					                    </a>\n					                </li>\n					                <li style="display:none;background:'+(null==(__t=controlsColor)?"":__t)+"; "+(null==(__t=playerColorKey)?"":__t)+'">\n					                    <a href="#" title="" class="playPause">\n					                        <div id="stop-button" style="background-color:'+(null==(__t=playerColor)?"":__t)+";"+(null==(__t=playerColorKey)?"":__t)+'"></div>\n					                    </a>\n					                </li>\n					            </ul>\n							'),__p+='\n\n							<div class="on-content liveplus-duration" style="font-size:17px;font-family:\'Helvetica Neue\';color:'+(null==(__t=durationColor+playerColorKey)?"":__t)+'">\n								'+(null==(__t=util.secondsToMs(a.duration))?"":__t)+'\n							</div>\n						</div>\n					</div>\n\n					<div class="cover-infos" style="margin-top:15px; padding:0 30px;">\n						<h1 style="text-align:center; '+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">'+(null==(__t=a.author)?"":__t)+'</h1>\n						<p style="text-align:center;'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">'+(null==(__t=a.title)?"":__t)+'</p>\n					</div>\n\n					<div class="cover-button" style="margin-top:15px;">\n						<ul style="text-align:center;">\n							<li style="display:inline-block;margin:0 20px;">\n								<a class="cover-purchase" href="'+(null==(__t=a.purchaseUrl)?"":__t)+'" target="_blank">\n									'+(null==(__t=rules.createIcon(rules.getRealIconUrl("liveplayerplus-buy"),playerColor,"","","","","font-size:25px;"+playerColorKey))?"":__t)+"\n								</a>\n							</li>\n\n							","1"==self.get("showShare")&&(__p+='\n							<li style="display:inline-block;margin:0 20px;">\n								<a class="cover-share" href="'+(null==(__t=rules.urlTo("share",self.get("id"),a.id))?"":__t)+'">\n									'+(null==(__t=rules.createIcon(rules.getRealIconUrl("share"),playerColor,"","","","","font-size:25px;"+playerColorKey))?"":__t)+"\n								</a>\n							</li>\n							"),__p+="\n\n						</ul>\n					</div>\n\n				</li>\n			"}),__p+="\n		</ul>\n	</div>\n\n	",rules.hasAudioVisualizer(self)){var bottom=!user.os.ios||preview?"56px":"0px";__p+='\n		<!-- Equalizer -->\n	    <div id="audioviz" style="height:100px;width:100%;position:absolute;bottom:'+(null==(__t=bottom)?"":__t)+';overflow:hidden;z-index:10;"></div>\n	'}__p+="\n\n	",(!user.os.ios||preview)&&(__p+='\n		<!-- Volume -->\n		<div id="volume-container" style="border-color:'+(null==(__t=playerColor)?"":__t)+";"+(null==(__t=playerColorKey)?"":__t)+'">\n			<div class="volume-icon">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl("liveplayerplus-volume-minus"),playerColor,"","","","","font-size:25px;line-height:35px;"+playerColorKey))?"":__t)+'\n			</div>\n			<div id="volume-slider" style="background:'+(null==(__t=circleColor)?"":__t)+";"+(null==(__t=playerColorKey)?"":__t)+'">\n				<div class="slide-control">\n					<div class="slide-fill-bar" style="background:'+(null==(__t=controlsColor)?"":__t)+";"+(null==(__t=playerColorKey)?"":__t)+'"></div>\n					<div class="slide-control-button" style="background:'+(null==(__t=playerColor)?"":__t)+";"+(null==(__t=playerColorKey)?"":__t)+'"></div>\n				</div>\n			</div>\n			<div class="volume-icon">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl("liveplayerplus-volume-max"),playerColor,"","","","","font-size:25px;line-height:35px;"+playerColorKey))?"":__t)+"\n			</div>\n		</div>\n	"),__p+="\n"}else{var liveOffBg;if(user.device.mobile)liveOffBg=self.get("liveOff.backgroundImage");else switch(orient){case"portrait":liveOffBg=self.get("liveOff.backgroundImagePortrait");break;case"landscape":liveOffBg=self.get("liveOff.backgroundImageLandscape")}liveOffBg=rules.getImageUrl(liveOffBg,!0),__p+='\n\n    <!-- Live OFF -->\n    <div style="display:table;height:100%;width:100%;text-align:center;background:'+(null==(__t=liveOffBg)?"":__t)+' center / cover;">\n        <div style="display:table-cell;vertical-align:middle;">\n            <p style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">'+(null==(__t=self.get("liveOffDescription"))?"":__t)+"</p>\n        </div>\n    </div>\n\n"}__p+=""}return __p}},{"../../rules":33,"../../util":177}],114:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),util=require("../../util"),bookmarkSection=bookmarkSection||!1,data=data||{};data.items=data.items||[];var item=item||rules.getItemById(data.items,rules.getPost("item"))||rules.getItemById(util.getCurrentAvailableContentData(),rules.getPost("item"));if(rules.isSearchCall()&&!item&&(item=data.items[0]),item){var section=self,noMap="undefined"==typeof noMap?!1:noMap,detailImage=rules.map.getDetailImage(item),noImage=util.empty(detailImage),popupStyle=rules.map.getPopupStyle(section),detailStyle=rules.map.getDetailStyle(section);__p+="\n	"+(null==(__t=popupStyle.tag+popupStyle.keys)?"":__t)+"\n	"+(null==(__t=detailStyle.tag+detailStyle.keys)?"":__t)+"\n\n\n	",noImage||(__p+='\n		<div id="slideShowContainer" style="background-image:'+(null==(__t=detailImage.imageUrl)?"":__t)+'" data-replace-image="'+(null==(__t=detailImage.imageID)?"":__t)+'" class="'+(null==(__t=rules.isNavBarTransparent()?"transparentNavbar":"")?"":__t)+'">\n			<div class="linearGradientOverlay'+(null==(__t=rules.disableClass(section,"section.detail.hideGradient"))?"":__t)+' toBottom halfHeight"></div>\n			',util.empty(item.distance)||(__p+="\n				"+(null==(__t=rules.map.getDistanceIcon(item.distance))?"":__t)+"\n			"),__p+="\n		</div>\n	"),__p+='\n	<div id="middleOuterContainer" '+(null==(__t=noImage?'class="noImage"':"")?"":__t)+'>\n		<div id="middleInnerContainer" style="background-color:'+(null==(__t=rules.getSectionDetailListBackgroundColor(section))?"":__t)+(null==(__t=rules.css.getDetailMargin(section))?"":__t)+'">\n			<div id="textContainer">\n				<p class="title" style="'+(null==(__t=rules.fontStyle("detail.titleFont",section))?"":__t)+'">'+(null==(__t=item.title)?"":__t)+'</p>\n				<div class="address" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",section))?"":__t)+'">\n					'+(null==(__t=item.address)?"":__t)+"\n					",!util.empty(item.distance)&&noImage&&(__p+="\n						"+(null==(__t=rules.map.getDistanceIcon(item.distance,rules.fontStyle("detail.subtitleFont",section)))?"":__t)+"\n					"),__p+='\n				</div>\n				<div class="content" style="'+(null==(__t=rules.fontStyle("detail.textFont",section))?"":__t)+'">'+(null==(__t=rules.formateArticleDetail(section,item,item.content,detailImage.imageID))?"":__t)+"</div>\n				"+(null==(__t=rules.css.makeRectangleButtons(section,item))?"":__t)+"\n			</div>\n			",noMap||(__p+='\n				<div id="miniMapContainer">\n					<div id="map" class="mapdistant" style="width:100%;height:100%"></div>\n				</div>\n			'),__p+="\n		</div>\n	</div>\n</div>\n\n"}if(__p+="\n\n<!-- Pager -->\n",bookmarkSection){var bkmrkSection=rules.getSelectedSection(),favoris=modules.storage.get("favoris"),displayPager=rules.isToolBarType(bkmrkSection,"Classic",!1)?"none":"block",paddingPager=rules.isToolBarType(bkmrkSection,"Classic",!1)?"displayPadding":"hidePadding",dataAttributes="none"==displayPager?"":'data-tap-toggle="false" data-position="fixed" data-role="footer"';__p+='\n<div style="display:'+(null==(__t=displayPager)?"":__t)+';" data-tap-toggle="false" data-position="fixed" class="'+(null==(__t=paddingPager)?"":__t)+' GBArticleDetailTemplateTypeToolBarUp">\n	<div class="pager" '+(null==(__t=dataAttributes)?"":__t)+' style="background:'+(null==(__t=rules.css.hexToRgba(bkmrkSection.get("detail.toolbar.pager.backgroundColor"),bkmrkSection.get("detail.toolbar.opacity"))+rules.fk("detail.toolbar.pager.backgroundColor",bkmrkSection)+rules.fk("detail.toolbar.opacity",bkmrkSection))?"":__t)+';">\n		',_.each(favoris,function(a){var b={id:a.item,parentSection:a.section},c=rules.urlTo("favoris",b,bkmrkSection.get("id")),d=b.id==rules.getPost("item")?!0:!1,e=d?rules.fvk("detail.toolbar.pager.onColor",bkmrkSection):rules.fvk("detail.toolbar.pager.offColor",bkmrkSection),f=d?"sel":"";__p+='\n\n			<a class="'+(null==(__t=f)?"":__t)+'" data-target-property="background-color" style="background-color:'+(null==(__t=e)?"":__t)+';" href="'+(null==(__t=c)?"":__t)+'">&nbsp;</a>\n\n		'}),__p+="\n	</div>\n</div>\n\n"}__p+="\n\n\n"}return __p}},{"../../rules":33,"../../util":177}],115:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),templateFactory=(require("../../util"),require("../templateFactory")),asyncMapdistantDetail=templateFactory.getTemplate("_asyncMapsDetailClassic",{mobileVersion:!0}),item=rules.getItemById(data,rules.getPost("item")),popupStyle=rules.map.getPopupStyle(self);__p+="\n\n"+(null==(__t=popupStyle.tag+popupStyle.keys)?"":__t)+"\n\n"+(null==(__t=asyncMapdistantDetail({self:self,item:item,bookmarkSection:!0}))?"":__t)+"\n"}return __p}},{"../../rules":33,"../../util":177,"../templateFactory":176}],116:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),section=self;__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n<div class="GBMapdistantList '+(null==(__t=rules.map.getListClass(section))?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+(null==(__t=rules.getSectionBorder(section))?"":__t)+'">\n\n';var listElementsStyle=rules.map.getListElementsStyle(section);__p+="\n"+(null==(__t=listElementsStyle.tag+listElementsStyle.keys)?"":__t)+"\n\n",data.items=rules.isSearchCall()?data.items||[]:util.getCurrentAvailableContentData()||data.items,_.each(data.items,function(a){var b=a.id,c=rules.getPost("item"),d=b==c,e=d?"selected":"notSelected";__p+='\n\n	<a id="listItem'+(null==(__t=b)?"":__t)+'" data-id="'+(null==(__t=b)?"":__t)+'" class="list '+(null==(__t=e)?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'" title="">\n		<article  class="itemContainer" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n			<span></span>\n			<div class="thumbnail" style="'+(null==(__t=rules.map.getListThumbnail(section,a))?"":__t)+'"></div>\n			<div class="textContainer">\n				<div class="title titleFont ">'+(null==(__t=a.title)?"":__t)+"</div>\n				",_.pos(section.get("showInfos"))&&(__p+='\n					<div class="subtitle subtitleFont">\n						'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n					</div>\n				"),__p+="\n			</div>\n			",util.empty(a.distance)||(__p+='\n				<div class="distanceContainer textFont">'+(null==(__t=rules.map.getFormattedDistance(a.distance))?"":__t)+"</div>\n			"),__p+="\n		</article>\n	</a>\n\n	"},this),__p+="\n</div>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],117:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),noLoadMore="undefined"==typeof loadMore||!loadMore;__p+="\n\n",noLoadMore&&(__p+='\n	<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n'),__p+='\n<div class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n\n	';var j=1;if(_.each(data.items,function(a,b){if(25>j){var c=self.get("minimal.articleParams"),d=c[b%c.length],e="none";__p+='\n\n		<a data-minimalindex="'+(null==(__t=j)?"":__t)+'" data-prev="'+(null==(__t=j>1?j-1:1)?"":__t)+'" data-next="'+(null==(__t=j<data.items.length?j+1:j)?"":__t)+'" data-role="none" class="bg fullheight" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+"&minimal="+(null==(__t=j)?"":__t)+'" title="" style="background-color:'+(null==(__t=d.backgroundColor)?"":__t)+";display:"+(null==(__t=e)?"":__t)+'">\n\n			<div class="table-cell">\n				<div class="infos align_middle">\n\n					',rules.moduleMinimalColorSubtitleOnTop(self)&&rules.isShowInfos(self.get("minimal"))&&(__p+='\n\n						<div class="subtitle" style="'+(null==(__t=rules.fontStyle("minimal.subtitleFont",self))?"":__t)+"; color: "+(null==(__t=d.subtitleColor)?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n						</div>\n\n					"),__p+='\n\n					<h2 style="'+(null==(__t=rules.fontStyle("minimal.titleFont",self))?"":__t)+"; "+(null==(__t=rules.isUpperCase(self.get("minimal")))?"":__t)+";color:"+(null==(__t=d.titleColor)?"":__t)+'">\n						'+(null==(__t=util.stripslashes(a.title))?"":__t)+"\n					</h2>\n\n					",!rules.moduleMinimalColorSubtitleOnTop(self)&&rules.isShowInfos(self.get("minimal"))&&(__p+='\n\n						<div class="subtitle" style="'+(null==(__t=rules.fontStyle("minimal.subtitleFont",self))?"":__t)+"; color: "+(null==(__t=d.subtitleColor)?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n						</div>\n\n					"),__p+="\n\n				</div>\n			</div>\n\n		</a>\n\n	",j++}}),__p+="\n\n	",rules.isShowPager(self.get("minimal"))){__p+='\n	<!-- Pager -->\n	<div data-js="false" class="GBArticleDetailTemplateTypeToolBarUp">\n		<div class="pager" style="background-color:'+(null==(__t=rules.fvk("minimal.pager.backgroundColor",self))?"":__t)+';">\n			';for(var i in data.items)if(25>i){var isSelected=rules.getSectionIndexMinimal(self)%24==i,classname=isSelected?"sel":"",bgcolor=rules.moduleMinimalPageControlColor(self,isSelected);__p+='\n				<a data-target-property="background-color" data-minimalindex="'+(null==(__t=parseInt(i,10)+1)?"":__t)+'" data-role="none" href="#!section='+(null==(__t=self.get("id"))?"":__t)+"&minimal="+(null==(__t=parseInt(i,10)+1)?"":__t)+'" class="'+(null==(__t=classname)?"":__t)+'" style="background-color:'+(null==(__t=bgcolor)?"":__t)+'" > &nbsp; </a>\n			'}__p+="\n		</div>\n\n		</div>\n	"}__p+="\n\n</div>\n\n",noLoadMore&&(__p+="\n</div>\n"),__p+=""}return __p}},{"../../rules":33,"../../util":177}],118:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),noLoadMore="undefined"==typeof loadMore||!loadMore;__p+="\n\n",noLoadMore&&(__p+='\n	<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n'),__p+='\n<div class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'">\n	\n	';var j=1,items=data.items;if(_.each(items,function(a,b){if(25>j){var a=items[b],c="none";__p+='\n\n		<a data-role="none" data-minimalindex="'+(null==(__t=j)?"":__t)+'" data-prev="'+(null==(__t=j>1?j-1:1)?"":__t)+'" data-next="'+(null==(__t=j<items.length?j+1:j)?"":__t)+'" class="bg fullheight" style="display:'+(null==(__t=c)?"":__t)+";background-image:"+(null==(__t=rules.getMinimalCover(a))?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+"&minimal="+(null==(__t=j)?"":__t)+'">\n			<div class="text">\n				',rules.isShowInfos(self.get("minimal"))&&(__p+='\n\n					<span data-target-property="background-color" class="subtitle" style="'+(null==(__t=rules.fontStyle("minimal.subtitleFont",self))?"":__t)+";background-color: "+(null==(__t=rules.css.hexToRgba(self.get("minimal.subtitleBackgroundColor"),self.get("minimal.subtitleOpacity")))?"":__t)+";"+(null==(__t=rules.fk("minimal.subtitleBackgroundColor",self)+rules.fk("minimal.subtitleOpacity",self))?"":__t)+'">\n						'+(null==(__t=rules.tokenizeArticle(rules.getInfosContentType(self),a))?"":__t)+"\n					</span>\n\n				"),__p+='\n				<h2 style="'+(null==(__t=rules.fontStyle("minimal.titleFont",self))?"":__t)+'">\n					<span data-target-property="background-color" style="background-color:'+(null==(__t=rules.css.hexToRgba(self.get("minimal.titleBackgroundColor"),self.get("minimal.titleOpacity")))?"":__t)+";"+(null==(__t=rules.isUpperCase(self.get("minimal")))?"":__t)+"; "+(null==(__t=rules.makeShadow(self.get("minimal.titleBackgroundColor"),self.get("minimal.titleOpacity")))?"":__t)+" "+(null==(__t=rules.fk("minimal.titleBackgroundColor",self)+rules.fk("minimal.titleOpacity",self))?"":__t)+'">\n						'+(null==(__t=util.stripslashes(a.title))?"":__t)+"\n					</span>\n				</h2>\n			</div>\n		</a>\n\n	",j++}},this),__p+="\n\n	",rules.isShowPager(self.get("minimal"))){__p+='\n	<!-- Pager -->\n	<div data-js="false" class="GBArticleDetailTemplateTypeToolBarUp">\n		<div class="pager" style="background-color:'+(null==(__t=rules.fvk("minimal.pager.backgroundColor",self))?"":__t)+';">\n			';for(var i in data.items)if(25>i){var isSelected=rules.getSectionIndexMinimal(self)%24==i,classname=isSelected?"sel":"",bgcolor=isSelected?rules.fvk("minimal.pager.onColor",self):rules.fvk("minimal.pager.offColor",self);__p+='\n				<a data-target-property="background-color" data-minimalindex="'+(null==(__t=parseInt(i,10)+1)?"":__t)+'" data-role="none" href="#!section='+(null==(__t=self.get("id"))?"":__t)+"&minimal="+(null==(__t=parseInt(i,10)+1)?"":__t)+'" class="'+(null==(__t=classname)?"":__t)+'" style="background-color:'+(null==(__t=bgcolor)?"":__t)+'" > &nbsp; </a>\n			'}__p+="\n		</div>\n			\n		</div>\n	"}__p+="\n\n</div>\n\n",noLoadMore&&(__p+="\n</div>\n"),__p+=""}return __p}},{"../../rules":33,"../../util":177}],119:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var self=rules.getSelectedSection(),listBackgroundColor="background-color:"+rules.getListBackgroundColor(self,!1),separator=rules.borderSeparator(self,"bottom"),titleFont=rules.sectionUserProfilePushNotificationsTitleFont(self),dateFont=rules.sectionUserProfilePushNotificationsDateFont(self);data.result&&data.result.notifications.length>0&&_.each(data.result.notifications,function(a){__p+='\n\n        <div class="pushNotification" style="'+(null==(__t=listBackgroundColor+separator)?"":__t)+'">\n            <div class="pushNotification-row">\n                <div class="pushNotification-titlecell" style="'+(null==(__t=titleFont)?"":__t)+'">\n                    <div class="pushNotification-title">'+(null==(__t=a.message)?"":__t)+'</div>\n                </div>\n                <div class="pushNotification-datecell" style="'+(null==(__t=dateFont)?"":__t)+'">\n                    <div class="pushNotification-date">'+(null==(__t=util.Tokens.ago(a.started_at))?"":__t)+"</div>\n                </div>\n            </div>\n        </div>\n\n"}),__p+=""}return __p}},{}],120:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var plateform=(rules.getSelectedSection(),window.user.os.android?"android":"iphone"),switchSuffix="iphone"==plateform?"-ios7":"";data.result&&data.result.length>0&&_.each(data.result,function(a){a.is_active&&(__p+='\n            <div class="pushSetting">\n\n                <div class="pushSetting-row pushSetting-row--head">\n                    <span class="pushSetting-title">'+(null==(__t=a.title||appSections[a.section_id].get("title"))?"":__t)+'</span>\n                    <div class="pushSetting-switch">\n                        <img class="switch-on-off" src="http://goodbarber.com/assets/img/gbpreview/'+(null==(__t=plateform)?"":__t)+"/switch-"+(null==(__t=(a.status||"on")+switchSuffix)?"":__t)+'.png">\n                    </div>\n                </div>\n\n                ',_.is(a.children)&&a.children.length>0&&_.each(a.children,function(a){__p+='\n\n                        <div class="pushSetting-child">\n                            <div class="pushSetting-row">\n                                <span class="pushSetting-title">'+(null==(__t=a.title)?"":__t)+'</span>\n                                <div class="pushSetting-switch">\n                                    <img class="switch-on-off" src="http://goodbarber.com/assets/img/gbpreview/'+(null==(__t=plateform)?"":__t)+"/switch-"+(null==(__t=(a.status||"on")+switchSuffix)?"":__t)+'.png">\n                                </div>\n                            </div>\n                        </div>\n\n                '}),__p+="\n\n            </div>\n")}),__p+=""}return __p}},{}],121:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../../util"),require("../../rules"));__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n',_.each(data.items,function(a){__p+='\n	<div class="photo-block '+(null==(__t=user.os.android?"android":"")?"":__t)+'">\n		<div>\n			<a href="'+(null==(__t=rules.urlTo("photo",self.get("id"),a.id))?"":__t)+'" class="photo ui-link" style="background-image:'+(null==(__t=rules.css.toCSSURL(a.images.large.url))?"":__t)+"; "+(null==(__t=user.device.mobile||"GBPhotoListTemplateTypeClassic"!=self.get("template")?"":rules.getSectionBorder(self,!0))?"":__t)+'"></a>\n		</div>\n	</div>\n\n'}),__p+="\n</div>"}return __p}},{"../../rules":33,"../../util":177}],122:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),util=require("../../util"),items=util.getCurrentAvailableContentData()||data.items||[],item=util.getCurrentAvailableItem()||data.items[0]||{},current=_.indexOf(items,item);__p+="\n\n";var prevPhoto=_.is(items[current-1])?current-1:"none",currPhoto=current,nextPhoto=_.is(items[current+1])?current+1:"none";__p+='\n\n<div class="photo-detail-slideshow" style="position:absolute;">\n';var bg=rules.getSectionDetailListBackgroundColor(self),length=items.length;length--,_.each(items,function(a,b){classImg="",prevPhoto==b?classImg="prev":nextPhoto==b?classImg="next":currPhoto==b&&(classImg="current"),0==b&&(classImg+=" emptyLeft"),b==length&&(classImg+=" emptyRight");var c=rules.moduleUseOriginalImageIfPossible(self),d=c&&_.pos(a.images.original)?a.images.original.height:a.images.large.height,e=c&&_.pos(a.images.original)?a.images.original.width:a.images.large.width,f=c&&_.pos(a.images.original)?a.images.original.url:a.images.large.url;if(user.device.mobile||(bg="background: url("+f+") center center no-repeat;"),e>=d)var g="horizontal";else var g="vertical";0==b&&(first=!0,__p+='\n			<div id="fblank" class="encapse-photo '+(null==(__t=currPhoto==b?"prev":"")?"":__t)+'" style="display:none;'+(null==(__t=bg)?"":__t)+'"></div>\n'),__p+='\n		<div id="'+(null==(__t=a.id)?"":__t)+'" class="encapse-photo '+(null==(__t=classImg)?"":__t)+" "+(null==(__t=g)?"":__t)+'" style="'+(null==(__t="current"!=classImg?"display:none;":"")?"":__t)+(null==(__t=bg)?"":__t)+"\">\n			<img height='"+(null==(__t=d)?"":__t)+"' width='"+(null==(__t=e)?"":__t)+"' src=\""+(null==(__t=f)?"":__t)+'" />\n\n';var h=a.title,i=a.content,j=/current/gi.test(classImg),k=j&&!util.empty(i)?"":"display:none";__p+='\n			<div class="photo-detail-legend" style="'+(null==(__t=k)?"":__t)+'">\n\n				',rules.modulePhotoShowTitleInDesc(self)&&(__p+="\n					"+(null==(__t=h)?"":__t)+"\n					<br/>\n				"),__p+="\n\n				"+(null==(__t=i)?"":__t)+"\n			</div>\n	</div>\n	",b==length&&(__p+='\n		<div id="lblank" class="encapse-photo '+(null==(__t=currPhoto==b?"next":"")?"":__t)+'" style="display:none;'+(null==(__t=bg)?"":__t)+'"></div>\n	'),__p+="\n\n"}),__p+="\n</div>"}return __p}},{"../../rules":33,"../../util":177}],123:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../../util"),require("../../rules"));__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n',_.each(data.items,function(a){__p+='\n	<a href="'+(null==(__t=rules.urlTo("photo",self.get("id"),a.id))?"":__t)+'">\n		'+(null==(__t=rules.getPinterestImg(a))?"":__t)+"\n	</a>\n"}),__p+="\n</div>"}return __p}},{"../../rules":33,"../../util":177}],124:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n',_.each(data.items,function(a,b){var c="slideshow slide-"+b;b>2&&(c="GBArticleListTemplateTypeClassic","GBModuleTypeVideo"==rules.getSectionType(self)&&(c+=" list-video"));var d=b>0&&2>=b?"none":"block",e=b>2?rules.borderSeparator(self,"all"):"",f="";"right"==rules.getThumbPosition(self)&&(f="right",rules.isShowThumb(self)||(f+="none"));var g=2>=b?"infos-slideshow":"",h=2>=b?"background-color:"+rules.css.hexToRgba(self.get("uneBackgroundColor"),self.get("uneOpacity")):"",i=b>2?"titleFont":"uneFont";__p+='\n\n	<div class="'+(null==(__t=c)?"":__t)+'" style="display:'+(null==(__t=d)?"":__t)+'">\n		<a data-role="none" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+';" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'">\n\n			<article class="'+(null==(__t=f)?"":__t)+'" style="'+(null==(__t=e)?"":__t)+'">\n\n				<div class="relative '+(null==(__t=rules.getThumbParentClass(self))?"":__t)+'">\n					',__p+=2>=b?'\n\n						<div class="photo-resize photo" style="background-image:url('+(null==(__t=rules.getImageOrDefault(a.largeThumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+');background-position:center;">\n							'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n						</div>\n\n					":'\n\n						<div class="photo" style="background-image:url('+(null==(__t=rules.getImageUrl(self.get("defaultThumb")))?"":__t)+')" data-origin="'+(null==(__t=rules.getImageOrDefault(a.smallThumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n							'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n						</div>\n\n					",__p+='\n\n					<div class="infos '+(null==(__t=g)?"":__t)+'" style="'+(null==(__t=h)?"":__t)+'">\n						<h2 style="'+(null==(__t=rules.fontStyle(i,self))?"":__t)+'">\n							<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n						</h2>\n\n						",rules.isShowInfos(self)&&(__p+='\n							<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n								'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n							</div>\n						"),__p+="\n\n						",rules.isShowSummary(self)&&(__p+='\n							<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n								'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n							</div>\n						"),__p+="\n\n						",2>=b&&(__p+='\n							<div class="pager">\n								',_.each(data.items,function(a,c){if(__p+="\n\n									",2>=c){var d=c==b?1:.5;__p+='\n\n										<span id="slidebullet-'+(null==(__t=c)?"":__t)+'" class="slideshow-bullet" style="background-color:'+(null==(__t=self.get("uneFont.color"))?"":__t)+"; opacity: "+(null==(__t=d)?"":__t)+'">\n											&nbsp;\n										</span>\n\n									'}__p+="\n\n								"}),__p+="\n							</div>\n						"),__p+='\n\n					</div>\n\n					<div class="clearfix"></div>\n				</div>\n			</article>\n		</a>\n	</div>\n\n'}),__p+="\n\n</div>"}return __p}},{"../../rules":33,"../../util":177}],125:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div data-role="content" style="',rules.getSectionMargin(self),__p+=";border:"+(null==(__t=rules.css.getBorderStyle(self))?"":__t)+'" >\n	<div class="GBArticleListTemplateTypeClassic '+(null==(__t=self.get("templateMode"))?"":__t)+'">\n	<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n		';var badgeColor=(rules.getThumbConfig(self),self.get("isPlayingIconColor")),badgeBgColor=self.get("isPlayingIconBackgroundColor"),badgeColorKey=rules.fk("isPlayingIconColor",self),badgeBgColorKey=rules.fk("isPlayingIconBackgroundColor",self),sID=self.get("id")+"_";_.each(data.items,function(a,b){__p+='\n			<a href="'+(null==(__t=rules.urlTo("sound",self.get("id"),a.id))?"":__t)+'">\n				<article style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.borderSeparator(self))?"":__t)+';" class="'+(null==(__t=("right"==self.get("thumbPosition")?"right ":"")+(_.is(self.get("showThumb"))&&1==self.get("showThumb")?"":"none "))?"":__t)+'">\n					<div>\n						<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n							data-origin="'+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n							'+(null==(__t=rules.createIcon(rules.getRealIconUrl("playing-icon"),badgeColor,"","soundListIconPlaying playingIcon-"+sID+a.id,"","data-target-property='"+rules.pk("isPlayingIconColor","color")+rules.pk("isPlayingIconBackgroundColor","background-color")+"'","background-color:"+badgeBgColor+badgeColorKey+badgeBgColorKey))?"":__t)+'\n						</div>\n						<div class="infos">\n							<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'"><span style="height:37px;">'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span></h2>\n							",1==self.get("showInfos")&&(__p+='<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"</div>"),__p+='\n						</div>\n						<div class="clearfix"></div>\n					</div>\n				</article>	\n			</a>\n		'
},this),__p+="\n	</div>\n\n	</div>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],126:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),item=data.items[0],items=util.getCurrentAvailableContentData()||data.items,current=_.indexOf(items,item),sID=self.get("id")+"_",prevItem=_.is(items[current-1])?items[current-1]:"";nextItem=_.is(items[current+1])?items[current+1]:"",prevLink=_.isEmpty(prevItem)?"onclick='return false;'":'data-target-item-id="'+prevItem.id+'" data-target-sound-id="'+sID+prevItem.id+'"',nextLink=_.isEmpty(nextItem)?"onclick='return false;'":'data-target-item-id="'+nextItem.id+'" data-target-sound-id="'+sID+nextItem.id+'"',_.not($(".audioTemp"+sID+item.id)[0])&&$("body").append('<audio class="audioTemp'+sID+item.id+'" preload="auto" src="'+rules.getStreamUrl(item.streamUrl)+'"></audio>'),""!=nextItem&&_.not($(".audioTemp"+sID+nextItem.id)[0])&&$("body").append('<audio class="audioTemp'+sID+nextItem.id+'" src="'+rules.getStreamUrl(nextItem.streamUrl)+'"></audio>'),""!=prevItem&&_.not($(".audioTemp"+sID+prevItem.id)[0])&&$("body").append('<audio class="audioTemp'+sID+prevItem.id+'" src="'+rules.getStreamUrl(prevItem.streamUrl)+'"></audio>'),coverImg=rules.getImageOrDefault(rules.getSoundItemCover(item),rules.getImageUrl(self.get("defaultThumb"))),miniPlayerColor=self.get("detail.miniPlayerBackgroundColor"),playerTintColor=self.get("detail.playerTintColor"),miniPlayerColorKey=rules.fk("detail.miniPlayerBackgroundColor",self),playerTintColorKey=rules.fk("detail.playerTintColor",self),__p+='\n\n<div data-role="content" class="'+(null==(__t=self.get("detail.template"))?"":__t)+'" style="background-color:'+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+'">\n	<div class="playerContainer" style="position:relative;">\n		<div class="miniPlayerContainer" style="background-color:'+(null==(__t=miniPlayerColor+miniPlayerColorKey)?"":__t)+';">\n			<div class="mini photo" style="border:'+(null==(__t=rules.css.getBorderSoundCover(self))?"":__t)+"background-image:"+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n			data-origin="'+(null==(__t=coverImg)?"":__t)+'">\n			</div>\n			<div class="coverTitleMini" style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';">'+(null==(__t=item.title)?"":__t)+'</div>\n			<div id="volume-container" class="volume-container'+(null==(__t=sID+item.id)?"":__t)+' durationBar" style="font-size:0.7em;">\n\n				<div data-target-property=\'color\' class="volume-icon seconds-past" style="color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n					'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n				</div>\n\n				<div id="volume-slider" class="durationSlider" data-target-property="background-color" style="background:'+(null==(__t=rules.css.hexToRgba(playerTintColor,.4)+playerTintColorKey)?"":__t)+'">\n\n					<div class="slide-control">\n						<div class="slide-fill-bar" data-target-property="background-color" style="width:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n						<div class="slide-control-button" data-target-property="background-color" style="left:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n					</div>\n\n				</div>\n\n				<div data-target-property=\'color\' class="volume-icon seconds-remaining" style="color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n					'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n				</div>\n\n			</div>\n			<table class="controls" cellpadding="0" cellspacing="0">\n				<tr>\n					<td style="width:33.33%;"><a class="change-track soundPrev" '+(null==(__t=prevLink)?"":__t)+" >\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-rewind"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+'\n					</a></td>\n					<td style="width:33.33%;"><a id="audio-'+(null==(__t=sID+item.id)?"":__t)+'" class="player-play" >\n						'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerTintColor,"","change-playpause playButton","","",playerTintColorKey))?"":__t)+"\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-pause"),playerTintColor,"","change-playpause pauseButton","","","display:none;"+playerTintColorKey))?"":__t)+'\n					</a></td>\n					<td style="width:33.33%;"><a class="change-track soundNext" '+(null==(__t=nextLink)?"":__t)+" >\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-forward"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+'\n					</a></td>\n				</tr>\n			</table>\n		</div>\n		<div class="tableContainer" style="display:table;width:100%;height:75%;">\n			<div class="coverContainer">\n				<div class="photo '+(null==(__t=1==self.get("detail.coverRadius")?"spinner":"")?"":__t)+'" style="border:'+(null==(__t=rules.css.getBorderSoundCover(self))?"":__t)+"background-image:"+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n				data-origin="'+(null==(__t=coverImg)?"":__t)+'">\n				</div>\n\n				<div class="coverDate" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+';">'+(null==(__t=util.Tokens.dateFormat(item.date))?"":__t)+'</div>\n				<div class="coverTitle" style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';font-size:1.3em;">'+(null==(__t=item.title)?"":__t)+"</div>\n			</div>\n		</div>\n\n		",1==rules.getSoundEqualizer(self)&&(__p+='\n			<!-- Equalizer -->\n		    <div id="audioViz'+(null==(__t=sID+item.id)?"":__t)+'" class="audioViz" style="height:100px;width:100%;position:absolute;bottom:58px;overflow:hidden;"></div>\n		'),__p+='\n	</div>\n	<div class="articleContainerSound">\n		<article style="'+(null==(__t=rules.fontStyle("detail.textFont",self))?"":__t)+'" class="detail-article">\n			'+(null==(__t=rules.getCustomCssForDetail(self))?"":__t)+"\n			"+(null==(__t=item.content)?"":__t)+"\n		</article>\n		<style>\n			a{\n				"+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+";\n				color:"+(null==(__t=rules.fallback(self,"section.detail.linkColor","section.detail.subtitleFont.color").val)?"":__t)+";\n			}\n		</style>\n	</div>\n</div>"}return __p}},{"../../rules":33}],127:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="",data.items=util.getCurrentAvailableData().data||data.items;var rules=require("../../rules"),user=data.page_info,item=rules.getItemById(data.items,rules.getPost("item"));current=_.indexOf(data.items,item);var sID=self.get("id")+"_",prevItem=_.is(data.items[current-1])?data.items[current-1]:"";nextItem=_.is(data.items[current+1])?data.items[current+1]:"",prevLink=_.isEmpty(prevItem)?"onclick='return false;'":'data-target-item-id="'+prevItem.id+'" data-target-sound-id="'+sID+prevItem.id+'"',nextLink=_.isEmpty(nextItem)?"onclick='return false;'":'data-target-item-id="'+nextItem.id+'" data-target-sound-id="'+sID+nextItem.id+'"',_.not($(".audioTempCloud"+sID+item.id)[0])&&$("body").append('<audio class="audioTempCloud'+sID+item.id+'" preload="auto" src="'+rules.getStreamUrl(item.streamUrl)+'"></audio>'),""!=nextItem&&_.not($(".audioTempCloud"+sID+nextItem.id)[0])&&$("body").append('<audio class="audioTempCloud'+sID+nextItem.id+'" src="'+rules.getStreamUrl(nextItem.streamUrl)+'"></audio>'),""!=prevItem&&_.not($(".audioTempCloud"+sID+prevItem.id)[0])&&$("body").append('<audio class="audioTempCloud'+sID+prevItem.id+'" src="'+rules.getStreamUrl(prevItem.streamUrl)+'"></audio>'),coverImg=rules.getImageOrDefault(item.cover300,rules.getImageUrl(self.get("defaultThumb"))),subtitleFontColor=self.get("detail.subtitleFont.color"),subtitleFontColorKey=rules.fk("detail.subtitleFont",self),playerTintColor=self.get("detail.playerTintColor"),playerTintColorKey=rules.fk("detail.playerTintColor",self),__p+='\n\n<div class="'+(null==(__t=self.get("detail.template"))?"":__t)+'">\n	<div id="blur-bg" style="background-image:'+(null==(__t=rules.css.toCSSURL(item.cover500))?"":__t)+';">\n		<!-- SVG FOR BLUR ON GECKO BASED BROWSERS LIKE FF -->\n		<svg xmlns="http://www.w3.org/2000/svg" version="1.1">\n		    <defs>\n		        <filter id="blurfilter" x="0" y="0">\n		            <feGaussianBlur in="SourceGraphic" stdDeviation="5" />\n		        </filter>\n		    </defs>\n		</svg>\n		<div class="overlay" style="background-color:'+(null==(__t=rules.getSoundCloudOverlay(self))?"":__t)+'">\n		</div>\n	</div>\n	<div id="ffblurry" style="background:-moz-element(#blur-bg) no-repeat fixed;filter:url(#blurfilter)">\n	</div>\n	<div class="playerContainer">\n		<div class="tableContainer" style="display:table;width:100%;height:75%;">\n			<div class="coverContainer">\n				<div class="photo '+(null==(__t=1==self.get("detail.soundcloudCoverRadius")?"spinner":"")?"":__t)+'" style="border:'+(null==(__t=rules.css.getBorderSoundCover(self))?"":__t)+"background-image:"+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n				data-origin="'+(null==(__t=coverImg)?"":__t)+'">\n				</div>\n				\n				<div id="soundcloud-list" class="infos">\n					',_.is(user)&&!_.isEmpty(self.get("showInfos"))&&(__p+='\n						<ul class="soundcloud-statsSound coverDate" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n							<li class="userStats" >\n								'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),subtitleFontColor,"","","","","font-size:13px;"+subtitleFontColorKey))?"":__t)+"\n								"+(null==(__t=user.nbTracks)?"":__t)+'\n							</li>\n							<li class="userStats" >\n								'+(null==(__t=rules.createIcon(rules.getRealIconUrl("heart"),subtitleFontColor,"","","","","font-size:13px;"+subtitleFontColorKey))?"":__t)+"\n								"+(null==(__t=user.nbLikes)?"":__t)+'\n							</li>\n							<li class="userStats" >\n								'+(null==(__t=util.secondsToHms(item.duration))?"":__t)+'\n							</li>\n							<li class="userStats" >\n								'+(null==(__t=util.Tokens.ago(item.date,"",!0))?"":__t)+"\n							</li>\n						</ul>\n					"),__p+='\n					<h2 class="coverTitle" style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';font-size:1.3em;line-height: 1.3em;">'+(null==(__t=util.safeAmp(util.stripslashes(item.title)))?"":__t)+'</h2>\n				</div>\n			</div>\n		</div>\n		\n		<div id="volume-container" class="volume-container'+(null==(__t=sID+item.id)?"":__t)+' durationBar" style="font-size:0.7em;">\n\n			<div data-target-property="'+(null==(__t=rules.pk("detail.playerTintColor","color"))?"":__t)+'" class="volume-icon seconds-past" style="color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n				'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n			</div>\n\n			<div id="volume-slider" class="durationSlider" data-target-property="background-color" style="background:'+(null==(__t=rules.css.hexToRgba(playerTintColor,.4)+playerTintColorKey)?"":__t)+'">\n				<div class="slide-control">\n					<div class="slide-fill-bar" data-target-property="background-color" style="width:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n					<div class="slide-control-button" data-target-property="background-color" style="left:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n				</div>\n\n			</div>\n			<div data-target-property=\'color\' class="volume-icon seconds-remaining" style="color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n				'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n			</div>\n			\n		</div>\n		<table class="controls" cellpadding="0" cellspacing="0">\n			<tr>\n				<td style="width:33.33%;"><a class="change-track soundPrev" '+(null==(__t=prevLink)?"":__t)+" >\n					"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-rewind"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+'\n				</a></td>\n				<td style="width:33.33%;"><a id="audio-'+(null==(__t=sID+item.id)?"":__t)+'" class="player-play" >\n					'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerTintColor,"","change-playpause playButton","","",playerTintColorKey))?"":__t)+"\n					"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-pause"),playerTintColor,"","change-playpause pauseButton","","","display:none;"+playerTintColorKey))?"":__t)+'\n				</a></td>\n				<td style="width:33.33%;"><a class="change-track soundNext" '+(null==(__t=nextLink)?"":__t)+" >\n					"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-forward"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+"\n				</a></td>\n			</tr>\n		</table>\n\n		",1==rules.getSoundEqualizer(self)&&(__p+='\n			<!-- Equalizer -->\n		    <div id="audioViz'+(null==(__t=sID+item.id)?"":__t)+'" class="audioViz" style="height:100px;width:100%;position:absolute;bottom:58px;overflow:hidden;"></div>\n		'),__p+="\n	</div>\n</div>"}return __p}},{"../../rules":33}],128:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../../rules"),util=require("../../../util"),templateFactory=require("../../templateFactory"),event=data.items[0],events=util.getCurrentAvailableContentData(),agendaList=templateFactory.getTemplate("agendaList"),agendaDetail=templateFactory.getTemplate(rules.getAgendaDetailContentTemplate(event,self),{mobileVersion:!0});__p+="\n\n"+(null==(__t=agendaList({self:self,data:data,events:events}))?"":__t)+'\n\n\n<div class="eventDetailWithList" data-target-property="'+(null==(__t=rules.pk("appSections-"+self.get("id")+"-detail.borderColor","border-left : 1px solid"))?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self)+rules.getDetailBorder(self,"left"))?"":__t)+'">\n	'+(null==(__t=agendaDetail({self:self,data:data}))?"":__t)+"\n</div>"}return __p}},{"../../../rules":33,"../../../util":177,"../../templateFactory":176}],129:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../../rules"),util=require("../../../util"),event=rules.getItemById(data,rules.getPost("item")),eventSection=self,bkmrkSection=rules.getSelectedSection();__p+='\n\n<!--Detail-->\n<div data-target-property="'+(null==(__t=rules.pk("appSections-"+eventSection.get("id")+"-detail.borderColor","border-left : 1px solid"))?"":__t)+'" class="eventDetailWithList" style="background-color:'+(null==(__t=rules.getListBackgroundColor(eventSection))?"":__t)+";"+(null==(__t=rules.getDetailBorder(eventSection,"left"))?"":__t)+'">\n    <div class="content-role '+(null==(__t=rules.getListBackgroundColor(eventSection,!0))?"":__t)+'" data-role="content" style="'+(null==(__t=rules.getSectionMargin(eventSection))?"":__t)+(null==(__t=rules.getSectionDetailListBackgroundColor(eventSection))?"":__t)+'">\n        <div class="main-content">\n\n            <div class="'+(null==(__t=rules.getSectionDetailTemplate(eventSection))?"":__t)+'">\n                <article class="detail-article">\n\n                    <div class="'+(null==(__t=_.isEmpty(event.thumbnail)?"":"infos")?"":__t)+'">\n                        <h2 class="eventDetailTitle" style="'+(null==(__t=rules.fontStyle("detail.titleFont",eventSection))?"":__t)+'"><span>'+(null==(__t=util.safeAmp(util.stripslashes(event.title)))?"":__t)+"</span></h2>\n                        ",_.isEmpty(event.address)||(__p+='\n\n                        <div class="address" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",eventSection))?"":__t)+'">\n                            '+(null==(__t=rules.createIcon(rules.getRealIconUrl("map-pin"),self.get("detail.subtitleFont.color"),"","","","","font-size:15px;"+rules.fk("detail.subtitleFont",eventSection),'<span style="'+rules.fontStyle("detail.subtitleFont",eventSection)+';padding-left: 5px;">'+util.stripslashes(event.address)+"</span>"))?"":__t)+"\n                        </div>\n\n                        "),__p+='\n\n                        <time class="date" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",eventSection))?"":__t)+'">\n                            '+(null==(__t=rules.createIcon(rules.getRealIconUrl("item-agenda"),self.get("detail.subtitleFont.color"),"","","","","font-size:15px;"+rules.fk("detail.subtitleFont",eventSection),'<span style="'+rules.fontStyle("detail.subtitleFont",eventSection)+';padding-left: 5px;">'+util.Tokens.eventDateFormat(event.date,event.endDate,event.allDay)+"</span>"))?"":__t)+'\n                        </time>\n\n                    </div>\n                    <div class="clearfix"></div>\n                </article>\n\n                <article class="detail-article">\n                    <div class="content" style="'+(null==(__t=rules.fontStyle("detail.textFont",eventSection))?"":__t)+'">\n                        <style>a{'+(null==(__t=rules.fontStyle("detail.subtitleFont",eventSection))?"":__t)+"}</style>\n                        ",_.isEmpty(event.content)||(_.isEmpty(event.thumbnail)||(__p+='\n                                <img style="margin-right:10px;" class="photo" src="'+(null==(__t=event.thumbnail)?"":__t)+'" />\n                            '),__p+="\n                            <span>\n                                "+(null==(__t=event.content)?"":__t)+"\n                            </span>\n                        "),__p+='\n                        <div class="clearfix"></div>\n                    </div>\n                    <div class="clearfix"></div>\n\n                    ',_.isEmpty(event.url)||"http://"==event.url||(__p+='<div class="url" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",eventSection))?"":__t)+'"><a href="'+(null==(__t=event.url)?"":__t)+'" target="_blank">'+(null==(__t=appLang.GB_SETTINGS_14)?"":__t)+"</a></div>"),__p+="\n\n                    "+(null==(__t=rules.css.makeRectangleButtons(eventSection,event))?"":__t)+'\n\n                    <div class="clearfix"></div>\n                </article>\n\n                ',_.is(event.latitude)&&_.is(event.longitude)&&0!=event.latitude&&0!=event.longitude&&(__p+='\n                <div class="timeline" style="'+(null==(__t=rules.fontStyle("detail.titleFont",eventSection))?"":__t)+";background-image:"+(null==(__t=rules.getImageUrl(eventSection.get("timelineBackgroundImage"),!0))?"":__t)+';">'+(null==(__t=appLang.GB_TXT_17)?"":__t)+'</div>\n\n                <div class="div-map">\n                    <div class="map" id="map-canvas-'+(null==(__t=event.id)?"":__t)+'"></div>\n                    <input type="hidden" id="map-canvas-coords-'+(null==(__t=eventSection.get("id"))?"":__t)+'" value="'+(null==(__t=event.latitude)?"":__t)+"|"+(null==(__t=event.longitude)?"":__t)+'" />\n                </div>\n                '),__p+="\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Pager -->\n";var favoris=modules.storage.get("favoris"),displayPager=rules.isToolBarType(bkmrkSection,"Classic",!1)?"none":"block",paddingPager=rules.isToolBarType(bkmrkSection,"Classic",!1)?"displayPadding":"hidePadding",dataAttributes="none"==displayPager?"":'data-tap-toggle="false" data-position="fixed" data-role="footer"';__p+='\n<div style="display:'+(null==(__t=displayPager)?"":__t)+';" data-tap-toggle="false" data-position="fixed" class="'+(null==(__t=paddingPager)?"":__t)+' GBArticleDetailTemplateTypeToolBarUp">\n    <div class="pager" '+(null==(__t=dataAttributes)?"":__t)+' style="background:'+(null==(__t=rules.css.hexToRgba(bkmrkSection.get("detail.toolbar.pager.backgroundColor"),bkmrkSection.get("detail.toolbar.opacity"))+rules.fk("detail.toolbar.pager.backgroundColor",bkmrkSection)+rules.fk("detail.toolbar.opacity",bkmrkSection))?"":__t)+';">\n        ',_.each(favoris,function(a){var b={id:a.item,parentSection:a.section},c=rules.urlTo("favoris",b,bkmrkSection.get("id")),d=b.id==rules.getPost("item")?!0:!1,e=d?rules.fvk("detail.toolbar.pager.onColor",bkmrkSection):rules.fvk("detail.toolbar.pager.offColor",bkmrkSection),f=d?"sel":"";__p+='\n\n            <a class="'+(null==(__t=f)?"":__t)+'" data-target-property="background-color" style="background-color:'+(null==(__t=e)?"":__t)+';" href="'+(null==(__t=c)?"":__t)+'">&nbsp;</a>\n\n        '}),__p+='\n    </div>\n</div>\n<div class="clearfix"></div>'}return __p}},{"../../../rules":33,"../../../util":177}],130:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="<!--List-->\n",!util.empty(events)){__p+='\n\n<div class="eventListWithDetail">\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n    ';var styleTag=rules.addEventStyle(self);__p+="\n    "+(null==(__t=styleTag.tag+styleTag.keys)?"":__t)+'\n\n    <ul id="listEventsExpandable" style="background-color:'+(null==(__t=rules.getEventsListBackground(self)+";"+rules.getEventsListBackground(self,!0))?"":__t)+'">\n\n        ';var thumb=rules.getThumbConfig(self),eventsByDay=rules.getGroupedEvents(events,data.next_page);_.each(eventsByDay,function(a,b){var c=!1;_.each(a,function(a){a.id==rules.getPost("item")&&(c=!0)});var d=b,e=util.Tokens.getDateNumber(d),f=util.Tokens.getDateDay(d),g=util.Tokens.getDateMonth(d),h=util.Tokens.getDateYear(d),j=rules.getEventsStartClassNames(i,self,c);__p+='\n            <li class="expandableEvent '+(null==(__t=j.timeline)?"":__t)+'" style="'+(null==(__t=rules.getEventsListSeparator(self))?"":__t)+'">\n                <div class="eventDate">\n                    <div class="dateNumber timelineTitle">\n                        '+(null==(__t=e)?"":__t)+'\n                    </div>\n                    <div class="dateOther">\n                        <div class="dateDay timelineTitle">\n                            '+(null==(__t=f)?"":__t)+'\n                        </div>\n                        <div class="dateMonthYear timelineSubtitle">\n                            '+(null==(__t=[g,h].join(", "))?"":__t)+"\n                        </div>\n                    </div>\n                </div>\n\n                ",_.each(a,function(a){var b=!1;a.id==rules.getPost("item")&&(b=!0);var c=b?"currentEvent":"";__p+='\n\n                    <div class="eventLocation '+(null==(__t=c+" "+j.infos)?"":__t)+'">\n                        <a href="'+(null==(__t=rules.urlTo("agenda",self.get("id"),a.id))?"":__t)+'" title="">\n                            ',rules.isEventsThumb(self)&&(__p+='\n                                <div class="photo '+(null==(__t=thumb.wrapPhotoClass)?"":__t)+'" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'" data-origin="'+(null==(__t=rules.getImageOrDefault(a.thumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n\n                                </div>\n                            '),__p+='\n\n                            <div class="infosOther">\n\n                                <div style="max-height:40px;overflow:hidden;" class="eventTitle eventInfosTitle">\n                                    '+(null==(__t=rules.truncateText(util.stripslashes(a.title),self.get("cesureSummary")))?"":__t)+"\n                                </div>\n\n                                ",rules.isEventsListInfos(self)&&(__p+='\n                                    <div style="max-height:34px;overflow:hidden;" class="eventInfos eventInfosSubtitle">\n                                        '+(null==(__t=rules.getEventSubtitle(self,a))?"":__t)+"\n                                    </div>\n                                "),__p+="\n\n                            </div>\n                        </a>\n                    </div>\n\n                "}),__p+="\n\n            </li>\n\n        "}),__p+="\n    </ul>\n\n</div>\n</div>\n"}__p+=""}return __p}},{}],131:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../../util"),rules=require("../../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n	<div class="GBArticleListTemplateTypeClassic '+(null==(__t=rules.getArticleListClass(self))?"":__t)+'">\n		';var thumbConfig=rules.getThumbConfig(self);_.each(data.items,function(a,b){__p+='\n\n			<a class="'+(null==(__t=loadMore?"":rules.getArticleUneClass(self,b))?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'" title="">\n\n				<article  data-target-property="'+(null==(__t="border : 1px "+rules.fv("separatorType",self))?"":__t)+';" class="'+(null==(__t=thumbConfig.classArticle)?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(self,"all"))?"":__t)+'">\n					\n					',_.isEmpty(a.largeThumbnail)||(__p+='\n						<div class="photo" data-origin="'+(null==(__t=a.largeThumbnail)?"":__t)+'">\n							'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n						</div>\n					"),__p+='\n					\n					<h2 style="'+(null==(__t=rules.getArticleTitleFont(self,b))?"":__t)+" "+(null==(__t=rules.css.getRTLStyle(self))?"":__t)+'">\n						<span>\n							'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"\n						</span>\n					</h2>\n					",_.pos(section.get("showInfos"))&&!util.empty(rules.getInfosContentType(self))&&(__p+='\n						<div class="subtitle" \n						style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n						</div>\n					"),__p+="\n					",util.empty(a.summary)||"GBModuleTypeArticle"!=self.get("type")||(__p+='\n						<div class="subtitle summary" \n						style="'+(null==(__t=rules.fontStyle("textFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						'+(null==(__t=util.wm_htmlentities(util.stripslashes(a.summary)))?"":__t)+"\n						</div>\n					"),__p+='\n\n					<div class="clearfix"></div>\n				</article>\n			</a>\n\n		'},this),__p+="\n	</div>\n</div>\n"}return __p}},{"../../../rules":33,"../../../util":177}],132:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=window.util,rules=window.rules,self=rules.getSelectedSection(),favs=data.items;if(__p+='\n\n<div class="'+(null==(__t=rules.getArticleListClass(self))?"":__t)+' GBArticleListTemplateTypeGrid">\n    ',_.isEmpty(favs))__p+='\n\n        <div id="no-favs" style="text-align:center;display:table;width:100%;height:700px;">\n            <div style="display:table-cell;vertical-align:middle;">\n                '+(null==(__t=rules.createIcon(rules.getRealIconUrl("no-favoris"),self.get("titleFont").color,"","no-favoris","","","font-size:150px;"+rules.fk("titleFont.color",self)))?"":__t)+'\n\n                <h1 style="margin-top:5px;'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n                    '+(null==(__t=self.get("emptyText")||appLang.GB_TXT_29)?"":__t)+"\n                </h1>\n            </div>\n        </div>\n\n    ";else{var thumbConfig=rules.getThumbConfig(self);_.each(favs,function(a,b){if(user.device.mobile)var c=b%2==0?"half-left":"",d=(b+1)%2==0?!0:!1;var e=a.images.large?a.images.large.url:rules.getArticleThumbnail(self,a);__p+='\n\n            <div class="GBBookmark-item" data-itemid="'+(null==(__t=a.id)?"":__t)+'">\n                <a class="same-height '+(null==(__t=c)?"":__t)+'" href="'+(null==(__t=rules.urlTo("favoris",a,self.get("id")))?"":__t)+'">\n\n                    <article class="'+(null==(__t=thumbConfig.classArticle)?"":__t)+'" style="'+(null==(__t=rules.getSectionBorder(self))?"":__t)+";background-color:"+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'">\n\n                        ',rules.isShowThumb(self)&&(__p+='\n\n                            <div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'" data-origin="'+(null==(__t=rules.getImageOrDefault(e,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n                                '+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n                            </div>\n\n                        "),__p+='\n\n                        <div class="infos">\n\n                            <h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n                                <span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n                            </h2>\n\n                            ",rules.isShowSummary(self)&&"GBModuleTypeArticle"==rules.getSectionType(self)&&(__p+='\n\n                                <span class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n                                    '+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n                                </span>\n\n                            "),__p+="\n\n                            ",rules.isShowInfos(self)&&(__p+='\n\n                                <div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n                                    '+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n                                </div>\n\n                            "),__p+='\n\n                        </div>\n\n                        <div class="clearfix"></div>\n\n                    </article>\n\n                </a>\n\n                <div class="GBBookmark-deleteoverlay hidden">\n                    '+(null==(__t=rules.makeIcon({src:"/assets/gbicon/img/v1/101.png",size:"30px",color:"#FF0000",classes:"GBBookmark-deletebtn"}))?"":__t)+"\n                </div>\n\n            </div>\n        "+(null==(__t=d?'<div class="clearfix"></div>\n':"")?"":__t)+"\n\n    "},this)}__p+="\n</div>"}return __p}},{}],133:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n',_.is(data.page_info)&&!util.empty(data.page_info)){__p+='\n	<article class="tabletCover detail-article page-info" style="\n	margin-left : '+(null==(__t=-1*rules.getSectionMargin(self,"left",!0))?"":__t)+"px; \n	margin-right : "+(null==(__t=-1*rules.getSectionMargin(self,"right",!0))?"":__t)+"px; \n	margin-top : "+(null==(__t=-1*rules.getSectionMargin(self,"top",!0))?"":__t)+"px; \n	background-image: "+(null==(__t=rules.css.toCSSURL(data.page_info.cover))?"":__t)+';">\n			\n			<div class="clearfix"></div>\n		</div>\n\n		<article class="tabletInfosContainer detail-article page-info" style="\n		background-color:'+(null==(__t=rules.getFacebookCoverBackground(self))?"":__t)+';">\n\n			<img id="profilePic" class="photo" src="'+(null==(__t=data.page_info.thumbnail)?"":__t)+'" alt="" />\n			\n			<div class="infos">\n				<h2 id="facebookPageTitle" style="'+(null==(__t=rules.getFacebookCoverTitleFont(self))?"":__t)+'">\n					<span>'+(null==(__t=util.stripslashes(data.page_info.title))?"":__t)+'</span>\n				</h2>\n				<div class="baseline" style="'+(null==(__t=rules.getFacebookCoverSubtitle(self))?"":__t)+'">\n					'+(null==(__t=util.stripslashes(data.page_info.content))?"":__t)+'\n				</div>\n			</div>\n\n			\n\n			<div class="nblikes" style="\n			'+(null==(__t=rules.getFacebookCoverSubtitle(self))?"":__t)+'">\n\n				<div class="like-count">\n					<div class="nb">\n						'+(null==(__t=util.stripslashes(data.page_info.nbLikes))?"":__t)+"\n					</div>\n					<span>"+(null==(__t=util.stripslashes(rules.getSectionInfosLike(self)))?"":__t)+"</span>\n				</div>\n\n				";var ilike=rules.getFacebookIlikeData(self,data);__p+='\n				<iframe class="ilike" \n					src="'+(null==(__t=ilike.src)?"":__t)+'" '+(null==(__t=ilike.attrs)?"":__t)+" "+(null==(__t=ilike.style)?"":__t)+">\n				</iframe>\n			</div>\n\n		</article>\n\n	</article>	\n\n	\n"
}__p+="\n\n",_.each(data.items,function(a){__p+='\n		<article class="detail-article tabletArticle" style="\n			background-color : '+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+";\n			"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n			<img class="profilePhoto photo" src="'+(null==(__t=data.page_info.thumbnail)?"":__t)+'" alt="" />\n			<div class="articleNbLikes" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n				 \n				'+(null==(__t=rules.getFacebookArticleNbLikes(a,self))?"":__t)+'\n			</div>\n			<div class="infos">\n				<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n					'+(null==(__t=rules.getFormattedTitle(self,data,a))?"":__t)+'\n				</h2>\n				<div class="baseline" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n					'+(null==(__t=util.Tokens.ago(a.date))?"":__t)+'\n				</div>\n			</div>\n			<div class="clearfix"></div>\n			<div class="desc type-'+(null==(__t=a.type)?"":__t)+'">\n				\n				',"video"!=a.type||util.empty(a.videoUrl)||(__p+='\n					<video controls>\n						<source src="'+(null==(__t=a.videoUrl)?"":__t)+'" type="video/mp4">\n					</video>\n				'),__p+="\n\n				",util.empty(a.content)||(__p+='\n					<div class="content" style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n						'+(null==(__t=util.nl2br(util.striptags(a.content)))?"":__t)+"\n					</div>"),__p+="\n\n				","photo"==a.type&&(__p+='\n					<div style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n						'+(null==(__t=util.nl2br(util.striptags(a.title)))?"":__t)+'\n					</div>\n					<div class="centeredImageContainer">\n						<img src="/_images/1.png" class="photoImage" data-origin="'+(null==(__t=a.urlPhoto)?"":__t)+'" alt="" />\n					</div>\n				'),__p+="\n				\n				","link"==a.type&&(__p+="\n					",""!=a.thumbnail&&(__p+='\n						<img class="photo" src="'+(null==(__t=util.safeAmp(a.thumbnail))?"":__t)+'" alt="" />\n					'),__p+='\n					<div class="'+(null==(__t=""!=a.thumbnail?"infos":"")?"":__t)+'">\n						<h3 style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n							'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+'\n						</h3>\n						<div class="baseline">\n							<a href="'+(null==(__t=a.link)?"":__t)+'" target="_blank">\n								<span style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n									'+(null==(__t=util.stripslashes(a.caption))?"":__t)+'\n								</span>\n							</a>\n						</div>\n						<div class="content" style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n							'+(null==(__t=util.stripslashes(a.description))?"":__t)+'\n						</div>\n					</div>\n					<div class="clearfix"></div>\n				'),__p+="\n				\n				","checkin"==a.type&&(__p+='\n					<div class="div-map">\n						<div class="map" id="map-canvas-\''+(null==(__t=self.get("id"))?"":__t)+"fb-"+(null==(__t=a.id)?"":__t)+'"></div>\n						<input type="hidden" id="map-canvas-coords-'+(null==(__t=self.get("id"))?"":__t)+"fb-"+(null==(__t=a.id)?"":__t)+'" value="'+(null==(__t=a.latitude+"|"+a.longitude)?"":__t)+'" />\n					</div>	\n				'),__p+="\n			</div>\n		</article>	\n"}),__p+="\n\n</div>"}return __p}},{}],134:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../../rules"),section=(require("../../../util"),self),item=rules.getItemById(data,rules.getPost("item")),templateFactory=require("../../templateFactory"),asyncMapdistantDetail=templateFactory.getTemplate("_asyncMapsDetailClassic",{mobileVersion:!0}),asyncMapdistantList=templateFactory.getTemplate("_asyncMapdistantList"),noList=rules.map.displayList(section)?"":"noList";__p+="\n";var popupStyle=rules.map.getPopupStyle(section);__p+="\n"+(null==(__t=popupStyle.tag+popupStyle.keys)?"":__t)+'\n<div id="tabletListContainer" class="'+(null==(__t=noList)?"":__t)+'">\n	<div id="GBMapsListTemplateTypeClassicContainer" style="background-color:'+(null==(__t=rules.getListBackgroundColor(section))?"":__t)+'">\n		'+(null==(__t=asyncMapdistantList({self:self,data:data}))?"":__t)+'\n	</div>\n</div>\n<div id="tabletDetailContainer" class="'+(null==(__t=noList)?"":__t)+'">\n	'+(null==(__t=asyncMapdistantDetail({self:self,item:item,noMap:!0,noPager:!0}))?"":__t)+'\n</div>\n<div id="miniMapContainer" class="'+(null==(__t=noList)?"":__t)+'">\n	<div id="map" class="mapdistant" style="width:100%;height:100%"></div>\n</div>'}return __p}},{"../../../rules":33,"../../../util":177,"../../templateFactory":176}],135:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../../rules"),templateFactory=(require("../../../util"),require("../../templateFactory")),asyncMapdistantDetail=templateFactory.getTemplate("_asyncMapsDetailClassic",{mobileVersion:!0}),item=rules.getItemById(data,rules.getPost("item")),popupStyle=rules.map.getPopupStyle(self);__p+="\n\n"+(null==(__t=popupStyle.tag+popupStyle.keys)?"":__t)+'\n<div id="tabletDetailContainer">\n'+(null==(__t=asyncMapdistantDetail({self:self,item:item,bookmarkSection:!0,noMap:!0}))?"":__t)+'\n</div>\n<div id="miniMapContainer">\n    <div id="map" class="mapdistant" style="width:100%;height:100%"></div>\n</div>'}return __p}},{"../../../rules":33,"../../../util":177,"../../templateFactory":176}],136:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var self=rules.getSelectedSection(),listBackgroundColor="background-color:"+rules.getListBackgroundColor(self,!1),separator=rules.borderSeparator(self,"bottom"),titleFont=rules.sectionUserProfilePushNotificationsTitleFont(self),dateFont=rules.sectionUserProfilePushNotificationsDateFont(self);__p+='\n\n<div id="notificationsList-settingsoverlay"></div>\n\n',data.result&&data.result.notifications.length>0&&(__p+='\n\n    <div id="notificationsList-innertablet">\n\n    ',_.each(data.result.notifications,function(a){__p+='\n\n            <div class="pushNotification" style="'+(null==(__t=listBackgroundColor+separator)?"":__t)+'">\n                <div class="pushNotification-row">\n                    <div class="pushNotification-titlecell" style="'+(null==(__t=titleFont)?"":__t)+'">\n                        <div class="pushNotification-title">'+(null==(__t=a.message)?"":__t)+'</div>\n                    </div>\n                    <div class="pushNotification-datecell" style="'+(null==(__t=dateFont)?"":__t)+'">\n                        <div class="pushNotification-date">'+(null==(__t=util.Tokens.ago(a.started_at,void 0,!0))?"":__t)+"</div>\n                    </div>\n                </div>\n            </div>\n\n    "}),__p+="\n\n    </div>\n\n"),__p+=""}return __p}},{}],137:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class=\'sharingModal\'>\n\n	<div class=\'sharingModalWindow\'>\n		<div id="ajax-enabled-services"></div>\n		<div class="textAreaContainer">\n			<textarea name="" class="sharingModalTA" cols="30" rows="10"></textarea>\n			',preview&&(__p+='\n				<div class="buttonsContainer">\n					<a class="logout shareButtonLogout" href="">\n						'+(null==(__t=rules.createIcon(rules.getRealIconUrl("345"),"#D5D5D5","","","","","font-size:15px;",'<span style="padding-left:5px; font-family: Helvetica Neue, Helvetica;">'+appLang.GB_TXT_153+"</span>"))?"":__t)+'\n			    	</a>\n			    	<a class="share shareButtonSubmit" href="" style="color:white">\n			    		<div class="shareBtnContainer">\n			    			'+(null==(__t=appLang.GB_TXT_56)?"":__t)+"\n			    		</div>\n			    	</a>\n		    	</div>\n	    	"),__p+='\n    	</div> \n\n    	<div class="actionListContainer">\n	    	<ul class="actionList">\n	    		<li>\n	    			<a class="sendByMail" href="">\n		    			'+(null==(__t=rules.createIcon(rules.getRealIconUrl("email"),"","","","","","font-size:15px;display:inline;",'<span style="padding-left:10px; font-family: Helvetica Neue, Helvetica;">'+appLang.GB_TXT_139+"</span>"))?"":__t)+"\n					</a>\n	    		</li>\n	    		",preview&&(__p+='\n		    		<li>\n		    			<a class="copyToClipboard" href="">\n			    			'+(null==(__t=rules.createIcon(rules.getRealIconUrl("share-link"),"","","","","","font-size:15px;display:inline;",'<span style="padding-left:10px; font-family: Helvetica Neue, Helvetica;">'+appLang.GB_TXT_140+"</span>"))?"":__t)+"\n						</a>\n		    		</li>\n	    		"),__p+='\n	    		<li class="last">\n	    			<a class="print" href="">\n		    			'+(null==(__t=rules.createIcon(rules.getRealIconUrl("share-print"),"","","","","","font-size:15px;display:inline;",'<span style="padding-left:10px; font-family: Helvetica Neue, Helvetica;">'+appLang.GB_TXT_141+"</span>"))?"":__t)+"\n					</a>\n	    		</li>\n	    	</ul>\n	    </div>\n	</div>\n	\n</div>";return __p}},{}],138:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../../util"),rules=require("../../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n',_.each(data.items,function(a,b){var c="slideshow slide-"+b;b>2&&(c="GBArticleListTemplateTypeClassic","GBModuleTypeVideo"==rules.getSectionType(self)&&(c+=" list-video"));var d=b>0&&2>=b?"none":"block",e=2>=b?"infos-slideshow":"",f=2>=b?"background-color:"+rules.css.hexToRgba(self.get("uneBackgroundColor"),self.get("uneOpacity")):"",g=b>2?"titleFont":"uneFont",h=2>b?rules.borderSeparator(self,"bottom")+rules.borderSeparator(self,"right"):"",i=b>2?rules.borderSeparator(self,"all"):"";__p+='\n\n	<div class="'+(null==(__t=c)?"":__t)+'" style="'+(null==(__t=h)?"":__t)+";display:"+(null==(__t=d)?"":__t)+';">\n		<a data-role="none" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+';">\n\n			<article style="'+(null==(__t=i)?"":__t)+'">\n\n				<div class="relative '+(null==(__t=rules.getThumbParentClass(self))?"":__t)+'">\n					',2>=b?__p+='\n\n						<div class="slideShowArticle photo-resize photo" style="background-image:url('+(null==(__t=rules.getImageOrDefault(a.largeThumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+');background-position:center;">\n							'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n						</div>\n\n					":(__p+="\n\n						",_.isEmpty(a.largeThumbnail)||(__p+='\n							<div class="photo" data-origin="'+(null==(__t=a.largeThumbnail)?"":__t)+'">\n								'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n							</div>\n						"),__p+="\n\n					"),__p+='\n\n					<div class="infos '+(null==(__t=e)?"":__t)+'" style="'+(null==(__t=f)?"":__t)+'">\n\n						<h2 style="'+(null==(__t=rules.fontStyle(g,self))?"":__t)+'">\n							<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n						</h2>\n\n						",rules.isShowInfos(self)&&rules.getInfosContentType(self)&&(__p+='\n							<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n								'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n							</div>\n						"),__p+="\n\n						",util.empty(a.summary)||(__p+='\n							<div class="subtitle summary" style="'+(null==(__t=rules.fontStyle("textFont",self))?"":__t)+'">\n								'+(null==(__t=util.wm_htmlentities(util.stripslashes(a.summary)))?"":__t)+"\n							</div>\n						"),__p+="\n\n						",2>=b&&(__p+='\n							<div class="pager">\n								',_.each(data.items,function(a,c){if(__p+="\n\n									",2>=c){var d=c==b?1:.5;__p+='\n\n										<span id="slidebullet-'+(null==(__t=c)?"":__t)+'" class="slideshow-bullet" style="background-color:'+(null==(__t=self.get("uneFont.color"))?"":__t)+"; opacity: "+(null==(__t=d)?"":__t)+'">\n											&nbsp;\n										</span>\n\n									'}__p+="\n\n								"}),__p+="\n							</div>\n						"),__p+='\n\n					</div>\n\n					<div class="clearfix"></div>\n				</div>\n			</article>\n		</a>\n	</div>\n\n'}),__p+="\n\n</div>"}return __p}},{"../../../rules":33,"../../../util":177}],139:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../../util"),rules=require("../../../rules"),currentItemID=rules.getPost("item"),item=data.items[0],items=util.getCurrentAvailableContentData(),current=_.indexOf(items,item),sID=self.get("id")+"_",prevItem=_.is(items[current-1])?items[current-1]:"";nextItem=_.is(items[current+1])?items[current+1]:"",prevLink=_.isEmpty(prevItem)?"onclick='return false;'":'data-target-item-id="'+prevItem.id+'" data-target-sound-id="'+sID+prevItem.id+'"',nextLink=_.isEmpty(nextItem)?"onclick='return false;'":'data-target-item-id="'+nextItem.id+'" data-target-sound-id="'+sID+nextItem.id+'"',_.not($(".audioTemp"+sID+item.id)[0])&&$("body").append('<audio class="audioTemp'+sID+item.id+'" preload="auto" src="'+rules.getStreamUrl(item.streamUrl)+'" type="audio/mpeg"></audio>'),""!=nextItem&&_.not($(".audioTemp"+sID+nextItem.id)[0])&&$("body").append('<audio class="audioTemp'+sID+nextItem.id+'" src="'+rules.getStreamUrl(nextItem.streamUrl)+'"></audio>'),""!=prevItem&&_.not($(".audioTemp"+sID+prevItem.id)[0])&&$("body").append('<audio class="audioTemp'+sID+prevItem.id+'" src="'+rules.getStreamUrl(prevItem.streamUrl)+'"></audio>');var coverImg=rules.getImageOrDefault(rules.getSoundItemCover(item),rules.getImageUrl(self.get("defaultThumb"))),miniPlayerColor=self.get("detail.miniPlayerBackgroundColor"),playerTintColor=self.get("detail.playerTintColor"),miniPlayerColorKey=rules.fk("detail.miniPlayerBackgroundColor",self),playerTintColorKey=rules.fk("detail.playerTintColor",self),badgeColor=self.get("isPlayingIconColor"),badgeBgColor=self.get("isPlayingIconBackgroundColor"),badgeColorKey=rules.fk("isPlayingIconColor",self),badgeBgColorKey=rules.fk("isPlayingIconBackgroundColor",self);__p+='\n\n<!-- LIST -->\n<div id="soundListWithDetail" class="soundListWithDetail" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+'">\n	<div  class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n		<div class="GBArticleListTemplateTypeClassic mobile '+(null==(__t=self.get("templateMode"))?"":__t)+'">\n			';{rules.getThumbConfig(self)}_.each(items,function(a,b){var c=currentItemID==a.id?!0:!1;__p+="\n				<a "+(null==(__t=c?'id="selected-item"':"")?"":__t)+' style="background-color:'+(null==(__t=c?rules.getSectionDetailListBackgroundColor(self):"")?"":__t)+'" href="'+(null==(__t=rules.urlTo("sound",self.get("id"),a.id))?"":__t)+'">\n					<article class="'+(null==(__t=("right"==self.get("thumbPosition")?"right ":"")+(_.is(self.get("showThumb"))&&1==self.get("showThumb")?"":"none "))?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n						<div>\n							<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n								data-origin="'+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n								'+(null==(__t=rules.createIcon(rules.getRealIconUrl("playing-icon"),badgeColor,"","soundListIconPlaying playingIcon-"+sID+a.id,"","data-target-property='"+rules.pk("isPlayingIconColor","color")+rules.pk("isPlayingIconBackgroundColor","background-color")+"'","background-color:"+badgeBgColor+badgeColorKey+badgeBgColorKey))?"":__t)+'\n							</div>\n							<div class="infos">\n								<h2 style="'+(null==(__t=c?rules.css.createFontStyle(rules.fv("titleFont",self))+rules.getSoundListSelectedSubtitleColor(self,c):rules.fontStyle("titleFont",self))?"":__t)+'"><span style="max-height:50px;">'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span></h2>\n								",_.isEmpty(self.get("showInfos"))||(__p+='<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"</div>"),__p+='\n							</div>\n							<div class="clearfix"></div>\n						</div>\n					</article>\n				</a>\n			'},this),__p+='\n		</div>\n\n	</div>\n</div>\n\n<!-- DETAIL -->\n<div id="soundDetailWithList" class="soundDetailWithList" data-role="content" data-target-property="'+(null==(__t=rules.pk("appSections-"+rules.getSelectedSection().get("id")+"-detail.borderColor","border-left : 1px solid"))?"":__t)+'" class="soundDetailWithListContent '+(null==(__t=self.get("detail.template"))?"":__t)+'" style="'+(null==(__t=rules.getDetailBorder(self,"left"))?"":__t)+"; background-color:"+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+'">\n	<div class="playerContainer" style="position:relative;">\n		<div class="miniPlayerContainer" style="background-color:'+(null==(__t=miniPlayerColor+miniPlayerColorKey)?"":__t)+';">\n			<div class="mini photo" style="border:'+(null==(__t=rules.css.getBorderSoundCover(self))?"":__t)+"background-image:"+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n			data-origin="'+(null==(__t=coverImg)?"":__t)+'">\n			</div>\n			<div class="coverTitleMini" style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';">'+(null==(__t=item.title)?"":__t)+'</div>\n\n			<div id="controlsContainer">\n				<div id="volume-container" class="volume-container'+(null==(__t=sID+item.id)?"":__t)+' durationBar" style="font-size:0.7em;color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n\n					<div class="volume-icon seconds-past" >\n						'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n					</div>\n\n					<div id="volume-slider" class="durationSlider" style="background:'+(null==(__t=rules.css.hexToRgba(playerTintColor,.4)+playerTintColorKey)?"":__t)+'">\n\n						<div class="slide-control">\n							<div class="slide-fill-bar" data-target-property="background-color" style="width:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n							<div class="slide-control-button" data-target-property="background-color" style="left:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n						</div>\n\n					</div>\n\n					<div class="volume-icon seconds-remaining" >\n						'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n					</div>\n\n				</div>\n				<table class="controls" cellpadding="0" cellspacing="0">\n					<tr>\n						<td style="width:33.33%;"><a class="change-track soundPrev" '+(null==(__t=prevLink)?"":__t)+" >\n							"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-rewind"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+'\n						</a></td>\n						<td style="width:33.33%;"><a id="audio-'+(null==(__t=sID+item.id)?"":__t)+'" class="player-play" >\n							'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerTintColor,"","change-playpause playButton","","",playerTintColorKey))?"":__t)+"\n							"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-pause"),playerTintColor,"","change-playpause pauseButton","","","display:none;"+playerTintColorKey))?"":__t)+'\n						</a></td>\n						<td style="width:33.33%;"><a class="change-track soundNext" '+(null==(__t=nextLink)?"":__t)+" >\n							"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-forward"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+"\n						</a></td>\n					</tr>\n				</table>\n\n				",1==rules.getSoundEqualizer(self)&&(__p+='\n					<!-- Equalizer -->\n				    <div id="audioViz'+(null==(__t=sID+item.id)?"":__t)+'" class="audioViz" style="height:100px;width:100%;position:absolute;bottom:58px;overflow:hidden;"></div>\n				'),__p+='\n			</div>\n		</div>\n		<div class="tableContainer" style="display:table;width:100%;height:75%;">\n			<div class="coverContainer">\n				<div class="photo '+(null==(__t=1==self.get("detail.coverRadius")?"spinner":"")?"":__t)+'" style="border:'+(null==(__t=rules.css.getBorderSoundCover(self))?"":__t)+"background-image:"+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n				data-origin="'+(null==(__t=coverImg)?"":__t)+'">\n				</div>\n\n				<div class="coverDate" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+';">'+(null==(__t=util.Tokens.dateFormat(item.date))?"":__t)+'</div>\n				<div class="coverTitle" style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';font-size:1.3em;">'+(null==(__t=item.title)?"":__t)+'</div>\n			</div>\n		</div>\n\n	</div>\n	<div class="articleContainerSound">\n		<article style="'+(null==(__t=rules.fontStyle("detail.textFont",self))?"":__t)+'" class="detail-article">'+(null==(__t=item.content)?"":__t)+"</article>\n		<style>\n			a{\n				"+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+";\n				color:"+(null==(__t=rules.fallback(self,"section.detail.linkColor","section.detail.subtitleFont.color").val)?"":__t)+";\n			}\n		</style>\n	</div>\n</div>"}return __p}},{"../../../rules":33,"../../../util":177}],140:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../../util"),rules=require("../../../rules"),user=data._data.page_info,item=data.items[0],items=util.getCurrentAvailableContentData(),subtitleFont=self.get("subtitleFont.color"),subtitleFontKey=rules.fk("subtitleFont",self),badgeColor=self.get("isPlayingIconColor"),badgeBgColor=self.get("isPlayingIconBackgroundColor"),badgeColorKey=rules.fk("isPlayingIconColor",self),badgeBgColorKey=rules.fk("isPlayingIconBackgroundColor",self),currentItemID=rules.getPost("item");current=_.indexOf(items,item);var sID=self.get("id")+"_",prevItem=_.is(items[current-1])?items[current-1]:"";nextItem=_.is(items[current+1])?items[current+1]:"",prevLink=_.isEmpty(prevItem)?"onclick='return false;'":'data-target-item-id="'+prevItem.id+'" data-target-sound-id="'+sID+prevItem.id+'"',nextLink=_.isEmpty(nextItem)?"onclick='return false;'":'data-target-item-id="'+nextItem.id+'" data-target-sound-id="'+sID+nextItem.id+'"',_.not($(".audioTempCloud"+sID+item.id)[0])&&$("body").append('<audio class="audioTempCloud'+sID+item.id+'" preload="auto" src="'+rules.getStreamUrl(item.streamUrl)+'"></audio>'),""!=nextItem&&_.not($(".audioTempCloud"+sID+nextItem.id)[0])&&$("body").append('<audio class="audioTempCloud'+sID+nextItem.id+'" src="'+rules.getStreamUrl(nextItem.streamUrl)+'"></audio>'),""!=prevItem&&_.not($(".audioTempCloud"+sID+prevItem.id)[0])&&$("body").append('<audio class="audioTempCloud'+sID+prevItem.id+'" src="'+rules.getStreamUrl(prevItem.streamUrl)+'"></audio>');var coverImg=rules.getImageOrDefault(item.cover300,rules.getImageUrl(self.get("defaultThumb"))),subtitleFontColor=self.get("detail.subtitleFont.color"),subtitleFontColorKey=rules.fk("detail.subtitleFont",self),playerTintColor=self.get("detail.playerTintColor"),playerTintColorKey=rules.fk("detail.playerTintColor",self),badgeColor=self.get("isPlayingIconColor"),badgeBgColor=self.get("isPlayingIconBackgroundColor"),badgeColorKey=rules.fk("isPlayingIconColor",self),badgeBgColorKey=rules.fk("isPlayingIconBackgroundColor",self);if(__p+='\n\n<!--List-->\n<div id="soundListWithDetail" class="soundListWithDetail GBSoundListTemplateTypeSoundCloud" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+';">\n',_.is(user)&&(__p+='\n	<div id="soundcloud-header" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n		<div id="soundcloud-pp">\n			<div class="photo headerPhoto" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n			data-origin="'+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,user,user.id),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n			</div>\n		</div>\n		<div id="soundcloud-user">\n			<h2 id="userAuthor" style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">'+(null==(__t=user.author)?"":__t)+'</h2>\n			<ul id="soundcloud-stats" style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n				<li class="userStats" id="userStatTracks">\n					'+(null==(__t=rules.createIcon(rules.getRealIconUrl("playing-icon"),subtitleFont,"","","","","font-size:13px;"+subtitleFontKey))?"":__t)+"\n					"+(null==(__t=user.nbTracks)?"":__t)+'\n				</li>\n				<li class="userStats" id="userStatLikes">\n					'+(null==(__t=rules.createIcon(rules.getRealIconUrl("followers-soundcloud"),subtitleFont,"","","","","font-size:13px;"+subtitleFontKey))?"":__t)+"\n					"+(null==(__t=user.nbLikes)?"":__t)+'\n				</li>\n			</ul>\n			<div id="soundcloudFollowBtn" >\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl("soundcloud"),"#FFFFFF","","","","","font-size:13px;","<span style='margin-left:10px;'>Follow</span>"))?"":__t)+"\n			</div>\n		</div>\n	</div>\n"),__p+='\n<div id="soundcloud-list">\n	',!util.empty(items)){__p+='\n		<div id="soundcloud-tracks" class="GBArticleListTemplateTypeClassic mobile '+(null==(__t=self.get("templateMode"))?"":__t)+'">\n			';{rules.getThumbConfig(self)}_.each(items,function(a,b){var c=currentItemID==a.id?!0:!1;__p+="\n				<a "+(null==(__t=c?'id="selected-item"':"")?"":__t)+' style="background-color:'+(null==(__t=c?rules.getSectionDetailListBackgroundColor(self):"")?"":__t)+'" href="'+(null==(__t=rules.urlTo("sound",self.get("id"),a.id))?"":__t)+'">\n					<article class="'+(null==(__t=("right"==self.get("thumbPosition")?"right ":"")+(_.is(self.get("showThumb"))&&1==self.get("showThumb")?"":"none "))?"":__t)+'" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n						<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n							data-origin="'+(null==(__t=rules.getImageOrDefault(rules.getArticleThumbnail(self,a,b),rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n							'+(null==(__t=rules.createIcon(rules.getRealIconUrl("playing-icon"),badgeColor,"","soundListIconPlaying playingIcon-"+sID+a.id,"","data-target-property='"+rules.pk("isPlayingIconColor","color")+rules.pk("isPlayingIconBackgroundColor","background-color")+"'","background-color:"+badgeBgColor+badgeColorKey+badgeBgColorKey))?"":__t)+'\n						</div>\n							<div class="infos">\n								<h2 style="'+(null==(__t=c?rules.css.createFontStyle(rules.fv("titleFont",self))+rules.getSoundListSelectedSubtitleColor(self,c):rules.fontStyle("titleFont",self))?"":__t)+'">\n									<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+'</span>\n								</h2>\n							</div>\n						<div class="clearfix"></div>\n					</article>\n				</a>\n			'},this),__p+="\n		</div>\n	"}__p+='\n\n</div>\n</div>\n\n<!--Detail-->\n<div data-role="content" id="soundDetailWithList" class="soundDetailWithList" style="'+(null==(__t=rules.getDetailBorder(self,"left"))?"":__t)+'">\n	<div data-target-property="'+(null==(__t=rules.pk("appSections-"+rules.getSelectedSection().get("id")+"-detail.borderColor","border-left : 1px solid"))?"":__t)+'" class="'+(null==(__t=self.get("detail.template"))?"":__t)+'">\n\n		<div id="blur-bg" style="background-image:'+(null==(__t=rules.css.toCSSURL(item.cover500))?"":__t)+';">\n			<!-- SVG FOR BLUR ON GECKO BASED BROWSERS LIKE FF -->\n			<svg xmlns="http://www.w3.org/2000/svg" version="1.1">\n			    <defs>\n			        <filter id="blurfilter" x="0" y="0">\n			            <feGaussianBlur in="SourceGraphic" stdDeviation="5" />\n			        </filter>\n			    </defs>\n			</svg>\n			<div class="overlay" style="background-color:'+(null==(__t=rules.getSoundCloudOverlay(self))?"":__t)+'">\n			</div>\n		</div>\n		<div id="ffblurry" style="background:-moz-element(#blur-bg) no-repeat;filter:url(#blurfilter)">\n		</div>\n\n		<div class="playerContainer">\n			<div class="tableContainer" style="display:table;width:100%;height:75%;">\n				<div class="coverContainer">\n					<div class="photo '+(null==(__t=1==self.get("detail.soundcloudCoverRadius")?"spinner":"")?"":__t)+'" style="border:'+(null==(__t=rules.css.getBorderSoundCover(self))?"":__t)+"background-image:"+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'"\n					data-origin="'+(null==(__t=coverImg)?"":__t)+'">\n					</div>\n\n					<div id="soundcloud-list" class="infos">\n						',_.is(user)&&!_.isEmpty(self.get("showInfos"))&&(__p+='\n							<ul class="soundcloud-statsSound coverDate" style="'+(null==(__t=rules.fontStyle("detail.subtitleFont",self))?"":__t)+'">\n								<li class="userStats" >\n									'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),subtitleFontColor,"","","","","font-size:13px;"+subtitleFontColorKey))?"":__t)+"\n									"+(null==(__t=user.nbTracks)?"":__t)+'\n								</li>\n								<li class="userStats" >\n									'+(null==(__t=rules.createIcon(rules.getRealIconUrl("heart"),subtitleFontColor,"","","","","font-size:13px;"+subtitleFontColorKey))?"":__t)+"\n									"+(null==(__t=user.nbLikes)?"":__t)+'\n								</li>\n								<li class="userStats" >\n									'+(null==(__t=util.secondsToHms(item.duration))?"":__t)+'\n								</li>\n								<li class="userStats" >\n									'+(null==(__t=util.Tokens.ago(item.date,"",!0))?"":__t)+"\n								</li>\n							</ul>\n						"),__p+='\n						<h2 class="coverTitle" style="'+(null==(__t=rules.fontStyle("detail.titleFont",self))?"":__t)+';font-size:1.3em;line-height: 1.3em;">'+(null==(__t=util.safeAmp(util.stripslashes(item.title)))?"":__t)+'</h2>\n					</div>\n				</div>\n			</div>\n			<div id="controlsContainer">\n				<div id="volume-container" class="volume-container'+(null==(__t=sID+item.id)?"":__t)+' durationBar" style="font-size:0.7em;">\n\n					<div data-target-property=\'color\' class="volume-icon seconds-past" style="color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n						'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n					</div>\n\n					<div id="volume-slider" class="durationSlider"  data-target-property=\'background-color\'style="background:'+(null==(__t=rules.css.hexToRgba(playerTintColor,.4)+playerTintColorKey)?"":__t)+'">\n						<div class="slide-control">\n							<div class="slide-fill-bar" data-target-property="background-color" style="width:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n							<div class="slide-control-button" data-target-property="background-color" style="left:0%;background-color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'"></div>\n						</div>\n\n					</div>\n					<div data-target-property=\'color\' class="volume-icon seconds-remaining" style="color:'+(null==(__t=playerTintColor+playerTintColorKey)?"":__t)+'">\n						'+(null==(__t=util.secondsToMs(0))?"":__t)+'\n					</div>\n\n				</div>\n				<table class="controls" cellpadding="0" cellspacing="0">\n					<tr>\n						<td style="width:33.33%;"><a class="change-track soundPrev" '+(null==(__t=prevLink)?"":__t)+" >\n							"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-rewind"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+'\n						</a></td>\n						<td style="width:33.33%;"><a id="audio-'+(null==(__t=sID+item.id)?"":__t)+'" class="player-play" >\n							'+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerTintColor,"","change-playpause playButton","","",playerTintColorKey))?"":__t)+"\n							"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-pause"),playerTintColor,"","change-playpause pauseButton","","","display:none;"+playerTintColorKey))?"":__t)+'\n						</a></td>\n						<td style="width:33.33%;"><a class="change-track soundNext" '+(null==(__t=nextLink)?"":__t)+" >\n							"+(null==(__t=rules.createIcon(rules.getRealIconUrl("audio-forward"),playerTintColor,"","","","",playerTintColorKey))?"":__t)+'\n						</a></td>\n					</tr>\n				</table>\n\n			</div>\n\n			<div class="soundcloudDescription" style="padding:10px;'+(null==(__t=rules.fallbackFont(section,"section.subtitleFont"))?"":__t)+'">\n				<hr>\n				<div>'+(null==(__t=item.content)?"":__t)+"</div>\n			</div>\n		</div>\n	</div>\n</div>\n"
}return __p}},{"../../../rules":33,"../../../util":177}],141:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var styleTag=rules.getTwitterSelectedStyle(self);__p+="\n"+(null==(__t=styleTag.tag+styleTag.keys)?"":__t)+"\n",data.account_info=data.account_info||{},__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n',_.each(data.items,function(a){__p+='\n	<a class="item" href="javascript:void(0)">\n		<article style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n			',rules.isTwitterClassic(self)?(__p+="\n				",__p+=rules.twitterAvatar(self)?'\n					<img src="'+(null==(__t=a.thumbnailLarge)?"":__t)+'" alt="'+(null==(__t=a.authorAccount)?"":__t)+'" style="border-radius:'+(null==(__t=rules.getTwitterClassicPPRadius(self))?"":__t)+'"/>\n				':'\n					<div class="photo">\n						'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("icon.image")),self.get("twitterIcon.normalColor"),self.get("twitterIcon.normalTexture"),"tweet"))?"":__t)+"\n					</div>\n				",__p+="\n			"):__p+='\n				<img src="'+(null==(__t=a.thumbnailLarge)?"":__t)+'" alt="'+(null==(__t=a.authorAccount)?"":__t)+'" style="border-radius:'+(null==(__t=rules.getTwitterClassicPPRadius(self))?"":__t)+'"/>\n			',__p+='\n\n			<div class="infos">\n				<h2>\n					<span style="float:left;'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+" color:"+(null==(__t=rules.fvk("titleFont.color",self))?"":__t)+'">\n						'+(null==(__t=rules.toTitleCase(data.account_info.fullname))?"":__t)+'\n					</span>\n					<time style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'" datetime="'+(null==(__t=a.date)?"":__t)+'">\n						'+(null==(__t=util.Tokens.ago(a.date))?"":__t)+'\n					</time>\n					<span class="clearfix"></span>\n				</h2>\n				<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n					'+(null==(__t=util.striptags2br(a.content))?"":__t)+'\n				</h2>\n			</div>\n			<div class="clearfix"></div>\n		</article>\n	</a>\n	<article class="actions" style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n			<a style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'" target="_blank" href="https://twitter.com/intent/tweet?in_reply_to='+(null==(__t=a.id)?"":__t)+'">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("replyIcon.image")),rules.fvk("subtitleFont.color",self),void 0,"reply",void 0,void 0,"font-size:22px"))?"":__t)+'\n				 Reply\n			</a> \n			<a style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'" target="_blank" href="https://twitter.com/intent/retweet?tweet_id='+(null==(__t=a.id)?"":__t)+'">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("retweetIcon.image")),rules.fvk("subtitleFont.color",self),void 0,"retweet",void 0,void 0,"font-size:16px"))?"":__t)+'\n				 Retweet\n			</a>\n			<span class="clearfix"></span>\n		</article>\n'}),__p+="\n</div>"}return __p}},{}],142:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../../util"),rules=require("../../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n	<div class="GBArticleListTemplateTypeClassic">\n		',_.each(data.items,function(a,b){var c=0!=b||loadMore?"":"first";__p+='\n\n		<a class="'+(null==(__t=c)?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'">\n\n			<article>\n\n				',rules.isShowThumb(self)&&!_.isEmpty(a.largeThumbnail)&&(__p+='\n\n					<div class="photo" data-origin="'+(null==(__t=a.largeThumbnail)?"":__t)+'">\n						'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n					</div>\n\n				"),__p+='\n\n				<div class="infos">\n\n					<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n					</h2>\n\n					",rules.isShowInfos(self)&&rules.getInfosContentType(self)&&(__p+='\n\n						<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n							'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n						</div>\n\n					"),__p+="\n\n					",!rules.isShowSummary(self)&&0!=b||util.empty(a.summary)||"GBModuleTypeArticle"!=rules.getSectionType(self)||(__p+='\n\n						<div class="subtitle summary" style="'+(null==(__t=rules.fontStyle("textFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n							'+(null==(__t=util.wm_htmlentities(util.stripslashes(a.summary)))?"":__t)+"\n						</div>\n\n					"),__p+='\n\n				</div>\n\n				<div class="clearfix"></div>\n\n			</article>\n\n		</a>\n\n\n		'}),__p+="\n	</div>\n</div>"}return __p}},{"../../../rules":33,"../../../util":177}],143:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var account=data.account_info;if(self=rules.getSelectedSection(),account){__p+='\n<div style="background-image:url('+(null==(__t=account.bannerImage)?"":__t)+");background-color:"+(null==(__t=rules.getTwitterBannerBackgroundColor(self))?"":__t)+';background-position:center;background-size:cover;">\n	<div id="twitterBanner" class="'+(null==(__t="twitter"+String(rules.getCategoriesContainerHeight()))?"":__t)+'">\n			<!--PP-->\n			<div id="bannerPP" style="background-image:url('+(null==(__t=account.thumbnailLarge)?"":__t)+");border-radius:"+(null==(__t=rules.getTwitterBannerPPRadius(self))?"":__t)+'"></div>\n			<div class="wrap-infos">\n				<!--Name-->\n				<h2 id="bannerTitle" style="'+(null==(__t=rules.css.createFontStyle(rules.getTwitterBannerTitleFont(self))+rules.getTwitterBannerTitleFont(self,!0))?"":__t)+'">\n					'+(null==(__t=account.fullname)?"":__t)+"\n				</h2>\n				",user.device.mobile||(__p+='\n					<!--UserName-->\n					<h2 id="bannerUser" style="'+(null==(__t=rules.css.createFontStyle(rules.getTwitterBannerSubtitleFont(self))+rules.getTwitterBannerSubtitleFont(self,!0))?"":__t)+'">\n						@'+(null==(__t=account.screen_name)?"":__t)+"\n					</h2>\n				"),__p+='\n				<!--Bio-->\n				<p id="bannerBio" style="'+(null==(__t=rules.css.createFontStyle(rules.getTwitterBannerSubtitleFont(self))+rules.getTwitterBannerSubtitleFont(self,!0))?"":__t)+'">\n					'+(null==(__t=account.bio)?"":__t)+"\n				</p>\n\n				<!--FollowBtn-->\n				",btnOff=rules.getTwitterFollowBtnColorOff(self),__p+='\n				<div id="twitterFollowBtn" data-screen-name="'+(null==(__t=account.screen_name)?"":__t)+'" style="background-color:'+(null==(__t=rules.getTwitterFollowBtnFillColor(self))?"":__t)+";color:"+(null==(__t=btnOff)?"":__t)+";border-color:"+(null==(__t=btnOff)?"":__t)+';">\n					',user.device.mobile||(__p+='\n						<div class="wrap-followbtn">\n					'),__p+="\n\n					"+(null==(__t=rules.makeIcon({src:"/assets/gbicon/img/v1/10.png",color:btnOff,classes:"tweet"}))?"":__t)+"\n\n					Follow\n\n					",user.device.mobile||(__p+="\n						</div>\n					"),__p+="\n				</div>\n			</div>\n\n		<!--Stats-->\n		";var statFont=rules.css.createFontStyle(rules.getTwitterBannerStatsFont(self)),statKey=rules.getTwitterBannerStatsFont(self,!0),infosFont=rules.css.createFontStyle(rules.getTwitterBannerInfosFont(self)),infosKey=rules.getTwitterBannerInfosFont(self,!0),stats_=statFont+statKey,infos_=infosFont+infosKey;__p+='\n		<ul id="bannerStats">\n			<li id="bannerStatTweets" class="bannerStat">\n				<p class="statNumber" style="'+(null==(__t=stats_)?"":__t)+'">\n					'+(null==(__t=account.nbTweets)?"":__t)+'\n				</p>\n				<p class="statLabel" style="'+(null==(__t=infos_)?"":__t)+'">\n					Tweets\n				</p>\n			</li>\n			<li id="bannerStatFollowers" class="bannerStat">\n				<p class="statNumber" style="'+(null==(__t=stats_)?"":__t)+'">\n					'+(null==(__t=account.nbFollowers)?"":__t)+'\n				</p>\n				<p class="statLabel" style="'+(null==(__t=infos_)?"":__t)+'">\n					Followers\n				</p>\n			</li>\n			<li id="bannerStatFollowing" class="bannerStat">\n				<p class="statNumber" style="'+(null==(__t=stats_)?"":__t)+'">\n					'+(null==(__t=account.nbFollowings)?"":__t)+'\n				</p>\n				<p class="statLabel" style="'+(null==(__t=infos_)?"":__t)+'">\n					Following\n				</p>\n			</li>\n		</ul>\n\n\n	</div>\n	<!--Gradient-->\n	<div id="gradient" style="'+(null==(__t=rules.getBannerGradient(self))?"":__t)+'"></div>\n</div>\n'}else __p+='\n<div class="twitterHeaderPlaceHolderForNavBar"></div>\n';__p+=""}return __p}},{}],144:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n',data.account_info=data.account_info||{},__p+="\n",_.each(data.items,function(a){__p+='\n	<a href="'+(null==(__t=rules.urlTo("tweet",self.get("id"),a.id))?"":__t)+'">\n		<article style="'+(null==(__t=rules.borderSeparator(self))?"":__t)+'">\n\n			',rules.isTwitterClassic(self)?(__p+="\n				",__p+=rules.twitterAvatar(self)?'\n				<img src="'+(null==(__t=a.thumbnail)?"":__t)+'" alt="'+(null==(__t=a.authorAccount)?"":__t)+'" style="border-radius:'+(null==(__t=rules.getTwitterClassicPPRadius(self))?"":__t)+'"/>\n				':"\n				"+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("icon.image")),self.get("twitterIcon.normalColor"),self.get("twitterIcon.normalTexture"),"tweet",void 0,void 0,"font-size:25px"))?"":__t)+"\n				",__p+="\n			"):__p+='\n				<img src="'+(null==(__t=a.thumbnail)?"":__t)+'" alt="'+(null==(__t=a.authorAccount)?"":__t)+'" style="border-radius:'+(null==(__t=rules.getTwitterClassicPPRadius(self))?"":__t)+'"/>\n			',__p+='\n			<div class="infos">\n				<h2>\n					<span  style="float:left;margin-right:5px;'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n						'+(null==(__t=rules.toTitleCase(a.author||data.account_info.fullname))?"":__t)+'\n					</span>\n					<span style="overflow:hidden;'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n						'+(null==(__t=a.authorAccount)?"":__t)+'\n					</span>\n					<time style="float:right;'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'" \n						datetime="'+(null==(__t=a.date)?"":__t)+'">\n						'+(null==(__t=util.Tokens.ago(a.date))?"":__t)+'\n					</time>\n				</h2>\n				<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n					'+(null==(__t=util.striptags2br(a.content))?"":__t)+"\n				</h2>\n			</div>\n\n		</article>	\n	</a>\n"}),__p+="\n</div>";return __p}},{}],145:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="",user.device.mobile){__p+="\n\n";var item=rules.getItemById(data,rules.getPost("item"));__p+='\n<div data-role="content" \n	class="GBTwitterListTemplateTypeSingle '+(null==(__t=rules.getDetailTemplate(self))?"":__t)+'" \n	style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+';min-height:500px;">\n\n	<article style="background-color:'+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+'">\n		'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("quoteIcon1.image")),rules.getQuoteIconNormalColor(self,"quoteIcon1"),rules.getQuoteIconNormalTexture(self,"quoteIcon1"),"quote1",void 0,void 0,"font-size:22px"))?"":__t)+'\n					\n		<div class="infos">\n			<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n				<div class="title">\n\n				'+(null==(__t=rules.formatTweet(item))?"":__t)+' \n				\n				</div>\n			</h2>\n			\n			<div class="relative">\n				'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("quoteIcon2.image")),rules.getQuoteIconNormalColor(self,"quote2"),rules.getQuoteIconNormalTexture(self,"quote2"),"quote2",void 0,void 0,"font-size:12px"))?"":__t)+'\n				<time style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+"\n				"+(null==(__t=rules.getTimeLineHeight(self))?"":__t)+'"\n				datetime="'+(null==(__t=item.date)?"":__t)+'">\n					'+(null==(__t=util.Tokens.ago(item.date))?"":__t)+'\n				</time>\n			</div>\n		</div>\n\n	</article>\n\n	<div class="relative">\n		'+(null==(__t=rules.createIcon(rules.getRealIconUrl("arrow-bottom"),self.get("detail.listBackgroundColor"),"","arrow-bottom",self.get("detail.listBackgroundOpacity"),void 0,"font-size:25px"))?"":__t)+"\n		"+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("icon.image")),self.get("twitterIcon.normalColor"),self.get("twitterIcon.normalTexture"),"tweet",void 0,void 0,"font-size:25px"))?"":__t)+'\n		<a target="_blank" href="https://twitter.com/intent/tweet?in_reply_to='+(null==(__t=item.id)?"":__t)+'">\n			'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("replyIcon.image")),rules.getQuoteIconNormalColor(self,"replyIcon"),rules.getQuoteIconNormalTexture(self,"replyIcon"),"reply",void 0,void 0,"font-size:25px;right:60px;"))?"":__t)+'\n		</a> \n		<a target="_blank" href="https://twitter.com/intent/retweet?tweet_id='+(null==(__t=item.id)?"":__t)+'">\n			'+(null==(__t=rules.createIcon(rules.getRealIconUrl(self.get("retweetIcon.image")),rules.getQuoteIconNormalColor(self,"retweetIcon2"),rules.getQuoteIconNormalTexture(self,"retweetIcon2"),"retweet",void 0,void 0,"font-size:25px;right:13px;"))?"":__t)+"\n		</a>\n	</div>\n\n</div>\n\n";var prevItem=rules.getNextOrPreviousItem(data.items,item,"previous"),nextItem=rules.getNextOrPreviousItem(data.items,item,"next");prevItem&&(__p+="\n	"+(null==(__t='<a id="prevItem" class="hidden prev-tweet" href="'+rules.urlTo("tweet",self.get("id"),prevItem.id)+'" data-targetItem="'+prevItem.id+'"></a>\n')?"":__t)+"\n	"),nextItem&&(__p+="\n	"+(null==(__t='<a id="nextItem" class="hidden next-tweet" href="'+rules.urlTo("tweet",self.get("id"),nextItem.id)+'" data-targetItem="'+nextItem.id+'"></a>\n')?"":__t)+"\n	")}else window.location.hash="!section="+rules.getPost("section");__p+="\n"}return __p}},{}],146:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var account=data.account_info;if(self=rules.getSelectedSection(),account){__p+='\n\n<div id="twitterProfile" class="'+(null==(__t="twitter"+String(rules.getCategoriesContainerHeight()))?"":__t)+'" style="background-color:'+(null==(__t=rules.getTwitterBannerBackgroundColor(self))?"":__t)+';">\n	<!--PP-->\n	<div id="profilePP" style="background-image:url('+(null==(__t=account.thumbnailLarge)?"":__t)+");border-radius:"+(null==(__t=rules.getTwitterProfilePPRadius(self))?"":__t)+'"></div>\n\n	<div id="profileContent">\n		<!--Name-->\n		<h2 id="bannerTitle" style="'+(null==(__t=rules.css.createFontStyle(rules.getTwitterProfileTitleFont(self))+rules.getTwitterProfileTitleFont(self,!0))?"":__t)+'">\n			'+(null==(__t=account.fullname)?"":__t)+"\n		</h2>\n\n		<!--Stats-->\n		";var statFont=rules.css.createFontStyle(rules.getTwitterProfileStatsFont(self)),statKey=rules.getTwitterProfileStatsFont(self,!0),infosFont=rules.css.createFontStyle(rules.getTwitterProfileInfosFont(self)),infosKey=rules.getTwitterProfileInfosFont(self,!0),stats_=statFont+statKey,infos_=infosFont+infosKey;__p+='\n		<ul id="bannerStats">\n			<li id="bannerStatTweets" class="bannerStat">\n				<p class="statNumber" style="'+(null==(__t=stats_)?"":__t)+'">\n					'+(null==(__t=account.nbTweets)?"":__t)+'\n				</p>\n				<p class="statLabel" style="'+(null==(__t=infos_)?"":__t)+'">\n					Tweets\n				</p>\n			</li>\n			<li id="bannerStatFollowers" class="bannerStat">\n				<p class="statNumber" style="'+(null==(__t=stats_)?"":__t)+'">\n					'+(null==(__t=account.nbFollowers)?"":__t)+'\n				</p>\n				<p class="statLabel" style="'+(null==(__t=infos_)?"":__t)+'">\n					Followers\n				</p>\n			</li>\n			<li id="bannerStatFollowing" class="bannerStat">\n				<p class="statNumber" style="'+(null==(__t=stats_)?"":__t)+'">\n					'+(null==(__t=account.nbFollowings)?"":__t)+'\n				</p>\n				<p class="statLabel" style="'+(null==(__t=infos_)?"":__t)+'">\n					Following\n				</p>\n			</li>\n		</ul>\n\n		<!--FollowBtn-->\n		',btnOff=rules.getTwitterFollowBtnColorOff(self),__p+='\n		<div id="twitterFollowBtn" data-screen-name="'+(null==(__t=account.screen_name)?"":__t)+'" style="background-color:'+(null==(__t=rules.getTwitterFollowBtnFillColor(self))?"":__t)+";color:"+(null==(__t=btnOff)?"":__t)+";border-color: "+(null==(__t=btnOff)?"":__t)+'">\n\n			'+(null==(__t=rules.makeIcon({src:"/assets/gbicon/img/v1/10.png",color:btnOff,classes:"tweet"}))?"":__t)+'\n\n			Follow\n		</div>\n\n	</div>\n	<div class="clearfix"></div>\n</div>\n'}else __p+='\n<div class="twitterHeaderPlaceHolderForNavBar"></div>\n';__p+=""}return __p}},{}],147:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n',_.each(data.items,function(a,b){var c=1==b?"half-left":2==b?"half-right":"",d=2==b?!0:!1,e="";artClass="",titleStyle=3>b?rules.fontStyle("uneFont",self,{section:self,useRTL:!0}):rules.fontStyle("titleFont",self,{section:self,useRTL:!0}),__p+="\n\n	",0==b?(artClass="first big",rules.isShowThumb(self)&&(artClass+=" thumb")):3>b?(e=" same-height",artClass="mini",rules.isShowThumb(self)&&(artClass+=" thumb")):(artClass="normal",e="list"),__p+='\n\n	<a class="'+(null==(__t=c+e)?"":__t)+' ui-link" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'">\n\n		<article class="'+(null==(__t=artClass)?"":__t)+'" style="background-color:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+";"+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n			\n			',rules.isShowThumb(self)&&(__p+='\n\n				<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'" data-origin="'+(null==(__t=rules.getImageOrDefault(a.largeThumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n					'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n				</div>\n\n			"),__p+='\n			\n			<div class="infos">\n\n				<h2 style="'+(null==(__t=titleStyle)?"":__t)+'">\n					<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n				</h2>\n\n				",rules.isShowInfos(self)&&(__p+='\n\n					<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n					</div>\n\n				"),__p+="\n\n				",rules.isShowSummary(self)&&"GBModuleTypeArticle"==rules.getSectionType(self)&&(__p+='\n\n					<span class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n					</span>\n\n				"),__p+='\n\n			</div>\n\n			<div class="clearfix"></div>\n		\n		</article>\n\n	</a>\n\n	'+(null==(__t=d?'<div class="clearfix"></div>\n':"")?"":__t)+"\n\n"}),__p+="\n\n</div>"}return __p}},{"../../rules":33,"../../util":177}],148:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),article=rules.getItemById(data,rules.getPost("item"));__p+="\n\n";var style=rules.getCSSForDetail(self,article);__p+="\n"+(null==(__t=style.tag)?"":__t)+"\n"+(null==(__t=style.keys)?"":__t)+'\n\n\n<div class="content-role" data-role="content" style="'+(null==(__t=user.device.mobile?rules.getSectionMargin(self):"")?"":__t)+" "+(null==(__t=rules.getSectionBorder(self))?"":__t)+';">\n\n	<div class="main-content">\n\n		<div class="_asyncArticleDetailContainer '+(null==(__t=rules.getSectionDetailTemplate(self))?"":__t)+'" style="background-color:'+(null==(__t=rules.getSectionDetailListBackgroundColor(self))?"":__t)+'">\n\n			<article class="detail-article detail-video" style="box-sizing: border-box; padding-bottom: '+(null==(__t=8*util.coeffSize)?"":__t)+'px;">\n				'+(null==(__t=rules.getCustomCssForDetail(self))?"":__t)+"\n				"+(null==(__t=rules.formateArticleDetail(self,article))?"":__t)+"\n			</article>\n		</div>\n\n	</div>\n\n</div>\n\n";var displayPager=rules.isToolBarType(self,"Classic",!1)?"none":"block";__p+="\n";var paddingPager=rules.isToolBarType(self,"Classic",!1)?"displayPadding":"hidePadding";__p+="\n";var dataAttributes="none"==displayPager?"":'data-tap-toggle="false" data-position="fixed" data-role="footer"';__p+='\n<!-- Pager -->\n<div style="display:'+(null==(__t=displayPager)?"":__t)+';" data-tap-toggle="false" data-position="fixed" class="'+(null==(__t=paddingPager)?"":__t)+' GBArticleDetailTemplateTypeToolBarUp">\n	<div class="pager" '+(null==(__t=dataAttributes)?"":__t)+' style="background:'+(null==(__t=rules.css.hexToRgba(self.get("detail.toolbar.pager.backgroundColor"),self.get("detail.toolbar.opacity"))+rules.fk("detail.toolbar.pager.backgroundColor",self)+rules.fk("detail.toolbar.opacity",self))?"":__t)+';">\n		';var j=1;_.each(data.items,function(a){var b=a.id==rules.getPost("item")?!0:!1,c=b?rules.fvk("detail.toolbar.pager.onColor",self):rules.fvk("detail.toolbar.pager.offColor",self),d=b?"sel":"";__p+='\n\n			<a class="'+(null==(__t=d)?"":__t)+'" data-target-property="background-color" style="background-color:'+(null==(__t=c)?"":__t)+';" href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'">&nbsp;</a>\n\n		',j++}),__p+="\n	</div>\n</div>"}return __p}},{"../../rules":33}],149:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules");__p+='\n\n<div class="async-content" data-next="'+(null==(__t=rules.getNextPage(data))?"":__t)+'">\n\n',_.each(data.items,function(a){__p+='\n\n	<a href="'+(null==(__t=rules.urlTo("article",self.get("id"),a.id))?"":__t)+'">\n\n		<article style="'+(null==(__t=rules.getSectionBorder(self))?"":__t)+";background-color:"+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+';">\n\n			<div class="photo" style="background-image:'+(null==(__t=rules.getImageUrl(self.get("defaultThumb"),!0))?"":__t)+'" data-origin="'+(null==(__t=rules.getImageOrDefault(a.largeThumbnail,rules.getImageUrl(self.get("defaultThumb"))))?"":__t)+'">\n				'+(null==(__t=rules.getThumbContentForVideoSection(self,a))?"":__t)+"\n				"+(null==(__t=rules.createIcon(rules.getRealIconUrl("arrow-top"),self.get("listBackgroundColor"),"","arrowtop",self.get("listBackgroundOpacity"),"","font-size:15px;"))?"":__t)+'\n			</div>\n\n			<div class="infos">\n				<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n					<span>'+(null==(__t=util.safeAmp(util.stripslashes(a.title)))?"":__t)+"</span>\n				</h2>\n				",util.empty(self.get("showInfos"))||util.empty(rules.getInfosContentType(self))||(__p+='\n					<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						'+(null==(__t=rules.tokenizeArticle(util.stripslashes(rules.getInfosContentType(self)),a))?"":__t)+"\n					</div>\n				"),__p+="\n				",rules.isShowSummary(self)&&"GBModuleTypeArticle"==rules.getSectionType(self)&&(__p+='\n\n					<div class="subtitle" style="'+(null==(__t=rules.fontStyle("subtitleFont",self,{section:self,useRTL:!0}))?"":__t)+'">\n						'+(null==(__t=rules.truncateText(util.stripslashes(a.summary),self.get("cesureSummary")))?"":__t)+"\n					</div>\n\n				"),__p+="\n			</div>\n\n		</article>\n\n	</a>\n	\n"}),__p+="\n\n</div>"}return __p}},{"../../rules":33,"../../util":177}],150:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var postMessage=templateFactory.getTemplate("chatPostMessage");if(_.pos(included))var included=!0;else var included=!1;__p+='\n<div class="chatDetail">\n    <div class="chatDetailInner DOM-DefinedAsyncContent detail-listBackgroundColor" data-async-template="GBChatDetailTemplateTypeClassic_content" data-data-provider="'+(null==(__t=dataProvider)?"":__t)+'" data-provider-parameters="'+(null==(__t=JSON.stringify(dataProviderParameters))?"":_.escape(__t))+'" data-provider-page="1">\n      \n    </div>\n    ',included||(__p+="\n        "+(null==(__t=postMessage())?"":__t)+"\n    "),__p+="\n</div>"}return __p}},{}],151:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var previousMsgDate,messages=data&&data.messages?data.messages.reverse():[];_.each(messages,function(a,b){var c=moment(a.date);c=c.get("year")+c.get("month")+c.get("date");var d=a.from==modules.login.data.userId?!1:!0,e=d?"recipient":"sender";if(previousMsgDate!=c){var f;f=moment(a.date).isSame(new Date,"day")?appLang.CETAITQUAND_13:moment(a.date).isSame(moment(new Date).subtract(1,"day"),"day")?appLang.CETAITQUAND_7:util.Tokens.dateFormat(a.date,"GB_DATETXT3"),__p+='\n        <div class="date detail-dateFont">'+(null==(__t=f.toUpperCase())?"":__t)+"</div>\n        "}previousMsgDate=c;var g=messages[b+1],h=!0;g&&(nextMsgDate=moment(g.date),nextMsgDate=nextMsgDate.get("year")+nextMsgDate.get("month")+nextMsgDate.get("date"),nextMsgDate==c&&g.from==a.from&&(h=!1));var i=a.message,j=new RegExp("\r?\n","g");i=_.escape(i).replace(j,"<br>"),i=util.replaceURLs(i),__p+='\n<div class="row '+(null==(__t=e)?"":__t)+'">\n    <div class="rowInner">\n        ',d&&(__p+='\n            <div class="avatar">\n                ',h&&(__p+='\n                    <div class="avatarImg" style="background-image:url(\''+(null==(__t=a.user.urlPhoto)?"":__t)+"')\"></div>\n                "),__p+="        \n            </div>\n        "),__p+='\n        <div class="message detail-'+(null==(__t=e)?"":__t)+'-backgroundColor" data-messageid="'+(null==(__t=a.id)?"":__t)+'">\n            <span class="text detail-'+(null==(__t=e)?"":__t)+'-textFont">'+(null==(__t=i)?"":__t)+'</span>\n            <span class="infos detail-'+(null==(__t=e)?"":__t)+'-textFont"><small class="detail-'+(null==(__t=e)?"":__t)+'-infosFontColor">'+(null==(__t=util.Tokens.dateFormat(a.date,"GB_DATEHOUR"))?"":__t)+"</small></span>\n        </div>\n        ",d||(__p+='\n            <div class="avatar">\n                ',h&&(__p+='\n                    <div class="avatarImg" style="background-image:url(\''+(null==(__t=a.user.urlPhoto)?"":__t)+"')\"></div>\n                "),__p+="        \n            </div>\n        "),__p+="\n    </div>\n</div>\n"},this),__p+=""}return __p}},{}],152:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="",_.pos(included))var included=!0;else var included=!1;__p+='\n<div class="'+(null==(__t=template)?"":__t)+" chatList sectionMargins "+(null==(__t=user.device.mobile||included?"":"listBorderColor")?"":__t)+'">\n    ',__p+=included?'\n        <div class="chatListInner">\n        </div>\n    ':'\n        <div class="chatListInner DOM-DefinedAsyncContent '+(null==(__t=user.device.mobile?"margin":"")?"":__t)+'" data-async-template="GBChatListTemplate_content" data-data-provider="chatThread" data-provider-parameters="'+(null==(__t=JSON.stringify(util.getDataProviderParameters(section,"thread",1)))?"":_.escape(__t))+'" data-provider-page="1" data-always-reload=true>\n        </div>\n    ',__p+="\n</div>"}return __p}},{}],153:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{data.blacklist}if(_.pos(included)){var included=!0;data.items=_.sortBy(data.items,function(a){return a.user.displayName})}else var included=!1;_.each(data.items,function(a){if(a.user=a.user||{},!a.user||a.user.userId!=modules.login.data.userId){if(!included){var b;b=moment(a.last_message.date).isSame(new Date,"day")?util.Tokens.dateFormat(a.last_message.date,"GB_DATEHOUR"):util.Tokens.dateFormat(a.last_message.date,"GB_DATETXT4")}(!included||_.pos(a.user.allowContact)&&_.neg(a.user.isBlacklisted))&&(__p+='\n    <div class="thread '+(null==(__t=a.isBlacklisted?"blacklisted":"")?"":__t)+" "+(null==(__t=included||a.last_message.from==modules.login.data.userId||a.last_message.id==modules.api.dataCache.lastReaded[a.itemId]?"":"newMessage")?"":__t)+'">\n        <a class="rowInner '+(null==(__t=user.device.mobile||included||rules.getPost("item")!=a.user.userId?"listBackgroundColor":"cellSelectedBackgroundColor")?"":__t)+' " href="'+(null==(__t=rules.urlTo("messages",section.id,a.other_user))?"":__t)+'" data-name="'+(null==(__t=a.user.displayName)?"":_.escape(__t))+'" data-userid="'+(null==(__t=a.user.userId)?"":__t)+'" data-last-messageid="'+(null==(__t=included?"":a.last_message.id)?"":__t)+'" data-messageid="'+(null==(__t=a.itemId)?"":__t)+'">\n            ',included||(__p+='\n                <div class="cell read">\n                    <div class="circle" data-target-property="background-color"></div>\n                </div> \n            '),__p+='\n            <div class="cell avatar">\n                <div class="avatarImg" style="background-image:url('+(null==(__t=a.user.urlPhoto||modules.chat.rules.getFallbackAvatarImg())?"":__t)+')">\n                </div>\n            </div>\n            <div class="cell text">\n                <div class="name nameFont">\n                    '+(null==(__t=a.user.displayName)?"":_.escape(__t))+"\n                </div>\n                ",included||(__p+='\n                <div class="message textFont">\n                    '+(null==(__t=a.last_message.message)?"":_.escape(__t))+"\n                </div>\n                "),__p+="\n            </div>\n            ",included||(__p+='\n            <div class="cell right infosFont date">\n                '+(null==(__t=b)?"":__t)+'\n            </div>\n            <div class="swipeIcon">\n                <div class="swiperight helper"></div>\n            </div>\n            <div class="swipeIcon">\n                <div class="swipeleft helper"></div>\n            </div>\n            '),__p+="\n        </a>\n        ",included||(__p+='\n        <div class="actionButtons actionButtonBackgroundColor">\n            <div class="cell actionMarkRead actionButton actionButtonThirdBackgroundColor actionButtonThirdIconColor">\n                <a class="actionButtonIcon">\n                    <div class="gbicongeneric icon-gbicongeneric-chat-markasread"></div><br>'+(null==(__t=appLang.GB_TXT_225)?"":__t)+'\n                </a>\n            </div>\n            <div class="cell actionBlackList actionButton actionButtonSecondBackgroundColor actionButtonSecondIconColor">\n                <a class="actionButtonIcon">\n                    <div class="gbicongeneric icon-gbicongeneric-chat-block"></div><br><span>'+(null==(__t=a.isBlacklisted?appLang.GB_TXT_227:appLang.GB_TXT_224)?"":__t)+'</span>\n                </a>\n            </div>\n            <div class="cell actionDelete actionButton actionButtonBackgroundColor actionButtonIconColor">\n                <a class="actionButtonIcon">\n                    <div class="gbicongeneric icon-gbicongeneric-chat-delete"></div><br>'+(null==(__t=appLang.GB_TXT_226)?"":__t)+"\n                </a>\n            </div>\n        </div>\n        "),__p+="\n    </div>\n")}},this),__p+="\n\n",data.items.length<=0&&!included&&(__p+='\n<div class="noMessages">\n    <div class="noMessagesInner">\n        <div class="gbicongeneric icon-gbicongeneric-chat-nomessage noMessagesIcon"></div>\n        <div class="textFont">'+(null==(__t=appLang.GB_TXT_258)?"":__t)+'</div>\n        <div class="infosFont">'+(null==(__t=appLang.GB_TXT_259)?"":__t)+"</div>\n    </div>\n</div>\n"),__p+=""}return __p}},{}],154:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";
Array.prototype.join}with(obj||{})__p+='<div class="postBar">\n	<!--<div class="leftElements backgroundColor">\n        <input type="text" id="chatPostInput" class="fieldBackgroundColor textFont" placeholder="Your message" />\n    </div>\n    <div class="rightElements backgroundColor">\n        <div class="sendingButtonFont">'+(null==(__t=appLang.ENVOYER)?"":__t)+'</div>\n    </div>-->\n\n    <div class="detail-postBar-backgroundColor">\n        <div class="chatPostButton dynamicWidth detail-postBar-sendingButtonFont" style="">'+(null==(__t=appLang.ENVOYER)?"":__t)+'</div>\n    	<div class="dynamicWidth detail-postBar-sendingButtonFont" style="visibility:hidden">'+(null==(__t=appLang.ENVOYER)?"":__t)+'</div>\n\n    	<div class="fillWidth">\n            <div class="textareaMirror detail-postBar-textFont">'+(null==(__t=appLang.GB_TXT_221)?"":__t)+'</div>\n    		<textarea class="chatPostInput detail-postBar-fieldBackgroundColor detail-postBar-textFont" placeholder="'+(null==(__t=appLang.GB_TXT_221)?"":__t)+'"></textarea>\n    	</div>\n    </div>\n</div>';return __p}},{}],155:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var chatList=templateFactory.getTemplate(section.get("template")),postMessage=templateFactory.getTemplate("chatPostMessage"),detailTplName=section.get("detail.template");__p+='\n<div id="chatSearchAndPostMessageContainer">\n	<div class="chatContactsSearchBar detail-postBar-backgroundColor">		\n		<div class="dynamicWidth detail-postBar-sendingButtonFont-color">'+(null==(__t=util.capitaliseFirstLetter(appLang.GB_TXT_93))?"":__t)+':</div>\n    	<div class="fillWidth ">\n    		<input type="text" id="chatSearchInput" class="detail-postBar-textFont"/>\n    		<span id="chatSearchSelectedLabel" class="detail-sender-backgroundColor detail-sender-textFont">label</span>\n    	</div>\n    	<div id="cancelSelectedUser" class="detail-sender-backgroundColor detail-sender-textFont">x</div>\n	</div>\n	<div class="chatContactsList detail-listBackgroundColor">\n		'+(null==(__t=chatList({section:section,template:section.get("template"),data:data,included:1}))?"":__t)+'\n	</div>\n	<div class="chatDetailContainer '+(null==(__t=detailTplName)?"":__t)+'">\n	</div>\n	'+(null==(__t=postMessage())?"":__t)+"\n</div>"}return __p}},{}],156:[function(a,b){b.exports=function(a,b){var c=b.section.get("detail.template"),d=user.device.mobile;return viewNavBarDetail={rightContent:[],middleContent:["chatDetailTitle"],settingsOverridings:{effect:"none"}},viewNavBarPostMessageView={rightContent:[],middleContent:["postMessageViewTitle"],settingsOverridings:{effect:"none"}},{mainTemplate:{template:this.getTemplate("GBChatlistMain",b),handlers:[modules.chat.handlers.initChatlistTemplateTypeClassic]},contentTemplate:{name:a,template:this.getTemplate(a,b),handlers:[modules.chat.handlers.initChatlistContentTemplate]},itemTemplate:{name:c,template:this.getTemplate(c,b),handlers:[],animation:user.device.mobile?"panelRight":"none"},panels:{postMessageTemplate:{name:"chatSearchAndPostMessage",template:this.getTemplate("chatSearchAndPostMessage",b),handlers:[modules.chat.handlers.initChatlistSearchAndPostMessage],animation:user.device.mobile?"panelRight":"none"}},hashKeysForViewTypes:{panel_1:"postMessageView"},viewTypeSpecs:{itemView:{needsContents:!1,addNavBar:d?viewNavBarDetail:!1,enablePanelBackground:user.device.mobile},postMessageView:{needsContents:!0,hasStyle:!0,styleBaseKey:"detail.",addNavBar:d?viewNavBarPostMessageView:!1,enablePanelBackground:user.device.mobile}},loopHandlers:preview?[]:[{interval:modules.chat.rules.getOpenChatListRefreshDelay(b.section),handler:function(){viewFactory.currentView.updateDOMDefinedAsyncContent($("#contentViewViewHolder"),!0)}},{interval:modules.chat.rules.getOneToOneRefreshDelay(b.section),handler:function(){rules.getPost("item")&&!rules.getPost("panel_1")?viewFactory.currentView.updateDOMDefinedAsyncContent($("#itemViewViewHolder"),!1,void 0,function(a){if(!a){var b=rules.getPost("item");if(b){var c=$("#itemViewViewHolder .row:last-child .message .text").text();if(c){var d=$("#contentViewViewHolder .rowInner[data-userid='"+b+"'] .message");d.text(c)}var e=$("#contentViewViewHolder .rowInner[data-userid="+b+"]"),f=e.data("messageid"),g=$("#itemViewViewHolder .row:last-child .message").data("messageid");modules.api.dataCache.lastReaded[f]=g,e.parent().removeClass("newMessage")}}}):rules.getPost("panel_1")&&viewFactory.currentView.updateDOMDefinedAsyncContent($("#postMessageViewViewHolder"),!1,void 0,function(a,b){if(!a){var c=b.targetUserId;if(c){var d=$("#postMessageViewViewHolder .row:last-child .message .text").text();if(d){var e=$("#contentViewViewHolder .rowInner[data-userid='"+c+"'] .message");e.text(d)}var f=$("#contentViewViewHolder .rowInner[data-userid="+c+"]"),g=f.data("messageid"),h=$("#itemViewViewHolder .row:last-child .message").data("messageid");modules.api.dataCache.lastReaded[g]=h,f.parent().removeClass("newMessage")}}})}}]}}},{}],157:[function(a,b){b.exports=function(a,b){return{mainTemplate:{template:this.getTemplate("GBUserslistMain",b),handlers:[window.handlers.initUserslistTemplateTypeClassic]},contentTemplate:{name:a,template:this.getTemplate(a,b),handlers:[window.handlers.resizeCellsForUserlist]},itemTemplate:{name:"userDetail",template:this.getTemplate("userDetail",b),handlers:[modules.profile.resetOuterContainerLayout],animation:"panelRight"},panels:{searchTemplate:{name:"userSearch",template:this.getTemplate("userSearch",b),animation:"panelRight",handlers:[window.handlers.initUserSearch]},searchResultsTemplate:{name:a,template:this.getTemplate(a,b),handlers:[window.handlers.initUserSearchResults,window.handlers.resizeCellsForUserlist]},searchFiltersTemplate:{name:"userSearch",template:this.getTemplate("userSearch",b),handlers:[window.handlers.initUserSearchFilter]}},viewTypeSpecs:{itemView:{needsContents:!0},searchView:{hasStyle:!0,styleBaseKey:"advancedSearch.",withOverlay:!0},searchResultsView:{needsContents:!0,addNavBar:{rightContent:["searchFiltersPanelButton"],middleContent:["addKeywords"],settingsOverridings:{effect:"none"}},enablePanelBackground:!0},searchFiltersView:{withOverlay:!0,enablePanelBackground:!0}}}}},{}],158:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="<!--Component template (to be used inside a main template)\n//Expected params : section, section (opt), backTo (opt)-->\n\n";var section=item,options=options||{fixed:!0},navBar=options.navBar||rules.fallback(section,"section.navBar","navBar").val,hasCategoriesFilter=(require("./templateFactory"),!modules.login.checkAccessOnCurrentView().status||!rules.sectionHasSubSections(section)||"searchKey"in section||!rules.isSectionCall()&&!rules.isSectionAndItem(section,!0)?!1:!0),circleBand=!1,pager=!1;hasCategoriesFilter&&"GBCategoriesTemplateTypeCircleBand"==rules.getSectionCategoriesTemplate(section)&&!rules.isSearchCall()?circleBand=!0:hasCategoriesFilter&&"GBCategoriesTemplateTypePager"==rules.getSectionCategoriesTemplate(section)&&(pager=!0);var toHideClass="hide"!=navBar.effect||"GBCategoriesTemplateTypeCircleBand"==rules.getSectionCategoriesTemplate(section)&&!rules.isOnScrollSupported()?"":"toHide",toBlurClass="blur"==navBar.effect?"toBlur":"";__p+='\n\n<header id="'+(null==(__t=options.id?options.id:"pageHeader")?"":__t)+'" '+(null==(__t=options.fixed?'data-role="header" data-position="fixed"':"")?"":__t)+' data-tap-toggle="false" \n'+(null==(__t=null!=section&&"id"in section?'data-id="navbar-'+section.id+'"':"")?"":__t)+'\n\nclass="'+(null==(__t=rules.getNavBarClassName())?"":__t)+" "+(null==(__t=circleBand?"withCircleBand":"")?"":__t)+" "+(null==(__t=pager?"withPager":"")?"":__t)+" "+(null==(__t=rules.isSectionCall(!0)?"isItem":"")?"":__t)+" "+(null==(__t=toHideClass)?"":__t)+" "+(null==(__t=toBlurClass)?"":__t)+'"\nstyle="'+(null==(__t=options.fixed?"":"position:absolute;")?"":__t)+(null==(__t=rules.css.createFontStyle(rules.getSectionNavBar(section).titleFont)+rules.fk("navBar.titleFont",section))?"":__t)+';">\n\n'+(null==(__t=_.isEmpty(section)?"":rules.makeNavBarContent(section,options))?"":__t)+"\n\n</header>\n\n<!-- CATEGORIES - pager must be in navbar. circleband too if rules says it -->\n",hasCategoriesFilter&&rules.isCategoriesTemplateInNavBar(section)&&rules.hasSubsectionSelector(section)&&!rules.getSectionSearchKey(section)&&!rules.isSearchCall()&&(__p+="\n			"+(null==(__t=rules.getCategoriesTemplate(section,!0))?"":__t)+"\n	"),__p+="\n\n<!-- Container for all toolbars except for toolbarUp -> that one is inside navbar -->\n",(rules.isSectionCall(!0)||!rules.isToolBarType(section,"Up"))&&(__p+='\n	<div id="toolbarHolder"></div>\n'),__p+=""}return __p}},{"./templateFactory":176}],159:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="\n","internal"==adService||"tablet-internal"==adService?linkProperties="external"==linkType?'class="adExternalLink" target="_blank"':'class="adInternalLink" data-click-notification-url="'+clickNotificationUrl+'"':(linkProperties="",linkUrl="");var section=rules.getSelectedSection(!0);__p+='\n\n<div id="adBanner" data-href="'+(null==(__t=linkUrl)?"":__t)+'" '+(null==(__t=linkProperties)?"":__t)+'>\n	<div id="adBannerBackgroundContainer" class="'+(null==(__t=displayMode)?"":__t)+" "+(null==(__t=rules.isSectionShown()&&rules.hasTabBar()?"hasTabBar":"")?"":__t)+"  "+(null==(__t=rules.hasPager(section)&&rules.isItemCall()?"hasPager":"")?"":__t)+" "+(null==(__t="Classic"==rules.getToolBarType(section)&&rules.isItemCall()?"hasToolBar":"")?"":__t)+'">\n		',"internal"==adService&&(__p+='\n			<!-- <div id="adBannerImage" style="/*background-image:url(\''+(null==(__t=imageUrl)?"":__t)+'\')*/"> -->\n      <div id="adBannerImageContainer"  class="'+(null==(__t=displayMode)?"":__t)+'">\n	     <img id="adBannerImg" src="'+(null==(__t=imageUrl)?"":__t)+'" class="'+(null==(__t=modules.ads.getInternalAdStretchMode())?"":__t)+'">\n      </div>\n			<!-- </div> -->\n		'),__p+="\n	</div>\n</div>"}return __p}},{}],160:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="\n","internal"==adService?linkProperties="external"==linkType?'class="adExternalLink" target="_blank"':'class="adInternalLink" data-click-notification-url="'+clickNotificationUrl+'"':(linkProperties="",linkUrl=""),__p+='\n\n<div id="adSplash" data-href="'+(null==(__t=linkUrl)?"":__t)+'" '+(null==(__t=linkProperties)?"":__t)+'>\n	<div id="adSplashBackgroundContainer">\n		',"internal"==adService&&(__p+='\n			<div id="adSplashImage" style="background-image:url(\''+(null==(__t=imageUrl)?"":__t)+"')\">\n				\n			</div>\n		"),__p+='\n		<div id="adSplashCloseButton"></div>\n	</div>\n</div>';return __p}},{}],161:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var displayScheduledPush=modules.push.displaySettingsLink(),rightContentListNavbar=displayScheduledPush?"displayNotificationsSettings":"";__p+='\n\n<div id="notificationsList" class="GBProfileTemplateTypeClassicContainer">\n\n   '+(null==(__t=rules.getNavBar(appSettings,{id:mode+"NavBar",fixed:!0,settingsOverridings:{backgroundOpacity:1,effect:"none"},leftContent:["backNotificationsListButton"],middleContent:["notificationsListTitle"],rightContent:[rightContentListNavbar]}))?"":__t)+'\n\n    <div id="notificationsList-inner" class="GBProfileListContainer" style="'+(null==(__t=background)?"":__t)+'">\n\n        ',modules.push.getAndInjectNotificationsList(),__p+="\n\n    </div>\n</div>"}return __p}},{}],162:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div id="notificationsSettings" class="GBProfileTemplateTypeClassicContainer">\n\n   '+(null==(__t=rules.getNavBar(appSettings,{id:mode+"NavBar",fixed:!0,settingsOverridings:{backgroundOpacity:1,effect:"none"},leftContent:["cancelNotificationsSettingsButton"],middleContent:["notificationsSettingsTitle"],rightContent:["saveNotificationsSettingsButton"]}))?"":__t)+'\n\n    <div id="notificationsSettings-inner" class="GBProfileListContainer" style="'+(null==(__t=background)?"":__t)+'">\n        <div id="notificationsSettings-baseline">\n            '+(null==(__t=modules.push.getSettingsBaseLine())?"":__t)+'\n        </div>\n        <div id="notificationsSettings-list">\n            ',modules.push.getAndInjectSettings(),__p+="\n        </div>\n    </div>\n</div>";return __p}},{}],163:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div id="oldBrowserWrapper">\n    <div id="oldBrowserContainer">\n        <h1>Welcome</h1>\n        <p><img alt="" src="'+(null==(__t=appSettings.appIcon)?"":__t)+'"></p>\n        <br><br>\n        \n        <p>You are trying to open this website with <br><b><span id="yourBrowser">an outdated browser</span></b>.<br><br>\n         This browser is no longer supported, as it is not updated by its editor. In order to access this website, you will need a more recent browser. <br><br>\n         We recommend one of the following web browsers&nbsp;:</p>\n         <ul class="browsers">\n            <li class="ie"><a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx" target="_blank">Internet<br>Explorer 10.0+</a></li>\n            <li class="firefox"><a href="http://www.mozilla.com/en-US/firefox/firefox.html" target="_blank">Mozilla<br>Firefox 4.0+</a></li>\n            <li class="chrome"><a href="http://www.google.com/chrome?brand=CHFV" target="_blank">Google<br>Chrome 4.0+</a></li>\n            <li class="safari"><a href="http://www.apple.com/safari/" target="_blank">Safari<br>3.0+</a></li>\n        </ul>\n    </div>\n</div>';return __p}},{}],164:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="popupBoxBackground '+(null==(__t=type)?"":__t)+'">\n	<div class="popupBox">\n		<div class="popupTextContainer">\n			<div class="popupText">\n				'+(null==(__t=title)?"":__t)+"\n				","undefined"!=typeof text&&(__p+='\n					<div class="popupText2">'+(null==(__t=text)?"":__t)+"</div>\n				"),__p+="\n				","undefined"!=typeof input&&(__p+='\n					<input type="text" class="popupInput" placeholder="'+(null==(__t=input)?"":__t)+'"/>\n				'),__p+='\n			</div>\n		</div>\n		<div class="popupButtonContainer">\n			<div class="popupButton popupButton1">'+(null==(__t=buttonText1)?"":__t)+"</div>\n			","undefined"!=typeof buttonText2&&(__p+='\n				<div class="popupButton popupButton2">'+(null==(__t=buttonText2)?"":__t)+"</div>\n			"),__p+="\n		</div>\n	</div>\n</div>";return __p}},{}],165:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),section=rules.getSelectedSection(),templateFactory=require("./templateFactory"),asyncSearchResults=templateFactory.getTemplate("_asyncSearchResults");__p+='\n\n<div id="GBSearchListTemplateTypeClassicContainer" style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+'">\n\n	<div style="text-align:center">\n		'+(null==(__t=util.htmlComponents.loadingSpinner)?"":__t)+"\n	</div>\n\n	",rules.getContent(section,asyncSearchResults,"GBSearch","GBSearchListTemplateTypeClassicContainer"),__p+="\n</div>"}return __p}},{"../rules":33,"../util":177,"./templateFactory":176}],166:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../util"),rules=require("../rules"),tabBarConfig=rules.getTabBarConfig(rules.isClassicTabBar()),isClassicTabBar=rules.isClassicTabBar();__p+='\n\n<nav data-role="footer" data-tap-toggle="false" data-position="fixed" class="menu" data-id="tabbar-'+(null==(__t=rules.rootMode())?"":__t)+'" >\n	<table cellpadding="0" cellspacing="0" style="'+(null==(__t=rules.getCustomTabBarStyle(tabBarConfig))?"":__t)+'">\n		<tr>\n			';var j=0;_.each(appSettings.get("root.targets"),function(a){var b=appSections[a],c=j==rules.getTabBarNbSections()-1&&util.getNbSections()>rules.getTabBarNbSections()?!0:!1,d=a==rules.getIdSelectedSection()?!0:!1;if(__p+="\n\n					",j<rules.getTabBarNbSections()){var e=rules.fk("root.tabBar.separatorColor");__p+='\n\n					<td data-target-property="'+(null==(__t=rules.pk("separatorColor","border-left : 1px solid "))?"":__t)+'" style="'+(null==(__t=rules.getPercentSize(rules.getTabBarNbSections(),util.getNbSections()))?"":__t)+";"+(null==(__t=j>0?e+rules.css.getBorder("1px","solid",tabBarConfig.separatorColor,"left"):"")?"":__t)+'">\n						\n						',d=c?rules.isOtherSelected():d;var f=d?"background-color:"+rules.getSectionIcon(b).icon.selectedBackgroundColor+rules.fk("root.icon.selectedBackgroundColor"):"",g=rules.getImageUrl(d?rules.getSectionIcon(b).icon.selectedBackgroundImage:rules.getSectionIcon(b).icon.normalBackgroundImage,!0);isClassicTabBar&&(g=f="");var h=d?rules.getSectionIcon(b).icon.titleSelectedColor+rules.fk("root.icon.titleSelectedColor"):rules.getSectionIcon(b).icon.titleNormalColor+rules.fk("root.icon.titleNormalColor");if(__p+='\n						<a href="'+(null==(__t=rules.urlTo("section",c?"other":b.get("id")))?"":__t)+'" class="item '+(null==(__t=d?"selected":"")?"":__t)+'" style="'+(null==(__t=f)?"":__t)+"; background-image: "+(null==(__t=g)?"":__t)+";"+(null==(__t=rules.fontStyle(appSettings.get("root.icon.titleFont")))?"":__t)+";color:"+(null==(__t=h)?"":__t)+';">\n\n						',"pro"!==rules.getCustomTabBarMode()){__p+="\n\n							";var i=rules.getSectionIcon(b),k=c?tabBarConfig.iconOther:i.imageUrl||i.image;__p+="\n\n							";var l=d?"selectedColor":"normalColor",m=d?"selectedTexture":"normalTexture";colorKey=rules.fk("root.icon."+l),l=rules.getSectionIcon(b).icon[l],m=rules.getSectionIcon(b).icon[m],isClassicTabBar&&(l=d?"#157DFB":"#929292",m="",k.isColored&&(k.isColored=!1)),__p+="\n\n							"+(null==(__t=!c&&i.imageUrl?rules.css.createImg("canvas",k):rules.createIcon(rules.getRealIconUrl(k),l,m,"","","",colorKey))?"":__t)+"\n							<span>\n								"+(null==(__t=c?rules.getOtherDefaultTitle():b.get("title"))?"":__t)+"\n							</span>\n\n							"}else __p+="\n								",__p+=c?'\n									<img src="'+(null==(__t=rules.getImageUrl(appSettings.get(rules.isOtherSelected()?"root.other.iconTabBar.selectedBackgroundImage":"root.other.iconTabBar.backgroundImage")))?"":__t)+'" alt="">\n								':'\n									<img src="'+(null==(__t=rules.getCustomTabBarProIconSrc(b,d))?"":__t)+'" alt=""/>\n								',__p+="\n							";__p+="\n						</a>\n					</td>\n				"}j++}),__p+="\n		</tr>\n	</table>\n</nav>"}return __p}},{"../rules":33,"../util":177}],167:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="subCatFilterContainer tabFilter">\n  <div class="tabFilterContainer sorting-normalBackgroundColor '+(null==(__t=section.get("sorting.template"))?"":__t)+'">\n    <div class="tabFilterInner">\n        ';var tabs=tabs||rules.getSectionTabs(section),tabWidth=100/tabs.length,selectedTabIndex=0,titleSelectedColor=rules.fallback(section,"section.sorting.titleSelectedColor","section.titleSelectedColor");if(titleSelectedColor.val)var selectorBkg="background-color:"+rules.css.hexToRgba(titleSelectedColor.val),borderColor="border-color:"+rules.css.hexToRgba(titleSelectedColor.val)+titleSelectedColor.key;if("block"==section.get("sorting.template")&&(borderColor="border:none"),"capsule"==section.get("sorting.template")){var titleFontColor=rules.fallback(section,"section.sorting.titleFont.color","section.titleFont.color");borderColor="border-color:"+rules.css.hexToRgba(titleFontColor.val)+titleFontColor.key}_.is(section.get("sorting.tabs.showUppercase"))&&_.neg(section.get("sorting.tabs.showUppercase"))&&(borderColor+=";text-transform:lowercase"),__p+="\n        ",_.each(tabs,function(a,b){var c="",d="";0==b?c="first":b==tabs.length-1&&(c="last"),selectedTab==a.id?(selectedTabIndex=b,d="sorting-selectedBackgroundColor sorting-titleFont sorting-titleSelectedColor"):d="sorting-normalBackgroundColor sorting-titleFont","material"==section.get("sorting.template")&&(d=d.replace("selectedBackgroundColor","normalBackgroundColor")),__p+='\n           <a style="'+(null==(__t=borderColor)?"":__t)+";width:"+(null==(__t=tabWidth)?"":__t)+'%" href="'+(null==(__t=rules.objectiveUrlTo({section:section.get("id"),cat:selectedCat,tab:a.id}))?"":__t)+'" data-target-tab="'+(null==(__t=a.id)?"":__t)+'" class="tab '+(null==(__t=c+" "+d)?"":__t)+'">'+(null==(__t=a.title||window.appLang["GB_TXT_USERS_"+a.id])?"":__t)+"</a>\n         "},this),__p+='\n         <div class="tabSelector sorting-titleSelectedColor" style="'+(null==(__t=selectorBkg)?"":__t)+";width:"+(null==(__t=tabWidth)?"":__t)+"%;transform: translate3d("+(null==(__t=100*selectedTabIndex)?"":__t)+'%, 0, 0)"></div>\n    </div>\n  </div>\n</div>'}return __p}},{}],168:[function(require,module,exports){module.exports=function(obj){{var __p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../../util"),require("../../rules")),section=rules.getSelectedSection(),templateFactory=require("../templateFactory"),asyncTemplate=templateFactory.getTemplate("_asyncBookmarkList");__p+='\n\n<div id="GBBookmarkListTemplateTypeGridContainer">\n\n	',rules.getContent(section,asyncTemplate,"GBArticleListTemplateTypeGrid","GBBookmarkListTemplateTypeGridContainer"),__p+="\n\n</div>"}return __p}},{"../../rules":33,"../../util":177,"../templateFactory":176}],169:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{var rules=(require("../../util"),require("../../rules")),self=rules.getSelectedSection(),isRadio=rules.isLiveRadio(self),stream=rules.getStreamUrl(self.get("streamUrl")),playerColor=self.get("playerTintColor");rules.getLoopColor(self)}__p+="\n\n";var styleTag=rules.getLiveSectionCSS(self);if(__p+="\n"+(null==(__t=styleTag.tag+styleTag.keys)?"":__t)+"\n\n",__p+=isRadio?'\n    <audio id="liveMedia" preload="auto" src="'+(null==(__t=stream)?"":__t)+'"></audio>\n':'\n    <video id="liveMedia" preload="auto" src="'+(null==(__t=stream)?"":__t)+'"></video>\n',__p+="\n\n",rules.getLiveStatus(self))__p+='\n<div id="livePlayerContainer">\n    <div>\n\n        <div class="spinner">\n            <canvas id="livePlayerCanvas" height="275" width="275"></canvas>\n            <div class="content outerContent">\n\n            </div>\n            <div class="content">\n	            <ul>\n	                <li>\n	                    <a href="#" title="" class="playPause">\n	                        '+(null==(__t=rules.createIcon(rules.getRealIconUrl("play"),playerColor))?"":__t)+'\n	                    </a>\n	                </li>\n	                <li style="display:none">\n	                    <a href="#" title="" class="playPause">\n	                        <div id="stop-button" style="background-color:'+(null==(__t=playerColor)?"":__t)+';"></div>\n	                    </a>\n	                </li>\n	            </ul>\n            </div>\n        </div>\n\n    </div>\n\n    <h1 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'text-align:center;margin-top:2rem;">\n    	'+(null==(__t=self.get("liveTitle"))?"":__t)+"\n    </h1>\n</div>\n\n",rules.hasAudioVisualizer(self)&&(__p+='\n\n    <div id="audioviz" style="height:100px;width:100%;position:absolute;bottom:0"></div>\n\n'),__p+="\n\n";else{var liveOffBg;switch(orient){case"portrait":liveOffBg=self.get("liveOff.backgroundImagePortrait");break;case"landscape":liveOffBg=self.get("liveOff.backgroundImageLandscape")}liveOffBg=rules.getImageUrl(liveOffBg,!0),__p+='\n    <!-- Live OFF -->\n    <div style="display:table;height:100%;width:100%;text-align:center;background:'+(null==(__t=liveOffBg)?"":__t)+' center / cover;">\n        <div style="display:table-cell;vertical-align:middle;">\n            <p style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">'+(null==(__t=self.get("liveOffDescription"))?"":__t)+"</p>\n        </div>\n    </div>\n"}__p+=""}return __p}},{"../../rules":33,"../../util":177}],170:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{var rules=(require("../../util"),require("../../rules")),templateFactory=require("../templateFactory"),_main=templateFactory.getTemplate("GBListDetailTemplate");"portrait"==orient?rules.getImageUrl(appSettings.get("root.typo.pageBackgroundImagePortrait"),!0):rules.getImageUrl(appSettings.get("root.typo.pageBackgroundImageLandscape"),!0)}__p+='\n\n<div id="root" class="'+(null==(__t=rules.rootMode())?"":__t)+'">\n	<!-- Fake BG -->\n	<div id="fake-bg" style="'+(null==(__t=rules.backgroundGeneral(orient))?"":__t)+'"></div>\n	<div id="fake-bg-hidden" style="'+(null==(__t=rules.backgroundGeneral("portrait"==orient?"landscape":"portrait"))?"":__t)+'"></div>\n',__p+=rules.getSelectedSection(!0)?"\n"+(null==(__t=_main())?"":__t)+"\n":'\n	<div style="background-color:#FFFFFF;position: fixed;width: 100%;height: 100%;z-index: -10;"></div>\n	<!-- swipe -->\n	<section class="home" data-scroll="y" style="'+(null==(__t=rules.getTypoBackground())?"":__t)+'">\n		<ul id="left-typo" class="home-menu"></ul>\n		<ul id="right-typo" class="home-menu"></ul>\n	</section>\n\n',__p+='\n	<div class="clearfix"></div>\n</div>'}return __p}},{"../../rules":33,"../../util":177,"../templateFactory":176}],171:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../../util"),require("../../rules")),section=rules.getSelectedSection(),asyncSearchResults=(require("./../templateFactory"),rules.getLoadMoreTemplate(section));__p+='\n\n<div id="GBSearchTabletListContainer" style="'+(null==(__t=rules.getSectionBorder(section))?"":__t)+'" class="'+(null==(__t=section.get("template"))?"":__t)+'">\n	\n	',rules.getContent(section,asyncSearchResults.tpl,rules.getSectionTemplate(section),"GBSearchTabletListContainer"),__p+="\n\n</div>"}return __p}},{"../../rules":33,"../../util":177,"./../templateFactory":176}],172:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=require("../../rules"),self=rules.getSelectedSection(),bar=rules.getSectionSearchBar(self),formBgKey=rules.fk("searchBar.backgroundColor",self),colorKey=rules.fk("searchBar.buttonBackgroundColor",self),searchListBgColor=rules.getSectionSearchListBackgroundColor(self),bgStyle="background-color:"+searchListBgColor+";background-image:"+rules.getImageUrl(bar.backgroundImage,!0)+";background-position:center;background-repeat:no-repeat;",titleStyle=rules.getSectionSearchTitleFont(self);__p+='\n<div id="search-tablet-overlay" style="display:none;"></div>\n<div id="search-tablet-container" style="">\n\n	<div id="search-tablet-panel">\n		<form id="searchForm" action="'+(null==(__t=rules.urlTo("section",self.get("id")))?"":__t)+'" method="get" accept-charset="utf-8" style="background-color:'+(null==(__t=bar.backgroundColor+formBgKey)?"":__t)+';">\n			<input style="color:'+(null==(__t=bar.buttonBackgroundColor+colorKey)?"":__t)+'" data-role="none" type="search" class="search-input" name="key" value="" placeholder="'+(null==(__t=rules.getSectionSearchPlaceHolder())?"":__t)+'" />\n		</form>\n		<div id="search-tablet-history" style="'+(null==(__t=bgStyle)?"":__t)+'">\n			',util.empty(globalsAppVars.searchHistory)||(__p+="\n				<ul>\n				",_.each(_.uniq(globalsAppVars.searchHistory),function(a){__p+='\n					<li style="'+(null==(__t=titleStyle)?"":__t)+'">\n						<a href="'+(null==(__t=rules.urlTo("search",self.get("id"),a))?"":__t)+'" style="color:inherit;">\n							'+(null==(__t=a)?"":__t)+"\n						</a>\n					</li>\n				"}),__p+="\n				</ul>\n			"),__p+="\n		</div>\n	</div>\n\n</div>"}return __p}},{"../../rules":33}],173:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var rules=(require("../../util"),require("../../rules")),settings=rules.getSelectedSection(),txts=rules.getSettingsTexts(),android=user.os.android;__p+='\n\n<table id="tablet-settings" cellspacing="0" cellpadding="0" style="width:100%;margin:0 auto;">\n	<tbody>\n		<tr>\n			<td style="vertical-align:middle">\n\n\n<div id="tablet-settings-container" class="'+(null==(__t=rules.getSectionTemplateMode(settings))?"":__t)+'">\n\n';var title=rules.fontStyle("titleFont",settings)+"text-shadow:none;",ssTitle=rules.fontStyle("subtitleFont",settings),arrow=rules.createIcon(rules.getRealIconUrl("arrow-settings"),settings.get("subtitleFont.color"),"","arrow-settings","","","line-height:40px;font-size:15px;float:right;"+rules.fk("subtitleFont.color",settings));if(title=android?title+"border-color:"+rules.getSectionSeparatorColor(settings)+";":title,ssTitle=android?title:ssTitle,arrow=android?"":arrow,bg=rules.getSectionSettingsListBackgroundColor(settings),__p+="\n\n	",rules.showSettingsGeneral(settings)&&(__p+='\n		<h2 style="'+(null==(__t=title)?"":__t)+'">\n			'+(null==(__t=txts.generalTitle)?"":__t)+'\n		</h2>\n		<div class="bloc">\n\n			',rules.showSettingsCredits(settings)&&(__p+='\n				<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n					<a href="'+(null==(__t=rules.urlTo("settings",settings.get("id"),"credits"))?"":__t)+'" title="" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						<span>'+(null==(__t=txts.creditsLabel)?"":__t)+"</span>\n						"+(null==(__t=arrow)?"":__t)+"\n					</a>\n				</div>\n			"),__p+="\n\n			",rules.showSettingsContact(settings)&&(__p+='\n				<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n					<a href="'+(null==(__t=rules.getContactEmail(settings))?"":__t)+'" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						'+(null==(__t=txts.supportLabel+arrow)?"":__t)+"\n					</a>\n				</div>\n			"),__p+="\n\n			",rules.showSettingsRecommand(settings)&&(__p+='\n				<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n					<a href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						'+(null==(__t=txts.recommandLabel+arrow)?"":__t)+"\n					</a>\n				</div>\n			"),__p+="\n\n		</div>\n	"),__p+="\n\n	",rules.isThereMapSection()){var useMiles=rules.useMiles();__p+='\n\n		<h2 style="'+(null==(__t=title)?"":__t)+'">\n			'+(null==(__t=txts.distancesTitle)?"":__t)+'\n		</h2>\n		<div class="bloc">\n			<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n				<div class="ss-bloc-inner">\n					<a class="changeDistanceUnits" href="#" title="miles" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						<span>'+(null==(__t=txts.distancesMilesLabel)?"":__t)+"</span>\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("/assets/gbicon/img/v1/98.png"),settings.get("subtitleFont.color"),"","distanceChecked "+(useMiles?"":"hidden"),"","","line-height:40px;font-size:15px;float:right;"+rules.fk("subtitleFont.color",settings)))?"":__t)+'\n					</a>\n				</div>\n			</div>\n			<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n				<div class="ss-bloc-inner">\n					<a class="changeDistanceUnits" href="#" title="kilometers" style="'+(null==(__t=ssTitle)?"":__t)+'">\n						<span>'+(null==(__t=txts.distancesKmLabel)?"":__t)+"</span>\n						"+(null==(__t=rules.createIcon(rules.getRealIconUrl("/assets/gbicon/img/v1/98.png"),settings.get("subtitleFont.color"),"","distanceChecked "+(useMiles?"hidden":""),"","","line-height:40px;font-size:15px;float:right;"+rules.fk("subtitleFont.color",settings)))?"":__t)+"\n					</a>\n				</div>\n			</div>\n		</div>\n\n	"}__p+="\n\n	",__p+="\n\n	",rules.showSettingsNotifications(settings)&&(__p+='\n		<h2 style="'+(null==(__t=title)?"":__t)+'">\n			'+(null==(__t=txts.notificationsTitle)?"":__t)+'\n		</h2>\n		<div class="bloc">\n			<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n				<a href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">'+(null==(__t=txts.notificationsLabel)?"":__t)+"</a>\n			</div>\n		</div>\n	"),__p+='\n\n	<h2 style="'+(null==(__t=title)?"":__t)+'">\n		'+(null==(__t=txts.cacheTitle)?"":__t)+'\n	</h2>\n	<div class="bloc last-bloc">\n		<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n			<a class="clear-cache" href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">\n				'+(null==(__t=txts.clearCacheLabel+arrow)?"":__t)+'\n			</a>\n		</div>\n		<div class="ss-bloc" style="background:'+(null==(__t=bg)?"":__t)+'">\n			<a href="#" style="'+(null==(__t=ssTitle)?"":__t)+'">\n				'+(null==(__t=txts.updateLabel+arrow)?"":__t)+'\n			</a>\n		</div>\n	</div>\n\n			</td>\n		</tr>\n	</tbody>\n</table>\n<!--<div id="wrap">\n            <img id="image" src="http://placekitten.com/640/480" />\n        </div>\n</div>-->'
}return __p}},{"../../rules":33,"../../util":177}],174:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var util=require("../../util"),rules=require("../../rules"),item=rules.getSubmitDetailSelectedService(self),type=item.type;"article"!=type&&(object=rules.getSubmitDetailObject(item,1)),__p+='\n\n<div data-role="content" class="'+(null==(__t=rules.getSectionDetailTemplate(self))?"":__t)+'" style="'+(null==(__t=rules.getSectionMargin(self))?"":__t)+'">\n\n	<table cellpadding="0" cellspacing="0" style="width:100%;">\n		<tbody>\n			<tr>\n				<td style="vertical-align:middle;text-align:center;">\n\n					<div class="infos-form inner" style="border:'+(null==(__t=rules.getSectionBorder(self))?"":__t)+';background-color:#FFF;width:450px;margin:auto;display:inline-block;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;">\n\n						<form action="'+(null==(__t=rules.urlTo("section",self.get("id")))?"":__t)+'" method="post" accept-charset="utf-8">\n\n							<div class="infos-top">\n								<div class="infos-author">\n									',__p+=util.empty(self.get("auth"))?'\n										<input data-role="none" class="form" type="email" id="submit-user" name="submit_user" value="" placeholder="'+(null==(__t=rules.getSubmitDetailEmailPlaceholder(item,self))?"":__t)+'" />\n									':"\n\n									",__p+="\n								</div>\n\n								","photo"==type&&(__p+='\n									<div class="center">\n										<div class="photo" id="file-photo" style="background: url(\'\') center center no-repeat;">\n\n										</div>\n										<input type="hidden" id="submit_object_name" name="submit_object_name" value="" />\n									</div>\n								'),__p+="\n\n								","video"==type&&(__p+='\n									<div class="center">\n										<video id="file-video" autobuffer autoloop loop controls>\n											<source src="" type="">\n										</video>\n\n										<input type="hidden" id="submit_object_name" name="submit_object_name" value="" />\n									</div>\n								'),__p+='\n							</div>\n\n							<textarea data-role="none" name="submit_text" class="form textarea-form" placeholder="'+(null==(__t=rules.getSubmitDetailTextareaPlaceholder(item,self))?"":__t)+'" value="" style="height:'+(null==(__t="photo"==type||"video"==type?"200":"500")?"":__t)+'px;">\n							</textarea>\n\n							<hr style="margin-bottom:0.5em;">\n\n							<div>\n								<div style="cursor:pointer;color:'+(null==(__t=self.get("iPadButtonsColor")+rules.fk("iPadButtonsColor",self))?"":__t)+'" id="cancel-button-submit" class="half left">\n									'+(null==(__t=appLang.ANNULER)?"":__t)+'\n								</div>\n								<div style="cursor:pointer;color:'+(null==(__t=self.get("iPadButtonsColor")+rules.fk("iPadButtonsColor",self))?"":__t)+'" id="send-button-submit" class="half right">\n									'+(null==(__t=self.get("postButtonTitle")||appLang.ENVOYER)?"":__t)+"\n								</div>\n							</div>\n\n						</form>\n					</div>\n\n				</td>\n			</tr>\n		</tbody>\n	</table>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],175:[function(require,module,exports){module.exports=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="<!--Tablet submit section>-->\n";var rules=(require("../../util"),require("../../rules")),self=rules.getSelectedSection();__p+='\n\n<div class="'+(null==(__t=rules.getSectionTemplateMode(self))?"":__t)+'" style="background:'+(null==(__t=rules.getListBackgroundColor(self))?"":__t)+"; "+(null==(__t=rules.getSectionBorder(self))?"":__t)+'">\n	<table cellpadding="0" cellspacing="0" style="width:100%;">\n		<form action="" method="post" accept-charset="utf-8" enctype="multipart/form-data">\n			<tr>\n				',_.each(rules.getSubmitServices(self),function(a,b,c){var d=self.get("submitIcons"),e="tablet-submit-icon-service service "+a.type,f=rules.css.hexToRgba(d.backgroundColor),g=rules.getImageUrl(d.backgroundTexture,!0),h="background-color:"+f+";background-image:"+g+";"+rules.fk("submitIcons.backgroundColor",self)+rules.fk("submitIcons.backgroundTexture",self),i="font-size:60px;line-height:80px;"+rules.fk("submitIcons.normalColor",self)+rules.fk("submitIcons.normalTexture",self),j=rules.pk("submitIcons.backgroundColor","background-color")+rules.pk("submitIcons.backgroundTexture","background-image")+rules.pk("submitIcons.normalColor","color");__p+='\n					<td style="width:'+(null==(__t=100/c.length)?"":__t)+'%;">\n\n						',("photo"==a.type||"video"==a.type)&&(__p+='\n							<input type="file" data-role="none" name="submit_'+(null==(__t=a.type)?"":__t)+'" accept="'+(null==(__t="photo"==a.type?"image":a.type)?"":__t)+'/*"/>\n						'),__p+='\n\n						<a class="service '+(null==(__t=a.type)?"":__t)+'" href="'+(null==(__t=rules.urlTo("submit",self.get("id"),a.type))?"":__t)+'" title="">\n\n							<div class="tablet-submit-icon">\n								<div class="tabletSubmitIconContainer" style="'+(null==(__t=h)?"":__t)+'">\n									'+(null==(__t=rules.createIcon(rules.getRealIconUrl(rules.getSubmitIcon(a)),d.normalColor,d.normalTexture,e,"",'data-target-property="'+j+'"',i))?"":__t)+'\n								</div>\n							</div>\n							<div class="clearfix"></div>\n							<div class="table-submit-desc">\n								<h2 style="'+(null==(__t=rules.fontStyle("titleFont",self))?"":__t)+'">\n									'+(null==(__t=rules.getServiceTitle(a))?"":__t)+'\n								</h2>\n								<p style="'+(null==(__t=rules.fontStyle("subtitleFont",self))?"":__t)+'">\n									'+(null==(__t=rules.getServiceDescription(a))?"":__t)+'\n								</p>\n							</div>\n							<div class="clearfix"></div>\n						</a>\n\n					</td>\n				'}),__p+="\n			</tr>\n		</form>\n	</table>\n</div>"}return __p}},{"../../rules":33,"../../util":177}],176:[function(a,b){var c={templates:{GBMasterRoot:a("./GBMasterRoot.tpl"),GBRootControllerTypeCustomTabBar:a("./GBRootControllerTypeCustomTabBar.tpl"),GBRootControllerTemplateTypeTabBarOtherMenu:a("./GBRootControllerTemplateTypeTabBarOtherMenu.tpl"),GBRootControllerTypeClassicTabBar:a("./GBRootControllerTypeCustomTabBar.tpl"),GBRootControllerTypeLittleSwipe:a("./GBRootControllerTypeLittleSwipe.tpl"),GBRootControllerTypeGrid:a("./GBRootControllerTypeGrid.tpl"),GBRootControllerTypeSlate:a("./GBRootControllerTypeSlate.tpl"),GBRootControllerTypeLargeTypo:a("./GBRootControllerTypeLargeTypo.tpl"),GBRootControllerTypeTypo:a("./GBRootControllerTypeTypo.tpl"),GBRootControllerTypeFacebookMenu:a("./GBRootControllerTypeFacebookMenu.tpl"),GBRootControllerTypeScratch:a("./GBRootControllerTypeScratch.tpl"),GBNodeListTemplateTypeVisuels:a("./GBNodeList.tpl"),GBNodeListTemplateTypeVisuelsColor:a("./GBNodeList.tpl"),GBNodeListTemplateTypeUneGrid:a("./GBNodeList.tpl"),GBNodeListTemplateTypeUneGridColor:a("./GBNodeList.tpl"),GBNodeListTemplateTypeGrid:a("./GBNodeList.tpl"),GBNodeListTemplateTypeGridColor:a("./GBNodeList.tpl"),GBNodeListTemplateTypeList:a("./GBNodeList.tpl"),GBNodeListTemplateTypeListColor:a("./GBNodeList.tpl"),GBNodeListTemplateTypeSlideShow:a("./GBNodeList.tpl"),GBNodeListTemplateTypeScratch:a("./GBPluginListTemplateTypeClassic.tpl"),GBListDetailTemplate:a("./GBListDetailTemplate.tpl"),GBArticleListTemplateTypeClassic:a("./GBArticleListTemplateTypeClassic.tpl"),GBArticleListTemplateTypeCheckerboard:a("./GBArticleListTemplateTypeCheckerboard.tpl"),GBArticleListTemplateTypeMinimalPhotos:a("./GBArticleListTemplateTypeMinimalPhotos.tpl"),GBArticleListTemplateTypeMinimalColor:a("./GBArticleListTemplateTypeMinimalColor.tpl"),GBArticleListTemplateTypeVisuels:a("./GBArticleListTemplateTypeVisuels.tpl"),GBArticleListTemplateTypeGrid:a("./GBArticleListTemplateTypeGrid.tpl"),GBArticleListTemplateTypeUneGrid:a("./GBArticleListTemplateTypeUneGrid.tpl"),GBArticleListTemplateTypeSlideShow:a("./GBArticleListTemplateTypeSlideShow.tpl"),GBSubmitListTemplateTypeClassic:a("./GBSubmitListTemplateTypeClassic.tpl"),GBSubmitDetailTemplateTypeClassic:a("./GBSubmitDetailTemplateTypeClassic.tpl"),GBPhotoListTemplateTypeInstagram:a("./GBPhotoListTemplateTypeInstagram.tpl"),GBPhotoListTemplateTypeClassic:a("./GBPhotoListTemplateTypeClassic.tpl"),GBPhotoListTemplateTypeSquare:a("./GBPhotoListTemplateTypeClassic.tpl"),GBPhotoListTemplateTypePinterest:a("./GBPhotoListTemplateTypePinterest.tpl"),GBPhotoListTemplateTypeEdgetoedge:a("./GBPhotoListTemplateTypeEdgetoedge.tpl"),GBCategoriesTemplateTypeOverlay:a("./GBCategoriesTemplateTypeOverlay.tpl"),GBCategoriesTemplateTypeCircleBand:a("./GBCategoriesTemplateTypeCircleBand.tpl"),GBCategoriesTemplateTypeDropdown:a("./GBCategoriesTemplateTypeDropdown.tpl"),GBCategoriesTemplateTypePager:a("./GBCategoriesTemplateTypePager.tpl"),GBShareTemplateTypeClassic:a("./GBShareTemplateTypeClassic.tpl"),GBModuleTypeCustomScratch:a("./GBCustomTemplateTypeClassic.tpl"),GBModuleTypeCustomUrl:a("./GBCustomTemplateTypeClassic.tpl"),GBShopListTemplateTypeClassic:a("./GBCustomTemplateTypeClassic.tpl"),GBPluginTemplateTypeClassic:a("./GBPluginListTemplateTypeClassic.tpl"),GBCommentTemplateTypeDisqus:a("./GBCommentTemplateTypeDisqus.tpl"),GBFacebookListTemplateTypeClassic:a("./GBFacebookListTemplateTypeClassic.tpl"),GBTwitterListTemplateTypeClassic:a("./GBTwitterListTemplateTypeClassic.tpl"),GBTwitterDetailTemplateTypeClassic:a("./GBTwitterDetailTemplateTypeClassic.tpl"),GBTwitterListTemplateTypeBanner:a("./GBTwitterListTemplateTypeBanner.tpl"),GBTwitterListTemplateTypeProfile:a("./GBTwitterListTemplateTypeProfile.tpl"),GBSoundListTemplateTypeSoundCloud:a("./GBSoundListTemplateTypeSoundCloud.tpl"),GBSoundListTemplateTypeClassic:a("./GBSoundListTemplateTypeClassic.tpl"),GBLiveListTemplateTypeClassic:a("./GBLiveListTemplateTypeClassic.tpl"),GBLiveListTemplateTypePlus:a("./GBLiveListTemplateTypePlus.tpl"),GBFormListTemplateTypeClassic:a("./GBFormListTemplateTypeClassic.tpl"),GBUserslistMain:a("./GBUserslistMain.tpl"),GBChatlistMain:a("./GBChatlistMain.tpl"),GBQrcodeTemplateTypeClassic:a("./GBQrcodeTemplateTypeClassic.tpl"),GBAboutListTemplateTypeClassic:a("./GBAboutListTemplate.tpl"),GBAboutListTemplateTypeBannerImage:a("./GBAboutListTemplate.tpl"),GBAboutListTemplateTypeBannerImageAndTitle:a("./GBAboutListTemplate.tpl"),navBar:a("./navBar.tpl"),tabBar:a("./tabBar.tpl"),GBCommentTemplateTypeClassic:a("./GBCommentTemplateTypeClassic.tpl"),GBSettingsListTemplateTypeClassic:a("./GBSettingsListTemplateTypeClassic.tpl"),GBSettingsDetailTemplateTypeClassic:a("./GBSettingsDetailTemplateTypeClassic.tpl"),GBMapListTemplateTypeClassic:a("./GBMapsList.tpl"),GBMapsListTemplateTypeClassic:a("./GBMapsList.tpl"),GBAgendaListTemplateTypeExpandable:a("./GBEventsListTemplateTypeExpandable.tpl"),GBSearchTemplate:a("./GBSearchTemplate.tpl"),GBSearchResults:a("./searchResults.tpl"),GBBookmarkListTemplateTypeClassic:a("./GBBookmarkListTemplateTypeClassic.tpl"),GBContactListTemplateTypeClassic:a("./GBContactList.tpl"),GBContactListTemplateTypeButton:a("./GBContactList.tpl"),GBLoginTemplate:a("./GBLoginTemplate.tpl"),GBRestrictedAccessTemplate:a("./GBRestrictedAccessTemplate.tpl"),GBProfileTemplateTypeClassic:a("./GBProfile.tpl"),GBProfileInner:a("./GBProfileInner.tpl"),GBProfileSocialContainer:a("./GBProfileSocialContainer.tpl"),tabFilter:a("./tabFilter.tpl"),_asyncMapsDetailClassic:a("./async/mapdistantDetail.tpl"),_asyncListComments:a("./async/listComments.tpl"),_asyncMinimalPhotos:a("./async/minimalPhotos.tpl"),_asyncMinimalColor:a("./async/minimalColor.tpl"),_asyncVisuels:a("./async/visuels.tpl"),_asyncInstagram:a("./async/instagram.tpl"),_asyncArticleClassic:a("./async/articleClassic.tpl"),_asyncArticleCheckerboard:a("./async/articleCheckerboard.tpl"),_asyncGrid:a("./async/grid.tpl"),_asyncUneGrid:a("./async/uneGrid.tpl"),_asyncPhotoClassic:a("./async/photoClassic.tpl"),_asyncPinterest:a("./async/pinterest.tpl"),_asyncEdgetoedge:a("./async/edgetoedge.tpl"),_asyncSlideShow:a("./async/slideShow.tpl"),_asyncArticleDetail:a("./async/articleDetail.tpl"),_asyncVideoDetail:a("./async/videoDetail.tpl"),_asyncPhotoDetail:a("./async/photoDetail.tpl"),_asyncFacebookClassic:a("./async/facebookClassic.tpl"),_asyncTwitterClassic:a("./async/twitterClassic.tpl"),_asyncTwitterDetail:a("./async/twitterDetail.tpl"),_asyncTwitterBannerHeader:a("./async/twitterBannerHeader.tpl"),_asyncTwitterProfileHeader:a("./async/twitterProfileHeader.tpl"),_asyncAgendaDetail:a("./async/agendaDetail.tpl"),_asyncEventsExpandable:a("./async/eventsExpandable.tpl"),_asyncSoundCloud:a("./async/listSoundCloud.tpl"),_asyncSoundClassic:a("./async/soundClassic.tpl"),_asyncSoundDetail:a("./async/soundDetail.tpl"),_asyncLivePlus:a("./async/livePlus.tpl"),_asyncSoundcloudDetail:a("./async/soundcloudDetail.tpl"),_asyncSearchResults:a("./async/asyncSearchResults.tpl"),_asyncMapdistantList:a("./async/mapdistantList.tpl"),userDetail:a("./GBProfile.tpl"),userSearch:a("./GBUserSearch.tpl"),GBUserslistTemplateTypeClassic:a("./async/GBUserslistTemplateTypeClassic.tpl"),GBUserslistTemplateTypeGrid:a("./async/GBUserslistTemplateTypeClassic.tpl"),GBChatListTemplateTypeSquare:a("./chat/async/GBChatlistTemplateTypeClassic.tpl"),GBChatListTemplateTypeRounded:a("./chat/async/GBChatlistTemplateTypeClassic.tpl"),GBChatListTemplateTypeNoPhoto:a("./chat/async/GBChatlistTemplateTypeClassic.tpl"),GBChatListTemplate_content:a("./chat/async/GBChatlistTemplateTypeClassic_content.tpl"),GBChatDetailTemplateTypeSquare:a("./chat/async/GBChatDetailTemplateTypeClassic.tpl"),GBChatDetailTemplateTypeRounded:a("./chat/async/GBChatDetailTemplateTypeClassic.tpl"),GBChatDetailTemplateTypeNoPhoto:a("./chat/async/GBChatDetailTemplateTypeClassic.tpl"),GBChatDetailTemplateTypeClassic_content:a("./chat/async/GBChatDetailTemplateTypeClassic_content.tpl"),chatSearchAndPostMessage:a("./chat/chatSearchAndPostMessage.tpl"),chatPostMessage:a("./chat/chatPostMessage.tpl"),agendaContent:a("./async/agendaContent.tpl"),GBEventContentTemplateTypeClassic:a("./async/agendaDetail.tpl"),GBEventContentTemplateTypeBanner:a("./async/agendaDetailBanner.tpl"),GBEventContentTemplateTypeCover:a("./async/agendaDetailCover.tpl"),_asyncBookmarkList:a("./async/bookmarkList.tpl"),_asyncArticleDetail_bkmrkdtl:a("./async/articleDetail.tpl"),_asyncVideoDetail_bkmrkdtl:a("./async/videoDetail.tpl"),_asyncMapsDetailClassic_bkmrkdtl:a("./async/mapdistantDetail_bkmrkdtl.tpl"),_asyncAgendaDetail_bkmrkdtl:a("./async/agendaDetail.tpl"),_asyncPhotoDetail_bkmrkdtl:a("./async/photoDetail.tpl"),adSplash:a("./other/adSplash.tpl"),adBanner:a("./other/adBanner.tpl"),popupBox:a("./other/popupBox.tpl"),oldBrowserDisclaimer:a("./other/oldBrowserDisclaimer.tpl"),notificationsList:a("./other/notificationsList.tpl"),notificationsListContent:a("./async/notificationsListContent.tpl"),notificationsSettings:a("./other/notificationsSettings.tpl"),notificationsSettingsContent:a("./async/notificationsSettingsContent.tpl"),notFound:function(a){if(devMode)return function(){return"template "+a+" not found"};var b=_.is(rules.getSelectedSection())?"GBArticleListTemplateTypeClassic":"GBRootControllerTypeSlate",d=c.templates[b];return c.secureTemplate(d,a)}},tabletTemplates:{GBRootControllerTypeTypo:a("./tablet/GBRootControllerTypeTypo.tpl"),GBLiveListTemplateTypeClassic:a("./tablet/GBLiveListTemplateTypeClassic.tpl"),GBSubmitListTemplateTypeClassic:a("./tablet/GBSubmitListTemplateTypeClassic.tpl"),GBSubmitDetailTemplateTypeClassic:a("./tablet/GBSubmitDetailTemplateTypeClassic.tpl"),GBSearchTemplate:a("./tablet/GBSearchTemplate.tpl"),GBSearchResults:a("./tablet/GBSearchResults.tpl"),GBSettingsListTemplateTypeClassic:a("./tablet/GBSettingsListTemplateTypeClassic.tpl"),GBBookmarkListTemplateTypeClassic:a("./tablet/GBBookmarkListTemplateTypeClassic.tpl"),_asyncArticleClassic:a("./async/tablet/articleClassic.tpl"),_asyncSlideShow:a("./async/tablet/slideShow.tpl"),_asyncUneGrid:a("./async/tablet/uneGrid.tpl"),_asyncSoundDetail:a("./async/tablet/soundDetail.tpl"),_asyncSoundcloudDetail:a("./async/tablet/soundcloudDetail.tpl"),_asyncTwitterClassic:a("./async/tablet/twitterClassic.tpl"),_asyncAgendaDetail:a("./async/tablet/agendaDetail.tpl"),_asyncFacebookClassic:a("./async/tablet/facebookClassic.tpl"),_asyncMapsDetailClassic:a("./async/tablet/mapdistantDetail.tpl"),sharingModal:a("./async/tablet/sharingModal.tpl"),agendaList:a("./async/tablet/agendaList.tpl"),GBEventContentTemplateTypeClassic:a("./async/tablet/agendaDetail.tpl"),GBEventContentTemplateTypeBanner:a("./async/tablet/agendaDetail.tpl"),GBEventContentTemplateTypeCover:a("./async/tablet/agendaDetail.tpl"),_asyncBookmarkList:a("./async/tablet/bookmarkList.tpl"),_asyncMapsDetailClassic_bkmrkdtl:a("./async/tablet/mapdistantDetail_bkmrkdtl.tpl"),_asyncAgendaDetail_bkmrkdtl:a("./async/tablet/agendaDetail_bkmrkdtl.tpl"),notificationsListContent:a("./async/tablet/notificationsListContent.tpl")},ignored:["GBCategoriesTemplateTypeGhost","GBCategoriesTemplateTypeExpandable","GBCategoriesTemplateTypeList"],secureTemplate:function(a,b){return function(){if(devMode)return a.apply(this,arguments);try{return a.apply(this,arguments)}catch(c){return util.postError("templateFactory -> template name : "+b,c),""}}},getTemplate:function(a,b){if(b||(b={}),window.staticRender&&window.staticRenderNoDisplay&&!a.contains("Root")&&"GBListDetailTemplate"!=a||-1!=_.indexOf(this.ignored,a))return function(){return""};var c;return c=user.device.mobile||b.mobileVersion||!_.is(this.tabletTemplates[a])?this.templates[a]:this.tabletTemplates[a],_.not(c)?this.templates.notFound(a):this.secureTemplate(c,a)},multiTemplates:{GBUserslist:a("./multiTemplatesConfigs/GBUserslist"),GBChatlist:a("./multiTemplatesConfigs/GBChatlist")},getMultiViewTemplate:function(a,b){switch(a){case"GBUserslistTemplateTypeGrid":case"GBUserslistTemplateTypeClassic":return this.multiTemplates.GBUserslist.call(this,a,b);case"GBChatListTemplateTypeSquare":case"GBChatListTemplateTypeRounded":case"GBChatListTemplateTypeNoPhoto":return this.multiTemplates.GBChatlist.call(this,a,b);default:return{main:{template:this.templates.notFound(a)}}}}};b.exports=c,window.templateFactory=c},{"./GBAboutListTemplate.tpl":34,"./GBArticleListTemplateTypeCheckerboard.tpl":35,"./GBArticleListTemplateTypeClassic.tpl":36,"./GBArticleListTemplateTypeGrid.tpl":37,"./GBArticleListTemplateTypeMinimalColor.tpl":38,"./GBArticleListTemplateTypeMinimalPhotos.tpl":39,"./GBArticleListTemplateTypeSlideShow.tpl":40,"./GBArticleListTemplateTypeUneGrid.tpl":41,"./GBArticleListTemplateTypeVisuels.tpl":42,"./GBBookmarkListTemplateTypeClassic.tpl":43,"./GBCategoriesTemplateTypeCircleBand.tpl":44,"./GBCategoriesTemplateTypeDropdown.tpl":45,"./GBCategoriesTemplateTypeOverlay.tpl":46,"./GBCategoriesTemplateTypePager.tpl":47,"./GBChatlistMain.tpl":48,"./GBCommentTemplateTypeClassic.tpl":49,"./GBCommentTemplateTypeDisqus.tpl":50,"./GBContactList.tpl":51,"./GBCustomTemplateTypeClassic.tpl":52,"./GBEventsListTemplateTypeExpandable.tpl":53,"./GBFacebookListTemplateTypeClassic.tpl":54,"./GBFormListTemplateTypeClassic.tpl":55,"./GBListDetailTemplate.tpl":56,"./GBLiveListTemplateTypeClassic.tpl":57,"./GBLiveListTemplateTypePlus.tpl":58,"./GBLoginTemplate.tpl":59,"./GBMapsList.tpl":60,"./GBMasterRoot.tpl":61,"./GBNodeList.tpl":62,"./GBPhotoListTemplateTypeClassic.tpl":63,"./GBPhotoListTemplateTypeEdgetoedge.tpl":64,"./GBPhotoListTemplateTypeInstagram.tpl":65,"./GBPhotoListTemplateTypePinterest.tpl":66,"./GBPluginListTemplateTypeClassic.tpl":67,"./GBProfile.tpl":68,"./GBProfileInner.tpl":69,"./GBProfileSocialContainer.tpl":70,"./GBQrcodeTemplateTypeClassic.tpl":71,"./GBRestrictedAccessTemplate.tpl":72,"./GBRootControllerTemplateTypeTabBarOtherMenu.tpl":73,"./GBRootControllerTypeCustomTabBar.tpl":74,"./GBRootControllerTypeFacebookMenu.tpl":75,"./GBRootControllerTypeGrid.tpl":76,"./GBRootControllerTypeLargeTypo.tpl":77,"./GBRootControllerTypeLittleSwipe.tpl":78,"./GBRootControllerTypeScratch.tpl":79,"./GBRootControllerTypeSlate.tpl":80,"./GBRootControllerTypeTypo.tpl":81,"./GBSearchTemplate.tpl":82,"./GBSettingsDetailTemplateTypeClassic.tpl":83,"./GBSettingsListTemplateTypeClassic.tpl":84,"./GBShareTemplateTypeClassic.tpl":85,"./GBSoundListTemplateTypeClassic.tpl":86,"./GBSoundListTemplateTypeSoundCloud.tpl":87,"./GBSubmitDetailTemplateTypeClassic.tpl":88,"./GBSubmitListTemplateTypeClassic.tpl":89,"./GBTwitterDetailTemplateTypeClassic.tpl":90,"./GBTwitterListTemplateTypeBanner.tpl":91,"./GBTwitterListTemplateTypeClassic.tpl":92,"./GBTwitterListTemplateTypeProfile.tpl":93,"./GBUserSearch.tpl":94,"./GBUserslistMain.tpl":95,"./async/GBUserslistTemplateTypeClassic.tpl":96,"./async/agendaContent.tpl":97,"./async/agendaDetail.tpl":98,"./async/agendaDetailBanner.tpl":99,"./async/agendaDetailCover.tpl":100,"./async/articleCheckerboard.tpl":101,"./async/articleClassic.tpl":102,"./async/articleDetail.tpl":103,"./async/asyncSearchResults.tpl":104,"./async/bookmarkList.tpl":105,"./async/edgetoedge.tpl":106,"./async/eventsExpandable.tpl":107,"./async/facebookClassic.tpl":108,"./async/grid.tpl":109,"./async/instagram.tpl":110,"./async/listComments.tpl":111,"./async/listSoundCloud.tpl":112,"./async/livePlus.tpl":113,"./async/mapdistantDetail.tpl":114,"./async/mapdistantDetail_bkmrkdtl.tpl":115,"./async/mapdistantList.tpl":116,"./async/minimalColor.tpl":117,"./async/minimalPhotos.tpl":118,"./async/notificationsListContent.tpl":119,"./async/notificationsSettingsContent.tpl":120,"./async/photoClassic.tpl":121,"./async/photoDetail.tpl":122,"./async/pinterest.tpl":123,"./async/slideShow.tpl":124,"./async/soundClassic.tpl":125,"./async/soundDetail.tpl":126,"./async/soundcloudDetail.tpl":127,"./async/tablet/agendaDetail.tpl":128,"./async/tablet/agendaDetail_bkmrkdtl.tpl":129,"./async/tablet/agendaList.tpl":130,"./async/tablet/articleClassic.tpl":131,"./async/tablet/bookmarkList.tpl":132,"./async/tablet/facebookClassic.tpl":133,"./async/tablet/mapdistantDetail.tpl":134,"./async/tablet/mapdistantDetail_bkmrkdtl.tpl":135,"./async/tablet/notificationsListContent.tpl":136,"./async/tablet/sharingModal.tpl":137,"./async/tablet/slideShow.tpl":138,"./async/tablet/soundDetail.tpl":139,"./async/tablet/soundcloudDetail.tpl":140,"./async/tablet/twitterClassic.tpl":141,"./async/tablet/uneGrid.tpl":142,"./async/twitterBannerHeader.tpl":143,"./async/twitterClassic.tpl":144,"./async/twitterDetail.tpl":145,"./async/twitterProfileHeader.tpl":146,"./async/uneGrid.tpl":147,"./async/videoDetail.tpl":148,"./async/visuels.tpl":149,"./chat/async/GBChatDetailTemplateTypeClassic.tpl":150,"./chat/async/GBChatDetailTemplateTypeClassic_content.tpl":151,"./chat/async/GBChatlistTemplateTypeClassic.tpl":152,"./chat/async/GBChatlistTemplateTypeClassic_content.tpl":153,"./chat/chatPostMessage.tpl":154,"./chat/chatSearchAndPostMessage.tpl":155,"./multiTemplatesConfigs/GBChatlist":156,"./multiTemplatesConfigs/GBUserslist":157,"./navBar.tpl":158,"./other/adBanner.tpl":159,"./other/adSplash.tpl":160,"./other/notificationsList.tpl":161,"./other/notificationsSettings.tpl":162,"./other/oldBrowserDisclaimer.tpl":163,"./other/popupBox.tpl":164,"./searchResults.tpl":165,"./tabBar.tpl":166,"./tabFilter.tpl":167,"./tablet/GBBookmarkListTemplateTypeClassic.tpl":168,"./tablet/GBLiveListTemplateTypeClassic.tpl":169,"./tablet/GBRootControllerTypeTypo.tpl":170,"./tablet/GBSearchResults.tpl":171,"./tablet/GBSearchTemplate.tpl":172,"./tablet/GBSettingsListTemplateTypeClassic.tpl":173,"./tablet/GBSubmitDetailTemplateTypeClassic.tpl":174,"./tablet/GBSubmitListTemplateTypeClassic.tpl":175}],177:[function(a,b){var c=a("./common")(!1),d=a("./rules"),e=a("./contentLoader"),f=a("./moment"),g=a("./fakeSpectrumValues").fakeSpectrumValues,h=a("./pixastic").Pixastic,i=a("./omnivore.min");util={htmlComponents:{loadingSpinner:'<div class="loadingSpinner"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>'},getDataProviderFunctions:function(a){switch(a){case"chatItem":return{contentLoader:_.bind(modules.api.chatapi.openChatDetailWithUsers,modules.api.chatapi),postLoadHandlers:[_.bind(modules.chat.handlers.initChatDetailTemplate,handlers)]};case"chatThread":return{contentLoader:_.bind(modules.api.chatapi.openChatListWithUsers,modules.api.chatapi),postLoadHandlers:[modules.chat.handlers.initChatlistSwipeHelpers]}}},getDataProviderParameters:function(a,b,c){var d={dataProvider:"",dataProviderParameters:""};switch(a.get("type")){case"GBModuleTypeChat":"item"==b?(d.dataProvider="chatItem",d.dataProviderParameters={targetUserId:c}):"thread"==b&&(d.dataProvider="chatThread",d.dataProviderParameters={})}return d},requestRouter:function(a){a.options&&a.options.sectionID&&d.sectionDoesNotUseContentLoader(appSections[a.options.sectionID])?"itemView"==a.viewType?modules.api.chatapi.openChatDetailWithUsers({targetUserId:a.hashValue,page:void 0,callback:function(b,c){b&&(c={items:[]}),a.callback(c)}}):a.callback({}):e.requestContent(a.url,a.callback,a.prioritary,a.version,a.options)},getContentRequestSuffix:function(){var a="";return preview&&!devMode&&(a="?local=1"),a},buildIframeForUrl:function(a,b){var c=window.templateFactory.getTemplate("GBPluginTemplateTypeClassic")({modalMode:!0,specificUrl:a,modalId:b});return c},createNotFoundMetaTag:function(){$("#notFoundMeta").length||$("head").append('<meta id="notFoundMeta" name="page_not_found" content="404" />')},getNavTitleFromSearchQuery:function(){return this.getCurrentSearchFilters().keywords},getCurrentSearchFilters:function(){var a=d.getPost("searchquery"),b="&filters=",c=a.indexOf(b),e={};if(-1!=c){if(keywords=a.split(b)[0],e=a.substr(c+b.length))try{e=JSON.parse(e)}catch(f){}}else keywords=a;return{filters:e,keywords:keywords}},addBackgroundGeneralToEl:function(a,b,c){var e,f="";if(e=c?d.fallback(b,"section.detail.backgroundColor","section.backgroundColor","backgroundColor"):d.fallback(b,"section.backgroundColor","backgroundColor"),e&&e.val&&a.css("background-color",e.val),window.user.device.mobile)f=c?d.fallback(b,"section.detail.effectBackgroundImage","section.effectBackgroundImage","effectBackgroundImage"):d.fallback(b,"section.effectBackgroundImage","effectBackgroundImage"),f.val&&a.css("background-image",d.getImageUrl(f.val,!0));else{var g,h;g=b?d.fallback(b,"section.backgroundImageLandscape","backgroundImageLandscape"):d.fallback("backgroundImageLandscape"),h=b?d.fallback(b,"section.backgroundImagePortrait","backgroundImagePortrait"):d.fallback("backgroundImagePortrait"),f="portrait"==window.orient?d.getImageUrl(h.val,!0):d.getImageUrl(g.val,!0),f&&a.css("background-image",f),(h.val||g.val)&&a.addClass("orientableBackgroundImage"),h.val&&h.val.imageUrl&&a.data("backgroundimageportrait",h.val.imageUrl),g.val&&g.val.imageUrl&&a.data("backgroundimagelandscape",g.val.imageUrl)}},updateOrientableImages:function(){$(".orientableBackgroundImage").each(function(){"portrait"==window.orient&&_.pos($(this).data("backgroundimageportrait"))?$(this).css("background-image",d.getImageUrl({imageUrl:$(this).data("backgroundimageportrait")},!0)):"landscape"==window.orient&&_.pos($(this).data("backgroundimagelandscape"))&&$(this).css("background-image",d.getImageUrl({imageUrl:$(this).data("backgroundimagelandscape")},!0))})},initDataBindings:function(){appSettings.bind("change:root.targets",function(){util.computeParentForChildrenHash(),util.graph=util.generateNodesAdjacencyMatrix()}),appSettings.bind("change:login.hookUserProfile",function(){modules.profile.manageHookUserProfile()})},data:{sectionsData:{},itemToLoadForIDPair:{}},setSectionDataArray:function(a){var b,c=a.sectionID,d=a.subsectionID,e=a.tabID,f=a.data,g=a.append,h=!0;(_.is(e)||_.is(d))&&(h=!1,b=this.makeFilterID(d,e));var i=f.items,j={},k=!1;if(_.each(f,function(a,b){"items"==b||this.empty(a)||(j[b]=a,k=!0)},this),j.next_page=f.next_page,h)var l=this.data.sectionsData[c].data;else if(_.not(e))var l=this.data.sectionsData[c].subsections[b];else if(_.not(d))var l=this.data.sectionsData[c].subsections[b];else var l=this.data.sectionsData[c].subsections[b];g&&l&&0!=l.length?h?(this.data.sectionsData[c].data.push.apply(this.data.sectionsData[c].data,i),this.data.sectionsData[c].pageCounter++,k&&$.extend(this.data.sectionsData[c].extraData,j)):(this.data.sectionsData[c].subsections[b].data.push.apply(this.data.sectionsData[c].subsections[b].data,i),this.data.sectionsData[c].subsections[b].pageCounter++,k&&$.extend(this.data.sectionsData[c].subsections[b].extraData,j)):h?(this.data.sectionsData[c].data=i,this.data.sectionsData[c].pageCounter=0,this.data.sectionsData[c].extraData=j):this.data.sectionsData[c].subsections[b]={data:i,pageCounter:0,extraData:j}},createSEOMetatags:function(a){a.title&&($("meta[name=fbtitle]").remove(),$("head").append('<meta name="fbtitle" property="og:title" content="'+a.title+'" />')),a.image&&($("meta[name=fbimage]").remove(),$("head").append('<meta name="fbimage" property="og:image" content="'+a.image+'" />')),a.description&&($("meta[name=fbdescription]").remove(),$("head").append('<meta name="fbdescription" property="og:description" content="'+a.description+'" />')),a.canonical&&($("meta[name=googleCanonical]").remove(),$("head").append('<meta name="googleCanonical" rel="canonical" href="'+a.canonical+'" />'))},getCurrentAvailableData:function(){var a=d.getPost("section");if(a&&this.data.sectionsData[a]){var b=d.getPost("cat"),c=d.getPost("tab"),e=this.makeFilterID(b,c);if(_.not(e))return this.data.sectionsData[a];var f=this.data.sectionsData[a].subsections[e];if(f)return f}return!1},getCurrentAvailableContentData:function(){var a=this.getCurrentAvailableData();return a?a.data:!1},getCurrentAvailableExtraData:function(){var a=this.getCurrentAvailableData();return a?a.extraData:!1},getCurrentAvailableItem:function(){var a=this.getCurrentAvailableContentData(),b=d.getPost("item");if(a&&a.length&&b){var c=d.getItemById(a,b);return c?c:!1}return!1},makeFilterID:function(a,b){var c;return _.is(b)&&_.is(a)?c=a+"-"+b:_.is(b)?c=b:_.is(a)&&(c=a),c},getEmptyItem:function(){return{type:"",subtype:"",id:"undefined",author:"",title:"",date:"",leadin:"",smallThumbnail:"",thumbnail:"",summary:"",content:"",images:"",originalThumbnail:"",largeThumbnail:"",isFeatured:"",latitude:"",longitude:"",address:"",email:"",phoneNumber:"",website:"",pinIconColor:"",pinIconUrl:"",pinIconWidth:"",pinIconHeight:"",url:"",commentsEnabled:"",distance:"",contentTemplate:""}},dev:{printStack:function(){(new Error).stack}},log:!0,refreshCounter:0,events:{transitionEnd:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"},style:{prefixes:["-webkit-","-moz-","-o-","-ms-"],getPrefix:function(){var a="";return user.browser.firefox?a="-moz-":user.browser.ie?a="-ms-":user.browser.safari||user.browser.chrome?a="-webkit-":user.browser.opera&&(a="-o-"),a},blur:function(a){var b="blur("+a+"px)";return";-webkit-filter: "+b+";-moz-filter: "+b+";-o-filter: "+b+";-ms-filter "+b+";filter: "+b+";"}},support:{croppedBlur:function(){return!(!user.device.mobile&&user.os.ios&&!preview)}},inIframe:function(){try{return window.self!==window.top}catch(a){return!0}},getUserLanguage:function(){return window.navigator.userLanguage||window.navigator.language||appSettings.get("lg")},redirectToSectionAndItem:function(a){var b=d.getCurrentContentUrl(a);_.is(b)?util.requester(b,{},function(a){_.is(a.items)&&_.is(a.items[0])&&_.is(a.items[0].id)?d.setPost("item",a.items[0].id):d.setPost("item","undefined")}):window.location.hash="!"},limitLines:function(a){$(a).each(function(){Math.floor($(this).css("line-height").replace("px",""))})},setMaxLines:function(){var a=$(".content-role .infos");a.each(function(){var a=$(this).height(),b=$(this).find("h2"),c=b.outerHeight();c>a&&(titleLineHeight=parseInt(b.css("line-height")),nbLines=Math.floor(a/titleLineHeight),c=nbLines*titleLineHeight,b.css("height",c).css("overflow","hidden"))})},setSmartAppBannerArgument:function(){var a="",b=d.getSelectedSection();if(_.is(b)){a="#!section="+b.get("id");var c=d.getPost("item");_.is(c)&&(a+="&item="+c),$("#smartapp-banner").attr("app-argument",a)}else $("#smartapp-banner").removeAttr("app-argument")},setStyleAttribute:function(){},addHashToHistory:function(a,b){-1!=a.indexOf("search")&&(a=d.removeKeyValueFromHashString(a,"search"),a=d.removeKeyValueFromHashString(a,"searchquery"),a=d.removeKeyValueFromHashString(a,"searchfilters"),a=d.removeKeyValueFromHashString(a,"search"));
var c="";0==a.indexOf("!")?c="#":0!=a.indexOf("#!")&&(c="#!"),b?hashHistory.unshift(c+a):hashHistory.push(c+a)},backToPreviousHash:function(){_.is(hashHistory[1])?util.shouldISkipLastHash(util.getCurrentHashSkipMode())?(hashHistory.splice(1,1),util.backToPreviousHash()):(hashHistory.shift(),window.location.hash=hashHistory.shift()):location.hash="#!"},shouldISkipLastHash:function(a){var b=d.getPost("section")==d.getPost("section",hashHistory[1]);return"skipHashesAtSectionDepthInSameSection"==a?!d.isCustomPanelCall()&&b&&(d.isSectionCall()||d.isItemCall(!0)&&d.getPost("item",hashHistory[1])):"skipAllInSameSection"==a?b:"skipCustomPanels"==a?!d.isCustomPanelCall()&&b&&(d.isSectionCall()||d.isItemCall(!0)&&!d.getPost("item",hashHistory[1])&&-1!=hashHistory[1].indexOf("panel_")):void 0},getCurrentHashSkipMode:function(){var a=d.getSelectedSection();return a&&"GBModuleTypeChat"==a.get("type")?user.device.mobile?"skipCustomPanels":"skipAllInSameSection":"skipHashesAtSectionDepthInSameSection"},buildHashHistoryToCurrentHash:function(){function a(b){var c=util.getSectionParentID(b);"root"!=c?(util.addHashToHistory("section="+c),a(appSections[c])):util.addHashToHistory("")}var b=(d.getSelectedSection(),"");if(d.isPostCommentCall())b=d.removeKeyValueFromHashString(location.hash,"addcomment"),b=d.addKeyValueToHashString(b,"comments",1),util.addHashToHistory(b),b=d.removeKeyValueFromHashString(b,"comments"),util.addHashToHistory(b);else if(d.isListCommentsCall())b=d.removeKeyValueFromHashString(location.hash,"comments"),util.addHashToHistory(b);else if(d.isSharingCall())util.addHashToHistory(d.removeKeyValueFromHashString(location.hash,"share"));else if(d.isSearchCall())if(d.getPost("searchquery")){var b=d.removeKeyValueFromHashString(location.hash,"searchquery");b=d.removeKeyValueFromHashString(b,"searchfilters"),b=d.removeKeyValueFromHashString(b,"search"),util.addHashToHistory(b)}else util.addHashToHistory(d.removeKeyValueFromHashString(location.hash,"search"));else if(d.isCustomPanelCall())for(var c=window.location.hash.split("&"),e=0;e<c.length;e++){var f=0==c[e].indexOf("panel_")&&-1!=c[e].indexOf("=");if(f){var g=c[e].split("=")[0];util.addHashToHistory(d.removeKeyValueFromHashString(window.location.hash,g))}}if(d.isItemCall()&&!d.isSectionAndItem(d.getSelectedSection())){var h="section="+d.getPost("section");if(d.getPost("cat")&&(h+="&cat="+d.getPost("cat")),d.getPost("tab")&&(h+="&tab="+d.getPost("tab")),d.getPost("item")){var i=h+"&item="+d.getPost("item");util.addHashToHistory(i)}util.addHashToHistory(h)}a(d.getSelectedSection())},refresh:function(){util.refreshCounter++,d.setPost("r",util.refreshCounter)},getLocation:function(a){var b=document.createElement("a");return b.href=a,""==b.host&&(b.href=b.href),b},getRelativeUrlBase:function(){return devMode&&window.location.href.contains("localhost")?"http://themes.goodbarber.com.preprod":""},getCurrentBaseUrl:function(){if(!devMode)return"http://"+location.hostname;var a=appSettings.get("baseUrl"),b=appSettings.get("mobileUrl");return-1!=window.location.href.indexOf(b)?b:a},proxifyUrl:function(a){return devMode&&(a="proxy?url="+a.replace(/&/g,"[AND]")),a},getLocationFromUrl:function(a){var b=a.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);return b&&{protocol:b[1],host:b[2],hostname:b[3],port:b[4],pathname:b[5],search:b[6],hash:b[7]}},localizeUrl:function(a){return preview&&!a.contains("local=1")?a+(a.contains("?")?"&local=1":"?local=1"):a},replaceHostname:function(a){if(devMode)return a;var b=util.getLocationFromUrl(window.location.href).host,c=util.getLocationFromUrl(a);return null!=c&&null!=c.host?a.replace(c.host,b):a},adaptUrl:function(a){return this.replaceHostname(this.proxifyUrl(a))},CSSFonts:[],coeffSize:1,coeffDetailFontSize:1.15,pixastic:h,loadPostDOMReadyScriptsLoaded:!1,googleMapsIsLoaded:!1,googleFontsIsLoaded:!1,MAPInitWasDelayed:!1,twitterIsLoaded:!1,googleAnalytics:{account:void 0,enabled:!1,init:function(){this.account=appSettings.get("googleanalytics"),util.empty(this.account)||(this.enabled=!0,this.loadScript())},loadScript:function(){$("head").append("<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', '"+this.account+"', 'auto');ga('send', 'pageview');</script>")},trackPageView:function(){window.ga&&ga("send","pageview")}},flurry:{account:void 0,enabled:!1,init:function(){this.account=appSettings.get("flurry"),util.empty(this.account)||(this.enabled=!0,this.loadScript())},loadScript:function(){if(!$("#flurryLib").length){var a=document.createElement("script");a.type="text/javascript",a.src="https://cdn.flurry.com/js/flurry.js",a.id="flurryLib",a.onload=function(){FlurryAgent.startSession(util.flurry.account)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}},loadGoogleMapsScript:function(){var a=document.createElement("script");a.type="text/javascript",a.src="http://maps.google.com/maps/api/js?sensor=false&callback=util.googleMapsLoadCallback",document.body.appendChild(a)},loadPostDOMReadyLibraries:function(){this.loadPostDOMReadyScriptsLoaded||(this.loadPostDOMReadyScriptsLoaded=!0,this.googleAnalytics.init(),this.flurry.init(),this.loadGoogleMapsScript())},googleMapsLoadCallback:function(){util.googleMapsIsLoaded=!0,util.MAPInitWasDelayed&&util.MAP.asyncInitCallback()},loadGoogleFonts:function(){if((user.os.android&&user.os.version<2.4||$("#nodeInjectedGoogleFontsCss").length<1)&&"undefined"!=typeof googleFonts&&!this.googleFontsIsLoaded){if(googleFonts.length>0){var a='<link id="injectedCSS" rel="stylesheet" href="'+googleFonts;a+='">',$("head").append(a)}this.googleFontsIsLoaded=!0}},resetCurrentVariables:function(){cur.section=void 0,util.lastContentHeight=void 0},currentViewIsCachable:function(){var a=d.getSelectedSection();return a&&"multiView"==d.getSectionViewType(a)?!1:a&&"GBModuleTypeBookmark"==a.get("type")?!1:a&&d.isMinimalSection(a)?!1:a&&"GBModuleTypeProfile"==a.get("type")?!1:a&&"GBModuleTypeLive"==a.get("type")?!1:a&&"GBModuleTypePlugin"==a.get("type")?!1:a&&((user.device.tablet||user.device.desktop)&&"GBModuleTypeAgenda"==d.getSectionType(a)||"GBLiveListTemplateTypePlus"==d.getSectionTemplate(a))?!1:d.isItemCall()&&"_asyncVideoDetail"==d.getDetailTemplate(a)?!1:!0},currencyTable:{AFN:"Afghanistan Afghani",ALL:"Albanian Lek",DZD:"Algerian Dinar",USD:"US Dollar",EUR:"Euro",AOA:"Angolan Kwanza",XCD:"East Caribbean Dollar",ARS:"Argentine Peso",AMD:"Armenian Dram",AWG:"Aruban Guilder",AUD:"Australian Dollar",AZN:"Azerbaijan New Manat",BSD:"Bahamian Dollar",BHD:"Bahraini Dinar",BDT:"Bangladeshi Taka",BBD:"Barbados Dollar",BYR:"Belarussian Ruble",BZD:"Belize Dollar",XOF:"CFA Franc BCEAO",BMD:"Bermudian Dollar",BTN:"Bhutan Ngultrum",BOB:"Boliviano",BAM:"Marka",BWP:"Botswana Pula",NOK:"Norwegian Krone",BRL:"Brazilian Real",BND:"Brunei Dollar",BGN:"Bulgarian Lev",BIF:"Burundi Franc",KHR:"Kampuchean Riel",XAF:"CFA Franc BEAC",CAD:"Canadian Dollar",CVE:"Cape Verde Escudo",KYD:"Cayman Islands Dollar",CLP:"Chilean Peso",CNY:"Yuan Renminbi",COP:"Colombian Peso",KMF:"Comoros Franc",CDF:"Francs",NZD:"New Zealand Dollar",CRC:"Costa Rican Colon",HRK:"Croatian Kuna",CUP:"Cuban Peso",CZK:"Czech Koruna",DKK:"Danish Krone",DJF:"Djibouti Franc",DOP:"Dominican Peso",ECS:"Ecuador Sucre",EGP:"Egyptian Pound",SVC:"El Salvador Colon",ERN:"Eritrean Nakfa",ETB:"Ethiopian Birr",FKP:"Falkland Islands Pound",FJD:"Fiji Dollar",GMD:"Gambian Dalasi",GEL:"Georgian Lari",GHS:"Ghanaian Cedi",GIP:"Gibraltar Pound",GBP:"Pound Sterling",QTQ:"Guatemalan Quetzal",GGP:"Pound Sterling",GNF:"Guinea Franc",GWP:"Guinea-Bissau Peso",GYD:"Guyana Dollar",HTG:"Haitian Gourde",HNL:"Honduran Lempira",HKD:"Hong Kong Dollar",HUF:"Hungarian Forint",ISK:"Iceland Krona",INR:"Indian Rupee",IDR:"Indonesian Rupiah",IRR:"Iranian Rial",IQD:"Iraqi Dinar",ILS:"Israeli New Shekel",JMD:"Jamaican Dollar",JPY:"Japanese Yen",JOD:"Jordanian Dinar",KZT:"Kazakhstan Tenge",KES:"Kenyan Shilling",KPW:"North Korean Won",KRW:"Korean Won",KWD:"Kuwaiti Dinar",KGS:"Som",LAK:"Lao Kip",LVL:"Latvian Lats",LBP:"Lebanese Pound",LSL:"Lesotho Loti",LRD:"Liberian Dollar",LYD:"Libyan Dinar",CHF:"Swiss Franc",LTL:"Lithuanian Litas",MOP:"Macau Pataca",MKD:"Denar",MGF:"Malagasy Franc",MWK:"Malawi Kwacha",MYR:"Malaysian Ringgit",MVR:"Maldive Rufiyaa",MRO:"Mauritanian Ouguiya",MUR:"Mauritius Rupee",MXN:"Mexican Nuevo Peso",MDL:"Moldovan Leu",MNT:"Mongolian Tugrik",MAD:"Moroccan Dirham",MZN:"Mozambique Metical",MMK:"Myanmar Kyat",NAD:"Namibian Dollar",NPR:"Nepalese Rupee",ANG:"Netherlands Antillean Guilder",XPF:"CFP Franc",NIO:"Nicaraguan Cordoba Oro",NGN:"Nigerian Naira",OMR:"Omani Rial",PKR:"Pakistan Rupee",PAB:"Panamanian Balboa",PGK:"Papua New Guinea Kina",PYG:"Paraguay Guarani",PEN:"Peruvian Nuevo Sol",PHP:"Philippine Peso",PLN:"Polish Zloty",QAR:"Qatari Rial",RON:"Romanian New Leu",RUB:"Russian Ruble",RWF:"Rwanda Franc",SHP:"St. Helena Pound",WST:"Samoan Tala",STD:"Dobra",SAR:"Saudi Riyal",RSD:"Dinar",SCR:"Seychelles Rupee",SLL:"Sierra Leone Leone",SGD:"Singapore Dollar",SBD:"Solomon Islands Dollar",SOS:"Somali Shilling",ZAR:"South African Rand",SSP:"South Sudan Pound",LKR:"Sri Lanka Rupee",SDG:"Sudanese Pound",SRD:"Surinam Dollar",SZL:"Swaziland Lilangeni",SEK:"Swedish Krona",SYP:"Syrian Pound",TWD:"Taiwan Dollar",TJS:"Tajik Somoni",TZS:"Tanzanian Shilling",THB:"Thai Baht",TOP:"Tongan Pa'anga",TTD:"Trinidad and Tobago Dollar",TND:"Tunisian Dollar",TRY:"Turkish Lira",TMT:"Manat",UGX:"Uganda Shilling",UAH:"Ukraine Hryvnia",AED:"Arab Emirates Dirham",UYU:"Uruguayan Peso",UZS:"Uzbekistan Sum",VUV:"Vanuatu Vatu",VEF:"Venezuelan Bolivar",VND:"Vietnamese Dong",YER:"Yemeni Rial",ZMW:"Zambian Kwacha",ZWD:"Zimbabwe Dollar"},countryList:{af:"Afghanistan",al:"Albania",dz:"Algeria",as:"American Samoa",ad:"Andorra",ao:"Angola",ai:"Anguilla",ag:"Antigua and Barbuda",ar:"Argentina",am:"Armenia",aw:"Aruba",ac:"Ascension",au:"Australia",at:"Austria",az:"Azerbaijan",bs:"Bahamas",bh:"Bahrain",bd:"Bangladesh",bb:"Barbados",by:"Belarus",be:"Belgium",bz:"Belize",bj:"Benin",bm:"Bermuda",bt:"Bhutan",bo:"Bolivia",ba:"Bosnia and Herzegovina",bw:"Botswana",br:"Brazil",bn:"Brunei",bg:"Bulgaria",bf:"Burkina Faso",bi:"Burundi",kh:"Cambodia",cm:"Cameroon",ca:"Canada",cv:"Cape Verde",ky:"Cayman Islands",cf:"Central African Republic",td:"Chad",cl:"Chile",cn:"China",co:"Colombia",km:"Comoros",cg:"Congo",ck:"Cook Islands",cos:"Corsica",cr:"Costa Rica",hr:"Croatia",cu:"Cuba",cy:"Cyprus",cz:"Czech Republic",dk:"Denmark",dj:"Djibouti",dm:"Dominica","do":"Dominican Republic",tl:"East Timor",ec:"Ecuador",eg:"Egypt",sv:"El Salvador",gq:"Equatorial Guinea",er:"Eritrea",ee:"Estonia",et:"Ethiopia",fk:"Falkland Islands",fo:"Faroe Islands",fj:"Fiji",fi:"Finland",fr:"France (metropolitaine)",gf:"French (Guyana)",mq:"French (Martinique)",pf:"French Polynesia",re:"French (Reunion)",tf:"French Southern Territories",ga:"Gabon",gm:"Gambia",ge:"Georgia",de:"Germany",gh:"Ghana",gi:"Gibraltar",gr:"Greece",gl:"Greenland",gd:"Grenada",gu:"Guam",vg:"Guana Islands",gt:"Guatemala",gn:"Guinea",gw:"Guinea-Bissau",gy:"Guyana",ht:"Haiti",hn:"Honduras",hk:"Hong Kong",hu:"Hungary",is:"Iceland","in":"India",id:"Indonesia",iq:"Irak",ir:"Iran",ie:"Ireland",il:"Israel",it:"Italy",ci:"Ivory Coast",jm:"Jamaica",jp:"Japan",je:"Jersey Island",jo:"Jordan",kz:"Kazakhstan",ke:"Kenya",ki:"Kiribati",kp:"Korea",kw:"Kuwait",kg:"Kyrgyzstan",la:"Laos",lv:"Latvia",lb:"Lebanon",ls:"Lesotho",lr:"Liberia",ly:"Libya",li:"Liechtenstein",lt:"Lithuania",lu:"Luxembourg",mo:"Macau",mk:"Macedonia",mg:"Madagascar",mw:"Malawi",my:"Malaysia",mv:"Maldives",ml:"Mali",mt:"Malta",mh:"Marshall Islands",mr:"Mauritania",mu:"Mauritius",mx:"Mexico",fm:"Micronesia",md:"Moldova",mc:"Monaco",mn:"Mongolia",ms:"Montserrat",ma:"Morocco",mz:"Mozambique",mm:"Myanmar",na:"Namibia",nr:"Nauru",np:"Nepal",nl:"Netherlands",an:"Netherlands Antilles",nc:"New Caledonia",nz:"New Zealand",ni:"Nicaragua",ne:"Niger",ng:"Nigeria",nu:"Niue",nf:"Norfolk Island",mp:"Northern Mariana Islands",no:"Norway",om:"Oman",pk:"Pakistan",pw:"Palau",ps:"Palestine",pa:"Panama",pg:"Papua New Guinea",py:"Paraguay",pe:"Peru",ph:"Philippines",pl:"Poland",pt:"Portugal",pr:"Puerto Rico",qa:"Qatar",ro:"Romania",ru:"Russia",rw:"Rwanda",kn:"Saint Kitts & Nevis",lc:"Saint Lucia",vc:"Saint Vincent and The Grenadines",ws:"Samoa",sm:"San Marino",st:"Sao Tome and Principe",sa:"Saudi Arabia",sn:"Senegal",rs:"Serbia",sc:"Seychelles",sl:"Sierra Leone",sg:"Singapore",sk:"Slovakia",si:"Slovenia",sb:"Solomon Islands",so:"Somalia",sd:"Soudan",za:"South Africa",kr:"South Korea",es:"Spain",lk:"Sri Lanka",sh:"St. Helena",sr:"Suriname",sz:"Swaziland",se:"Sweden",ch:"Switzerland",sy:"Syria",tw:"Taiwan",tj:"Tajikistan",tz:"Tanzania",th:"Thailand",tg:"Togo",tk:"Tokelau",to:"Tonga",tt:"Trinidad and Tobago",tn:"Tunisia",tr:"Turkey",tm:"Turkmenistan",tc:"Turks and Caicos Islands",tv:"Tuvalu",ug:"Uganda",ua:"Ukraine",ae:"United Arab Emirates",uk:"United Kingdom",us:"United States of America",uy:"Uruguay",uz:"Uzbekistan",vu:"Vanuatu",ve:"Venezuela",vn:"Vietnam",vi:"Virgin Islands",ye:"Yemen",cd:"Zaire",zm:"Zambia",zw:"Zimbabwe"},deepLinkRedirectionModule:{redirect:function(){if(this.called)return!1;this.called=!0,this.redirected=!1,this.receivedResponsesCounter=0,this.numberOfSentRequests=0;var a,b,c=d.getPost("url");return c?(a=decodeURIComponent(c),b=[],_.each(appSections,function(c){var d=c.get("baseUrl");if("string"==typeof d){var e=util.getLocation(a).hostname,f=util.getLocation(d).hostname;(-1!=e.indexOf(f)||-1!=f.indexOf(e))&&b.push(c.get("id"))}},this),b.length>0?(this.numberOfSentRequests=b.length,_.each(b,function(b){var c=util.getCurrentBaseUrl()+"/apiv3/getItemByUrl/"+b+"/"+a;e.requestContent(c,function(a){util.deepLinkRedirectionModule.redirectionCallback(a,b)})},this)):window.location.hash="!",!0):!1},redirectionCallback:function(a,b){var c=util.deepLinkRedirectionModule;if(util.deepLinkRedirectionModule.receivedResponsesCounter++,!c.redirected)if(a&&a.items&&a.items[0]&&a.items[0].id){var d=a.items[0];c.redirected=!0;var e="";util.empty(d.subsectionIndex)||(e="&cat="+d.subsectionIndex);var f="!section="+b+e+"&item="+d.id;util.data.itemToLoadForIDPair[b+"/"+d.id]=d,window.location.hash=f}else c.receivedResponsesCounter==c.numberOfSentRequests&&(c.redirected=!0,window.location.hash=1==c.numberOfSentRequests?"!section="+sectionID:"!")}},getSubsectionIDFromSubsectionContentUrl:function(a){return this.data.subsectionIDContentUrlTable||(this.data.subsectionIDContentUrlTable=[],_.each(appSections,function(a){var b=a.get("subsections");b&&b.length>0&&_.each(b,function(a,b){this.data.subsectionIDContentUrlTable[a.contentUrl]=b},this)},this)),this.data.subsectionIDContentUrlTable[a]},hashCode:function(a){var b,c,d=0;if(0==a.length)return d;for(b=0,l=a.length;l>b;b++)c=a.charCodeAt(b),d=(d<<5)-d+c,d|=0;return d},uniqueString:"a",uniqueStringCounter:0,alphabet:"abcdefghijklmnopqrstuvwxyz",getUniqueString:function(){if("undefined"!=typeof this.alphabet[this.uniqueStringCounter]){var a=this.uniqueString.split("");a[a.length-1]=this.alphabet[this.uniqueStringCounter],this.uniqueString=a.join(""),this.uniqueStringCounter++}else this.uniqueString+="a",this.uniqueStringCounter=1;return this.uniqueString},get_html_translation_table:function(a,b){var c,d={},e={},f={},g={},h={},i={};if(f[0]="HTML_SPECIALCHARS",f[1]="HTML_ENTITIES",g[0]="ENT_NOQUOTES",g[2]="ENT_COMPAT",g[3]="ENT_QUOTES",h=isNaN(a)?a?a.toUpperCase():"HTML_SPECIALCHARS":f[a],i=isNaN(b)?b?b.toUpperCase():"ENT_COMPAT":g[b],"HTML_SPECIALCHARS"!==h&&"HTML_ENTITIES"!==h)throw new Error("Table: "+h+" not supported");d[38]="&amp;","HTML_ENTITIES"===h&&(d[160]="&nbsp;",d[161]="&iexcl;",d[162]="&cent;",d[163]="&pound;",d[164]="&curren;",d[165]="&yen;",d[166]="&brvbar;",d[167]="&sect;",d[168]="&uml;",d[169]="&copy;",d[170]="&ordf;",d[171]="&laquo;",d[172]="&not;",d[173]="&shy;",d[174]="&reg;",d[175]="&macr;",d[176]="&deg;",d[177]="&plusmn;",d[178]="&sup2;",d[179]="&sup3;",d[180]="&acute;",d[181]="&micro;",d[182]="&para;",d[183]="&middot;",d[184]="&cedil;",d[185]="&sup1;",d[186]="&ordm;",d[187]="&raquo;",d[188]="&frac14;",d[189]="&frac12;",d[190]="&frac34;",d[191]="&iquest;",d[192]="&Agrave;",d[193]="&Aacute;",d[194]="&Acirc;",d[195]="&Atilde;",d[196]="&Auml;",d[197]="&Aring;",d[198]="&AElig;",d[199]="&Ccedil;",d[200]="&Egrave;",d[201]="&Eacute;",d[202]="&Ecirc;",d[203]="&Euml;",d[204]="&Igrave;",d[205]="&Iacute;",d[206]="&Icirc;",d[207]="&Iuml;",d[208]="&ETH;",d[209]="&Ntilde;",d[210]="&Ograve;",d[211]="&Oacute;",d[212]="&Ocirc;",d[213]="&Otilde;",d[214]="&Ouml;",d[215]="&times;",d[216]="&Oslash;",d[217]="&Ugrave;",d[218]="&Uacute;",d[219]="&Ucirc;",d[220]="&Uuml;",d[221]="&Yacute;",d[222]="&THORN;",d[223]="&szlig;",d[224]="&agrave;",d[225]="&aacute;",d[226]="&acirc;",d[227]="&atilde;",d[228]="&auml;",d[229]="&aring;",d[230]="&aelig;",d[231]="&ccedil;",d[232]="&egrave;",d[233]="&eacute;",d[234]="&ecirc;",d[235]="&euml;",d[236]="&igrave;",d[237]="&iacute;",d[238]="&icirc;",d[239]="&iuml;",d[240]="&eth;",d[241]="&ntilde;",d[242]="&ograve;",d[243]="&oacute;",d[244]="&ocirc;",d[245]="&otilde;",d[246]="&ouml;",d[247]="&divide;",d[248]="&oslash;",d[249]="&ugrave;",d[250]="&uacute;",d[251]="&ucirc;",d[252]="&uuml;",d[253]="&yacute;",d[254]="&thorn;",d[255]="&yuml;"),"ENT_NOQUOTES"!==i&&(d[34]="&quot;"),"ENT_QUOTES"===i&&(d[39]="&#39;"),d[60]="&lt;",d[62]="&gt;";for(c in d)d.hasOwnProperty(c)&&(e[String.fromCharCode(c)]=d[c]);return e},urlencode:function(a){return a=(a+"").toString(),encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},rawurlencode:function(a){return a=(a+"").toString(),encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},wm_htmlentities:function(a){return this.htmlentities(a,"ENT_QUOTES","UTF-8")},htmlentities:function(a,b,c,d){var e=this.get_html_translation_table("HTML_ENTITIES",b),f="";if(a=null==a?"":a+"",!e)return!1;if(b&&"ENT_QUOTES"===b&&(e["'"]="&#039;"),d||null==d)for(f in e)e.hasOwnProperty(f)&&(a=a.split(f).join(e[f]));else a=a.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(a,b,c){for(f in e)e.hasOwnProperty(f)&&(b=b.split(f).join(e[f]));return b+c});return a},utf8_encode:function(a){if(null===a||"undefined"==typeof a)return"";var b,c,d=a+"",e="",f=0;b=c=0,f=d.length;for(var g=0;f>g;g++){var h=d.charCodeAt(g),i=null;if(128>h)c++;else if(h>127&&2048>h)i=String.fromCharCode(h>>6|192,63&h|128);else if(55296!=(63488&h))i=String.fromCharCode(h>>12|224,h>>6&63|128,63&h|128);else{if(55296!=(64512&h))throw new RangeError("Unmatched trail surrogate at "+g);var j=d.charCodeAt(++g);if(56320!=(64512&j))throw new RangeError("Unmatched lead surrogate at "+(g-1));h=((1023&h)<<10)+(1023&j)+65536,i=String.fromCharCode(h>>18|240,h>>12&63|128,h>>6&63|128,63&h|128)}null!==i&&(c>b&&(e+=d.slice(b,c)),e+=i,b=c=g+1)}return c>b&&(e+=d.slice(b,f)),e},startContentLoadingFromCurrentNode:function(){var a=d.getSelectedSection(!0);window.preview||window.staticRender||a==this.lastCurrentNode||(this.lastCurrentNode=a,util.startContentLoadingFrom(a?a.get("id"):"root"))},startContentLoadingFrom:function(a){this.log,_.not(util.graph)&&(util.graph=util.generateNodesAdjacencyMatrix()),util.orderedNodesIDList=util.getBreadthFirstTraversedNodeList(util.graph,a),e.stopCurrentTasks(),_.each(util.orderedNodesIDList,function(a){if("root"!=a&&appSections[a]&&"node"!=appSections[a].get("nodeType")){var b=appSections[a],c=b.get("contentUrl"),f=d.getSectionSubSections(b),g=d.getPost("cat"),h=[];_.each(f,function(c,f){if(d.contentUrlIsReadyForPreloading(c.contentUrl)){var i=d.buildContentUrlWithTokens(c.contentUrl,f,void 0,b);_.is(g)&&g==f?e.requestContent(i,void 0,void 0,void 0,{sectionID:a,subsectionID:g}):h.push({url:i,id:f})}},this),0==f.length&&_.is(c)&&d.contentUrlIsReadyForPreloading(c)&&e.requestContent(c,void 0,void 0,void 0,{sectionID:a}),_.each(h,function(b){e.requestContent(b.url,void 0,void 0,void 0,{sectionID:a,subsectionID:b.id})},this);{b.get("subsections")}}},this)},generateNodesAdjacencyMatrix:function(){function a(d,e){c[d]=!0,_.isArray(b[d])||(b[d]=[]),b[d]=_.uniq(b[d].concat(e)),_.each(e,function(e){e!=d&&b[e]&&-1==b[e].indexOf(d)&&(_.isArray(b[e])||(b[e]=[]),b[e].push(d));var f=appSections[e];_.is(f)&&_.is(f.get("targets"))&&_.not(c[e])&&a(e,f.get("targets"))},this)}var b={},c={};return a("root",appSettings.get("root.targets")),b},getBreadthFirstTraversedNodeList:function(a,b){var c=[],d=[];for(var e in a)d[e]=!1;var f=[];for(f.push(b),d[b]=!0,c.push(b);f.length>0;){var g=f.shift(),h=a[g];for(var e in h){var i=h[e];d[i]||(d[i]=!0,f.push(i),c.push(i))}}return c},getSectionParentID:function(a){return!a||a&&a.get("id")==appSettings.get("root.otherTarget")?"root":(util.data.parentForChildren||this.computeParentForChildrenHash(),util.data.parentForChildren[a.get("id")])},computeParentForChildrenHash:function(){function a(d,e){c[d]=!0,_.each(e,function(e){b[e]||(b[e]=d);var f=appSections[e];_.is(f)&&_.is(f.get("targets"))&&_.not(c[e])&&a(e,f.get("targets"))},this)}var b={},c={};a("root",appSettings.get("root.targets")),util.data.parentForChildren=b},getNbSections:function(){return _.size(appSettings.get("root.targets"))},extendProperty:function(a,b,c){return"undefined"==typeof c&&(c=""),""==c?_.extend(b,a):"undefined"!=typeof b[c]?_.extend(b[c],a[c]):(b[c]=a[c],b)},getOtherSection:function(){var a=[];return _.each(appSettings.get("root.targets"),function(b,c){c>=d.getTabBarNbSections()-1&&a.push(appSections[b])}),a},isOtherSection:function(){var a=d.getSelectedSection().get("id"),b=!1;return _.each(appSettings.get("root.targets"),function(c,e){!b&&e>d.getTabBarNbSections()-2&&c==a&&(b=!0)}),b},findNested:function(a,b,d){return c.findNested(a,b,d)},requester:function(a,b,c){_.not(c)&&(c=!1),b=b||{},b.sectionID||(b.sectionID=d.getPost("section"),b.subsectionID=d.getPost("cat")),e.requestContent(a,c,!0,void 0,b)},ajaxPost:function(a,b,c){devMode&&(a="proxy?url="+a),_.is(c)?$.post(a,b,c):$.post(a,b)},postedErrors:[],postError:function(a,b,c){if(!devMode&&!_.inArray(a,util.postedErrors)){var e=d.getSelectedSection();_.is(e)&&_.is(e.get)&&_.is(e.get("id"))&&(b="section "+e.get("id")+"\n"+b),_.is(c)&&(b+="\n"+c),util.ajaxPost(util.getCurrentBaseUrl()+"/apiv3/crash/",{methodName:a,message:b}),util.postedErrors.push(a)}},safeAmp:function(a){return a=a.replace(new RegExp("&","g"),"&amp;")},lg_date:function(){},secondsToHms:function(a,b){_.not(b)&&(b=":");var c=parseInt(a/3600,10)%24,d=parseInt(a/60,10)%60,e=parseInt(a%60,10),f=(10>c?"0"+c:c)+b+(10>d?"0"+d:d)+b+(10>e?"0"+e:e);return f},secondsToMs:function(a,b){_.not(b)&&(b=":");var c=(parseInt(a/3600,10)%24,parseInt(a/60,10)%60),d=parseInt(a%60,10),e=(10>c?"0"+c:c)+b+(10>d?"0"+d:d);return e},stripslashes:function(a){return(a+"").replace(/\\(.?)/g,function(a,b){switch(b){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return b}})},nl2br:function(a,b){var c=b||"undefined"==typeof b?"<br />":"<br>";return(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+c+"$2")},striptags:function(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var c=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,d=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return a.replace(d,"").replace(c,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""})},striptags2br:function(a){return this.striptags(a).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/,"\\$1<br/>\\$2")},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=util.Base64._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=util.Base64._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},toggleSwipe:function(a,b){if(!globalsAppVars.togglingSwipe){globalsAppVars.togglingSwipe=!0,b?globalsAppVars.togglingSwipe=!1:setTimeout(function(){globalsAppVars.togglingSwipe=!1},450),user.browser.androidbrowser&&$("#root > .menu").show(),$("#circleBandContainer").css("margin-left",0),a=_.not(a)?!1:a,b=_.not(b)?!1:b;{var c=$("body"),e=$("#root"),f=$("#root > .menu"),g=$("#root > .main");$("#root #pageHeader"),$(".content-role"),user.browser.ie||user.browser.iemobile||user.os.android&&user.os.version<=2.3}if(!b&&c.hasClass("transform3d")?(f.addClass("animate"),g.addClass("animate")):(f.removeClass("animate"),g.removeClass("animate")),f.hasClass("open")||a?(b&&(this.toggleToolBarSlide(!0),this.toggleToolBarSwipe(!0)),f.removeClass("open"),g.removeClass("open"),!b&&c.hasClass("transform3d")?setTimeout(function(){e.removeClass("locked"),preview&&c.removeClass("locked"),c.height("100%")},450):(user.browser.ie&&$("#pageHeader").css("left","0px"),e.removeClass("locked"),preview&&c.removeClass("locked"),c.height("100%"))):(f.addClass("open"),g.addClass("open"),!b&&c.hasClass("transform3d")?setTimeout(function(){c.height($(window).height()),e.addClass("locked"),preview&&(c.addClass("locked"),window.scrollTo(0,0))},450):(user.browser.ie&&!d.isHideEffect(d.getSelectedSection())&&$("#pageHeader").css("left",f.width()+"px"),e.addClass("locked"),preview&&c.addClass("locked"))),"undefined"!=typeof varCurrentScrollPositionFbMenu&&$("section.menu").scrollTop(varCurrentScrollPositionFbMenu),user.os.android&&user.browser.androidbrowser){var h=d.getSelectedSection().get("template"),i="GBRootControllerTypeLittleSwipe"==d.rootMode()?d.rootLittleMenuWidth():d.rootMenuWidth();if(user.os.version<4)if(f.hasClass("open"))$("#pageHeader").css("margin-left",i+"px"),$(".menu").show(),$("body").css("height","640px"),globalsAppVars.fakeBgMobileHeight=$("#fake-bg-m").height(),$("#fake-bg-m").height("100%"),("GBArticleListTemplateTypeMinimalPhotos"==h||"GBArticleListTemplateTypeMinimalColor"==h||"GBMapListTemplateTypeClassic"==h)&&$(".main-content").parent().css("padding-left",i+"px");else{$("#pageHeader").css("margin-left","0");var j=globalsAppVars.fakeBgMobileHeight||$(document).height();$("#fake-bg-m").height(j),$(".menu").hide(),("GBArticleListTemplateTypeMinimalPhotos"==h||"GBArticleListTemplateTypeMinimalColor"==h||"GBMapListTemplateTypeClassic"==h)&&$(".main-content").parent().css("padding-left","0px")}else if(f.hasClass("open"))globalsAppVars.navBarPosition=$("#pageHeader").css("position"),globalsAppVars.contentPosition=$(".main-content").parent().css("position"),$("#circleBandOuterDiv").css("left",i+"px"),"GBArticleListTemplateTypeMinimalColor"==h||"GBMapListTemplateTypeClassic"==h?($(".main-content").parent().css("position","relative").css("margin-top","-"+$("#pageHeader").height()+"px"),$("#pageHeader").css("position","fixed").css("margin-left",i+"px"),setTimeout(function(){$(".navBarClickHandler").remove();var a=$("<div>").attr("class","navBarClickHandler").css({position:"absolute",left:i+"px",top:"0px",width:"100%",height:$("#pageHeader").height()+"px","z-index":"10000"}).on("click",function(a){return a.preventDefault(),a.stopPropagation(),util.toggleSwipe(),!1});$("#rootContainer").append(a)},450)):"relative"!=$("#pageHeader").css("position")&&$("#pageHeader").css("position","absolute"),"GBArticleListTemplateTypeMinimalPhotos"==h&&$(".main-content").parent().css("position","absolute");else{$("#root > .menu").hide();var h=d.getSelectedSection().get("template");$("#circleBandOuterDiv").css("left","0px"),"GBArticleListTemplateTypeMinimalColor"==h||"GBMapListTemplateTypeClassic"==h?($(".navBarClickHandler").remove(),$(".main-content").parent().css("position",globalsAppVars.contentPosition).css("margin-top","0px"),$("#pageHeader").css("position",globalsAppVars.navBarPosition).css("margin-left","0px")):"absolute"==$("#pageHeader").css("position")&&$("#pageHeader").css("position",globalsAppVars.navBarPosition),"GBArticleListTemplateTypeMinimalPhotos"==h&&$(".main-content").parent().css("position",globalsAppVars.contentPosition),("GBArticleListTemplateTypeMinimalPhotos"==h||"GBArticleListTemplateTypeMinimalColor"==h)&&setTimeout(util.refresh,450)}}}return!1},toggleToolBarSlide:function(a,b){_.not(b)&&(b=!1);{var c=$(".toolbar.slidedown");$("header.navBar").height()+"px"}return!c.hasClass("open")&&!a||b?c.hasClass("open")||(c.addClass("open"),c.slideDown()):(c.removeClass("open"),a&&c.hide(),c.slideUp()),!1},toggleToolBarSwipe:function(a,b){function c(){f.removeClass("openanimate"),e.hide()}_.not(b)&&(b=!1);var e=$(".toolbar.swipeleft"),f=$("#root section.main"),g=$("#root header.navBar"),h=-e.width()+"px";return!e.hasClass("openanimate")&&!a||b?e.hasClass("openanimate")||(f.addClass("openanimate"),e.addClass("openanimate"),e.show(),f.animate({"margin-left":h},400),e.animate({"margin-left":h},400),d.isHideEffect(d.getSelectedSection())||g.animate({"margin-left":h},400)):(e.removeClass("openanimate"),a?(f.css("margin-left",0),e.css("margin-left",0),d.isHideEffect(d.getSelectedSection())||g.css("margin-left",0)):(f.animate({"margin-left":0},400),e.animate({"margin-left":0},400,c),d.isHideEffect(d.getSelectedSection())||g.animate({"margin-left":0},400))),!1},increaseFont:function(){var a=parseInt($("article .content").css("font-size"));return a+=2,$("article .content").css("font-size",a+"px"),!1},decreaseFont:function(){var a=parseInt($("article .content").css("font-size"));return a-=2,a>=13&&$("article .content").css("font-size",a+"px"),!1},navigationBackward:function(a){if(a){for(var b=0;globalsAppVars.varNavigationcompt>1;)globalsAppVars.varNavigationcompt--,b--;0>b&&(globalsAppVars.varcustomisloading=!0,window.history.go(b))}else globalsAppVars.varNavigationcompt>1&&(globalsAppVars.varNavigationcompt--,globalsAppVars.varcustomisloading=!0,window.history.back())},navigationForward:function(){globalsAppVars.varNavigationcompt<varMaxNavigationCompt&&(globalsAppVars.varNavigationcompt++,globalsAppVars.varcustomisloading=!0,window.history.forward())},getUsedTemplatesKeys:function(){var a={},b=d.getSelectedSection(),c=d.getPost("item"),e=d.isCommentsCall(),f=d.isSharingCall();if(a.root=appSettings.get("root.type"),_.is(b)){a.section=!viewFactory.currentView.isMultiView&&d.isSearchCall()?d.getSearchResultsTemplateName(b):d.getSectionTemplateMode(b);var g=d.getSectionCategoriesTemplate(b);_.is(g)&&(a.cat=g)}return _.is(c)&&(a.item=d.getSectionDetailTemplate(b)),e&&(a.item="GBCommentTemplateTypeClassic"),f&&(a.item="GBShareTemplateTypeClassic"),a},getActiveTemplatesKeys:function(){var a=this.getUsedTemplatesKeys(),b={},c=modules.login.checkAccessOnCurrentView();if(!c.status)return b.root=a.root,b.section="GBLoginTemplate",b;if(!d.getSelectedSection(!0))return b.root=a.root,b;
if(_.is(a.item)?(b.item=a.item,viewFactory.currentView.isMultiView&&(b.section=a.section)):_.is(a.section)&&"other"!=d.getPost("section")&&(b.section=a.section),_.is(a.section)||d.isSectionAndItem(d.getSelectedSection())){var e=d.getSectionSubSections(d.getSelectedSection());_.is(a.cat)&&_.is(e)&&e.length>1&&(b.cat=a.cat)}return _.inArray(a.root,["GBRootControllerTypeCustomTabBar","GBRootControllerTypeFacebookMenu","GBRootControllerTypeLittleSwipe"])&&(b.root=a.root),b},wordwrap:function(a){var b,c,d,e,f,g=arguments.length>=2?arguments[1]:75,h=arguments.length>=3?arguments[2]:"\n",i=arguments.length>=4?arguments[3]:!1;if(a+="",1>g)return a;for(b=-1,d=(f=a.split(/\r\n|\n|\r/)).length;++b<d;f[b]+=e)for(e=f[b],f[b]="";e.length>g;f[b]+=e.slice(0,c)+((e=e.slice(c)).length?h:""))c=2==i||(c=e.slice(0,g+1).match(/\S*(\s)?$/))[1]?g:c.input.length-c[0].length||1==i&&g||c.input.length+(c=e.slice(g).match(/^\S*/))[0].length;return f.join("\n")},strlen:function(a){},empty:function(a){var b,c,d,e,f=[b,null,!1,0,"","0"];for(d=0,e=f.length;e>d;d++)if(a===f[d])return!0;if("object"==typeof a){for(c in a)return!1;return!0}return!1},capitaliseFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},Tokens:{tokenize:function(a,b,c){if(a.length<1)return c;if(a.contains(b)){{new RegExp(b,"g")}return a.replace(b,c)}return a},_languageConfig:{months:[appLang.MOIS_1,appLang.MOIS_2,appLang.MOIS_3,appLang.MOIS_4,appLang.MOIS_5,appLang.MOIS_6,appLang.MOIS_7,appLang.MOIS_8,appLang.MOIS_9,appLang.MOIS_10,appLang.MOIS_11,appLang.MOIS_12],weekdays:[appLang.JOUR_7,appLang.JOUR_1,appLang.JOUR_2,appLang.JOUR_3,appLang.JOUR_4,appLang.JOUR_5,appLang.JOUR_6]},_getTokenValueWithKey:function(a){var b=appSettings.get(a);return _.isEmpty(b)?appLang[a]:b},_toMomentFormat:function(a){return a="GB_DATEHOUR"!=a||util.empty(appSettings.get("dateLocalisation.formatHour"))?"GB_DATETXT1"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt1"))?"GB_DATETXT2"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt2"))?"GB_DATETXT3"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt3"))?"GB_DATETXT4"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt4"))?"GB_DATETXT5"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt5"))?"GB_DATETXT6"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt6"))?"GB_DATETXT7"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt7"))?"GB_DATETXT8"!=a||util.empty(appSettings.get("dateLocalisation.formatTxt8"))?this._getTokenValueWithKey(a):appSettings.get("dateLocalisation.formatTxt8"):appSettings.get("dateLocalisation.formatTxt7"):appSettings.get("dateLocalisation.formatTxt6"):appSettings.get("dateLocalisation.formatTxt5"):appSettings.get("dateLocalisation.formatTxt4"):appSettings.get("dateLocalisation.formatTxt3"):appSettings.get("dateLocalisation.formatTxt2"):appSettings.get("dateLocalisation.formatTxt1"):appSettings.get("dateLocalisation.formatHour"),a.replace(/\'/g,"").replace("dd","DD").replace("d","D").replace("cccc","dddd").replace("yyyy","YYYY")},dateFormat:function(a,b){return"string"==typeof a&&(a=a.replace(/ /g,"")),_.not(b)&&(b="GB_DATETXT4"),f.lang(dateLang,this._languageConfig),f(a).format(this._toMomentFormat(b))},ago:function(a,b,c){if(_.not(a))return"";(_.not(b)||_.isEmpty(b))&&(b=appLang);var d=[b.JOUR_7,b.JOUR_1,b.JOUR_2,b.JOUR_3,b.JOUR_4,b.JOUR_5,b.JOUR_6],e=new Date,f=this.parseDate(a),g=parseInt(e.getTime()/1e3)-f.getTime()/1e3,h=parseInt(g/86400),i=e.getFullYear()-f.getFullYear(),j=12*i+e.getMonth()-f.getMonth();return 0>g?b.CETAITQUAND_1:60>g?c?b.CETAITQUAND_1:b.CETAITQUAND_2.replace("[X]",g):120>g?c?"1 "+b.DATE_MIN:b.CETAITQUAND_3:3600>g?c?parseInt(g/60)+" "+b.DATE_MINS:b.CETAITQUAND_4.replace("[X]",parseInt(g/60)):7200>g?c?"1 "+b.DATE_HOUR:b.CETAITQUAND_5:86400>g?c?parseInt(g/3600)+" "+b.DATE_HOURS:b.CETAITQUAND_6.replace("[X]",parseInt(g/3600)):1==h?b.CETAITQUAND_7:7>h?d[f.getDay()]:(i>0&&e.getMonth()<f.getMonth()&&i--,e.getDate()<f.getDate()&&j--,0!=i?1==i?c?"1 "+b.DATE_YEAR:b.CETAITQUAND_9:c?i+" "+b.DATE_YEARS:b.CETAITQUAND_10.replace("[X]",i):0==j?c?h+" "+b.DATE_DAYS:b.CETAITQUAND_11.replace("[X]",h):1==j?c?"1 "+b.DATE_MONTH:b.CETAITQUAND_12:12>j?c?j+" "+b.DATE_MONTHS:b.CETAITQUAND_8.replace("[X]",j):void 0)},parseDate:function(a){if(!a)return"";var b=Date.parse(a.replace(/^([0-9\-]+) /,"$1T"));if(b)return new Date(b);format="yyyy-mm-dd hh:ii:ss";var c=a.match(/(\d+)/g),d=0,e={};return format.replace(/(yyyy|dd|mm|hh|ii|ss)/g,function(a){e[a]=d++}),new Date(c[e.yyyy],c[e.mm]-1,c[e.dd],c[e.hh],c[e.ii],c[e.ss])},hour:function(a){return f(a).format("HH:mm")},hour12:function(a){return f(a).format("hh:mm a")},url:function(a,b){for(var c in b)a=a.replace(new RegExp("\\["+c+"\\]","gi"),encodeURIComponent(b[c]));return a},search:function(a,b){var c=util.removeAccents(b).trim().replace(" ",",");return this.url(a,{KEYWORDS:c})},getDateNumber:function(a){return f.lang(dateLang,this._languageConfig),f(a).format("DD")},getDateDay:function(a){return f.lang(dateLang,this._languageConfig),f(a).format("dddd")},getDateMonth:function(a){return f.lang(dateLang,this._languageConfig),f(a).format("MMMM")},getDateYear:function(a){return f.lang(dateLang,this._languageConfig),f(a).format("YYYY")},dateToDayName:function(a){return util.capitaliseFirstLetter(f(a).format("dddd"))},eventDateFormat:function(a,b,c){var d="",e=f(a).format("LL"),g=f(a).format("LT"),h=this.dateToDayName(a)+" "+e,i=!1,j=!1;return _.isEmpty(b)||(i=f(b).format("LL"),j=f(b).format("LT"),endDateToDisplay=this.dateToDayName(b)+" "+i),i&&(e!=i||util.empty(c))?a==b?(d=h,d+=" "+appLang.DATE_PERIOD_4.replace("[HEURE]",j)):e==i?(d=h+" "+appLang.DATE_PERIOD_3.replace("[HEURE]",g),d+=" "+appLang.DATE_PERIOD_4.replace("[HEURE]",j)):util.empty(c)?(d=appLang.DATE_PERIOD_1.replace("[DATE]",h).replace("[HEURE]",g),d+=" "+appLang.DATE_PERIOD_2.replace("[DATE]",endDateToDisplay).replace("[HEURE]",j)):(d=appLang.DATE_PERIOD_1.replace("[DATE]",h).replace("[HEURE]",""),d+=" "+appLang.DATE_PERIOD_2.replace("[DATE]",endDateToDisplay).replace("[HEURE]","")):d=h,d}},isValidEmail:function(a){return a.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)},getContentHeight:function(){var a=$.mobile.getScreenHeight();if($('[data-role="header"]').length>0&&(a-=parseInt($('[data-role="header"]').height(),10)),$('[data-role="footer"]').length>0){var b=49;a-=b}$("[data-role=content]").length>0&&(a-=2*parseInt($("[data-role=content]").css("margin-top"),10));var c=d.getSelectedSection();return c&&!d.isSectionAndItem(c)&&($(".catPager").length&&"relative"==$(".catPager").css("position")&&$("#circleBandOuterDiv").is(":visible")?a-=$(".catPager").height():$("#circleBandOuterDiv").length&&$("#circleBandOuterDiv").is(":visible")&&(a-=$("#circleBandOuterDiv").height()+1)),util.lastContentHeight=util.contentHeight,util.contentHeight=a,a},ucfirst:function(a){a+="";var b=a.charAt(0).toUpperCase();return b+a.substr(1)},isValidJson:function(){return/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?!0:!1},isBBModel:function(a){return a instanceof Backbone.Model},convertKmIntoMiles:function(a){return.621371192*parseFloat(a,10)},MAP:{setMarkersForExistingMap:function(a){for(var b=this.convertToGeoJson(a);this.geoJSON.features.length;)this.geoJSON.features.pop();this.geoJSON.features.push.apply(this.geoJSON.features,b.features),this.addDataToMap()},getMapAsAnImage:function(a,b){return"<a "+d.map.makeLinkToExternalMap(a,b)+'><img src="http://maps.googleapis.com/maps/api/staticmap?center='+a+","+b+"&markers=color:red%7C"+a+","+b+'&zoom=15&size=600x300&maptype=roadmap&sensor=false"></img></a>'},_options:{mapContainer:"map",autoOpenMarkerPopup:!1,locateUser:!0,fillToContainer:!0,center:[0,0],zoom:2,mapOpts:{zoomControl:!1,attributionControl:!1},googleAppleStyle:[{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]}],panning:{animate:!0,duration:.5,padding:[50,50]}},convertMarkersListObjectToGeoJSON:function(a,b){function c(a,b){function c(a,b){var c=[];a&&a.items&&a.items.length>0&&(c=_.isUndefined(util.getCurrentAvailableContentData())?a.items:util.getCurrentAvailableContentData()),b(f.convertToGeoJson(c))}var e=d.getCurrentContentUrl(a),f=util.MAP;h?b(f.convertToGeoJson(viewFactory.currentView.getDataForCurrentShownContent())):util.requester(e,{},function(d){if(_.pos(a.get("kmlUrl"))){var e=a.get("kmlUrl"),g=e.substring(e.lastIndexOf("/")+1),h=g.split(".").pop(),i={dataType:"json"};"kml"==h&&(i.dataType="html"),util.requester(e,i,function(e){e&&(f.kmlUrlResponse={type:i.dataType,response:e,section:a}),c(d,b)})}else c(d,b)})}var e=util.isBBModel(a),f=d.getSelectedSection();d.isBookmarkSection()&&(f=appSections[d.getPost("parent")]);var g=d.map.isMapdistant(f),h=!1;util.MAP._options.isMapDistant=g,e?(h=a.get("template").contains("GBUserslistTemplateType"),util.MAP._options.isUserList=h,g||h?c(a,b):b(this.convertToGeoJson(a.get("points")))):b(this.convertToGeoJson([a]))},asyncInitCallback:function(){util.MAP.init()},asyncInit:function(a,b,c,d,e,f){$(function(){util.MAP.convertMarkersListObjectToGeoJSON(a,function(a){user.os.android?util.MAP.init(a,b,c,d,e,f):util.googleMapsIsLoaded?util.MAP.init(a,b,c,d,e,f):(util.MAPInitWasDelayed=!0,util.MAP.asyncInitCallback=function(){util.MAP.init(a,b,c,d,e,f)})})})},init:function(a,b,c,d,e,f){this.geoJSON=a,_.is(d)&&(this._options.autoOpenMarkerPopup=d),_.is(e)&&(this._options.locateUser=e),_.is(f)&&(this._options.fillToContainer=f);var g=b||this._options.mapContainer;this.fillToContainerHeight(g,c),_.is(this._map)&&(this._map.remove(),this._map.removeLayer(this._tiles)),this._map=Leaflet.map(g,this._options.mapOpts),this._tiles=this.getTiles();try{this._map.addLayer(this._tiles)}catch(h){}return util.MAP.mapHeight=$("#"+b).height(),this.addDataToMap(),this.initMapLocation(),this._map},getTiles:function(){return Leaflet.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:""})},addDataToMap:function(){var a=this;if(util.empty(a._data)||a._data.clearLayers(),a._data=Leaflet.geoJson(a.geoJSON,{pointToLayer:a.createMarker,onEachFeature:a.onEach}).addTo(a._map),util.empty(a.geoJSON.features)||setTimeout(function(){},100),!util.empty(a.kmlUrlResponse)){var b={style:function(b){var c=b.properties.stroke||"",d=b.properties.fill||"";switch(c.length>=3&&"#"!==c.substr(0,1)&&(c="#"+c),d.length>=3&&"#"!==d.substr(0,1)&&(d="#"+d),b.geometry.type.toLowerCase()){case"linestring":case"multilinestring":return{opacity:parseInt(a.kmlUrlResponse.section.get("defaultStrokeOpacity"),10)||b.properties["stroke-opacity"]||1,fillOpacity:parseInt(a.kmlUrlResponse.section.get("defaultFillOpacity"),10)||b.properties["fill-opacity"]||1,color:a.kmlUrlResponse.section.get("defaultStrokeColor")||c||"#FF0000",fillColor:a.kmlUrlResponse.section.get("defaultFillColor")||d||"#FF0000",weight:parseInt(a.kmlUrlResponse.section.get("defaultStrokeWidth"),10)||b.properties["stroke-width"]||3};case"polygon":case"multipolygon":return{opacity:parseInt(a.kmlUrlResponse.section.get("defaultStrokeOpacity"),10)||b.properties["stroke-opacity"]||1,fillOpacity:parseInt(a.kmlUrlResponse.section.get("defaultFillOpacity"),10)||b.properties["fill-opacity"]||.6,color:a.kmlUrlResponse.section.get("defaultStrokeColor")||c||"#FF0000",fillColor:a.kmlUrlResponse.section.get("defaultFillColor")||d||"#FF0000",weight:parseInt(a.kmlUrlResponse.section.get("defaultStrokeWidth"),10)||b.properties["stroke-width"]||1}}},pointToLayer:function(b,c){return Leaflet.circleMarker(c,{fillOpacity:1,fillColor:a.kmlUrlResponse.section.get("defaultMarkerColor")||"#FF0000",weight:0,radius:5})}},c=Leaflet.geoJson(null,b);a._map.hasLayer(a.drawLayer)&&a._map.removeLayer(a.drawLayer);var d=!1;if("html"==a.kmlUrlResponse.type)try{a.drawLayer=i.kml.parse(a.kmlUrlResponse.response,null,c),d=!0}catch(e){}else try{a.drawLayer=Leaflet.geoJson(a.kmlUrlResponse.response,b),d=!0}catch(e){}d&&a._map.addLayer(a.drawLayer)}a.placeCamera()},convertToGeoJson:function(a){var b={type:"FeatureCollection",features:[]};return _.is(a)&&a.length>0&&_.each(a,function(a){if(_.is(a.userId)){var a=_.clone(a);if(!a.attribs||!_.pos(a.attribs.geoloc))return;var c=a.attribs.geoloc.split(",");a.latitude=c[0],a.longitude=c[1],a.location=a.attribs.location,a.title=a.attribs.displayName,a.id=a.userId,a.pinIconUrl=a.urlPhoto,a.address=""}else a.location&&(a.title=a.location);b.features.push({type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(a.longitude),parseFloat(a.latitude)]},properties:a})},this),b},createMarker:function(a,b){var c=d.getSelectedSection();d.isBookmarkSection()&&(c=appSections[d.getPost("parent")]);var e=(util.MAP._options,d.map.getPinImage(c,a.properties.pinIconUrl,a.properties.pinIconColor)),f=a.properties.pinIconWidth/3||44,g=a.properties.pinIconHeight/3||44,h=f/2,i=g/2,j=!1;if(_.pos(a.properties.userId))var k=Leaflet.divIcon({iconSize:[f,g],iconAnchor:[h,i],popupAnchor:[0,-g/3],html:'<div class="leaflet-user-icon" style="background:url('+e+") center no-repeat;height:"+g+'px;background-size:cover;"></div>'});else{var k=Leaflet.icon({iconUrl:e,iconRetinaUrl:"",iconSize:[f,g],iconAnchor:[h,i],popupAnchor:[0,-g/3],shadowUrl:"",shadowRetinaUrl:"",shadowSize:[0,0],shadowAnchor:[0,0]});j=_.neg(a.properties.pinIconWidth)&&_.neg(a.properties.pinIconHeight)}var l=Leaflet.marker(b,{icon:k});return j&&l.on("add",function(a){var b=new Image,c=a.target.options.icon;b.onload=function(){var b=this.width/3,d=this.height/3,e=b/2,f=d/2,g=[b,d],h=[e,f],i=[0,-d/3];c.options.iconSize=g,c.options.iconAnchor=h,c.options.popupAnchor=i,a.target.setIcon(c),a.target._popup&&(a.target._popup.options.offset=i,a.target.bindPopup(a.target._popup)),a.target.update()},b.src=c.options.iconUrl}),l},onEach:function(a,b){b.bindPopup(util.MAP.madePopup(a.properties),{closeButton:!1}),b.on("click",function(){this._map.setView(b._latlng)})},madePopup:function(a){var b,c=d.getSelectedSection(),e=d.map.getPopupInfos(c,a.address);return b='<div class="popupTextContainer">',b+="<h1>"+a.title+"</h1>",b+="<p>"+e+"</p>",b+="</div>",(this._options.isMapDistant||this._options.isUserList)&&(b+=d.map.makePopupInfoIcon(a.id)),b},initMapLocation:function(){},addUserOnMap:function(){var a=util.MAP.userLL;util.MAP.userLL=a;var b={color:"#FFF",opacity:1,weight:5,fill:!0,fillOpacity:1,fillColor:"#0077FF",clickable:!1},c=Leaflet.circleMarker(a,b);try{util.MAP._map.addLayer(c)}catch(d){}util.MAP.fitBounds()},fitCameraBoundsWithAnimationChaining:function(a){function b(){var b=Math.round(c.mapHeight/8);c.fitBoundsIsAnimating=!0,c._map.invalidateSize(),c._map.fitBounds(a,{padding:[b,b]}),setTimeout(function(){if(c._options.autoOpenMarkerPopup){var a=d.getPost("item");util.MAP._options.isMapDistant&&a?c.openMarkerPopup(c.getMarkerById(a)):c._data.openPopup()}c.fitBoundsIsAnimating=!1},500)}var c=util.MAP;c.fitBoundsIsAnimating?setTimeout(b,500):b()},placeCamera:function(){var a=util.MAP;this.getUserLocation(function(){a._options.locateUser&&a.userLL&&a.addUserOnMap(),a.fitBounds(),a._options.autoOpenMarkerPopup&&setTimeout(function(){var b=d.getPost("item");util.MAP._options.isMapDistant&&b?a.openMarkerPopup(a.getMarkerById(b)):a._data.openPopup()},1)})},fitBounds:function(){var a=util.MAP;if(userLL=a._options.locateUser?a.userLL:!1,a._data&&a._data.getBounds()&&a._data.getBounds()._northEast){var b=a._data.getBounds();userLL&&b._northEast&&b._southWest&&(b._northEast.lng=Math.max(b._northEast.lng,userLL.lng),b._northEast.lat=Math.max(b._northEast.lat,userLL.lat),b._southWest.lng=Math.min(b._southWest.lng,userLL.lng),b._southWest.lat=Math.min(b._southWest.lat,userLL.lat));var c=Math.round(a.mapHeight/8);a._map.invalidateSize(),a._map.fitBounds(b,{padding:[c,c]})}else userLL?a._map.setView([userLL.lat,userLL.lng],a._options.zoom):a._map.setView(a._options.center,a._options.zoom)},fillToContainerHeight:function(a,b){if(this._options.fillToContainer){var c;d.isItemCall()?c=$("#"+b).height():($("[data-role=header]").css({position:"fixed",margin:0,top:0}),$("section.main").css("padding-top",$("[data-role=header]").height()),c=util.getContentHeight()),$("#"+a).height(c),util.MAP.mapHeight=c,util.MAP._map&&util.MAP._map.invalidateSize()}},replaceGeolocTokenInUrl:function(a,b){function c(c,e){!c&&e?(d=e.lat+","+e.lng,b(a.replace(/\[GEOLOC\]/g,d))):b(a)}if(-1==a.indexOf("[GEOLOC]"))b(a);else{var d="";if(this.userLL)d=this.userLL.lat+","+this.userLL.lng,b(a.replace(/\[GEOLOC\]/g,d));else{{location.href}util.MAP.getUserLocation(c,function(a){a||util.data.gotGeolocCallbackCalled||(util.data.gotGeolocCallbackCalled=!0,viewFactory.cacheEnabled&&viewFactory.flushCache(),viewFactory.currentView.rerender())})}}},getMarkerById:function(a){var b,c=util.MAP._data._layers;return _.each(c,function(c){b||c.feature.properties.id!=a||(b=c)}),b},openMarkerPopup:function(a){a&&(a.openPopup(),this._map.setView(a._latlng))},getUserLocation:function(a,b){if(a=a||function(){},b=b||function(){},navigator.geolocation){var c=new Timeout(function(){a("no position yet")},150,void 0);util.MAP.getCurrentPosition(function(d){return util.MAP.userLL=util.MAP.userLL||{},util.MAP.userLL.lat=d.coords.latitude,util.MAP.userLL.lng=d.coords.longitude,c.cleared?void b(!1,util.MAP.userLL):(c.clear(),void a(null,util.MAP.userLL))})}else a("browser does not support geoloc")},callbackList:[],currentPositionRequested:!1,navigatorGeoLocResult:!1,navigatorGeoLocError:!1,navigatorGeoLocErrorMessage:"",getCurrentPosition:function(a,b,c){function d(a){for(var b;b=util.MAP.callbackList.shift();)a?b.successCallback(util.MAP.navigatorGeoLocResult):b.errorCallback&&b.errorCallback(util.MAP.navigatorGeoLocError)}function e(a){util.MAP.navigatorGeoLocResult=a,d(!0)}function f(a){util.MAP.navigatorGeoLocError=a,d(!1)}c=c||{},c.maximumAge||(c.maximumAge=18e5),navigator.geolocation&&navigator.geolocation.getCurrentPosition||(util.MAP.navigatorGeoLocError="geoloc not supported",d(!1)),util.MAP.navigatorGeoLocResult?a(util.MAP.navigatorGeoLocResult):util.MAP.navigatorGeoLocError&&b?b(util.MAP.navigatorGeoLocError):(util.MAP.callbackList.push({successCallback:a,errorCallback:b}),util.MAP.currentPositionRequested||(util.MAP.currentPositionRequested=!0,setTimeout(function(){navigator.geolocation.getCurrentPosition(e,f,c)})))},reverseGeocoding:function(a,b){$.ajax({url:"http://nominatim.openstreetmap.org/reverse?format=json&lat="+a.lat+"4&lon="+a.lng+"&zoom=18&addressdetails=1&accept-language="+appSettings.get("lg"),data:{},success:function(a){if(!a.error&&a.address){var c="",d="",e="",f=a.address.country_code,f="gb"==f?"uk":f,g=util.countryList[f];c=a.address.city||a.address.town||a.address.village||"",d=a.address.road||a.address.bridleway||a.address.pedestrian||a.address.memorial||"",util.empty(d)?(a.address.suburb&&(d=a.address.suburb),a.address.city_district&&(d+=d.length?", "+a.address.city_district:a.address.city_district),a.address.county&&a.address.county!=c&&(d+=d.length?", "+a.address.county:a.address.county)):(a.address.suburb&&(e=a.address.suburb),a.address.city_district&&(e+=e.length?", "+a.address.city_district:a.address.city_district),a.address.county&&a.address.county!=c&&(e+=e.length?", "+a.address.county:a.address.county));var h={address:d,address2:e,city:c,state:a.address.state||a.address.county,postCode:a.address.postcode?a.address.postcode.split(";")[0]:"",country:g,countryCode:f};util.MAP.userAddress=h,b(h)}else b({error:a.error})},dataType:"JSON"})}},fillToPage:function(a){function b(){a.height(util.getContentHeight())}b(),$(window).on("resize.removable",b)},getElementsByKey:function(a){var b=[];return $("[style*='key:"+a+"']").each(function(){b.push($(this))}),b},setCssForKey:function(a,b,c){$("[style*='key:"+a+"']").each(function(){$(this).css(b,c)})},scanDivForKeys:function(a,b){if(preview){b&&!window.bindingsV2&&(window.bindingsV2={});var c=b?".keyForSelectorV2":".keyForSelector",d=b?window.bindingsV2:window.bindings;$(c).each(function(){var c=$(this).data("selector"),e="";b?e=$(this).data("key"):user.browser.ie?(e=$(this).data("key").replace("key:","").replace(";",""),e=e.replace(/^\s+|\s+$/g,"")):e=$(this).data("key").replace(";key:","").replace(";",""),(_.not(d[e])||a)&&(d[e]=[]);var f=[];b?f.push(c):f=$(c).get(),_.each(f,function(a){_.inArray(a,d[e])||d[e].push(a)},this)})}},scanPageForKeys:function(){window.preview&&(bindings||(bindings={}),$("[style*='key']").each(function(){if(!$(this).attr("style"))return!1;var a=user.browser.ie?"":"",b=$(this).attr("style").split(a+"key:");_.each(b,function(a){if(user.browser.ie&&(a=a.replace(/^\s+|\s+$/g,"")),0==a.indexOf("appSe")){var b=a.substr(0,a.indexOf(";"));_.not(bindings[b])&&(bindings[b]=[]);var c=$(this).get();_.each(c,function(a){_.inArray(a,bindings[b])||bindings[b].push(a)},this)}},this)}),util.scanDivForKeys())},imagePngCanvas:function(){try{return function(){preview&&$("img.canvas:visible").each(function(){return $(this).hasClass("isColored")?!1:(color=$(this).attr("data-image-color")||"#ffffff",img=$(this).get(0),void util.pixastic.process(img,"coloradjust",{first:!0,hex:color}))})}.apply(this,arguments)}catch(a){return util.postError("imagePngCanvas",a,a.stack),""}},addGoogleFontToList:function(a){var b=appSettings.get("googleFontsList");_.not(b)&&(b=[]),-1==b.indexOf(a)&&b.push(a)},buildGoogleFontsUrl:function(){var a=appSettings.get("googleFontsList");return a&&a.length>0?"http://fonts.googleapis.com/css?family="+a.join("|"):""},updateKeyElements:function(a,b){_.is(bindings[a])&&(bindings[a]=b)},getBindings:function(){return window.bindings?window.bindings:(this.scanPageForKeys(),window.bindings)},getBindingsV2:function(){return window.bindingsV2?window.bindingsV2:(this.scanDivForKeys(!1,!0),window.bindingsV2)},getIframeContents:function(a){var b=!1;try{b=$(a).contents()}catch(c){}return b},setContextClassesForBody:function(){$("body").removeClass("mobile android iphone tablet"),!$.support.cssTransform3d||user.browser.ie||user.browser.iemobile||$("body").addClass("transform3d");var a=user.os.android?"android":"iphone";$("body").addClass(a),$("body").addClass(user.device.tablet||user.device.desktop?"tablet":"mobile"),user.browser.ie&&$("body").addClass("ie"),user.originalDevice.desktop&&user.originalOS&&-1!=user.originalOS.indexOf("windows")&&$("body").addClass("windows-desktop")},setForcedUserSettings:function(){if(preview||devMode){var a,b;a=window.parent&&"undefined"!=typeof window.parent.previewOS&&null!==window.parent.previewOS?window.parent.previewOS:d.getPost("os"),_.is(a)&&(("iphone"==a||"ipad"==a)&&(a="ios"),_.each(user.os,function(b,c){user.os[c]=c==a.toLowerCase()?!0:!1},this)),b=window.parent&&"undefined"!=typeof window.parent.previewDevice&&null!==window.parent.previewDevice?window.parent.previewDevice:d.getPost("device"),_.is(b)&&_.each(user.device,function(a,c){user.device[c]=c==b.toLowerCase()?!0:!1},this)}},applyPlatformClassForDesktop:function(){user.device.desktop&&!$("body").hasClass("desktop")&&$("body").addClass("desktop")},showRootMenu:function(a){_.not(a)&&(a=!1);var b=d.rootMode();if("GBRootControllerTypeLittleSwipe"==b||"GBRootControllerTypeFacebookMenu"==b){var c=appSettings.get("root.targets");sectionID=c[0],window.location.hash=a?"!section="+sectionID:"!section="+sectionID+"&openMenu=1"}else if("GBRootControllerTypeCustomTabBar"==b){var c=appSettings.get("root.targets");sectionID=c[0],window.location.hash="!section="+sectionID}else window.location.hash="!"},showSection:function(a){section=appSections[a],preview&&section&&"GBModuleTypeChat"==section.get("type")?d.setPost("section",a):window.location.hash="!section="+a},showLogin:function(){window.location.hash="!showLogin=1"},showSectionDetail:function(a){var b=appSections[a];if(_.is(b)&&_.is(b.get("contentUrl"))){var c,e,f=b.get("contentUrl"),g="",h="",i={sectionID:a},j=d.getSectionSubSections(b);_.is(j)&&_.is(j[0])&&_.is(j[0].contentUrl)&&(f=j[0].contentUrl,g="&cat=0",e=0),d.sectionHasFilterTabs(b)&&(c=d.getDefaultTabIdForSection(b),h="&tab="+c,f=d.buildContentUrlWithTokens(f,0,c,b));var k={section:a,cat:e,tab:c};util.requester(f,i,function(a){if(_.is(a.items)&&a.items.length>0){var b=_.clone(a.items[0]);b.userId&&(b.id=b.userId),b.id?(k.item=b.id,window.location.hash=d.objectiveUrlTo(k)):window.location.hash=d.objectiveUrlTo(k)}else window.location.hash=d.objectiveUrlTo(k)})}else preview&&b&&"GBModuleTypeChat"==b.get("type")?d.setHash("section="+a+"&item=2"):window.location.hash="!"},showUnactiveProfileTab:function(){$(".tabFilterInner a:not(.sorting-selectedBackgroundColor)").trigger("click")},showOtherMenu:function(){"GBRootControllerTypeCustomTabBar"==d.rootMode()&&(window.location.hash="!section=other")},showToolbar:function(){util.toggleToolBarSwipe(!1,!0),util.toggleToolBarSlide(!1,!0)},showSearch:function(){$("#searchForm").show()},copyGeneralNavBarToSection:function(a){var b=appSections[a];b&&b.set("navBar",appSettings.get("navBar"))},getCurrentItem:function(a){var b=d.getSelectedSection(),c=d.getPost("item");_.is(b)&&_.is(c)?d.searchItemByID(b,c,function(b){a(_.is(b)?b:!1)}):a(!1)},drawlivePlayerCanvas:function(){function a(){function b(a,b){f.beginPath(),f.arc(n,o,j,k,b,!1),f.lineWidth=5,f.strokeStyle=a,f.stroke(),f.closePath()}(t||globalsAppVars.playing)&&(t=!1,f.clearRect(0,0,g,h),f.globalAlpha=.4,p?(b(s,m),f.globalAlpha=1,b(r,l)):(b(r,m),f.globalAlpha=1,b(s,l)),l+=.04,l>m&&(p=!p,l=k));var c=d.getSelectedSection();c&&u==c.get("id")&&i(a)}var b=275,c=275;user.device.mobile&&(b=200,c=200),$("#livePlayerCanvas").height(b).width(c).css("z-index","1");var e=document.querySelector("#livePlayerCanvas");if(null!==e){var f=e.getContext("2d"),g=e.width,h=e.height,i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,j=135,k=1.5*Math.PI,l=k,m=3.5*Math.PI,n=e.width/2,o=e.height/2,p=!0,q=d.getLoopColor(d.getSelectedSection()).split(";").shift(),r=q,s=q,t=!0;globalsAppVars.playing=!1;var u=d.getSelectedSection().get("id");a()}},AudioVisualizer:function(){this.timer=null,this.speed=80,this.currentFrame=0,this.spectrumValues=g,this.barColor="red",this.barColorKey="",this.barWidth=6,this.barSpace=2,this.nbBars=$(window).width()/(this.barSpace+this.barWidth),this.bars=[],this.gridRows=10,this.play=function(){if(!this.timer)var a=this;this.timer=setInterval(function(){a.move()},this.speed)},this.stop=function(){return this.timer?(clearInterval(this.timer),void(this.timer=null)):!1},this.initScene=function(a){this.nbBars=$(window).width()/(this.barSpace+this.barWidth),a=a||"audioviz",this.scene=document.getElementById(a),this._clearScene();for(var b=0;b<this.nbBars;b++){var c=document.createElement("div"),d=(100/this.nbBars,b<this.spectrumValues[0].length?b:b-this.spectrumValues[0].length);c.className="audioBar",c.style.width=this.barWidth+"px",c.style.height=this.spectrumValues[0][d]+"px",c.style.display="inline-block",c.style.position="absolute",c.style.left=b*(this.barWidth+this.barSpace)+"px",c.style.bottom=0,c.style.backgroundColor=this.barColor,$(c).attr("style",$(c).attr("style")+this.barColorKey),$(c).attr("data-target-property","background-color"),this.bars.push(c),this.scene.appendChild(c)}},this._clearScene=function(){_.isNull(this.scene)||(this.scene.innerHTML=""),this.bars=[]},this.move=function(){_.each(this.bars,function(a,b){var c=b<this.spectrumValues[this.currentFrame].length?b:b-this.spectrumValues[this.currentFrame].length,d=this.bars[b];d.style.height=this.spectrumValues[this.currentFrame][c]+"px"},this),this._nextFrame()},this._nextFrame=function(){this.currentFrame<this.spectrumValues.length-1?this.currentFrame++:this.currentFrame=0},this.setColor=function(a,b,c){var e=d.getSelectedSection();b=b||1,colorKey=c?"detail.equalizerColor":"equalizerColor",opacityKey=c?"detail.equalizerOpacity":"equalizerOpacity",this.barColor=d.css.hexToRgba(a,b),this.barColorKey=d.fk(colorKey,e)+d.fk(opacityKey,e)}},VolumeDragger:function(a,b){return this.init(a,b)},DurationDragger:function(a,b){return this.init(a,b)},removeAccents:function(a){for(var a=a.split(""),b=new Array,c=a.length,d="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",e="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz",f=0;c>f;f++)b[f]=-1!=d.indexOf(a[f])?e.substr(d.indexOf(a[f]),1):a[f];return b=b.join("")},supportStorage:function(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}},getStorage:function(){return this.supportStorage()?window.localStorage:!1},resetStorage:function(){return this.supportStorage()&&(this.getStorage().removeItem("globalsAppVars"),globalsAppVars=this.getGlobalsAppVars()),!1},getGlobalsAppVars:function(){var a=this.supportStorage()?this.getStorage().getItem("globalsAppVars"):{};return this.empty(a)?{favs:{},searchHistory:[]}:JSON.parse(this.Base64.decode(a))},setGlobalsAppVars:function(){return this.supportStorage()&&this.getStorage().setItem("globalsAppVars",this.Base64.encode(JSON.stringify(globalsAppVars))),!1},getFavs:function(a){function b(c,h,j){e.requestContent(c,function(c){if(f++,c&&c.items&&c.items.length)if(item=d.getItemById(c,h),util.empty(item)&&!util.empty(c.next_page))b(c.next_page,h,j);else{var e=_.clone(item);_.is(e)&&(e.parentSection=j,g.push(e))}i==f&&a(g)},!0)}var c=modules.storage.get("favoris"),f=0,g=[],h=_.filter(c,function(a){var b=appSections[a.section];return b?a.cat?b.get("subsections")&&b.get("subsections")[a.cat]?!0:!1:!0:!1},this);h=_.uniq(h),modules.storage.set("favoris",h);var i=_.size(h);return i>0?void _.each(h,function(a){b(a.contentUrl,a.item,a.section)},this):a([])},itemIsOnFav:function(a){return _.where(modules.storage.get("favoris"),{item:a}).length>0},setOnFav:function(a){return this.itemIsOnFav(a.item)?!1:modules.storage.pushOn("favoris",a)},removeFromFav:function(a){var b=modules.storage.get("favoris"),c=_.without(b,_.findWhere(b,{item:a}));return modules.storage.set("favoris",c)},appHasFavoris:function(){return modules.storage.get("favoris").length>0},setDistanceUseMiles:function(a){return modules.storage.set("useMiles",a),!1},convertImgToBase64URL:function(a,b,c){var d=new Image;d.crossOrigin="Anonymous",d.onload=function(){var a,d=document.createElement("CANVAS"),e=d.getContext("2d");d.height=this.height,d.width=this.width,e.drawImage(this,0,0),a=d.toDataURL(c),b(a),d=null},d.src=a},replaceURLs:function(a){var b=new RegExp(/((https?):\/\/((?:www\.|(?!www))[^\s\.]+\.[^\s]{2,})|(www\.[^\s]+\.[^\s]{2,}))/g);return a.replace(b,function(a,b,c,d,e){var c=c||"http",d=d||e||"";return"<a href='"+c+"://"+d+"' target='_blank'>"+a+"</a>"})}},util.VolumeDragger.prototype={init:function(a,b){id=a||"#volume-slider",this.audio=b||$("audio").get(0),this.container=$(id),this.slider=this.container.find(".slide-control"),this.btn=this.slider.find(".slide-control-button"),this.fillBar=this.slider.find(".slide-fill-bar"),this.startOffset,this.holderOffset,this.sliderWidth,this.handleWidth;
var c=this;return this.btn.on("mousedown.removable, touchstart.removable",function(a){a.preventDefault(),c.drag()}),this.container.on("click.removable",function(a){a.preventDefault(),c._setOnClick(a)}),this},drag:function(){var a=this;this.holderOffset=this.slider.offset().left,this.startOffset=this.btn.offset().left-this.holderOffset,this.sliderWidth=this.slider.width(),$(document).on({"mousemove.removable, touchmove.removable":function(b){b.preventDefault(),a.moveHandler(b)},"mouseup.removable, touchend.removable":function(){a.stopHandler()}})},moveHandler:function(a){var b=a;a.originalEvent.touches&&(b=a.originalEvent.touches[0]);var c=b.pageX-this.holderOffset;c=Math.min(Math.max(0,c),this.sliderWidth);var d=c/this.sliderWidth;this._setVolume(d),this._setPosition(d)},stopHandler:function(){$(document).off("mousemove"),$(document).off("touchmove")},_setVolume:function(a){this.audio.volume=a},_setPosition:function(a){var b=100*a+"%";this.btn.css("left",b),this.fillBar.css("width",b)},_setOnClick:function(a){var b=a;a.originalEvent.touches&&(b=a.originalEvent.touches[0]);var c=b.pageX-this.slider.offset().left;c=Math.min(Math.max(0,c),this.slider.width());var d=c/this.slider.width();this._setVolume(d),this._setPosition(d)}},util.DurationDragger.prototype={init:function(a,b){id=a||"#duration-container",this.audio=b||$("audio").get(0),this.container=$(id),this.startOffset,this.holderOffset,this.sliderWidth,this.handleWidth,this.slider=this.container.find(".slide-control"),this.btn=this.slider.find(".slide-control-button"),this.fillBar=this.slider.find(".slide-fill-bar"),this.pastSeconds=this.container.find(".seconds-past"),this.remainingSeconds=this.container.find(".seconds-remaining");var c=this;return this.btn.on("mousedown.removable, touchstart.removable",function(a){a.preventDefault(),c.drag()}),isNaN(c.audio.duration)||(c.remainingSeconds.html(c.audio.duration>=3600?util.secondsToHms(c.audio.duration):util.secondsToMs(c.audio.duration)),c.progressHandler()),this.audio.addEventListener("loadedmetadata",function(){c.remainingSeconds.html(c.audio.duration>=3600?util.secondsToHms(c.audio.duration):util.secondsToMs(c.audio.duration))},!1),this.audio.addEventListener("playing",function(){c.progressHandler()},!1),this.audio.addEventListener("pause",function(){c.stopProgressHandler()},!1),this},drag:function(){var a=this;this.holderOffset=this.slider.offset().left,this.startOffset=this.btn.offset().left-this.holderOffset,this.sliderWidth=this.slider.width(),$(document).on({"mousemove.removable, touchmove.removable":function(b){b.preventDefault(),a.moveHandler(b)},"mouseup.removable, touchend.removable":function(){a.stopHandler()}})},stopHandler:function(){$(document).off("mousemove"),$(document).off("touchmove")},progressHandler:function(){var a=this;this.interval=setInterval(function(){var b=100*a.audio.currentTime/a.audio.duration+"%";a.btn.css("left",b),a.fillBar.css("width",b),a._updateTime()},1e3)},stopProgressHandler:function(){clearInterval(this.interval)},moveHandler:function(a){var b=a;a.originalEvent.touches&&(b=a.originalEvent.touches[0]);var c=b.pageX-this.holderOffset;c=Math.min(Math.max(0,c),this.sliderWidth);var d=c/this.sliderWidth,e=100*d+"%";this.btn.css("left",e),this.fillBar.css("width",e);var f=this.audio.duration;f=isNaN(f)?0:f;var g=d*f;this._updateTime(g),this._setDuration(g)},_setDuration:function(a){this.audio.currentTime=a},_updateTime:function(a){var a=a||this.audio.currentTime;this.pastSeconds.html(a>=3600?util.secondsToHms(a):util.secondsToMs(a));var b=isNaN(this.audio.duration)?0:this.audio.duration-a;this.remainingSeconds.html(this.audio.duration-a>=3600?util.secondsToHms(b):util.secondsToMs(b))}},b.exports=util},{"./common":1,"./contentLoader":2,"./fakeSpectrumValues":3,"./moment":25,"./omnivore.min":26,"./pixastic":28,"./rules":33}],178:[function(a,b){var c=a("./view"),d=a("./viewComponent"),e=300,f=c.extend({isMultiView:!0,panels:{},templateHandlers:{},hashKeysForViewTypes:{item:"itemView",search:"searchView",searchquery:"searchResultsView",searchfilters:"searchFiltersView"},viewTypeSpecs:{},states:{empty:"EMPTY",loaded:"LOADED",rendered:"RENDERED",shown:"SHOWN"},fire:function(a){_.each(a,function(a){a()})},eventListeners:{},on:function(a,b){this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push(b)},off:function(a){this.eventListeners[a]&&(this.eventListeners[a]=[])},trigger:function(a){_.each(this.eventListeners[a],function(a){a&&a()})},multiRender:function(a,b,c,d,f,g,h){this.platform={device:_.clone(user.device),os:_.clone(user.os)},this.templateHandlers={},this.renderID=util.getUniqueString(),this.maxContentLoadingRange=10,this.maxViewRenderingRange=3,this.disableAnimations=!1,this.viewComponents={},this.panels={},this.updateViewFilterInfo(),this.render(a,b,c,d,f,g,h),this.section=rules.getSelectedSection(),this.baseContentUrl=this.getBaseContentUrl(),modules.login.checkAccessOnCurrentView().status&&(this.templateName=this.section.get("template"),this.multiTemplate=templateFactory.getMultiViewTemplate(this.templateName,{section:this.section}),this.contentTemplate=this.multiTemplate.contentTemplate.template,this.mainTemplateHandlers=this.multiTemplate.mainTemplate.handlers,this.multiTemplate.hashKeysForViewTypes&&(this.hashKeysForViewTypes=_.extend(this.hashKeysForViewTypes,this.multiTemplate.hashKeysForViewTypes)),this.viewTypeSpecs=this.multiTemplate.viewTypeSpecs,this.itemTemplateName=this.multiTemplate.itemTemplate.name,this.itemTemplate=this.multiTemplate.itemTemplate.template,this.itemTemplateHandlers=this.multiTemplate.itemTemplate.handlers,this.panelTemplates=this.multiTemplate.panels,_.each(this.multiTemplate,function(a,b){"panels"==b?_.each(a,function(a,b){this.templateHandlers[b]=a.handlers},this):a.handlers&&(this.templateHandlers[b]=a.handlers)},this),this.injectStyle(),this.addViewFilter(),this.loadContentViews(),this.updatePanels(!0),this.fire(this.mainTemplateHandlers),this.throttledUpdateView=_.throttle(this.updateView,e+150),this.initLoadMoreListener(),this.switchUserMapFix(),this.multiTemplate.loopHandlers&&(this.loopHandlers=this.multiTemplate.loopHandlers,_.bindAll(this,"execLoopHandlers"),this.execLoopHandlers()))},execLoopHandlers:function(){function a(c){viewFactory.currentView==b&&(c.handler(),setTimeout(function(){a(c)},c.interval))}var b=this;_.each(this.loopHandlers,function(b){setTimeout(function(){a(b)},b.interval)})},getDataForCurrentShownContent:function(){var a;return _.each(this.panels,function(b,c){"searchResultsView"==c&&this.searchPreloadedData&&(a=this.searchPreloadedData.items)},this),a||(a=window.util.getCurrentAvailableContentData()),a},updateDOMDefinedAsyncContent:function(a,b,c,d){var e=this;_.not(b)&&(b=!0);var f=a?a.find(".DOM-DefinedAsyncContent"):$(".DOM-DefinedAsyncContent");a&&a.hasClass("DOM-DefinedAsyncContent")&&(f=a.add(f)),f.each(function(){function a(a,c){c=c||{};var g=util.hashCode(JSON.stringify(c)),j=$(this).data("always-reload")||!1;if(!a&&(j||!$(this).data("checksum")||$(this).data("checksum")!=g)){var k=$(this).data("async-template"),l=templateFactory.getTemplate(k),m=e.section;$(this).html(l({data:c,section:m})),$(this).data("checksum",g),h.page&&$(this).data("provider-page",h.page);var n=$(this)[0].scrollHeight,o=$(this).scrollTop();$(this).scrollTop(o+n-i),b&&_.each(f.postLoadHandlers,function(a){a()})}d&&d(a,h)}if(1!=$(this).data("block-async-content-update")){var f=util.getDataProviderFunctions($(this).data("data-provider")),g=$(this).attr("data-provider-parameters");if(f){var h={};g&&g.length&&(h=JSON.parse(g)),h.callback=_.bind(a,this),h.page=c;var i=$(this)[0].scrollHeight;f.contentLoader.call(null,h)}}})},checkAndLoadMore:function(){function a(){return d.currentContentViewComponent&&!d.currentContentViewComponent.lastPageLoaded&&!d.currentContentViewComponent.loadingContent}function b(){if(!a())return!1;var b=1.5*$(window).height()+$(window).scrollTop(),c=d.currentContentViewComponent.getEl().find(".loadMoreContentHolder");return c.length?(currentContentBottomY=c.offset().top+c.height(),b>currentContentBottomY?!0:!1):!1}function c(a){var b=d.currentContentViewComponent;b.render(function(){b.id==d.currentContentViewComponent.id&&(b.callHandlers(),d.setCurrentContentViewComponent(b),a())},!0)}var d=window.viewFactory.currentView;a()&&b()&&c(function(){})},initLoadMoreListener:function(){$(window).on("scroll.removable",_.throttle(this.checkAndLoadMore,300))},getAndApplyStyleTag:function(){},injectStyle:function(){$("#mainViewHolder").append(modules.style.getStyle(this.section)),util.scanDivForKeys(!1,!0)},updateNavBar:function(){rules.navBarHasTitle(this.section)&&$("#pageHeader .navTitle, #pageHeader .titleLogo").replaceWith(rules.getNavBarTitle(this.section))},addViewFilter:function(){rules.sectionShowFilterTabsTemplate(this.section)&&(this.subCatFilterTemplate=templateFactory.getTemplate("tabFilter"),$(".generalSectionContainer").prepend(this.subCatFilterTemplate({section:this.section,selectedCat:this.cat,selectedTab:this.tab})),window.handlers.manageTabFilter(),$("#mainViewHolder").css("margin-top","52px"))},updateViewFilterInfo:function(){rules.getPost("cat")&&(this.cat=parseInt(rules.getPost("cat"))),rules.getPost("tab")&&(this.tab=rules.getPost("tab"),this.tabIndex=rules.getTabIndex(this.section,this.tab))},updateViewFilterDisplay:function(){var a=this,b=$(".tabFilterContainer").hasClass("material");window.handlers.updateSortingDisplay(a.tabIndex,a.cat,b,e),this.updateCategoriesDisplay()},updateCategoriesDisplay:function(){switch(rules.getSectionCategoriesTemplate(this.section)){case"GBCategoriesTemplateTypeExpandable":return window.handlers.updateCategoriesExpandable(this.section,this.cat);case"GBCategoriesTemplateTypeDropDown":return;case"GBCategoriesTemplateTypePager":return window.handlers.updateCategoriesPager(this.cat);case"GBCategoriesTemplateTypeCircleBand":return window.handlers.updateCategoriesCircleBand(this.cat);case"GBCategoriesTemplateTypeOverlay":return window.handlers.updateCategoriesOverlay(this.cat)}},fillPanelWithContent:function(a,b,c,d){var e="";if(c.addNavBar){var f=_.extend(c.addNavBar,{id:a+"NavBar"});f.isAPanelNavBar=!0,d.append(rules.getNavBar(this.section,f)),e="withExternalNavBar"}var g=$("<div class='templateContainer "+a+" "+e+"'></div>");g.html(window.templateFactory.getTemplate(a)(b)),d.append(g).addClass(a+" panelCurrent"),rules.makeNavBarEffect(this.section)},updateFullscreenViewHolder:function(){_.size(this.panels)?($("#fullscreenViewHolder").show(),this.panels.searchResultsView&&($(".generalSectionContainer").addClass("fullScreenMode"),$("body").addClass("fullScreenMode"))):($("#fullscreenViewHolder").hide(),$(".generalSectionContainer, body").removeClass("fullScreenMode"))},fitFullScreenViewHolderToContent:function(){return},getAnimationClassForViewType:function(a){var b,c=this.getTemplateKeyForViewType(a);return c&&(c=this.panelTemplates[c]),c&&(b=c.animation),b||"panelRight"},addPanel:function(a,b,c,d,e){var f={cat:this.cat,tab:this.tab},g=this.createViewHolder(a,f,!0),h=$("#"+g);this.panels[a]={$el:h,hashValue:b},h.addClass("panelShown"),d||h.addClass(this.getAnimationClassForViewType(a));var i=this.viewTypeSpecs[a];if(i.withOverlay){var j=d?"shown":"",k=$("<div class='multiViewPanelOverlay "+a+"Overlay "+j+"'></div>");k.appendTo($("#fullscreenViewHolder")),this.panels[a].$overlay=k,d||setTimeout(function(){k.addClass("shown")},50),k.on("click swiperight",function(){util.backToPreviousHash()})}this.updateFullscreenViewHolder();var l=this.getTemplateNameForViewType(a);this.multiTemplate.viewTypeSpecs[a].enablePanelBackground&&util.addBackgroundGeneralToEl(h,this.section,!0),this.fillPanelWithContent(l,c,i,h);var m=this.templateHandlers[this.getTemplateKeyForViewType(a)];_.each(m,function(a){a(h)}),this.updateDOMDefinedAsyncContent(h);var n=this;d?e&&e():setTimeout(function(){h.removeClass(n.getAnimationClassForViewType(a)),e&&e()},100),this.fitFullScreenViewHolderToContent()},closePanel:function(a,b,c){var d=this.panels[a];if(d){d.$overlay&&(b?d.$overlay.remove():(d.$overlay.removeClass("shown"),setTimeout(function(){d.$overlay.remove()},e)));var f=d.$el;if(b)f.remove(),delete this.panels[a],this.updateFullscreenViewHolder(),c&&c();else{f.addClass(this.getAnimationClassForViewType(a));var g=this;setTimeout(function(){f.remove(),delete g.panels[a],g.updateFullscreenViewHolder(),c&&c()},e)}}},getTemplateNameForViewType:function(a){return"itemView"==a?this.itemTemplateName:"searchView"==a?this.panelTemplates.searchTemplate.name:"searchResultsView"==a?this.panelTemplates.searchResultsTemplate.name:"searchFiltersView"==a?this.panelTemplates.searchFiltersTemplate.name:"postMessageView"==a?this.panelTemplates.postMessageTemplate.name:void 0},getTemplateKeyForViewType:function(a){return"itemView"==a?"itemTemplate":"searchView"==a?"searchTemplate":"searchResultsView"==a?"searchResultsTemplate":"searchFiltersView"==a?"searchFiltersTemplate":"postMessageView"==a?"postMessageTemplate":void 0},addExtraTemplateParametersForPanel:function(a,b,c,d){var e={data:d};if("itemView"==c)switch(a){case"userDetail":e={mode:"publicProfile",publicProfileData:d,section:this.section,cat:this.cat,tab:this.tab,itemID:b};break;case"GBChatDetailTemplateTypeSquare":case"GBChatDetailTemplateTypeRounded":case"GBChatDetailTemplateTypeNoPhoto":var f=util.getDataProviderParameters(this.section,"item",b);e={dataProvider:f.dataProvider,dataProviderParameters:f.dataProviderParameters}}else if("searchView"==c)e={mode:"searchquery",section:this.section};else if("searchResultsView"==c)switch(a){case"GBUserslistTemplateTypeGrid":case"GBUserslistTemplateTypeClassic":var g="search=1&searchquery="+encodeURIComponent(rules.getPost("searchquery"));e={section:this.section,cat:this.cat,tab:this.tab,data:d,extraUrlComponents:g}}else"searchFiltersView"==c?e={mode:"filters",section:this.section}:"postMessageView"==c&&(e={section:this.section,data:d});return e.template=a,e},getTemplateParametersForPanel:function(a,b,c){function d(d,e){if(e)c("content get for "+a+" failed");else{var f=h.addExtraTemplateParametersForPanel(g,b,a,d);c(null,f)}}var e={sectionID:this.section.get("id"),subsectionID:this.cat,tabID:this.tab},f={cat:this.cat,tab:this.tab},g=this.getTemplateNameForViewType(a),h=this,i=this.viewTypeSpecs[a];if(i.needsContents){if("itemView"==a)if(rules.getPost("search")&&rules.getPost("searchquery"))this.searchPreloadedData?d(this.searchPreloadedData):c("data not found for panel "+a);else{var j=this.buildContentUrlForContentFilter(this.baseContentUrl,f);util.requestRouter({url:j,callback:d,options:e,viewType:a,hashValue:b})}else if("searchResultsView"==a){if("GBModuleTypeUserslist"==this.section.get("type")){var k=util.getCurrentSearchFilters(),l={keywords:k.keywords,filters:k.filters},h=this;modules.api.userapi.request("getUsers",l,function(a,b){var c={items:[],users:[]};a||(b.items=b.users,c=b),h.searchPreloadedData=c,d(c,null)},{baseApiUrl:"",targetUrl:this.section.get("searchUrl"),doNotDisplayError:!0})}}else if("postMessageView"==a){var h=this,m=util.getCurrentAvailableContentData(),n={items:[],users:[]};m?(n.items=m,n.users=m,d(n,null)):modules.api.chatapi.openChatListWithUsers({callback:function(a,b){a||(n=b),d(n,null)}})}}else d({})},updatePanels:function(a){this.trigger("updatePanelsStarted");var b=[],c=[];if(_.each(this.hashKeysForViewTypes,function(a,d){var e=!1,f=!1,g=!1,h=rules.getPost(d);h?this.panels[a]?h!=this.panels[a].hashValue&&(e=!0,f=!0,g=!0):e=!0:this.panels[a]&&(f=!0),e&&c.push({viewType:a,hashValue:rules.getPost(d),forceInstant:g}),f&&b.push({viewType:a,hashValue:rules.getPost(d),forceInstant:g})},this),c.length>0?$("section.main.section").css("overflow-y","hidden"):$("section.main.section").css("overflow-y","auto"),b.length||c.length){var d=0,e=0,f=_.bind(function(){d++,d==b.length&&e==c.length&&this.trigger("updatePanelsDone")},this),g=_.bind(function(){e++,d==b.length&&e==c.length&&this.trigger("updatePanelsDone")},this);_.each(b,function(b){var c=b.forceInstant?!0:a;this.closePanel(b.viewType,c,f)},this),_.each(c,function(b){var c=this,d=b.forceInstant?!0:a;this.getTemplateParametersForPanel(b.viewType,b.hashValue,function(a,e){a||c.addPanel(b.viewType,b.hashValue,e,d,g)})},this)}else this.trigger("updatePanelsDone")},loadContentViews:function(){$(".viewHolder").remove();var a=rules.getSectionContentFilteringLevels(this.section),b=rules.getClosestContentFiltersFromCurrent(this.section,a);_.each(b,function(a){this.addAndUpdateViewComponent(a,"contentView")},this)},addAndUpdateViewComponent:function(a,b){var c=this.createViewComponent(a,b);this.viewComponents[c.id]=c,this.updateViewComponentState(c,function(){c.updateView()})},createViewHolder:function(a,b,c){var d=$(c?"#fullscreenViewHolder":"#mainViewHolder"),e=this.getViewId(a,b);return d.append('<div id="'+e+'" class="viewHolder '+a+'"></div>'),e},createViewComponent:function(a,b){b=b||"contentView";var c=_.clone(d);return c.contentUrl=this.buildContentUrlForContentFilter(this.baseContentUrl,a),c.id=this.createViewHolder(b,{cat:a.cat,tab:a.tab}),c.$el=$("#"+c.id),c.type=b,c.template=this.contentTemplate,c.templateName=this.templateName,c.distanceFromCurrentContentView=a.distance,c.cat=a.cat,c.tab=a.tab,c.parentView=this,c.state="EMPTY",c},updateViewComponentState:function(a,b){function c(c){function e(){b(a)}var f=a.distanceFromCurrentContentView<d.maxViewRenderingRange;f&&"LOADED"==a.state?a.render(e,!1,!1,c):e()}var d=this;a.state==this.states.empty&&a.distanceFromCurrentContentView<this.maxContentLoadingRange?a.loadContents(c):c()},setViewComponentsLock:function(a){_.each(this.viewComponents,function(b){b.lockRender=a})},getViewId:function(a,b){var c=a+"ViewHolder";return _.is(b.cat)&&(c+="_cat-"+b.cat),_.is(b.tab)&&(c+="_tab-"+b.tab),_.is(b.item)&&(c+="_id-"+b.id),_.is(b.name)&&(c+="-name"+b.name),c},updateView:function(){function a(){_.each(d,function(a){var b=f.getViewId("contentView",a),c=f.viewComponents[b];f.updateViewComponentState(c,function(a){a.updateView()})},this)}if(!_.isEqual(this.platform.device,user.device)||!_.isEqual(this.platform.os,user.os))return this.multiRender(this.cache,this.locationKey,this.parentEl);if(this.updateNavBar(),this.updateViewFilterInfo(),this.updateViewFilterDisplay(),this.updatePanels(this.disableAnimations),rules.sectionHasFilters(this.section)){var b,c=rules.getSectionContentFilteringLevels(this.section),d=rules.getClosestContentFiltersFromCurrent(this.section,c);_.each(d,function(a){var c=this.getViewId("contentView",a),d=this.viewComponents[c];d.distanceFromCurrentContentView=a.distance,0==a.distance&&(b=d)},this);var f=this;this.updateViewComponentState(b,function(b){$newVC=b.$el,$oldVC=$(".viewHolder.current");var c=f.viewComponents[$oldVC.attr("id")],d="right"==b.visualPosition?"left":"right";c.visualPosition=d,b.prepareView(function(){$oldVC.addClass(d),$newVC.removeClass("left right").removeClass("prepared"),b.currentify(),setTimeout(function(){a(b)},e)})})}this.switchUserMapFix()},switchUserMapFix:function(){_.is(rules.getPost("search"))&&!_.is(rules.getPost("searchquery"))||_.is(rules.getPost("searchfilters"))||_.is(rules.getPost("item"))?$(".mapListSwitch").hide():$(".mapListSwitch").show(),$(".mapListSwitch").hasClass("mapMode")&&window.handlers.switchUserListMapMode()},setCurrentContentViewComponent:function(a){this.currentContentViewComponent=a,this.fitViewContainerToViewComponent(a),this.checkAndLoadMore(!0)},fitViewContainerToViewComponent:function(a){if(rules.getSectionContainerFillModeForTemplate(this.section)){var b=a.getEl();$(".generalSectionContainer").height(b.height()+200)}},getBaseContentUrl:function(){return this.section.get(rules.sectionHasSubSections(this.section)?"subsections[0].contentUrl":"contentUrl")},buildContentUrlForContentFilter:function(a,b){return b=b||{},_.is(b.cat)&&(a=this.section.get("subsections["+b.cat+"].contentUrl")),rules.buildContentUrlWithTokens(a,b.cat,b.tab)},loadContentView:function(a,b,c){rules.getContent(b||a,this.contentTemplate,this.templateName,c),this.preloadedContentsViewsCounter++}});b.exports=f},{"./view":181,"./viewComponent":182}],179:[function(a,b){var c=a("./templatesHandlers").handlers,d=a("../util"),e=[{templates:["GBRootControllerTypeSlate"],events:{'click .home .pager span:not(".sel")':"clickBullet","swipeleft #root:not(.move)":"swipeleftBullet","swiperight #root:not(.move)":"swiperightBullet"}},{templates:["GBArticleListTemplateTypeMinimalPhotos","GBArticleListTemplateTypeMinimalColor"],events:{"swiperight .fullheight":"navPrev","swipeleft .fullheight":"navNext"}},{templates:["GBArticleListTemplateTypeSlideShow"],events:{"swiperight .slideshow":"prevSlide","swipeleft .slideshow":"nextSlide","click .slideshow-bullet":"prevSlideBullet","click .slideshow-bullet":"nextSlideBullet"}},{templates:["GBPhotoDetailTemplate"],events:{'swiperight .encapse-photo.current:not(".emptyLeft")':"prevPhoto",'swipeleft .encapse-photo.current:not(".emptyRight")':"nextPhoto"}},{templates:["GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],events:{"click #twitterFollowBtn":"follow"}},{templates:["GBAgendaListTemplateTypeExpandable"],events:{"click .eventDate":"expandEvent"}},{templates:["GBArticleDetailTemplateTypeToolBarUp","GBArticleDetailTemplateTypeToolBarSlide","GBArticleDetailTemplateTypeToolBarSwipe","GBSoundDetailTemplateTypeSoundCloud"],events:{"click .player-play":"togglePlayPause","swiperight section.main":"soundPrev","swipeleft section.main":"soundNext"}},{templates:["GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],events:{"click .GBTwitterListTemplateTypeClassic a.item":"expandTweetActions"}}],f=[{templates:["GBArticleListTemplateTypeMinimalPhotos","GBArticleListTemplateTypeMinimalColor"],handlers:{navNext:c.minimalNextArticle,navPrev:c.minimalPrevArticle}},{templates:["GBArticleListTemplateTypeSlideShow"],handlers:{prevSlide:c.slideShowPrev,nextSlide:c.slideShowNext,prevSlideBullet:c.slideShowPrevBullet,nextSlideBullet:c.slideShowNextBullet}},{templates:["GBPhotoDetailTemplate"],handlers:{prevPhoto:c.prevPhoto,nextPhoto:c.nextPhoto}},{templates:["GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],handlers:{follow:c.follow}},{templates:["GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],handlers:{expandTweetActions:c.expandTweetActions}},{templates:["GBAgendaListTemplateTypeExpandable"],handlers:{expandEvent:c.expandEvent}},{templates:["GBArticleDetailTemplateTypeToolBarUp","GBArticleDetailTemplateTypeToolBarSlide","GBArticleDetailTemplateTypeToolBarSwipe","GBSoundDetailTemplateTypeSoundCloud"],handlers:{togglePlayPause:c.togglePlayPause,soundPrev:c.soundPrev,soundNext:c.soundNext}}],g=[{templates:["GBRootControllerTypeSlate"],handlers:[c.initSwipeNextSection],refireable:!0},{templates:["GBRootControllerTypeGrid"],handlers:[c.initGBRootControllerTypeGrid],refireOnOrientationChange:!0},{templates:["GBRootControllerTypeSlate"],handlers:[c.initGBRootControllerTypeSlate]},{templates:["GBRootControllerTypeLargeTypo"],handlers:[c.initGBRootControllerTypeLargeTypo]},{templates:["GBRootControllerTypeTypo"],handlers:[c.initGBRootControllerTypeTypo],device:"mobile"},{templates:["GBRootControllerTypeTypo"],handlers:[c.initGBRootControllerTypeTypoTablet],device:"tablet",refireOnOrientationChange:!0},{templates:["GBRootControllerTypeFacebookMenu"],handlers:[c.initGBRootControllerTypeFacebookMenu],refireable:!0},{templates:["GBRootControllerTypeLittleSwipe"],handlers:[c.initGBRootControllerTypeFacebookMenu]},{templates:["GBRootControllerTypeScratch"],handlers:[c.initGBRootControllerTypeScratch,c.initGBCustomTemplateTypeClassic]},{templates:["GBNodeListTemplateTypeVisuels","GBNodeListTemplateTypeVisuelsColor","GBNodeListTemplateTypeUneGrid","GBNodeListTemplateTypeGrid","GBNodeListTemplateTypeGridColor","GBNodeListTemplateTypeUneGridColor","GBNodeListTemplateTypeList","GBNodeListTemplateTypeListColor","GBNodeListTemplateTypeSlideShow"],handlers:[c.initGBNodeList],refireable:!0},{templates:["GBModuleTypeCustomScratch","GBModuleTypeCustomUrl","GBPluginTemplateTypeClassic","GBNodeListTemplateTypeScratch","GBShopListTemplateTypeClassic"],handlers:[c.initGBCustomTemplateTypeClassic]},{templates:["GBSettingsListTemplateTypeClassic"],handlers:[c.initGBSettingsListTemplateTypeClassic],refireable:!0},{templates:["GBMapsListTemplateTypeClassic"],handlers:[c.initGBMapdistantListTemplateTypeClassic],device:"mobile",refireable:!0},{templates:["GBMapListTemplateTypeClassic"],handlers:[c.initGBMap],refireOnOrientationChange:!1,refireable:!0},{templates:["GBMapListTemplateTypeClassic","GBMapsListTemplateTypeClassic"],handlers:[c.changeOrientationGBMap],refireOnOrientationChange:!0,refireable:!0},{templates:["GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],handlers:[c.initTwitterNoMargin],device:"mobile"},{templates:["GBSubmitListTemplateTypeClassic"],handlers:[c.initSubmitSection],refireable:!0},{templates:["GBSubmitDetailTemplateTypeClassic"],handlers:[c.initSubmitDetail],refireable:!0},{templates:["GBLiveListTemplateTypeClassic"],handlers:[c.initLive]},{templates:["GBCategoriesTemplateTypeCircleBand"],handlers:[c.initCircleBand,c.initPositionHandlerForCategoriesFilterInNavBar],refireable:!0},{templates:["GBCategoriesTemplateTypeDropdown"],handlers:[c.initDropdown,c.initPositionHandlerForCategoriesFilterInNavBar],refireable:!0},{templates:["GBCategoriesTemplateTypeOverlay"],handlers:[c.manageArrows],refireable:!0},{templates:["GBAboutListTemplateTypeBannerImageAndTitle"],handlers:[c.initAboutSectionBanner]},{templates:["GBAboutListTemplateTypeBannerImage"],handlers:[c.initAboutSectionBanner]},{templates:["GBAboutListTemplateTypeClassic"],handlers:[c.initAboutSectionClassic]},{templates:["GBFormListTemplateTypeClassic"],handlers:[c.initFormListTemplateTypeClassic]},{templates:["GBCategoriesTemplateTypeOverlay","GBCategoriesTemplateTypeCircleBand","GBCategoriesTemplateTypeGhost","GBCategoriesTemplateTypePager","GBCategoriesTemplateTypeExpandable"],handlers:[c.swipeToChangeSubsection],refireable:!0},{templates:["GBQrcodeTemplateTypeClassic"],handlers:[c.initGBQrcodeTemplateTypeClassic]},{templates:["GBLoginTemplate"],handlers:[c.initGBLogin],refireable:!0},{templates:["GBProfileTemplateTypeClassic"],handlers:[modules.profile.templateHandler,c.initSortingTabs,c.updateProfileTabView],refireable:!0},{templates:["GBContactListTemplateTypeClassic","GBContactListTemplateTypeButton"],handlers:[c.initGBContactList],refireable:!1},{templates:["GBBookmarkListTemplateTypeClassic"],handlers:[c.loadImagesOrigins,c.setBookmarkHeight,c.bookmarkingDeletion]},{templates:["GBBookmarkListTemplateTypeClassic"],handlers:[c.initGBArticleListTemplateTypeClassicTablet],device:"tablet",refireOnOrientationChange:!0,refireable:!0},{templates:["GBLiveListTemplateTypePlus","GBLiveListTemplateTypeClassic"],handlers:[c.liveStreamFix],refireable:!0}],h=[{templates:["GBLiveListTemplateTypePlus","GBLiveListTemplateTypeClassic"],handlers:[c.liveStreamFix],refireable:!0},{templates:["_asyncArticleDetail","_asyncArticleDetail_bkmrkdtl"],handlers:[c.initArticleDetailSection,c.nextOrPrevArticleOnSwipe]},{templates:["_asyncVideoDetail"],handlers:[c.initVideoDetailSection]},{templates:["GBArticleListTemplateTypeClassic","GBArticleListTemplateTypeVisuels"],handlers:[c.loadImagesOrigins]},{templates:["GBArticleListTemplateTypeMinimalColor","GBArticleListTemplateTypeMinimalPhotos"],handlers:[c.initGBArticleListTemplateTypeMinimal]},{templates:["GBArticleListTemplateTypeCheckerboard"],handlers:[c.initGBArticleListTemplateTypeCheckerboard]},{templates:["GBArticleListTemplateTypeClassic","GBArticleListTemplateTypeClassicUne"],handlers:[c.initGBArticleListTemplateTypeClassicTablet],device:"tablet",refireOnOrientationChange:!0,refireable:!0},{templates:["GBArticleListTemplateTypeMinimalColor","GBArticleListTemplateTypeMinimalPhotos"],handlers:[c.initGBRootMinimal]},{templates:["GBArticleListTemplateTypeGrid","GBArticleListTemplateTypeUneGrid","GBSoundListTemplateTypeClassic"],handlers:[c.loadImagesOrigins]},{templates:["GBArticleListTemplateTypeGrid","GBArticleListTemplateTypeUneGrid","GBArticleListTemplateTypeClassic","GBArticleListTemplateTypeVisuels","GBArticleListTemplateTypeSlideShow"],handlers:[c.initListArticle]},{templates:["GBArticleListTemplateTypeUneGrid"],handlers:[c.initGBArticleListTemplateTypeUneGridTablet],device:"tablet",refireOnOrientationChange:!0,refireable:!0},{templates:["GBPhotoListTemplateTypePinterest"],handlers:[c.applyPinterest],refireOnOrientationChange:!0},{templates:["GBArticleListTemplateTypeSlideShow"],handlers:[c.loadImagesOrigins]},{templates:["GBArticleListTemplateTypeSlideShow"],handlers:[c.initGBArticleListTemplateTypeSlideShowTablet],device:"tablet",refireOnOrientationChange:!0,refireable:!0},{templates:["GBPhotoListTemplateTypeInstagram"],handlers:[c.instagramFocus],refireOnOrientationChange:!0},{templates:["GBPhotoListTemplateTypeEdgetoedge"],handlers:[c.initGBPhotoListTemplateTypeEdgetoedge],refireOnOrientationChange:!0},{templates:["GBPhotoListTemplateTypeInstagram"],handlers:[c.initGBPhotoListTemplateTypeInstagramTablet],device:"tablet",refireOnOrientationChange:!0},{templates:["GBCommentTemplateTypeClassic"],handlers:[c.initGBCommentTemplateTypeClassic]},{templates:["GBArticleDetailTemplateTypeToolBarSwipe"],asyncTarget:["asyncDetail"],handlers:[c.prevArticle,c.nextArticle]},{templates:["_asyncPhotoDetail","_asyncPhotoDetail_bkmrkdtl"],handlers:[c.initGBPhotoDetailTemplate,c.initPinchToZoomOnDetailPhoto]},{templates:["GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],handlers:[c.initAsyncTwitterList],device:"mobile"},{templates:["GBTwitterListTemplateTypeClassic","GBTwitterListTemplateTypeBanner","GBTwitterListTemplateTypeProfile"],handlers:[c.initTwitterFollowBtn]},{templates:["GBAgendaListTemplateTypeClassic"],handlers:[c.loadImagesOrigins]},{templates:["GBAgendaDetailTemplateTypeToolbarUp"],asyncTarget:["_asyncAgendaDetail"],handlers:[c.initAgendaDetail,c.nextOrPrevArticleOnSwipe],refireable:!0},{templates:["_asyncAgendaDetail_bkmrkdtl"],handlers:[c.initAgendaDetail],refireable:!0},{templates:["any"],handlers:[c.LoadMore,d.scanPageForKeys,d.imagePngCanvas,modules.linkManager.updateLinks,c.loadImagesOrigins,function(){viewFactory.currentView.$el.trigger("create")},c.fixCircleBandLayout,c.actionNavBarButton],refireable:!0},{templates:["GBLiveListTemplateTypePlus"],handlers:[c.initLivePlus],refireable:!0},{templates:["GBMapsDetailTemplateTypeClassic"],asyncTarget:["_asyncMapsDetailClassic"],handlers:[c.initMapsdistantDetail],refireable:!0},{templates:["_asyncMapsDetailClassic_bkmrkdtl"],handlers:[c.initBookmarkMapsdistantDetail],refireable:!0},{templates:["GBMapsDetailTemplateTypeClassic"],asyncTarget:["_asyncMapsDetailClassic"],handlers:[c.nextOrPrevArticleOnSwipe],refireable:!0,device:"mobile"},{templates:["GBSoundListTemplateTypeClassic"],handlers:[c.initSoundList]},{templates:["GBSoundDetailTemplateTypeClassic"],asyncTarget:["_asyncSoundDetail"],handlers:[c.initSoundDetail,c.initBothSound,c.initListWithDetail]},{templates:["GBSoundListTemplateTypeSoundCloud"],handlers:[c.initSoundcloudList,c.liveStreamFix]},{templates:["GBSoundDetailTemplateTypeSoundCloud"],asyncTarget:["_asyncSoundcloudDetail"],handlers:[c.initSoundcloudDetail,c.initBothSound,c.initListWithDetail,c.liveStreamFix]},{templates:["_asyncAgendaDetail"],handlers:[c.initEventListWithDetail,c.initListWithDetail]},{templates:["GBFacebookListTemplateTypeClassic"],handlers:[c.initFacebookList],device:"tablet"},{templates:["GBShareTemplateTypeClassic"],handlers:[c.initGBShareTemplateTypeClassic]},{templates:["any"],handlers:[c.buildSEOMetas],device:"phantom"},{templates:["GBNotificationsSettings"],handlers:[modules.push.settingsViewHandler]}];b.exports={events:e,eventHandlers:f,postDOMInsertHandlers:g,postAsyncOperationHandlers:h}},{"../util":177,"./templatesHandlers":180}],180:[function(require,module,exports){var platform=require("../platform"),pinch=require("../pinchzoom"),rules=require("../rules.js"),templateFactory=require("../templates/templateFactory"),cloader=require("../contentLoader"),handlers=window.handlers={sliding:!1,preTemplateRenderDefaultBehavior:function(){},postTemplateRenderDefaultBehavior:function(){},preDOMInsertDefaultBehavior:function(){},postDOMInsertDefaultBehavior:function(){function a(){$("#fake-bg-m").css("height",$(document).height())
}function b(a){return a.preventDefault(),i.blur(),i.val(""),f.hide(),l.removeClass("locked"),k.removeClass("active"),setTimeout(function(){k.hide()},400),!1}if(!window.staticRender){rules.isRootAndSection()||!rules.currentViewHasOtherTargetButton("root")||$("#otherTargetButtonContainer").length||$("#root").append(rules.makeOtherTargetButton(!1)),util.setSmartAppBannerArgument(),util.loadGoogleFonts(),util.scanPageForKeys(),modules.linkManager.updateLinks();var c;if(_.isEmpty(rules.getPost("section"))||(c=rules.getSelectedSection()),preview&&(rules.getPost("openMenu")&&"1"==rules.getPost("openMenu")&&($("#root > .menu").hasClass("open")||util.toggleSwipe(!1,!0)),rules.getPost("openToolbar")&&"1"==rules.getPost("openToolbar")&&util.showToolbar(),$("a[href*='gbtel=1;'], a[href*='gbmail=1;']").on("click",function(a){a.preventDefault(),window.parent.showNotSupportedInPreviewMessage()})),preview||$("a[href*='url']").on("click",function(){var a=$(this).attr("href").split("=")[1],b=appSections[a].get("url");window.open(b,"_blank")}),user.device.mobile||handlers.sharingModalBehavior(),user.os.android&&user.os.version<2.4&&($("#fake-bg-m").length<1&&$("body").append('<div id="fake-bg-m" '+rules.backgroundGeneralForMobile()+">"),setTimeout(a,1e3),$(window).on("touchstart.removable scroll.removable",a)),user.os.android&&user.os.version<2.4&&$("#root").css("min-height",$(window).height()),c){rules.makeNavBarEffect(c);var d=/Sound/.test(rules.getDetailTemplate(rules.getSelectedSection()));(!/GBModuleTypeCustom|GBModuleTypePlugin/.test(rules.getSectionType(cur.section))&&!d||d&&user.device.mobile)&&$("body").removeClass("templateNoOverflow");var e=c;if(rules.getSectionSearchEnabled(e)&&(!rules.isSearchCall()||!user.device.mobile&&"GBMapsListTemplateTypeClassic"==e.get("template")))if(user.device.mobile){var f=$("#searchButton"),g=f.find("input"),h=$("#searchForm"),i=h.find("input"),j=h.find("#cancelSearch"),k=($(".content-role"),$("#searchPanel")),l=$("#root");user.os.ios&&f.slideDown(),$(window).on("scroll",function(){if(!rules.searchFormCanBeDisplayed(c))return!1;var a=window.pageYOffset;0==a&&f.slideDown()}),g.off("focus").on("focus",function(){0==$(".open").length?(l.addClass("locked"),k.show(0,function(){k.addClass("active")}),i.focus()):this.blur()}),j.off("click").on("click",b),$("#searchForm").off("submit").on("submit",function(a){a.preventDefault();var b=i.val();return util.empty(b)?!1:(globalsAppVars.searchHistory.push(b),util.setGlobalsAppVars(),rules.setPost("search",b))})}else{var m=$("#search-tablet-overlay"),n=$("#search-tablet-panel"),o=$("#search-tablet-button"),h=$("#searchForm"),l=$("#root");o.off("click").on("click.removable",function(){m.fadeIn(),o.hide(),n.addClass("sliding"),l.addClass("locked")}),m.off("click").on("click.removable",function(){$(this).fadeOut(),n.removeClass("sliding").find("input").val(""),o.show(),l.removeClass("locked")}),h.off("submit").on("submit",function(a){a.preventDefault();var b=$(this).find("input").val();return util.empty(b)?!1:(m.fadeOut(),o.show(),n.removeClass("sliding").find("input").val(""),l.removeClass("locked"),globalsAppVars.searchHistory.push(b),util.setGlobalsAppVars(),rules.setPost("search",b))})}if(!preview&&rules.isListCommentsCall()&&rules.getSectionLoginRequired(c)&&!rules.getDisqus(c)&&($(".canvas.edit-icon").on("click.removable",function(){$("#commentOverlay").show()}),$("#commentOverlay").on("click.removable",function(){$("#commentOverlay").hide()})),!rules.isItemCall()){var p=rules.getNavBarBackButton();$("#pageHeader > .backToRoot, #pageHeader > .backToNode").replaceWith(p)}if(rules.isSectionCall(!0)){var q=rules.getPost("item"),r=c;rules.isBookmarkSection()&&(r=appSections[rules.getPost("parent")]),rules.getContentForItem(r,void 0,r.get("id")+"key",void 0,q,function(a){var b=rules.getItemById(a,q);b&&($("#toolbarHolder").html(rules.makeToolBar(c,b)),util.empty(b.purchaseUrl)||$(".iconPurchaseSound").on("click",function(){window.open($(this).data("url"),"_blank")}))},!0)}}modules.ads.getAndShowBanner(),loadMoreIsLoaded=!1}},manageTabFilter:function(){function a(){var a=$(window).scrollTop();b>=a?$(".tabFilterContainer").css("top",b+c-a):$(".tabFilterContainer").css("top",c)}var b=44,c=0;$(".subsectionListHeader").length&&(c=$(".subsectionListHeader").height()),"hide"==rules.getNavBarEffect(void 0,rules.getSelectedSection())?(a(),$(window).on("scroll.removable",a)):$(".tabFilterContainer").css("top",b+c)},switchUserListMapMode:function(){$(".mapListSwitch .canvas").toggle(),$(".mapListSwitch").toggleClass("mapMode"),$(".mapListSwitch").hasClass("mapMode")?($(".userlistMapContainer").toggle(),util.MAP.asyncInit(rules.getSelectedSection(),void 0,void 0,!1),$(".mapListSwitch").addClass("mapLoaded"),setTimeout(function(){$(".userlistMapContainer").addClass("open")},50)):($(".userlistMapContainer").removeClass("open"),setTimeout(function(){$(".userlistMapContainer").toggle()},500))},updateSortingDisplay:function(a,b,c,d){function e(){$(".tabFilterContainer .tab").each(function(d){$(this).hasClass("sorting-titleSelectedColor")&&d!==a?$(this).removeClass("sorting-titleSelectedColor sorting-selectedBackgroundColor").addClass("sorting-normalBackgroundColor"):$(this).hasClass("sorting-titleSelectedColor")||d!=a||(c||$(this).removeClass("sorting-normalBackgroundColor").addClass("sorting-selectedBackgroundColor"),$(this).addClass("sorting-titleSelectedColor")),$(this).attr("href",rules.objectiveUrlTo({section:f.get("id"),cat:b,tab:$(this).data("target-tab")}))})}var c=$(".tabFilterContainer").hasClass("material"),f=rules.getSelectedSection(),a=a||rules.getTabIndex(f,rules.getPost("tab")),b=b||rules.getPost("cat");if(c){{var g=a;$(".tabFilterContainer .tab").length}$(".tabFilterContainer .tabSelector").css("transform","translate3d("+100*g+"%, 0, 0)"),setTimeout(e,d-10)}else e()},initSortingTabs:function(){var a=rules.getSelectedSection(),b=rules.getSectionTabs(a);return 0==b.length?!1:void $(".tabFilterContainer .tab").on("click",function(a){return a.preventDefault(),rules.setPost("tab",$(this).data("target-tab"),!0),window.handlers.updateSortingDisplay(),!1})},updateProfileTabView:function(){$(".tabFilterContainer .tab").on("click",function(a){a.preventDefault();var b=rules.getPost("tab");return $(".tabContent").addClass("hidden"),$("."+b).removeClass("hidden"),modules.profile.resetOuterContainerLayout(),!1})},initUserslistTemplateTypeClassic:function(){!preview&&user.device.tablet?$(window).on("orientationchange.removable",function(){handlers.resizeCellsForUserlist()}):$(window).on("resize.removable",_.throttle(function(){handlers.resizeCellsForUserlist()},100)),$("#new-search-button").on("click",function(){rules.getPost("search")||rules.setPost("search","1")}),$(".mapListSwitch").on("click",function(){handlers.switchUserListMapMode()}),$(".userlistMapContainer").on("click",".popupInfoIcon",function(){rules.setPost("item",$(this).data("itemid"))})},resizeCellsForUserlist:function(a){var b=rules.getSelectedSection();-1!=b.get("template").indexOf("Grid")&&(a||(a=$(".viewHolder.current")),a.find(".userListInner a").each(function(){$(this).height(1.51*$(this).width())}))},initUserSearch:function(){$(".searchBar").keypress(function(a){if(13==a.which){var b=$(this).val().split(" ").join(",");rules.setPost("searchquery",encodeURIComponent(b))}})},initUserSearchResults:function(){$("#searchFiltersPanelButton").on("click",function(){rules.setPost("searchfilters","1")})},initUserSearchFilter:function(){var a=util.getCurrentSearchFilters(),b=a.keywords,a=a.filters;$(".filterList select").on("change",function(){var c=$(this).data("id");if(c){var d=$(this).val(),e="";$(this).parent().find("span").html(d),a.arrayFields||(a.arrayFields=[]);var f={};f[c]=d;var g=!1,h=[];_.each(a.arrayFields,function(b){_.keys(b)[0]==c?("noFilter"==d?delete a.arrayFields[c]:(a.arrayFields[c]=d,h.push(f)),g=!0):h.push(b)},this),g||h.push(f),a.arrayFields=h,e=a&&a.arrayFields&&a.arrayFields.length?b+"&filters="+JSON.stringify(a):b,rules.setPost("searchquery",encodeURIComponent(e)),rules.removePost("searchfilters")}})},buildSEOMetas:function(){function a(a){var b={};if("item"==a){var c=util.getCurrentAvailableItem();if(c){c.title&&(b.title=c.title),c.summary&&(b.description=c.summary);var d=rules.getItemFirstImageAttribute(c,"url");d&&(b.image=d),c.url&&(b.canonical=c.url)}}else if("section"==a){var e=rules.getSelectedSubsection(),f=rules.getSelectedSection();f&&f.get("title")?b.title=f.title:e&&e.get("title")&&(b.title=e.get("title"))}else"root"==a&&(b.title=appSettings.get("appName"),b.image=appSettings.get("appIcon"));return b}var b={},c={},d={};rules.isItemCall()?(b=a("item"),c=a("section")):rules.isSectionCall()&&(c=a("section")),d=a("root"),$("body").append(_.extend({},d,c,b)),util.createSEOMetatags(_.extend({},d,c,b))},initGBLogin:function(){modules.login.loginTemplateHandler()},initGBQrcodeTemplateTypeClassic:function(){modules.qrScanner.initScanner($(".QRCodeButtonContainer"))},initGBRootControllerTypeScratch:function(){$("#iframe-rootScratch").on("load",function(){$(this).contents().find("html").css({height:"100%",width:"100%"})})},initGBRootControllerTypeGrid:function(){function a(){var a=rules.getPost("slide");$("#bulletSlides > .home-sections").each(function(){var b=$(this).data("page-id");$(this).removeClass("current left right"),$(this).addClass(a==b?"current":a>b?"left":"right")})}function b(a){$(".home-menu .pager").hide(),$(".home-menu .pager-"+a).show()}function c(c){if(s)return!1;var d=rules.getPost("slide");if(d!=c){var e="left";d>c&&(e="right");var f=$("#bulletSection-"+c);if(f.length){s=!0,b(c);var g=$("#bulletSlides .current");f.addClass("current"),rules.setPost("slide",c,!0),setTimeout(function(){f.removeClass("left right"),g.addClass(e),setTimeout(function(){a(),s=!1},350)},100)}}}$("#otherTargetButtonContainer").length&&$(".home-footer").addClass("withOtherTarget");var d=user.device.mobile?appSettings.get("root.grid.nbIcons"):$("body").hasClass("landscape")?8:9,e="<div class='home-menu-inner'><div class='home-menu-inner-inner'>";e+="<div id='bulletSlides' class='nbicons-"+d+"'>";var f=0,g=0,h="",i=Math.ceil(appSettings.get("root.targets").length/d);rules.getPost("slide")&&parseInt(rules.getPost("slide"))>i-1?rules.setPost("slide",i-1,!0):_.not(rules.getPost("slide"))&&rules.setPost("slide","0",!0);var j=parseInt(rules.getPost("slide"));1==i&&(i=0);var k=appSettings.get("root.grid.titleImage"+(user.device.mobile?"":"Ipad")+".imageUrl");if(_.is(k)){var l=k.match(/@(\w+).\w{3,4}/),m=_.isArray(l)?l.pop():"",n=new Image,o=1;"iphone6plus"==m?o=3:"2x"==m&&(o=2),n.onload=function(){var a=this.width/o,b=this.height/o,c=a+"px "+b+"px";(a>$.mobile.window.width()||b>.25*$.mobile.window.height())&&(c="contain"),$(".menuTitleContainer").css({"background-position":"center center","background-size":c})},n.src=k}_.each(appSettings.get("root.targets"),function(a){var b=appSections[a];if(_.is(b)){var c=rules.getSectionIcon(b);if(f%d==0){e+="<div id='bulletSection-"+g+"' data-page-id='"+g+"' class='home-sections animated'>",e+="<div class='bulletSectionInner'>",g++,h+="<div class='pager pager-"+(g-1)+"' style='"+(g-1==j?"":"display:none;")+"'>";for(var a=0;i>a;a++){var k=rules.fallback("root.grid.onColor","root.grid.iconColor"),l=rules.fallback("root.grid.offColor","root.grid.textFont.color");h+="<span data-target-property='background-color' data-page-id='"+a+"' id='"+(g-1)+"bulletButton-"+a+"' "+(g==a+1?' class="sel" style=\'background-color:'+k.stringify()+"'":"style='background-color:"+l.stringify()+"'")+"></span>"}h+="</div>"}var m=rules.moduleRootGridIconColorWithSectionId(a),n=rules.moduleRootGridIconTextureWithSectionId(a),o=rules.moduleRootGridIconTitleBackgroundColorWithSectionId(a),p=rules.moduleRootGridIconTitleBackgroundOpacityWithSectionId(a),q=rules.css.hexToRgba(o,p),r=rules.moduleRootGridIconTitleFontWithSectionId(a);e+='<a style="'+rules.fontStyle(r)+"\" href='"+rules.urlTo("section",b.get("id"))+"'>",e+="<div>",e+=c.imageUrl?rules.css.createImg("canvas",c.imageUrl):rules.createIcon(rules.getRealIconUrl(c.image),m,n,"","","",rules.fk("root.grid.iconColor"),void 0,void 0,!0),e+="</div>",e+='<span style="background:'+(q||"none")+';">'+util.stripslashes(b.get("title"))+"</span>",e+="</a>",++f%d==0&&(e+="</div>",e+="</div>")}}),f%d!=0&&(e+="</div>"),e+="</div></div>",e+=h+"</div>",$(".home-menu").html(e),a();var p,q,r,s=!1,t=0,u=0,v=0,w=0,x=!1,y=!1,z=!1,A=!1;$(document).off("vmousedown.removable").on("vmousedown.removable",function(){A=!0}),$(document).off("vmousemove.removable touchmove.removable").on("vmousemove.removable touchmove.removable",function(a){function b(a){if(!a.length)return 0;var b=a.css("transform");return parseInt(b.split(",")[4])}if(A){if(!z){if(s)return;z=!0,s=!0,j=parseInt(rules.getPost("slide")),t=a.pageX||a.originalEvent.touches[0].pageX,p=$(".home-menu .current").removeClass("animated"),q=$(".home-menu .current").prev(".home-sections").removeClass("animated").show(),r=$(".home-menu .current").next(".home-sections").removeClass("animated").show(),u=b(p),v=b(q),w=b(r)}var c=a.pageX||a.originalEvent.touches[0].pageX,d=c-t,e=Math.abs(d),f=$(window).width();f>e&&(targetX=u+d,prevTargetX=v+d,nextTargetX=w+d,p.css("transform","translate3d("+targetX+"px, 0, 0)"),q.css("transform","translate3d("+prevTargetX+"px, 0, 0)"),r.css("transform","translate3d("+nextTargetX+"px, 0, 0)"),e>.35*f?0>d?x=!0:y=!0:(y=!1,x=!1))}}),$(document).off("vmouseup.removable").on("vmouseup.removable",function(){if(A=!1,z){p.add(q).add(r).addClass("animated");var c=$(window).width();x&&r.length?(r.css("transform","translate3d(0, 0, 0)"),p.css("transform","translate3d(-"+c+"px, 0, 0)"),rules.setPost("slide",j+1,!0),b(j+1)):y&&q.length?(q.css("transform","translate3d(0, 0, 0)"),p.css("transform","translate3d("+c+"px, 0, 0)"),rules.setPost("slide",j-1,!0),b(j-1)):(r.css("transform","translate3d("+c+"px, 0, 0)"),q.css("transform","translate3d(-"+c+"px, 0, 0)"),p.css("transform","translate3d(0, 0, 0)")),setTimeout(function(){r.add(q).add(p).attr("style",""),s=!1,z=!1,a()},350)}}),$(".home-menu .pager span").on("click",function(){c($(this).data("page-id"))}),util.scanPageForKeys(),modules.linkManager.updateLinks(),preview&&$("a[href*='gbtel=1;'], a[href*='gbmail=1;']").on("click",function(a){a.preventDefault(),window.parent.showNotSupportedInPreviewMessage()}),preview||$("a[href*='url']").on("click",function(){var a=$(this).attr("href").split("=")[1],b=appSections[a].get("url");window.open(b,"_blank")}),handlers.initRootPager(!1,!0)},initGBRootControllerTypeSlate:function(){$(function(){$("body").height("100%"),user.device.mobile&&("undefined"==typeof varSizeSlateMenu&&(varSizeSlateMenu=$("#bulletSection-0").height()),"undefined"==typeof varHeightaSlateMenu&&(varHeightaSlateMenu=$(".home ul li a").outerHeight()),$(".home ul").css("height",(rules.getHomeMenuNbItems()+1)*varHeightaSlateMenu),$("#bulletSlides").css("height",varSizeSlateMenu));var a=parseInt($(".home-menu").width())-10;$("a, h2").css("width",a)})},initGBRootControllerTypeTypo:function(){$(function(){height=$(".home-menu").height(),height>$(".home").height()&&$(".home").css("height",height)})},initGBRootControllerTypeLargeTypo:function(){$(function(){var a=user.device.mobile?7.2:5.2;$(".home td a").css("font-size",Math.max(a,Math.floor(.18*(70-5*$(".home table:first tr").length)))+"%"),$(".home table").css("font-size",util.getContentHeight()+"px"),height=$(".home table").height(),height>$(".home").height()?$("#root").attr("style","height:"+height+"px !important"):height!=$(".home").height()&&$("#root").attr("Style","height:100% !important")})},initGBRootMinimal:function(){$(function(){function a(){var a=$(window).height();$(".bg.fullheight").height(a+"px")}if($("section.main").hasClass("section-GBArticleListTemplateTypeMinimalPhotos")||$("section.main").hasClass("section-GBArticleListTemplateTypeMinimalColor")){a(),$(window).on("resize.removable",function(){a()});{$("header.navBar").height()}$("header.navBar").css("position","fixed"),$("header.navBar").css("margin-top","0"),$("section.main .content-role").css({position:"fixed",top:0,width:"100%"})}})},initGBNodeListSlideShow:function(a){function b(b){a.each(function(a){a!=b&&$(this).removeClass("current"),a==b-1?$(this).show().css("transform","translate3d(-100%, 0, 0)"):a==b?$(this).show().addClass("current").css("transform","translate3d(0, 0, 0)"):a==b+1?$(this).show().css("transform","translate3d(+100%, 0, 0)"):$(this).hide()})}function c(a){a.removeClass("swiping")}function d(){$(".backgroundClone").css("clip","rect("+$(".current .nodeBand").offset().top+"px,"+$(".current .backgroundClone").width()+"px,"+($(".current .nodeBand").offset().top+$(".current .nodeBand").height())+"px,0px)")}(preview||user.device.desktop)&&($(".helper").removeClass("visible"),$(".helper.swiperight").on("click",function(){$(".GBNodeListInner").trigger("swipeleft")}),$(".helper.swipeleft").on("click",function(){$(".GBNodeListInner").trigger("swiperight")}),$(".GBNodeListInner, .helper").on("mousemove",function(a){var b=a.clientX||a.pageX;b<$(window).width()/2?($(".helper.swiperight").removeClass("visible"),$(".helper.swipeleft").addClass("visible")):($(".helper.swipeleft").removeClass("visible"),$(".helper.swiperight").addClass("visible"))}).on("mouseleave",function(){$(".helper").removeClass("visible")})),$(".GBNodeListInner").removeClass("hasTranslate");100/a.length;$(".GBNodeListInner").css("width","100%"),a.css("width","100%");var e=parseInt(rules.getPost("slide")||0);$(".GBNodeListInner").data("active",e),window.move=b,b(e),setTimeout(function(){a.addClass("hasTranslate"),$(".GBNodeListInner").on("click",function(a){$(this).hasClass("swiping")&&a.preventDefault()}).on("swipeleft swiperight",function(d){if(!$(this).hasClass("swiping")){$(this).addClass("swiping");var e=$(this).data("active"),f=!1;"swipeleft"==d.type&&e<a.length-1?(f=!0,e+=1):"swiperight"==d.type&&e>0&&(f=!0,e-=1),f&&($(this).data("active",e),rules.setPost("slide",e,!0),b(e));var g=this;setTimeout(function(){c($(g))},500)}})},300),util.support.croppedBlur()&&$(".backgroundClone").length&&($(".backgroundClone").show(),d(),$(window).on("resize.removable",d))},initGBNodeList:function(){function a(){var a=$(".nodeTitle p:first").css("line-height").replace("px","");$(".GBNodeListTemplateTypeListColor .nodeTitle p, .GBNodeListTemplateTypeList .nodeTitle p").css("height",a)}function b(){var a=util.getContentHeight();g.height(1.32*g.width());var b=.45*$(".simpleNodeContentWrapper").width();$(".simpleNodeContentWrapper img.canvas").css("width",b+"px").css("margin","auto"),$(".simpleNodeContentWrapper .canvas").css("font-size",b+"px").css("margin-top","15%");var c=g.last().position().top-g.first().position().top+g.height(),d=a/2-c/2;$(".GBNodeListInner").css("padding-top",Math.max(d-20,50)),util.limitLines(".nodeTitle p",2)}function c(){setTimeout(function(){g.each(function(){$(this).height($(this).height())})},500)}function d(){g.each(function(){$(this).position().top<44&&$(this).css("padding-top","44px")})}function e(){"complexLayout"==rules.getNodeTemplateContentType(f)&&d(),"gridLayout"==rules.getNodeTemplateContentType(f)&&b(),"listLayout"==rules.getNodeTemplateContentType(f)&&a()}var f=rules.getSelectedSection(),g=$(".GBNodeList a");if($("section.main").css("box-sizing","border-box"),$("section.main").css("height","100%"),$("section.main").css("width","100%"),"GBRootControllerTypeCustomTabBar"==rules.rootMode()?$("section.main").css("padding","0"):$("section.main").css("padding-top","0"),"GBNodeListTemplateTypeSlideShow"==f.get("template"))handlers.initGBNodeListSlideShow(g,f);else{if($(".GBNodeListTemplateTypeListColor .GBNodeListInner, .GBNodeListTemplateTypeList .GBNodeListInner").css("margin-top","44px"),$(".GBNodeListTemplateTypeListColor .GBNodeListInner a:first-child, .GBNodeListTemplateTypeList .GBNodeListInner a:first-child").css("margin-top",0),g.length<1)return;{rules.getNodeBandStyle(rules.getSelectedSection()).length>0}if(e(),user.device.mobile&&("nodeListVisuels"==rules.getNodeTemplateType(f)||"nodeListUneGrid"==rules.getNodeTemplateType(f))&&(c(),"nodeListVisuels"==rules.getNodeTemplateType(f)&&g.length>1)){{var h=g.first();h.children().first()}if(!h.attr("data-mobile-visuals-fix")){if(rules.isNavBarTransparent()){if(h.height(h.height()+44),g.length<4){var i;g.each(function(a){a>0&&(i=$(".GBNodeListInner").height()-h.outerHeight(),$(this).height(i/(g.length-1)))})}}else $(".GBNodeListInner").css({"padding-top":"44px","box-sizing":"border-box"});h.attr("data-mobile-visuals-fix","applied")}}user.device.tablet&&$(window).on("orientationchange",function(){e(),user.os.ios&&(window.scrollTo(0,0),"landscape"==orient&&$("section.main").css("height","-webkit-calc(100% - 18px)"))}),(preview||user.device.desktop||user.os.android&&user.os.version<4)&&$(window).on("resize.removable",e)}},initGBContactList:function(){function a(){var a=util.getContentHeight();user.device.mobile&&$(".GBContactListContainer").css("min-height",a);var b=a/2-$(".GBContactListContainer").innerHeight()/2;$(".GBContactListContainer").css("margin-top",Math.max(0,b))}a(),$(window).on("resize.removable",a)},initGBCustomTemplateTypeClassic:function(){var a=$(window).height()-44,b=rules.getSelectedSection();if($("#GBCustomTemplateTypeClassicContainer, #GBPluginListTemplateTypeClassicContainer, #GBNodeListTemplateTypeScratch").height(a),$("section.main").css("min-height",a),$(window).on("resize.removable",function(){$("#GBCustomTemplateTypeClassicContainer").height(util.getContentHeight()),$("#GBPluginListTemplateTypeClassicContainer").height(util.getContentHeight()),$("section.main").css("min-height",util.getContentHeight())}),$("div.content-role").css("margin","0"),$("body").addClass("templateNoOverflow"),globalsAppVars.varNavigationcompt=0,varMaxNavigationCompt=0,globalsAppVars.varcustomisloading=!1,fctGoToSection=function(a){rules.setPost("section",a)},modules.plugin.initOnCurrentView(),preview&&b&&"GBModuleTypeShop"==b.get("type")&&$(".customScratchPluginIframe").length){var c=$(".customScratchPluginIframe").contents(),d='<div style="position:fixed;width:100%;height:100%;top:0;left:0;z-index: 100000;"';d+='onClick="parent.parent.showNotSupportedInPreviewMessage();if(event.stopPropagation){event.stopPropagation();}',d+='event.cancelBubble=true;"></div>',c.find("body").append(d),c.find("form").each(function(){$(this).attr("action","#")}),c.find("[type='submit']").each(function(){$(this).attr("type","button"),$(this).attr("onclick","parent.parent.showNotSupportedInPreviewMessage();")})}},initRootPager:function(a,b){a&&handlers.resizeRootHeight(),b&&$("#bulletSection-0").height()&&($("#bulletSlides").css("left","0"),$("#bulletSlides").css("height",$("#bulletSection-0").height()));var c=rules.fallback("root.grid.offColor","root.grid.textFont.color"),d=rules.fallback("root.grid.onColor","root.grid.iconColor");"GBRootControllerTypeSlate"==rules.rootMode()&&(c=rules.fallback("root.slate.onColor","root.slate.textFont.color"),d=rules.fallback("root.slate.offColor","root.slate.titleFont.color")),$(".home .pager span").each(function(){$(this).attr("style",$(this).attr("style")+";background-color:"+c.stringify())}),$(".home .pager span.sel").each(function(){$(this).attr("style",$(this).attr("style")+";background-color:"+d.stringify())})},initGBShareTemplateTypeClassic:function(){function a(){var a=util.getContentHeight()-$(".cartouche").height();$("#mobileSharingTAContainer").attr("style","height : "+a+"px !important;")}function b(a){var b=a.val();b.replace(/[hH][tT][tT][pP][sS]?:\/\/[^ ,'">\]\)<>?«»“”‘’\n\r]*[^\. ,'">\]\)«»“”‘’\n\r]/,"012345678901234567890123"),b.length>140?($("#charcounter").html(0),preview||a.hasClass("error")||a.addClass("error"),$(c).addClass("error")):(a.removeClass("error"),$(c).removeClass("error"),$("#charcounter").html(140-b.length))}b($("textarea")),a(),$(window).on("resize.removable",a),preview&&handlers.addEnabledSharingButtons("#ajax-enabled-services");var c=$("#GBShareTemplateTypeClassicContainer");window.print?$(".print").on("click",function(a){a.preventDefault(),window.print()}):$(".print").hide(),$("#mobileSharingTAContainer").on("click",function(){$("form textarea").focus()}),$("form textarea").on("focus",function(){$(this).removeClass("error"),$(c).removeClass("error")}),$("textarea").off("keydown keyup keypress").on("keydown keyup keypress",function(){b($(this))}),$("textarea").on("blur",function(){$("#mobileSharingTAContainer").is(":focus")||b($(this))})},initGBPhotoDetailTemplate:function(){var a=util.getCurrentAvailableItem(),b=util.getCurrentAvailableContentData()||[];$(".index-current").text(String(_.indexOf(b,a)+1)),$(".index-total").text(String(b.length)),handlers.resizePhotoDetail("current"),$(".encapse-photo:not('.current')").hide(),$(".encapse-photo.current").show(),$(window).on("resize.removable",function(){handlers.resizePhotoDetail("current")})},resizePhotoDetail:function(a){var b=$(".encapse-photo."+a+" img").attr("height"),c=$(".encapse-photo."+a+" img").attr("width"),d=$("#root").height(),e=$("header").height(),f=d-e,g=$("#root").width();$(".encapse-photo").css("height",f-.6),$(".encapse-photo").css("line-height",f-2.6+"px"),b>$(".encapse-photo."+a+" img").attr("width")?($(".encapse-photo."+a+" img").removeClass("width").addClass("height"),newWidth=Math.ceil(f/b*c),newHeight=f):($(".encapse-photo."+a+" img").removeClass("height").addClass("width"),newHeight=Math.ceil(g/c*b),newWidth=g),newHeight>f?($(".encapse-photo."+a+" img").removeClass("width").addClass("height"),heightTest=!0,widthTest=!1):newWidth>g&&($(".encapse-photo."+a+" img").removeClass("height").addClass("width"),heightTest=!1,widthTest=!0),$(".encapse-photo.current img").css("-webkit-transform","(1,1)(0,0)")},resizeRootHeight:function(){function a(){$("#root section.home").css("height","auto"),$("#root").height()>$("#root section.home").height()&&$("#root section.home").css("height","100%")}a(),$(window).on("resize.removable",function(){a()})},initMenuScrollValue:function(){"undefined"==typeof varCurrentScrollPositionFbMenu&&(varCurrentScrollPositionFbMenu=$("section.menu").scrollTop()),$("section.menu").on("scroll.removable",function(){varCurrentScrollPositionFbMenu=$("section.menu").scrollTop()})},initGBRootControllerTypeFacebookMenu:function(){function a(){$("#facebookMenuNav").height($(window).height()-j),g&&($("#facebookMenuNav ul").height()<$(window).height()?($("#facebookMenuNav").height($("#facebookMenuSection div").height()-j),$("#facebookMenuNav").removeClass("facebookMenuFullMode").addClass("facebookMenuTable").css({width:"100%"}),$("#facebookMenuNav ul").removeClass("facebookMenuFullMode").addClass("facebookMenuTableCell").css({"vertical-align":"middle"})):$("#facebookMenuNav, #facebookMenuNav nav ul").removeClass("facebookMenuTable","facebookMenuTableCell").addClass("facebookMenuFullMode"))}handlers.initMenuScrollValue();var b=$("#FaceBookMenuHeader").attr("style");if($("#FaceBookMenuHeader").attr("style",b+";background-size:"+$(window).width()+"px, auto !important;"),viewFactory.currentView.fromCache?util.toggleSwipe(!0,!0):$("body").removeClass("locked"),user.os.android&&user.browser.androidbrowser&&($(".menu").hasClass("open")||$(".menu").hide(),user.os.version<4&&($(document).off("scrollstart"),!$("body").hasClass("desktop")&&!$.support.touchOverflow))){var c=0,d=0;$("[data-scroll]").off("touchstart").on("touchstart",function(a){c=this.scrollTop+a.originalEvent.touches[0].pageY,d=this.scrollLeft+a.originalEvent.touches[0].pageX}),$("[data-scroll]").off("touchmove").on("touchmove",function(a){"y"==$(this).attr("data-scroll")?(this.scrollTop<this.scrollHeight-this.offsetHeight&&this.scrollTop+a.originalEvent.touches[0].pageY<c-5||0!=this.scrollTop&&this.scrollTop+a.originalEvent.touches[0].pageY>c+5)&&(a.preventDefault(),this.scrollTop=c-a.originalEvent.touches[0].pageY):"x"==$(this).attr("data-scroll")&&(this.scrollLeft<this.scrollWidth-this.offsetWidth&&this.scrollLeft+a.originalEvent.touches[0].pageX<d-5||0!=this.scrollLeft&&this.scrollLeft+a.originalEvent.touches[0].pageX>d+5)&&(a.preventDefault(),this.scrollLeft=d-a.originalEvent.touches[0].pageX)})}_.pos(appSettings.get("root.menu.noShadow"))&&"GBRootControllerTypeFacebookMenu"==rules.rootMode()?$("#root.GBRootControllerTypeFacebookMenu section.main").addClass("noShadow"):_.pos(appSettings.get("root.littleMenu.noShadow"))&&$("#rootContainer #root.GBRootControllerTypeLittleSwipe section.main").css({"-moz-box-shadow":"none","-webkit-box-shadow":"none","box-shadow":"none"}),$menuDiv=$("#facebookMenuSection");var e=$("#facebookMenuNav ul"),f=modules.profile.getProfileSection(),g=_.pos(appSettings.get("root.menu.isCentered")),h=!_.pos(appSettings.get("login.hookUserProfile")),i=_.pos(appSettings.get("root.menu.noHeader")),j=0;if(f&&!h&&g&&i){j=43;var k=e.children("li").first();$menuDiv.children("header a").first().remove(),$("#FaceBookMenuHeader").replaceWith(k.html()),k.css({display:"none"})}else i||(j=43);$("#facebookMenuNav").height($(window).height()-j),a(),$(window).on("resize.removable",a),handlers.swipeSubsectionsBehavior()},swipeSubsectionsBehavior:function(){function a(a){a.slideToggle(600,function(){a.removeClass("swipeSubsectionContainerOpen"),a.height(0),c=!1})}function b(b,d,e){var f=d*e;$(".swipeSubsectionContainerOpen").each(function(){a($(this))}),b.show(),b.animate({height:f},600,function(){b.addClass("swipeSubsectionContainerOpen"),c=!1})}var c=!1;$(".swipeSectionWithSubsections").on("click",function(){var d=$("body").height();$("body").height(0),$("body").delay(10).height(d);var e=$("#expandableMenu-"+$(this).attr("id").split("-").pop()),f=$(this).attr("data-nb-section"),g=$("nav#facebookMenuNav ul li").outerHeight();if(!c){if(c=!0,!e.hasClass("swipeSubsectionContainerOpen"))return b(e,f,g),!1;if(e.hasClass("swipeSubsectionContainerOpen"))return a(e),!1}})},initDropdown:function(){function a(a){a.find(".chevron.disabled").removeClass("disabled");var b=a.find(".subsectionList li.selected"),c=b.index();1==c?a.find(".chevron.left").addClass("disabled"):c+1==a.find(".subsectionList li").length&&a.find(".chevron.right").addClass("disabled"),a.find(".subsectionListHeader").html(b.html())}function b(b){if(b.length&&!b.hasClass("subsectionListHeader"))if("classicView"==rules.getCurrentViewType()){{({cat:b.data("cat-id")})}e.dropdownopen=b.parent().parent().hasClass("open")&&e?!0:!1,rules.setPost("cat",b.data("cat-id"))}else $(".GBCategoriesTemplateTypeDropdownContainer").find("li.selected").removeClass("selected"),b.addClass("selected"),a($(".GBCategoriesTemplateTypeDropdownContainer")),rules.setPost("cat",b.data("cat-id"))}function c(){$(".backgroundRepeater").width(Math.ceil(($(window).width()-360)/2))}var d=rules.getSelectedSection(),e=util.data.sectionsData[d.get("id")];if($(".GBCategoriesTemplateTypeDropdownContainer .subsectionListHeader").on("click",function(){$(this).parent().parent().toggleClass("open")}),$(".GBCategoriesTemplateTypeDropdownContainer .subsectionList li").on("click",function(){$(this).hasClass("subsectionListHeader")||(b($(this)),$(".GBCategoriesTemplateTypeDropdownContainer").hasClass("open")&&$(".GBCategoriesTemplateTypeDropdownContainer").toggleClass("open"))}),$(".GBCategoriesTemplateTypeDropdownContainer .chevron").on("click",function(){var a,c=$(this);a=c.hasClass("left")?c.parent().find("li.selected").prev():c.parent().find("li.selected").next(),b(a)}),$(".GBCategoriesTemplateTypeDropdownContainer").removeClass("animated"),$(".GBCategoriesTemplateTypeDropdownContainer").removeClass("open"),a($(".GBCategoriesTemplateTypeDropdownContainer")),setTimeout(function(){$(".GBCategoriesTemplateTypeDropdownContainer").addClass("animated")},100),!user.device.mobile){c();var f=_.throttle(c,100);$(window).on("resize.removable",f)}},initCircleBand:function(){var a=$("#circleBandContainer li.focus"),b=0;a.prevAll("li").each(function(){b+=$(this).outerWidth()}),$("#circleBandOuterDiv").animate({scrollLeft:b-($(this).width()-a.width())/2},"fast"),handlers.scrollCircleBandOnTouchEnabled=!1,handlers.fixCircleBandLayout(),$(window).on("resize.removable",handlers.fixCircleBandLayout),setTimeout(handlers.fixCircleBandLayout,1e3),handlers.scrollCircleBandOnTouch()
},initPositionHandlerForCategoriesFilterInNavBar:function(){function a(a){d=$(window).scrollTop(),(a||c!=d)&&(c=d,e=b-c>=0?b-c:0,$(".categoriesFilterInNavBarContainer").css("top",e+"px"))}if(rules.isHideEffect(rules.getSelectedSection())&&(rules.isOnScrollSupported()||preview)){var b=44,c=0,d=0,e=0;$(window).on("scroll.removable",function(){a(!1)}),a(!0)}},scrollCircleBandOnTouch:function(){$("#circleBandOuterDiv").on("touchstart",function(){handlers.sliding=!0}),$(window).on("touchend.removable",function(){handlers.sliding=!1})},fixCircleBandLayout:function(){function a(){$("#circleBandContainer li").show(),$("#circleBandContainer li").css("width","auto");var a=0;return $("#circleBandContainer li").each(function(){a+=$(this).outerWidth()}),a}function b(){$("#circleBandContainer li").last().css("border-right","none");var b=$("#circleBandOuterDiv").width(),c=a();if(handlers.circleBandTotalLiWidth=c,c>b)$("#circleBandContainer").css("width",1.01*a());else{$("#circleBandContainer").css("width","100%"),$("#circleBandContainer li").css("padding","0");var d=b/$("#circleBandContainer li").length*.98;$("#circleBandContainer li").width(d)}}b()},swipeToChangeSubsection:function(){(rules.isSectionCall()||rules.isSectionAndItem(rules.getSelectedSection()))&&($(document).on("swipeleft.removable",function(){handlers.sliding||handlers.changeSubsection("right")}),$(document).on("swiperight.removable",function(){handlers.sliding||handlers.changeSubsection("left")}))},nextSection:function(a){function b(){$("#bulletSlides").css("width","100%").css("left","0%"),$("[id^='bulletSection-']").css("width","100%"),$("[id^='bulletSection-']:not('#bulletSection-"+c+"')").hide(),$("#root.move").removeClass("move")}var c=$(a.currentTarget).attr("id").split("-")[1],d=$(".home .pager:visible span.sel").attr("id").split("-")[1],e=100*-c,f=100*-d;handlers.menuAnim(f),$("#root").addClass("move"),$("#bulletSlides").css({left:e+"%"}),setTimeout(b,660),$(".home .pager-"+d).hide(),$(".home .pager-"+c).show()},initSwipeNextSection:function(){$("body").off("click",'.home .pager span:not(".sel")').on("click",'.home .pager span:not(".sel")',function(a){handlers.nextSection(a)}),$("body").off("swipeleft","#root:not(.move)").on("swipeleft","#root:not(.move)",function(){handlers.swipeNextSection("left")}),$("body").off("swiperight","#root:not(.move)").on("swiperight","#root:not(.move)",function(){handlers.swipeNextSection("right")})},swipeNextSection:function(a){function b(){$("#bulletSlides").css("width","100%").css("left","0%"),$("[id^='bulletSection-']").css("width","100%"),$("[id^='bulletSection-']:not('#bulletSection-"+e+"')").hide(),$("#root.move").removeClass("move")}var c=$(".home .pager:visible span.sel").attr("id");if(_.is(c)){var d=c.split("-")[1],e=d,f=100*d,g=100*-d,h=100*++$("#bulletSlides [id^='bulletSection']:last-child").attr("id").split("-")[1];newSize="left"==a?f+100:f-100,handlers.menuAnim(g),h>newSize&&newSize>=0?($("#root").addClass("move"),$("#bulletSlides").animate({left:-newSize+"%"},400,b),newSize>f?e++:e--):b(),$(".home .pager-"+d).hide(),$(".home .pager-"+e).show(),handlers.initRootPager()}},menuAnim:function(a){var b=++$("#bulletSlides [id^='bulletSection']:last-child").attr("id").split("-")[1];b>1&&($("#bulletSlides").css("width",100*b+"%").css("left",a+"%"),$("[id^='bulletSection-']").css("width",Math.round(100/b*100)/100-.02+"%"),$("[id^='bulletSection-']").show())},manageArrows:function(a){a=_.is(a)?a:400,$(".leftArrow").hide(),$(".rightArrow").hide(),handlers.changeSubsection("left",!0)&&$(".leftArrow").fadeIn(a,function(){user.device.desktop||preview||setTimeout(function(){$(".leftArrow").fadeOut()},6e3)}),handlers.changeSubsection("right",!0)&&$(".rightArrow").fadeIn(a,function(){user.device.desktop||preview||setTimeout(function(){$(".rightArrow").fadeOut()},6e3)}),user.device.desktop||preview?($(".leftArrow").off("click.removable").on("click.removable",function(){handlers.changeSubsection("left")}),$(".rightArrow").off("click.removable").on("click.removable",function(){handlers.changeSubsection("right")})):$(document).on("touch.removable touchstart.removable click.removable",function(){$(".categoriesArrow").fadeOut()})},initGBArticleListTemplateTypeMinimal:function(){var a=rules.getSelectedSection(),b=rules.getPost("minimal")||1,c=Math.floor((b-1)/24),d="#"+a.get("template")+"Container .async-content:eq("+c+")",e=d+" a:eq("+(b-1-24*c)+"), "+d+" .pager";$(e).show(),$(e).length||setTimeout(function(){$(e).show()},100)},minimalNextArticle:function(a){a.preventDefault();var b=rules.getSelectedSection(),c=rules.getSectionTemplateMode(b),d="GBArticleListTemplateTypeMinimalPhotos"==c,e=d?$(a.target):$(a.target).parents("a"),f=e.parent().parent().index(),g=e.next("a");if(!g.length){var h=e.parent().parent().next();h.length&&(f+=1,g=h.children().first().children("a").first())}return g.length&&(e.hide(),g.show(),e.parent().find(".pager").hide(),$(".pager .sel").removeClass("sel").css("background-color",b.get("minimal.pager.offColor")),g.parent().find(".pager").show().children("a:eq("+(g.data("minimalindex")-1)+")").addClass("sel").css("background-color",b.get("minimal.pager.onColor")),rules.setPost("minimal",g.data("minimalindex")+24*f,!0)),!1},minimalPrevArticle:function(a){a.preventDefault();var b=rules.getSelectedSection(),c=rules.getSectionTemplateMode(rules.getSelectedSection()),d="GBArticleListTemplateTypeMinimalPhotos"==c,e=d?$(a.target):$(a.target).parents("a"),f=e.parent().parent().index(),g=e.prev("a");if(!g.length){var h=e.parent().parent().prev();h.length&&(f-=1,g=h.children().first().children("a").last())}return g.length&&(e.hide(),g.show(),e.parent().find(".pager").hide(),$(".pager .sel").removeClass("sel").css("background-color",b.get("minimal.pager.offColor")),g.parent().find(".pager").show().children("a:eq("+(g.data("minimalindex")-1)+")").addClass("sel").css("background-color",b.get("minimal.pager.onColor")),rules.setPost("minimal",g.data("minimalindex")+24*f,!0)),!1},slideShowNext:function(a){a.preventDefault();var b=$(a.target).parents(".slideshow");if(b.next(".slideshow").length>0){var c=b.hide().next(".slideshow").fadeIn();c.find(".infos h2").css("height","auto")}return!1},slideShowPrev:function(a){a.preventDefault();var b=$(a.target).parents(".slideshow");if(b.prev(".slideshow").length>0){var c=b.hide().prev(".slideshow").fadeIn();c.find(".infos h2").css("height","auto")}return!1},slideShowNextBullet:function(a){a.preventDefault();var b=$(".slideshow:visible"),c=$(".slideshow.slide-"+$(a.target).attr("id").replace("slidebullet-",""));return c.length>0&&(b.hide(),c.fadeIn().find(".infos h2").css("height","auto")),!1},slideShowPrevBullet:function(a){a.preventDefault();var b=$(".slideshow:visible"),c=$(".slideshow.slide-"+$(a.target).attr("id").replace("slidebullet-",""));return c.length>0&&(b.hide(),c.fadeIn().find(".infos h2").css("height","auto")),!1},loadImagesOrigins:function(a,b){(_.is(a)&&a||!viewFactory.currentView.fromCache)&&$(".photo,.photoImage").each(function(){var a=$(this),c=a.attr("data-origin");$("<img/>").load(function(){a.hasClass("photoImage")?a.attr("src",c):a.attr("style",a.attr("style")+";background-image:"+rules.css.toCSSURL(c)),_.is(b)&&a.css({height:this.height+"px","line-height":this.height/2+"px"})}).error(function(){}).attr("src",c)})},applyPinterest:function(){function a(){f=$("#GBPhotoListTemplateTypePinterestContainer").width(),b();for(var a=$("#GBPhotoListTemplateTypePinterestContainer img"),d=0;d<a.length;d++)thisImg="#GBPhotoListTemplateTypePinterestContainer img:eq("+d+")",oldWidth=$(thisImg).attr("width"),oldHeight=$(thisImg).attr("height"),height=h/oldWidth*oldHeight,height=Math.round(100*height)/100,0!=oldWidth&&($(thisImg).css("width",h+"px").css("height",height+"px").css("top",k[g]+"px").css("left",l[g]+"px").css("visibility","visible"),$(thisImg).addClass("col"+g),k[g]+=height+e,$("#GBPhotoListTemplateTypePinterestContainer").css("height",k[g]),c(),$("#GBPhotoListTemplateTypePinterestContainer").width()==f||m||(m=!0,f=$("#GBPhotoListTemplateTypePinterestContainer").width(),b(),d=-1))}function b(){for(g=1,h=(f-(d+1)*e)/d,h=Math.round(100*h)/100,i=1;d>=i;i++)k[i]=e;for(l[1]=e,i=2;d>=i;i++)l[i]=h*(i-1)+e*i}function c(){var a=0;for(j=1;d>=j;j++)(0==a||k[j]<a)&&(a=k[j],g=j)}var d=2,e=user.device.mobile?2:10;user.device.mobile||(d="landscape"==orient?4:3);var f=0,g=1,h=0,k=[],l=[],m=!1;a(),$(window).on("resize.removable",function(){a()})},instagramFocus:function(){function a(){$(".pola > .relative").height($(".pola .relative").width())}function b(a){a?$(".relative").find(".instagram_buttons").hide():$(".relative").find(".instagram_buttons").fadeOut(),$(".relative").removeClass("focus")}viewFactory.currentView.fromCache&&b(!0),a(),$(window).on("resize",a),$(".relative").off("click").on({click:function(){var a=$(this);a.hasClass("focus")?(a.find(".instagram_buttons").fadeOut(),a.removeClass("focus")):(b(!1),a.find(".instagram_buttons").fadeIn(),a.addClass("focus"))}})},initGBPhotoListTemplateTypeEdgetoedge:function(){function a(){$(".pola").height(4*$(".polaContainer").width()/5)}a(),$(window).on("resize",a)},nextOrPrevArticleOnSwipe:function(){$(document).on("swipeleft.removable",handlers.nextArticle),$(document).on("swiperight.removable",handlers.prevArticle)},nextArticle:function(a){a.preventDefault();var b=rules.getNextPrevItem("next");return b&&rules.setPost("item",b.id),!1},prevArticle:function(a){a.preventDefault();var b=rules.getNextPrevItem("prev");return b&&rules.setPost("item",b.id),!1},prevPhoto:function(a){function b(){$("#photoindex .index-current").length>0&&$("#photoindex .index-current").each(function(){$(this).html(parseInt($(this).html(),10)-1)}),$(".photo-detail-slideshow").css("width","100%"),$(".photo-detail-slideshow").css("left","0"),$(".encapse-photo.prev, .encapse-photo.current, .encapse-photo.next").removeClass("slide"),$(".encapse-photo").hide(),$("#"+d).addClass("prev"),$("#"+c).removeClass("prev").addClass("current").show(),$(".photo-detail-legend").hide(),/\w+/.test($("#"+c+" .photo-detail-legend").html())&&$("#"+c+" .photo-detail-legend").show(),$("#"+f).removeClass("current").addClass("next"),$("#"+e).removeClass("next");var a=".encapse-photo.current img";$(function(){new RTP.PinchZoom($(a),{})}),$(".encapse-photo.current img").css("position","relative"),$(".encapse-photo.current img").css("-webkit-transform","(1,1)(0,0)"),rules.setPost("item",c,!0),rules.getSelectedItem(function(a,b){if(!a){var c=rules.getSelectedSection(),d=rules.makeToolBar(c,b);$("#toolbarContainer").replaceWith(d)}})}a.preventDefault();var c=$(a.currentTarget).prev().attr("id"),d=$(a.currentTarget).prev().prev().attr("id"),e=$(a.currentTarget).next().attr("id"),f=$(a.currentTarget).attr("id");_.is(c)&&!_.isEmpty(c)&&($(".photo-detail-slideshow").css("width","300%"),$(".encapse-photo.prev, .encapse-photo.current, .encapse-photo.next").addClass("slide"),handlers.resizePhotoDetail("prev"),$(".photo-detail-slideshow").css("left","-100%"),$(".photo-detail-slideshow").animate({left:"0%"},400,b))},nextPhoto:function(a){function b(){$("#photoindex .index-current").length>0&&$("#photoindex .index-current").each(function(){$(this).html(parseInt($(this).html(),10)+1)}),$(".photo-detail-slideshow").css("width","100%"),$(".photo-detail-slideshow").css("left","0"),$(".encapse-photo.prev, .encapse-photo.current, .encapse-photo.next").removeClass("slide"),$(".encapse-photo").hide(),$("#"+c).removeClass("prev"),$("#"+f).removeClass("current").addClass("prev"),$("#"+d).removeClass("next").addClass("current").show(),$(".photo-detail-legend").hide(),/\w+/.test($("#"+d+" .photo-detail-legend").html())&&$("#"+d+" .photo-detail-legend").show(),$("#"+e).addClass("next");var a=".encapse-photo.current img";$(function(){new RTP.PinchZoom($(a),{})}),$(".encapse-photo.current img").css("position","relative"),rules.setPost("item",d,!0),rules.getSelectedItem(function(a,b){if(!a){var c=rules.getSelectedSection(),d=rules.makeToolBar(c,b);$("#toolbarContainer").replaceWith(d)}})}a.preventDefault();var c=$(a.currentTarget).prev().attr("id"),d=$(a.currentTarget).next().attr("id"),e=$(a.currentTarget).next().next().attr("id"),f=$(a.currentTarget).attr("id");_.is(d)&&!_.isEmpty(d)&&($(".photo-detail-slideshow").css("width","300%"),$(".encapse-photo.prev, .encapse-photo.current, .encapse-photo.next").addClass("slide"),handlers.resizePhotoDetail("next"),$(".photo-detail-slideshow").css("left","-100%"),$(".photo-detail-slideshow").animate({left:"-200%"},400,b))},changeSubsection:function(a,b){if(_.not(this.changingSubsection)||!this.changingSubsection){setTimeout(function(){this.changingSubsection=!1},1e3),_.not(b)&&(b=!1);var c=rules.getSelectedSection(),d=!1,e=!1,f=!1;if(!c)return!1;if(d=rules.getSectionSubSections(c))f=rules.getSelectedSubsectionID(),e=_.map(d,function(a,b){return f&&b==f?"selected":b},this),f||(e[0]="selected");else if(b)return!1;if(!e)return!1;var g=_.indexOf(e,"selected");if("left"==a)var h=e[g-1];if("right"==a)var h=e[g+1];if(!_.is(h)||b)return _.is(h)&&b?!0:!1;window.location.hash="!section="+rules.getSelectedSection().get("id")+"&cat="+h}},changeSubsectionOnSwipe:function(){$(document).on("swipeleft.removable",function(){this.changeSubsection("left")}),$(document).on("swiperight.removable",function(){this.changeSubsection("right")})},initGBCommentTemplateTypeClassic:function(){if(rules.isListCommentsCall()){var a=util.getContentHeight();$content=$('[data-role="content"], .noitems');var b=2*parseInt($content.css("margin-top"),10),c=a-b;$content.height(c)}else handlers.initGBCommentTemplateTypePost()},initGBCommentTemplateTypePost:function(){var a=util.getContentHeight(),b=a-(parseInt($("h2").height(),10)+parseInt($(".infos").height(),10));b-=2*parseInt($("textarea").css("padding-top"),10),$("form textarea").val("").innerHeight(b),$("form input, form textarea").off("focus").on("focus",function(){$(this).removeClass("error")}),$("#send-button").off("click").on("click",function(a){if(a.preventDefault(),$("input:visible, textarea").each(function(){util.empty($(this).val())&&$(this).addClass("error"),"comment_email"!=$(this).attr("name")||util.isValidEmail($(this).val())||$(this).addClass("error"),"comment_content"==$(this).attr("name")&&$(this).val()>1500&&$(this).addClass("error")}),$(".error",$("form")).length||$(".GBLoginTemplate",$("form")).is(":visible"))return a.stopPropagation(),!1;var b=$('input[name="postUrl"]'),c=b.val(),d=$('input[name="comment_username"]').val(),e=$('input[name="comment_email"]').val(),f=$('textarea[name="comment_content"]').val(),g={name:d,email:e,content:f},h=util.Tokens.url(c,g);h=devMode?"proxy?url="+encodeURIComponent(h):util.replaceHostname(h),$.post(h,function(){$("form")[0].reset(),window.location.hash=window.location.hash.replace("&addcomment=1","")},"json")})},initGBSettingsListTemplateTypeClassic:function(){function a(){$("#tablet-settings").height(util.getContentHeight())}user.device.tablet&&(a(),$(window).on("resize.removable",a)),$(document).on("click.removable",".changeDistanceUnits",function(a){a.preventDefault();var b="miles"==$(this).attr("title")?!0:!1;return util.setDistanceUseMiles(b),$(this).parents(".bloc").find(".canvas").toggleClass("hidden"),a.stopPropagation(),!1}),(window.applicationCache||"undefined"!=typeof localStorage)&&$(".clear-cache").off("click").on("click",function(a){return window.applicationCache.update(),localStorage.removeItem("searches"),window.location.reload(!0),a.preventDefault(),a.stopPropagation(),!1})},initPinchToZoomOnDetailPhoto:function(){var a=".encapse-photo.current img";$(function(){new RTP.PinchZoom($(a),{})}),$(".encapse-photo.current img").css("position","relative")},initMapsdistantDetail:function(){function a(a){var b=$(".GBMapdistantList a.selected").first();b.length||(b=$(".GBMapdistantList a").first()),$listContainer=$("#tabletListContainer"),listViewHeight=$listContainer.height(),$listArticle=b.find("article"),articleTop=$listArticle.offset().top,currentScroll=$listContainer.scrollTop(),target=currentScroll+articleTop-44,(currentScroll>target||target>currentScroll+listViewHeight)&&(a?$listContainer.scrollTop(target):$listContainer.animate({scrollTop:target}))}function b(b){if(rules.getPost("item")!=b){globalsAppVars.changePageDisabled=!0,rules.setPost("item",b);var d=$("#listItem"+b);d.hasClass("selected")||($(".GBMapdistantList a.selected").removeClass("selected").addClass("notSelected"),d.removeClass("notSelected").addClass("selected")),a(),rules.getSelectedItem(function(a,b){if(!a){var d=templateFactory.getTemplate("_asyncMapsDetailClassic",{mobileVersion:!0});d=d({self:c,item:b,noMap:!0}),$("#tabletDetailContainer").html(d),setTimeout(function(){$("#tabletDetailContainer").html(d)},100),$("#toolbarHolder").html(rules.makeToolBarUp(c,b,!1))}}),util.MAP.openMarkerPopup(util.MAP.getMarkerById(b))}}if("undefined"!=rules.getPost("item")){var c=rules.getSelectedSection();if(util.fillToPage($("#_asyncMapsDetailClassicContainer")),user.device.mobile)rules.getSelectedItem(function(a,b){a||util.MAP.asyncInit(b,"map","miniMapContainer",!0,!0,!0)});else{var d=0;$("#circleBandContainer").length?d=$("#circleBandContainer").height():$(".catPager").length?d=$(".catPager").height():$("#dropdownOuterDiv").length&&(d=$("#dropdownOuterDiv").height()),$(".GBMapdistantList").css("margin-top",d);var e=rules.getPost("item"),f=$(".GBMapdistantList a.selected").first().data("id");f!=e?b(e):a(),util.MAP.asyncInit(c,"map","miniMapContainer",!0),$(window).on("resize.removable",function(){util.MAP.fillToContainerHeight("map","miniMapContainer"),a(!0)}),$(".GBMapdistantList a").on("click",function(a){a.preventDefault(),f=$(this).data("id"),b(f)}),$("#map").on("click",".popupInfoIcon",function(){f=$(this).data("itemid"),b(f)})}}},initBookmarkMapsdistantDetail:function(){util.fillToPage($("#_asyncMapsDetailClassic_bkmrkdtlContainer")),rules.getSelectedItem(function(a,b){a||util.MAP.asyncInit(b,"map","miniMapContainer",!0,!1,!0)}),user.device.mobile||$(window).on("resize.removable",function(){util.MAP.fillToContainerHeight("map","miniMapContainer")})},initGBMapdistantListTemplateTypeClassic:function(){var a=rules.getSelectedSection();rules.map.displayFirst(a,"map")&&util.MAP.asyncInit(a,void 0,void 0,!1),util.data.sectionsData[a.get("id")].currentMapDistantShowsList=rules.map.displayFirst(a,"list"),$("#map").on("click",".popupInfoIcon",function(){var a=$(this).data("itemid");rules.setPost("item",a)}),$("#mapdistantSwitchButton").on("click",function(){util.data.sectionsData[a.get("id")].currentMapDistantShowsList=!util.data.sectionsData[a.get("id")].currentMapDistantShowsList,$(this).toggleClass("icon-gbicongeneric-map-list").toggleClass("icon-gbicongeneric-event-place "),$("#map").toggle(),$("#map").is(":visible")&&$("#searchForm").is(":visible")&&$("#searchForm").hide(),$(".catPager, .list-subsections").toggle(),$("#circleBandOuterDiv").length&&$(".list-subsections").is(":visible")&&handlers.fixCircleBandLayout(),util.data.sectionsData[a.get("id")].currentMapDistantShowsList||util.MAP.asyncInit(a,void 0,void 0,!1),$("#GBMapsListTemplateTypeClassicContainer").toggle()})},initGBMap:function(){util.MAP.asyncInit(rules.getSelectedSection())},changeOrientationGBMap:function(){$(function(){_.is(util.MAP._map)&&util.MAP._map.whenReady(function(){util.MAP._map.invalidateSize()})})},initFacebookList:function(){function a(){var a=_.is($(".baseline").position())?$(".baseline").position():{left:0},b=$(window).width()-$(".nblikes").width()-a.left-10;b=b>0?b:0,$(".baseline,#facebookPageTitle").css("max-width",b+"px")}a(),$(window).on("resize.removable",a)},initTwitterFollowBtn:function(){$("#twitterFollowBtn").on("click",function(){var a=$(this).data("screen-name");a&&window.open("https://twitter.com/intent/follow?&screen_name="+a,"_blank")})},initAsyncTwitterList:function(){function a(b){_.not(b)&&(b=!1),$(".infos h2").each(function(){var c=$(this).width(),d=0,e=!1,f=!1,g=!1;if($(this).find("span, time, div").each(function(a){d+=$(this).width()+parseInt($(this).css("margin-right").replace("px","")),1==a&&(e=$(this),f=this),"suspension"==$(this).attr("class")&&(g=$(this))}),d*=1.03,e){var h=e.width()-(d-c);_.textWidth(f)>h?g?e.width(h):(g=$("<div/>",{text:"...",style:$(e).attr("style")+"width:auto;","class":"suspension"}),e.after(g),b||a(!0)):($(this).find("div").remove(),e.width(h))}})}if(a(),!user.device.mobile){var b;$(window).on("resize.removable",function(){b&&clearTimeout(b),b=setTimeout(a,300)})}},initAsyncTwitterDetail:function(){$(".GBTwitterListTemplateTypeSingle .infos a").attr("style",rules.fontStyle(rules.getSelectedSection().get("linkFont"))),$("#nextItem").length>0&&$(document).on("swipeleft.removable",function(){rules.setPost("item",$("#nextItem").attr("data-targetItem"))}),$("#prevItem").length>0&&$(document).on("swiperight.removable",function(){rules.setPost("item",$("#prevItem").attr("data-targetItem"))})},initTwitterNoMargin:function(){$(function(){if(user.device.mobile){var a=$("header.navBar").height()+rules.getCategoriesContainerHeight();$("[data-role=content]").css({margin:0,"margin-top":-a+"px"})}})},follow:function(){},expandTweetActions:function(a){a.preventDefault();var b=$(a.target).closest("a");b.next().is(":visible")||$("article.actions").slideUp(),$(".selected-tweet").not(b).removeClass("selected-tweet"),b.toggleClass("selected-tweet").next().slideToggle()},initSubmitSection:function(){function setTableHeight(){$table.height(util.getContentHeight())}function uploadFile(file,type,successObj,error){if(null==type)return!1;var fd=new FormData;fd.append("file",file),fd.append("type",type);var urlTo=util.getCurrentBaseUrl()+"/apiv3/uploadFile/";return $.ajax({url:urlTo,type:"POST",data:fd,dataType:"json",processData:!1,contentType:!1,error:function(result){null!=error&&eval(error)},success:function(a){"ok"==a.stat&&(rules.setPost("item",type),rules.setPost("object_name",encodeURIComponent(successObj.send.submit_object_name)))}}),!1}var $table=$(".GBSubmitListTemplateTypeClassic table");$(function(){user.device.tablet&&$(".content-role").css("margin",0),setTableHeight(),$(window).on("resize",setTableHeight),$table.find("input[type=file]").fadeTo("fast",0),$table.find("td a.video, td a.photo").off("click.removable").on("click.removable",function(a){return a.preventDefault(),$(this).next("input").trigger("click"),!1}),$("[type=file]",$table).off("change").on("change",function(a){var b=a.target.files[0],c=$(this).attr("name").replace("submit_",""),d=$(this).prev("a").attr("href"),e={location:d,send:{submit_object_name:b.name,submit_object_size:b.size,submit_object_type:b.type}};uploadFile(b,c,e)});var a=util.getCurrentBaseUrl()+"/apiv3/deleteUploadTmpObject/all/";$.post(a,"json")})},initSubmitDetail:function(){function a(){var a=util.getContentHeight(),c=2*parseInt(b.css("padding-top"),10),d=a-c;user.device.tablet?(b.parent().height(d),b.find(".textarea-form").val("")):(b.css("min-height",d+"px"),b.find(".photo, video").height(.4*d),d-=b.find(".infos-top").height(),b.find(".textarea-form").height(.8*d).val(""))}var b=$(".infos-form");a(),$(window).on("resize.removable",a),user.device.mobile||($("#send-button").hide(),$("#cancel-button-submit").off("click").on("click",function(){window.location.hash=window.location.hash.replace(/&item=\w+/,"")})),$("input, textarea",b).off("focus").on("focus",function(){$(this).removeClass("error")}),$("#send-button, #send-button-submit").off("click").on("click",function(a){function c(){modules.popup.show("submitAfterPostPopup",{title:appLang.GB_SETTINGS_8,buttonText1:appLang.GB_TXT_110})}if($("input:visible, textarea",b).each(function(){util.empty($(this).val())&&$(this).addClass("error"),"email"!=$(this).attr("type")||util.isValidEmail($(this).val())||$(this).addClass("error")}),$(".error",b).length>0)return a.preventDefault(),!1;var d={submit_user:$("#submit-user").val(),submit_text:$("textarea").val(),submit_item:rules.getPost("item"),submit_object_name:$("#submit_object_name").val()},e=util.getCurrentBaseUrl()+"/apiv3/submitItem/"+rules.getPost("section")+"/";$.post(e,d,function(a){if(a)switch(a.stat){case"ok":$("form")[0].reset(),window.location.href=$("form").prop("action"),modules.popup.show("submitAfterPostPopup",{title:appLang.GB_SETTINGS_7,buttonText1:appLang.GB_TXT_110});break;case"error":c()}},"json").fail(function(){c()})})},expandEvent:function(a){var b=$(".expandableEvent"),c=$(a.currentTarget).parent(),d=rules.getEventsExpandableMode(rules.getSelectedSection());switch(d){case"one":case"GBEventsExpandableModeOnlyOne":b.not(c).removeClass("selected").addClass("notSelected").find(".eventLocation").slideUp(),c.toggleClass("selected").toggleClass("notSelected").find(".eventLocation").toggle("slide");break;case"all":case"GBEventsExpandableModeAll":c.hasClass("selected")?b.removeClass("selected").find(".eventLocation").slideUp():b.addClass("selected").find(".eventLocation").slideDown();break;case"normal":case"GBEventsExpandableModeNormal":c.toggleClass("selected").find(".eventLocation").toggle("slide")}util.scanDivForKeys(!0)},initAgendaDetail:function(){rules.getSelectedItem(function(a,b){!a&&$(".div-map").get(0)&&util.MAP.asyncInit(b,"map-canvas-"+b.id,"",!0,!1,!1)})},initLive:function(){function a(){var a=document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||!1;a||$(".playPause:visible").trigger("click")}var b=$("#liveMedia").get(0),c=$(".spinner"),d=rules.getSelectedSection(),e=rules.isLiveRadio(d),f=rules.hasAudioVisualizer(d),g=null,h=!1;if($("#liveMedia").is("audio")&&!$("#liveMedia").attr("src").contains(";")&&($("#liveMedia").attr("src",$("#liveMedia").attr("src")+";"),$("#liveMedia").attr("data-status","updatedByHandler")),setTimeout(function(){$("header.navBar").css({position:"fixed",margin:0}),$("[data-role=content]").css({margin:0,height:"100%",position:"relative",overflow:"hidden"});var a=util.getContentHeight(),b=$("#livePlayerContainer").height();$("#livePlayerContainer").css({"padding-top":(a-b)/2})},10),setTimeout(function(){var a=$("header.navBar").height();$("[data-role=page]").css({"padding-top":a,height:util.getContentHeight()+a,"margin-top":-a+"px"})},10),b.addEventListener("durationchange",function(){h=!0},!1),e||(b.addEventListener("fullscreenchange",a,!1),b.addEventListener("webkitfullscreenchange",a,!1),b.addEventListener("mozfullscreenchange",a,!1),b.addEventListener("MSFullscreenChange",a,!1),b.addEventListener("webkitendfullscreen",a,!1)),f&&e&&rules.getLiveStatus(d)){var g=new util.AudioVisualizer;g.setColor(d.get("equalizerColor"),d.get("equalizerOpacity")),g.initScene(),$(window).on("resize.removable",function(){g.initScene()})}if($(document).on("click.removable",".playPause",function(a){if(a.preventDefault(),h){var d=$(this).parent();c.toggleClass("play"),c.hasClass("play")?(globalsAppVars.playing=!0,$("[class*='audioTemp']").removeClass("play").trigger("pause"),!e&&h&&(b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen&&b.msRequestFullscreen()),b.play(),d.hide(),d.next().show(),g?g.play():null):(globalsAppVars.playing=!1,b.pause(),d.hide(),d.prev().show(),g?g.stop():null)}return!1}),c.hasClass("play")){var i=$(".playPause").parent();c.toggleClass("play"),i.hide(),i.prev().show(),g?g.stop():null}e&&util.drawlivePlayerCanvas()},initVideoDetailSection:function(){var a=rules.getSelectedSection();/Slide/.test(rules.getSectionDetailTemplate(a))||$(".embed-video:first").prependTo($("article"));var b=44;/Classic/.test(rules.getSectionDetailTemplate(a))&&(b+=46),b+=user.device.mobile?parseInt(rules.getSectionMargin(a,"top",!0))+parseInt(rules.getSectionMargin(a,"bottom",!0)):0,$("article").css("min-height",$(window).height()-b)},initListArticle:function(){var a=rules.getSelectedSection();a&&/ArticleList/.test(rules.getSectionTemplate(a))&&util.setMaxLines()},initArticleDetailSection:function(){user.device.desktop||$(window).on("orientationchange",function(){var a=$("iframe"),b=a.clone();a.parent().html(b)}),/Classic/.test(rules.getArticleDetailContentTemplate(util.getCurrentAvailableItem()))?($("#_asyncArticleDetailContainer").css("position","relative"),$("section.main header").show()):handlers.initAboutSectionBanner(!0),setTimeout(function(){$("#_asyncArticleDetailContainer a img").each(function(){$(this).parent().length&&$(this).parent().attr("href").length<1&&$(this).parent().attr("href",$(this).attr("src"))})},100)},initAboutSectionClassic:function(){$(".main-content").css("position","relative"),$("div.content-role").css("margin","0")},initAboutSectionBanner:function(a){function b(){return!1}function c(){if(a){var b=user.device.mobile?parseInt(rules.getSectionMargin(d,"top",!0)):0;b+=44,$("._asyncArticleDetailContainer").css("margin-top",b+"px")}}var d=rules.getSelectedSection(),e=(/transparent|blur/.test(rules.getNavBarEffect(!1,d)),1!=d.get("detail.littleBannerImage")||user.device.mobile?!1:!0),f=!!$(".bannerContainer").length;if(rules.hasSectionMargins(d,!0)||$("div.content-role").css("margin","0"),f||$(".main-content").css("position","relative"),f){var g=$(".bannerContent").attr("data-replace-image");$("img").each(function(){$(this).attr("id")==g&&$(this).hide().attr("id","")}),$selector=$("._asyncArticleDetailContainer article .clear:first").hide(),$selector.load(function(){height=$(this).height(),f&&!e&&b()}),rules.isNavBar()||$("section.main header").addClass("noNavBar")}$("section.main header").show(),(!f||e)&&c(),$(window).on("resize.removable",function(){f&&!e&&b()})},initFormListTemplateTypeClassic:function(){function a(a){$(this).addClass("filled").prev(".fileButton").removeClass("errorVerifClass");var b=$(this).next(".previewFileCanvas"),c=b.get(0).getContext("2d"),d=new Image;d.src=URL.createObjectURL(a.target.files[0]),d.onload=function(){c.clearRect(0,0,d.height,d.width),c.drawImage(d,0,0,320,320*d.height/d.width)}}var b=modules.form;b.init(),b.managePickersScroll(),$(".GBFormListTemplateTypeClassic .sendFile").on("change",a)},initLivePlus:function(){function a(){$(".spinner").css("margin","0 auto");var a=$("li[class*=focus]");a.prev("li").length>0&&a.prev("li").find(".spinner").css("margin-right","-10%"),a.next("li").length>0&&a.next("li").find(".spinner").css("margin-left","-10%"),user.device.mobile||1!=$("#liveplus-slider > ul > li").length||($("#liveplus-slider").css("left","50%"),$("#liveplus-slider").css("margin-left","-"+$("#liveplus-slider").width()/2+"px"))}function b(a){a.preventDefault();var b=$(this).parent(),c=b.parents(".spinner");return $("[class*='audioTemp']").length>0&&$("[class*='audioTemp']").removeClass("play").trigger("pause"),l.paused?(b.hide(),b.next().show(),l.play(),c.addClass("play"),globalsAppVars.playing=!0,i?i.play():null,!1):(c.removeClass("play"),globalsAppVars.playing=!1,l.pause(),b.hide(),b.prev().show(),i?i.stop():null,!1)}function c(){var a=$("li[class*=focus]"),b=a.find(".content").css("background-image");$("#blur-bg").css("background-image",b)}function d(){var b=$("li[class*=focus]");return b.prev("li").length>0&&(l.paused||(l.pause(),b.find(".spinner").removeClass("play"),$(".playPause:visible").parent().prev().show(),$(".playPause:visible").parent().next().hide()),i&&(i.stop(),i.scene.style.display="none"),q.animate({right:"-=100%"},j,k,function(){b.removeClass("focus"),b.prev("li").addClass("focus"),a(),c()})),!1}function e(){var b=$("li[class*=focus]");return b.next("li").length>0&&(q.animate({right:"+=100%"},j,k,function(){b.removeClass("focus"),b.next("li").addClass("focus"),a(),c()}),i&&0==b.next("li").next("li").length&&(i.scene.style.display="block")),!1}function f(){util.requester(m.get("contentUrl"),{noCache:!0},function(b){if("ok"==b.stat){var d=b.items[0],e=q.find(".liveplayerplus-item:last"),f=e.attr("data-songid");if(d&&d.id!=f){var g=e.clone();g.attr("data-songid",d.id);var h=rules.getImageOrDefault(d.images.artworkUrl400,m.get("liveDefaultThumb.imageUrl"));h="url("+h+") center no-repeat",g.find(".content.with-background").css({background:h,"background-size":"cover"}),g.find(".liveplus-duration").html(util.secondsToMs(d.duration)),g.find(".cover-infos h1").html(d.author),g.find(".cover-infos p").html(d.title),g.find(".cover-purchase").attr("href",d.purcahseUrl),"1"==m.get("showShare")&&g.find(".cover-share").attr("href",rules.urlTo("share",m.get("id"),d.id)),$(".liveplayerplus-item").removeClass("focus").addClass("controlsHide").find(".anim").remove(),q.append(g),q.find("li:first").remove(),a(),c()
}}})}function g(){$("header.navBar").css({position:"fixed",margin:0}),o.css({margin:0,height:"100%",position:"relative"})}function h(){var a=$("header.navBar").height();p.css({"padding-top":a,height:util.getContentHeight()+a,"margin-top":-a+"px"})}var i=null,j=200,k="linear",l=$("#media").get(0),m=rules.getSelectedSection(),n=rules.hasAudioVisualizer(m),o=$("[data-role=content]"),p=$("[data-role=page]"),q=$("#liveplus-slider ul:first");if(setTimeout(g,10),$(window).on("resize.removable",g),setTimeout(h,10),$(window).on("resize.removable",h),a(),c(),$(document).on("click.removable",".playPause",b),$(document).on("swipeleft.removable","li",e),$(document).on("swiperight.removable","li",d),n){var i=new util.AudioVisualizer;i.setColor(m.get("equalizerColor"),m.get("equalizerOpacity")),i.initScene(),$(window).on("resize.removable",function(){i.initScene()})}if(!user.os.ios||preview){new util.VolumeDragger("#volume-container",l)}util.drawlivePlayerCanvas();setInterval(f,3e4)},soundPrev:function(){_.is($(".soundPrev").attr("href"))&&/Sound/g.test(rules.getSectionType(rules.getSelectedSection()))&&(varChangeByClick=!0,window.location.hash=$(".soundPrev").attr("href"))},soundNext:function(){_.is($(".soundNext").attr("href"))&&/Sound/g.test(rules.getSectionType(rules.getSelectedSection()))&&(varChangeByClick=!0,window.location.hash=$(".soundNext").attr("href"))},liveStreamFix:function(){$("audio, video").each(function(){var a=$(this),b=$(this).attr("src");b&&b.contains("/;")&&$.get(b).fail(function(){a.attr("src",b.replace("/;",""))})})},initBothSound:function(){function a(a){height=$(".coverTitle").position().top+$(".coverTitle").height(),scrollTop=user.device.mobile?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:$("#soundDetailWithList").scrollTop(),scrollTop>=height&&_.isEmpty($(".mini.photo:visible")[0])&&!a?($(".tableContainer, .audioViz").hide(),$(".mini.photo, .coverTitleMini").show(),$(".miniPlayerContainer").addClass("showMini"),$(".articleContainerSound").addClass("mini"),b(),varTempHeight=height,user.device.mobile&&rules.isHideEffect(c)&&$(".miniPlayerContainer").css("top","0px")):(a||varTempHeight>scrollTop&&!_.isEmpty($(".mini.photo:visible")[0]))&&($(".tableContainer").css("display","table"),$(".audioViz").show(),$(".mini.photo, .coverTitleMini").hide(),$(".miniPlayerContainer").removeClass("showMini"),$(".articleContainerSound").removeClass("mini"),$(".durationBar, table.controls").removeClass("mini").css("width","100%"),varTempHeight=height)}function b(){util.getContentHeight()>=500?(user.device.mobile&&$("section.main .playerContainer").height(util.getContentHeight()),$("#blur-bg, ffblurry").height(util.getContentHeight())):($("section.main .playerContainer").height(500),$("#blur-bg").height(588));var a=$(user.device.mobile?"#root":"#soundDetailWithList");_.isEmpty($(".mini.photo:visible")[0])?$(".durationBar, table.controls").removeClass("mini").css("width","100%"):($(".miniPlayerContainer").width(a.width()),$(".coverTitleMini").css("width",a.width()-($(".photo.mini").width()+20)-30),$(".durationBar, table.controls").addClass("mini").css("width",a.width()-($(".photo.mini").width()+20)))}var c=rules.getSelectedSection();isCloud="_asyncSoundcloudDetail"==rules.getDetailTemplate(c),varTempHeight=0,$("body").height("100%"),user.device.mobile||$("body").addClass("templateNoOverflow"),b(),isCloud?user.device.mobile||$("#blur-bg").css("margin-top","-44px"):(user.device.mobile?$(window).on("scroll.removable",function(){a(!1)}):$("#soundDetailWithList").on("scroll.removable",function(){a(!1)}),a(!0)),$(window).on("resize.removable",function(){b(),isCloud||a()})},initListWithDetail:function(){function a(){var a=util.getContentHeight();$("#_asyncAgendaDetailContainer").length>0&&(a+=2*parseInt($("[data-role=content]").css("margin-top"),10)),$(".soundListWithDetail, .eventListWithDetail").height(a);var b=$(".soundDetailWithList, .eventDetailWithList").attr("style")||"";if(_.pos(b)){var c=b.indexOf(";height");-1!=c&&(b=b.substr(0,c))}$(".soundDetailWithList, .eventDetailWithList").attr("style",b+";height:"+a+"px")}(user.device.tablet||user.device.desktop)&&(a(),$(window).on("resize.removable",a))},initEventListWithDetail:function(){if($(".eventDate").off(),$(".eventDate").on("click",handlers.expandEvent),!user.device.mobile){var a=0;$("#circleBandContainer").length?a=$("#circleBandContainer").height():$(".catPager").length?a=$(".catPager").height():$("#dropdownOuterDiv").length&&(a=$("#dropdownOuterDiv").height()),$(".eventListWithDetail").css("margin-top",a)}},initSoundPrevAndNextButtons:function(){$(".change-track").on("click",function(){$btn=$(this);var a=$btn.data("target-sound-id"),b=$btn.data("target-item-id");if(_.not(a)||_.not(b))return!1;var c="_asyncSoundcloudDetail"!=rules.getDetailTemplate(rules.getSelectedSection());audioTemp=c?".audioTemp":".audioTempCloud",$("[class*='audioTemp']").removeClass("play").trigger("pause"),$(audioTemp+a).addClass("play").trigger("play"),varCurrentPlayingPodcast=a,handlers.initSoundList(),rules.setPost("item",b)})},initSoundcloudList:function(){$("[class*='playingIcon-']").removeClass("iconShow"),"undefined"!=typeof varCurrentPlayingPodcast&&$("audio.audioTempCloud"+varCurrentPlayingPodcast).hasClass("play")&&$(".playingIcon-"+varCurrentPlayingPodcast).addClass("iconShow")},initSoundcloudDetail:function(){handlers.initSoundPrevAndNextButtons(),"undefined"==typeof varCurrentPlayingPodcast&&(varCurrentPlayingPodcast=""),varCurrentPodcast=$(".player-play").attr("id").split("-")[1];var a=(new util.DurationDragger(".volume-container"+varCurrentPodcast,$(".audioTempCloud"+varCurrentPodcast).get(0)),rules.getSelectedSection()),b=user.device.mobile&&rules.getSoundEqualizer(a);1==b?(currentvarVizEqualizer=new util.AudioVisualizer,currentvarVizEqualizer.setColor(rules.getEqualizerColor(a),rules.getEqualizerOpacity(a),!0),currentvarVizEqualizer.initScene("audioViz"+varCurrentPodcast)):currentvarVizEqualizer=!1,$(".audioTempCloud"+varCurrentPodcast).hasClass("play")?($(".playButton").hide(),$(".pauseButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.play()):($(".pauseButton").hide(),$(".playButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.stop()),(user.device.tablet||user.device.desktop)&&handlers.initSoundDetailForTablet(!0)},initSoundList:function(){if($("[class*='playingIcon-']").removeClass("iconShow"),"undefined"!=typeof varCurrentPlayingPodcast&&$("audio.audioTemp"+varCurrentPlayingPodcast).hasClass("play")&&$(".playingIcon-"+varCurrentPlayingPodcast).addClass("iconShow"),!user.device.mobile){var a=0;$("#circleBandContainer").length?a=$("#circleBandContainer").height():$(".catPager").length?a=$(".catPager").height():$("#dropdownOuterDiv").length&&(a=$("#dropdownOuterDiv").height()),$("#soundListWithDetail").css("margin-top",a)}},initSoundDetailForTablet:function(a){function b(){$parentDiv=$("#soundListWithDetail"),$innerListItem=$("#selected-item"),$innerListItem.length&&$innerListItem.position().top+$innerListItem.height()>$parentDiv.height()+$parentDiv.scrollTop()&&$parentDiv.scrollTop($parentDiv.scrollTop()+$innerListItem.position().top-$parentDiv.height()/2+$innerListItem.height()/2)}a?handlers.initSoundcloudList():handlers.initSoundList(),"undefined"!=typeof varClickedOnNextOrPrevButton&&varClickedOnNextOrPrevButton&&(varClickedOnNextOrPrevButton=!1),setTimeout(b)},initSoundDetail:function(){function a(a){e.currentTime=0,a.addClass("play").trigger("play"),rules.getPost("item")==varCurrentPlayingPodcast.split("_")[1]&&rules.setPost("item",g),varCurrentPlayingPodcast=f,handlers.initSoundList()}handlers.initSoundPrevAndNextButtons(),"undefined"==typeof varCurrentPlayingPodcast&&(varCurrentPlayingPodcast=""),varCurrentPodcast=$(".player-play").attr("id").split("-")[1];var b=(new util.DurationDragger(".volume-container"+varCurrentPodcast,$(".audioTemp"+varCurrentPodcast).get(0)),rules.getSelectedSection()),c=rules.getSoundEqualizer(b);1==c?(currentvarVizEqualizer=new util.AudioVisualizer,currentvarVizEqualizer.setColor(rules.getEqualizerColor(b),rules.getEqualizerOpacity(b),!0),currentvarVizEqualizer.initScene("audioViz"+varCurrentPodcast)):currentvarVizEqualizer=!1,$(".audioTemp"+varCurrentPodcast).hasClass("play")?($(".playButton").hide(),$(".pauseButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.play()):($(".pauseButton").hide(),$(".playButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.stop());var d=$(".audioTemp"+varCurrentPodcast),e=$(".audioTemp"+varCurrentPodcast).get(0),f=$(".soundNext").data("target-sound-id"),g=$(".soundNext").data("target-item-id"),h=$(".audioTemp"+f).get(0),i=$(".audioTemp"+f);e.addEventListener("ended",function(){h&&!e.seeking&&(d.removeClass("play").trigger("pause"),4!=h.readyState?(h.addEventListener("canplay",function(){a(i),this.removeEventListener("canplay",arguments.callee)}),h.load(),h.play()):a(i))}),(user.device.tablet||user.device.desktop)&&handlers.initSoundDetailForTablet(!1)},togglePlayPause:function(){var a="_asyncSoundcloudDetail"!=rules.getDetailTemplate(rules.getSelectedSection());if(audioTempBase=a?".audioTemp":".audioTempCloud",audioTemp=audioTempBase+varCurrentPodcast,varCurrentPlayingPodcast==varCurrentPodcast)if($(audioTemp).hasClass("play"))$(audioTemp).trigger("pause").removeClass("play"),$(".pauseButton").hide(),$(".playButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.stop();else{$("[class*='audioTemp']").removeClass("play").trigger("pause");var b=$(audioTemp).addClass("play").get(0);0==b.readyState&&(user.browser.chrome&&(void 0!==window.stop?window.stop():void 0!==document.execCommand&&document.execCommand("Stop",!1)),b.load()),b.play(),$(".playButton").hide(),$(".pauseButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.play()}else{$("[class*='audioTemp']").removeClass("play").trigger("pause");var b=$(audioTemp).addClass("play").get(0);0==b.readyState&&(user.browser.chrome&&(void 0!==window.stop?window.stop():void 0!==document.execCommand&&document.execCommand("Stop",!1)),b.load()),b.play(),$(".playButton").hide(),$(".pauseButton").show(),currentvarVizEqualizer&&currentvarVizEqualizer.play()}varClickedOnNextOrPrevButton=!1,varCurrentPlayingPodcast=$(".player-play").attr("id").split("-")[1],a?handlers.initSoundList():handlers.initSoundcloudList()},LoadMore:function(){function a(){util.data.currentMinimalLoadMoreIntervalSectionID||(util.data.currentMinimalLoadMoreIntervalSectionID=rules.getPost("section")),_.is(util.data.currentMinimalLoadMoreIntervalSectionID)&&util.data.currentMinimalLoadMoreIntervalSectionID!=rules.getPost("section")&&(clearInterval(util.data.sectionsData[util.data.currentMinimalLoadMoreIntervalSectionID].loadMoreInterval),delete util.data.sectionsData[util.data.currentMinimalLoadMoreIntervalSectionID].loadMoreInterval),util.data.sectionsData[f.get("id")].currentMinimal=rules.getPost("minimal")||1;var a=Math.ceil($(".fullheight").length/2),b=rules.getPost("minimal")||1;d=b>=a,c()}function b(){if(!rules.isLoadMoreAvailableForCurrentView())return!1;if(rules.isSectionAndItem(f)){var a,b,e;rules.map.isMapdistant(f)?(j=$(".GBMapdistantList"),a=$("#tabletListContainer").height(),b=$("#tabletListContainer").scrollTop()+a,e=$("#GBMapsListTemplateTypeClassicContainer").height()):"GBSoundListTemplateTypeClassic"==f.get("template")&&(j=$(".GBArticleListTemplateTypeClassic"),a=$("#soundListWithDetail").height(),b=$("#soundListWithDetail").scrollTop()+a,e=j.height()),d=b>e-a}else j=$(".main-content div[id$=Container]"),d=$(window).scrollTop()>=$(document).height()-2*$(window).height()-h;c()}function c(){if($(".async-content[data-next]").length>0&&!util.empty($(".async-content[data-next]").attr("data-next"))&&!g&&!$("#root").hasClass("locked")){var a=$(".async-content[data-next]").last().attr("data-next");if(d&&a&&a.length&&"none"!=a){if(g=!0,0==$("#buffering").length){var b="buffering"==rules.getLoadMoreContainer(f)?"buffering":"loadMoreSpinner";j.last().append('<div id="'+b+'" style="color:'+rules.fallback(f,"section.titleFont.color","titleFont.color").val+';" />'),$("#"+b).html(util.htmlComponents.loadingSpinner)}rules.getContent(a,i,"","buffering","",function(a){if(_.pos(a)&&"ok"==a.stat&&!_.isEmpty(a.items)){rules.map.isMapdistant(f)&&(a.items=util.getCurrentAvailableContentData(),user.device.mobile||util.MAP.setMarkersForExistingMap(a.items));var c=rules.getLoadMoreContainer(f);viewFactory.currentView.addAsyncContentToDOM(rules.getSectionTemplate(f),c,i.tpl,f,a,!0),$("#"+c).addClass("async-content buffered").attr("data-next",rules.getNextPage(a)||"none"),"buffering"==c&&$("#"+c).removeAttr("id").removeAttr("style"),g=!1,e()}else $("#"+b).remove();g=!1},{appendResultToExistingData:!0})}}}if(loadMoreIsLoaded)return!1;loadMoreIsLoaded=!0;var d,e,f=section=rules.getSelectedSection(),g=!1,h=0,i=rules.getLoadMoreTemplate(f),j=$(".main-content div[id$=Container]");rules.isMinimalSection(f)?(util.data.sectionsData[f.get("id")].loadMoreInterval&&(clearInterval(util.data.sectionsData[util.data.currentMinimalLoadMoreIntervalSectionID].loadMoreInterval),delete util.data.sectionsData[util.data.currentMinimalLoadMoreIntervalSectionID].loadMoreInterval),e=a,util.data.sectionsData[f.get("id")].loadMoreInterval=setInterval(a,500)):!user.device.mobile&&rules.map.isMapdistant(f)?(e=b,b(),$("#tabletListContainer").on("scrollstop.removable",b)):!user.device.mobile&&rules.isSectionAndItem(f)&&"GBSoundListTemplateTypeClassic"==f.get("template")?(e=b,b(),$("#soundListWithDetail").on("scrollstop.removable",b)):(e=b,b(),$(document).on("scrollstop.removable",b))},initGBArticleListTemplateTypeCheckerboard:function(){function a(){var a=$(window).width()/(user.device.mobile?2:4);user.device.tablet&&(a=234),$("#heightChecker").remove(),$(".GBArticleListTemplateTypeCheckerboard").prepend("<style id='heightChecker'>.GBArticleListTemplateTypeCheckerboard article{height:"+a+"px}</style>")}a();var b=_.throttle(a,100);user.device.tablet?$(window).on("orientationchange.removable",b):(preview||!preview&&!user.os.android)&&$(window).on("resize.removable",b)},initGBArticleListTemplateTypeClassicTablet:function(){handlers.makeGridCells(".GBArticleListTemplateTypeClassic a article",3,2,10)},initGBArticleListTemplateTypeSlideShowTablet:function(){handlers.makeGridCells(".GBArticleListTemplateTypeClassic a article, .slideshow a article",3,2,10),"portrait"==orient&&$(".slideshow a article").css("height","auto")},initGBArticleListTemplateTypeUneGridTablet:function(){handlers.makeGridCells(".GBArticleListTemplateTypeUneGrid a article",3,2,10,60);var a=$(".GBArticleListTemplateTypeUneGrid a.first article").height();$(".GBArticleListTemplateTypeUneGrid a.first article").height(2*a+39)},makeGridCells:function(a,b,c,d,e){function f(a,b){var c=h,d=!1,e=!1;$(a).parent().hasClass("first")&&(d=!0,c=2*h+20,"landscape"==orient&&(e=!0));var f=$(".photo",a),g=$("h2",a),i=$(".subtitle:not(.summary)",a),j=$(".summary",a),k=g.height(),l=0,m=0,n=10;i.length>0&&(l=i.height()),j.length>0&&(m=j.height()),b+k+l+2*n>c&&(b=c-k-l-2*n,0>b?b=0:(d||e||a.width()/b>2.5)&&(b=Math.floor(a.width()/2.5)),k+l+n>c&&(l=0));var o=c-(b+k+l+3*n);nbLines=Math.floor(o/19),m=nbLines>0&&m>0?19*nbLines:0,f.length>0&&(f.height(b),f.css("line-height",b/2+"px")),g.height(k),i.length>0&&i.height(l),j.length>0&&j.height(m)}_.not(d)&&(d=0),_.not(e)&&(e=0);var g="landscape"==orient?c:b,h=util.getContentHeight()-e;h=h/g-2*d,$(a).height(h),$(".photo:not(.slideShowArticle), h2, .subtitle:not(.summary), .summary",$(a)).css("height","auto"),$(a).each(function(){var a=$(this),b=$(".photo",a),c=b.attr("data-origin");b.attr("data-height")?f(a,a.width()*b.attr("data-height")/b.attr("data-width")):$("<img/>").load(function(){b.attr("style",b.attr("style")+";background-image:"+rules.css.toCSSURL(c)).attr("data-height",this.height).attr("data-width",this.width),f(a,a.width()*this.height/this.width)}).error(function(a){}).attr("src",c)})},initGBRootControllerTypeTypoTablet:function(){$(function(){function a(a){var b="";return _.each(a,function(a){var c=appSections[a];b+="<li>",b+="<div data-target-property='background-color' style='background-color:"+rules.fvk("root.typo.sectionParams["+d+"].color")+"'>",b+='<a style="'+rules.fontStyle("root.typo.textFont")+';" href="'+rules.urlTo("section",c.get("id"))+'">',b+=util.stripslashes(c.get("title")),b+="</a>",b+="</div>",b+="</li>",d++,d>=appSettings.get("root.typo.sectionParams").length&&(d=0)}),b}var b=util.getContentHeight(),c=($(".home-menu li").height(),parseInt(b/58)),d=0,e=_.groupBy(appSettings.get("root.targets"),function(a,b){return Math.floor(b/c)});e=_.toArray(e);var f=e[0],g=_.isEmpty(e[1])?null:e[1];$("#left-typo").html(a(f)),_.isEmpty(g)||$("#right-typo").html(a(g)),util.scanPageForKeys()})},initGBPhotoListTemplateTypeInstagramTablet:function(){handlers.makeGridCells(".GBPhotoListTemplateTypeInstagram .pola > div.relative",4,3,0,10),$(".GBPhotoListTemplateTypeInstagram .pola > div.relative").each(function(){$("> div.relative",$(this)).height($("> div.relative",$(this)).height()/1.2)})},actionNavBarButton:function(){var a=/Instagram/.test(rules.getSectionTemplate(rules.getSelectedSection()));(rules.isItemCall()||rules.isSectionCall()&&a)&&$(document).on("click.removable",".canvas.iconFavoris",function(a){if(a.preventDefault(),preview&&rules.loginRequiredForBookmarks())return $("#commentOverlay").show(),$("#commentOverlay").on("click.removable",function(){$("#commentOverlay").hide()}),!1;$this=$(this),$this.addClass("favHide"),$action=$this.parents(".icon-parent").find(".iconFavoris").not($this).removeClass("favHide");var b=rules.getPost("item");util.empty(b)&&(b=$this.attr("data-itemid"));var c=rules.getPost("section"),d=rules.getCurrentContentUrl(rules.getSelectedSection());rules.isBookmarkSection()&&(c=rules.getPost("parent"),d=rules.getCurrentContentUrl(appSections[c]));var e={section:c,item:b,cat:rules.getPost("cat"),contentUrl:d};$action.hasClass("onFav")?util.empty(b)||util.setOnFav(e):$action.hasClass("offFav")&&(util.empty(b)||util.removeFromFav(b))});var b=rules.getSelectedSection();!preview&&rules.isListCommentsCall()&&rules.getSectionLoginRequired(b)&&!rules.getDisqus(b)&&($(".edit-comment, .arrow-comment").on("click.removable",function(){$("#commentOverlay").show()}),$("#commentOverlay").on("click.removable",function(){$("#commentOverlay").hide()}))},sharingModalBehavior:function(){rules.hideSharingModal(!0),_.is(rules.getPost("sharemodal"))&&"1"==rules.getPost("sharemodal")&&(rules.showSharingModal(!1),preview&&handlers.addEnabledSharingButtons("#ajax-enabled-services")),$(document).on("click.removable","#tabletShareButton",function(a){a.preventDefault(),rules.showSharingModal(!1),preview&&handlers.addEnabledSharingButtons("#ajax-enabled-services")}),$(document).on("click.removable",".sharingModalWindow",function(a){a.stopPropagation()}),$(document).on("click.removable",".sharingModal",function(){rules.hideSharingModal(!1)})},setBookmarkHeight:function(){function a(){$("#no-favs").height(util.getContentHeight())}$("#no-favs").length>0&&(a(),$(window).on("resize.removable",a))},addEnabledSharingButtons:function(a){rules.getEnabledServices(!1,function(b){{var c="",d=["pocket"],e=util.getCurrentBaseUrl();user.os.android}_.each(b.services,function(a){_.inArray(a,d)||(c+='<div class="sharing-button">							<img class="service" src="'+e+"/assets/img/gbpreview/iphone/share-"+a+'-off.png" />							</div>')}),$(a).html(c)}),$(document).on("click.removable",".sharing-button img.service",function(){var a={off:"on",on:"off"},b=/([\w]+)\.png/,c=$(this).attr("src"),d=c.match(b);$(this).attr("src",c.replace(b,a[d[1]]+".png"))})},bindHandlersForModal:function(a){a.find(".closeModalButton").on("click",function(){window.viewFactory.currentView.closeModal("current")})},updateCategoriesCircleBand:function(){try{return function(a){$("#circleBandContainer li").each(function(){$(this).data("subsectionid")==a?$(this).addClass("focus"):$(this).removeClass("focus")})}.apply(this,arguments)}catch(a){}},updateCategoriesExpandable:function(){try{return function(a,b){$("#expandableMenu-"+a.get("id")).children().index($(".expandableItem--sel"))!==b&&$($("#expandableMenu-"+a.get("id")).children().removeClass("expandableItem--sel").addClass("expandableItem").get(b)).removeClass("expandableItem").addClass("expandableItem--sel")}.apply(this,arguments)}catch(a){}},updateCategoriesPager:function(){try{return function(a){$(".catPager").children().index($(".catPagerBullet--sel"))!==a&&$($(".catPager").children().removeClass("catPagerBullet--sel").addClass("catPagerBullet").get(a)).removeClass("catPagerBullet").addClass("catPagerBullet--sel")}.apply(this,arguments)}catch(a){}},updateCategoriesOverlay:function(){try{return function(){handlers.manageArrows(0)}.apply(this,arguments)}catch(a){}},bookmarkingDeletion:function(){function a(){var a=$(".GBBookmark-editbtn");return a.toggleClass(".GBBookmark-editbtn--active"),a.hasClass(".GBBookmark-editbtn--active")?($(".GBBookmark-deleteoverlay").removeClass("hidden"),a.text(appLang.GB_TXT_133||"done")):(a.text(appLang.GB_TXT_132||"edit"),$(".GBBookmark-deleteoverlay").addClass("hidden")),!1}function b(){var b=$(this).parents(".GBBookmark-item");return util.removeFromFav(b.attr("data-itemid")),b.remove(),0==$(".GBBookmark-item").length?viewFactory.currentView.rerender():a()}$(".GBBookmark-editbtn").on("click.removable",a),$(document).on("click.removable",".GBBookmark-deletebtn",b)}};module.exports={handlers:handlers}},{"../contentLoader":2,"../pinchzoom":27,"../platform":30,"../rules.js":33,"../templates/templateFactory":176}],181:[function(a,b){var c=a("../templates/templateFactory"),d=a("./templatesHandlers").handlers,e=a("./templatesEventHandlersBindings"),f=a("../util"),g=(a("../common")(!1),e.events),h=e.eventHandlers,i=e.postDOMInsertHandlers,j=e.postAsyncOperationHandlers,k=Backbone.View.extend({events:{},modals:[],id:"rootContainer",initialize:function(a){this.handlersNames=[],this.postCreateCallbacks=[],this.refireablePostDOMInsertCallbacks=[],this.inDOM=!1,this.asyncContents={},this.asyncContentIsLoaded={},this.postAsyncOperationCallbacks={},this.onOrientationChangeHandlers=[],this.loadedPageCounter=0,void 0!=a.options.section&&(this.section=a.options.section)},render:function(a,b,e,f,g,h,i){return this.modals=[],$("body").removeClass("fullScreenMode"),this.template=c.getTemplate("GBMasterRoot"),this.cache=a,this.locationKey=b,this.parentEl=e,this.initEventHandlers(),_.not(f)?(d.preTemplateRenderDefaultBehavior(!1),this.$el.html(this.template.call(this.model.attributes,this.model.attributes))):(d.preTemplateRenderDefaultBehavior(!0),this.$el=f),_.is(g)&&(this.postCreateCallbacks=g),_.is(h)&&(this.asyncContentIsLoaded=h),this.fromCache=_.is(i)?i:!1,this.postRender(),this},rerender:function(){function a(){window.hashHistory=[],f.buildHashHistoryToCurrentHash(),$("#injectedGoogleCss").remove();var a=f.buildGoogleFontsUrl();if(a.length>0&&$("#injectedCSS").length>0&&$("#injectedCSS").attr("href")!=a)$("#injectedCSS").attr("href",a);else if(a.length>0&&0==$("#injectedCSS").length){var b='<link id="injectedCSS" rel="stylesheet" href="'+a;b+='">',$("head").append(b)}this.lastRerenderTime=(new Date).getTime(),this.postCreateCallbacks=[],this.onOrientationChangeHandlers=[],this.postAsyncOperationCallbacks={},this.asyncContentIsLoaded={},this.destroyEventHandlers(),this.inDOM=!1,this.rerendered=!0,this.isMultiView?(window.bindings=null,window.bindingsV2=null,this.multiRender(this.cache,this.locationKey,this.parentEl)):this.render(this.cache,this.locationKey,this.parentEl)}var b=(new Date).getTime(),c=window.location.hash;if((_.not(this.lastRerenderTime)||b-this.lastRerenderTime>1e3)&&_.not(this.delayedRerender))window.location.hash==c&&a.call(this);else if(_.not(this.delayedRerender)){var d=this;this.delayedRerender=setTimeout(function(){d.delayedRerender=void 0,window.location.hash==c&&a.call(d)},1e3-(b-this.lastRerenderTime))}},postRender:function(){this.addToDOM(),this.rebindEvents()},initEventHandlers:function(){var a=f.getActiveTemplatesKeys(),b={};_.each(a,function(a){_.each(h,function(b){_.inArray(a,b.templates)&&_.each(b.handlers,function(a,b){_.not(this[b])&&(this[b]=a,this.handlersNames.push(b))},this)},this),_.each(g,function(c){_.inArray(a,c.templates)&&_.each(c.events,function(a,c){b[c]=a},this)},this),_.each(i,function(b){_.inArray(a,b.templates)&&_.each(b.handlers,function(a){function c(){var c=_.is(b.refireable)&&b.refireable,e=_.is(b.refireOnOrientationChange)&&b.refireOnOrientationChange;d.registerPostDOMInsertCallback(a,c,e)}var d=this;_.is(b.device)?"tablet"==b.device&&(user.device.tablet||user.device.desktop)?c():"mobile"==b.device&&user.device.mobile&&c():c()},this)},this)},this),_.each(j,function(a){_.each(a.templates,function(b){_.is(a.asyncTarget)&&(b=a.asyncTarget),_.each(a.handlers,function(c){function d(){var d=_.is(a.refireOnOrientationChange)&&a.refireOnOrientationChange;e.registerPostAsyncOperationCallback(b,c,d)}var e=this;window.staticRender?"phantom"==a.device&&d():_.is(a.device)?"tablet"==a.device&&(user.device.tablet||user.device.desktop)?d():"mobile"==a.device&&user.device.mobile&&d():d()},this)},this)},this),this.events=b},destroyEventHandlers:function(){this.remove(),this.unbind(),$(window).unbind(".removable"),$(document).unbind(".removable"),$("body").unbind(".removable")},addToDOM:function(){this.$el.remove(),this.parentEl.children("div:not('#rootContainer')").remove(),this.parentEl.append(this.$el),this.inDOM=!0,window.scrollTo(0,0),d.postDOMInsertDefaultBehavior(),this.firePostDOMInsertCallbacks(),(this.fromCache||this.rerendered)&&this.refirePostAsyncOperationCallbacks(),this.$el.trigger("create"),f.googleAnalytics.enabled&&f.googleAnalytics.trackPageView()},registerPostDOMInsertCallback:function(a,b,c){_.is(b)&&b&&(this.refireablePostDOMInsertCallbacks.push(a),c&&this.refireablePostDOMInsertCallbacks.push(function(){viewFactory.currentView.onOrientationChangeHandlers.push(a)}),f.currentViewIsCachable()&&(_.not(this.cache[this.locationKey])&&(this.cache[this.locationKey]={}),this.cache[this.locationKey].refireablePostDOMInsertCallbacks=this.refireablePostDOMInsertCallbacks)),c&&(this.inDOM?this.onOrientationChangeHandlers.push(a):this.postCreateCallbacks.push(function(){viewFactory.currentView.onOrientationChangeHandlers.push(a)})),this.inDOM?a():this.postCreateCallbacks.push(a)},firePostDOMInsertCallbacks:function(){_.each(this.postCreateCallbacks,function(a){a()},this),delete this.postCreateCallbacks,this.postCreateCallbacks=[]},registerPostAsyncOperationCallback:function(a,b,c){this.asyncContentIsLoaded[a]?(c&&this.onOrientationChangeHandlers.push(b),b()):(_.not(this.postAsyncOperationCallbacks[a])&&(this.postAsyncOperationCallbacks[a]=[]),c&&this.postAsyncOperationCallbacks[a].push(function(){viewFactory.currentView.onOrientationChangeHandlers.push(b)}),this.postAsyncOperationCallbacks[a].push(b))},firePostAsyncOperationCallbacks:function(a){_.is(this.postAsyncOperationCallbacks[a])&&_.each(this.postAsyncOperationCallbacks[a],function(a){f.scanPageForKeys(),f.imagePngCanvas(),a()},this),_.each(this.postAsyncOperationCallbacks.any,function(a){a()},this)},refirePostAsyncOperationCallbacks:function(){_.each(this.asyncContentIsLoaded,function(a,b){a&&this.firePostAsyncOperationCallbacks(b)},this)},fireOnOrientationChangeHandlers:function(){_.each(this.onOrientationChangeHandlers,function(a){a()},this)},addAsyncContentToDOM:function(a,b,c,d,e,g){g=g||!1,viewFactory.cacheEnabled&&_.is(this.cache[this.locationKey])&&_.is(this.cache[this.locationKey].alreadyLoadedAsyncContents)&&this.cache[this.locationKey].alreadyLoadedAsyncContents[a]&&!g||(g&&_.is(this.asyncContentIsLoaded[a])?this.asyncContentIsLoaded[a]++:this.asyncContentIsLoaded[a]=1,$("#"+b).html(c({self:d,data:e,loadMore:g})),f.currentViewIsCachable()&&(_.not(this.cache[this.locationKey])&&(this.cache[this.locationKey]={}),this.cache[this.locationKey].alreadyLoadedAsyncContents=this.asyncContentIsLoaded)),this.firePostAsyncOperationCallbacks(a)},rebindEvents:function(){this.delegateEvents()},openModal:function(a,b){var c="fullScreenModal_"+this.modals.length,d={leftContent:[],rightContent:["closeModalButton"],id:c+"_navbar"},e=rules.getNavBar(rules.getSelectedSection(),d);this.modals.push(c),$("#root").append("<div id='"+c+"' class='fullScreenModal "+b+"'>"+e+a+"</div>"),f.addBackgroundGeneralToEl($("#"+c),rules.getSelectedSection()),window.handlers.bindHandlersForModal($("#"+c)),setTimeout(function(){$("#"+c).addClass("shown")},100)},closeModal:function(a){if(this.modals.length){var b;b="current"==a?$("#"+this.modals.pop()):this.modals.splice(a,1),b.removeClass("shown"),setTimeout(function(){b.remove()},300)}}});b.exports=k},{"../common":1,"../templates/templateFactory":176,"../util":177,"./templatesEventHandlersBindings":179,"./templatesHandlers":180}],182:[function(a,b){var c={currentContentPage:1,lastPageLoaded:!1,loadingContent:!1,lockRender:!1,loadContents:function(a,b){if(!this.loadingContent){var c=this,d=this.parentView.renderID,e=this.contentUrl;b&&(this.lastPageLoaded&&a(null),_.pos(this.nextPage)&&this.nextPage.length&&this.currentContentPage<24?(this.currentContentPage++,e=this.nextPage):(this.lastPageLoaded=!0,a(null))),this.loadingContent=!0,util.requestRouter({url:e,callback:function(b){b&&b.users&&!b.items&&(b.items=b.users),c.loadingContent=!1,c.nextPage=b.next_page,d===viewFactory.currentView.renderID&&(b&&b.items&&b.items.length&&!_.neg(c.nextPage)||(c.lastPageLoaded=!0),c.state="LOADED",a(b))},options:{sectionID:this.parentView.section.get("id"),subsectionID:this.cat,tabID:this.tab}})}},render:function(a,b,c,d){function e(d){if(f.state="RENDERED",d){if(!d.items||!d.items.length){if(b)return a();d.items=[],d.users=[]}var e=$(b?"#"+f.id+" .loadMoreContentHolder":"#"+f.id),g=b||c?"html":"append";e[g](f.template({data:d,section:f.parentView.section,cat:f.cat,tab:f.tab,template:f.templateName,loadMore:b})).addClass(f.templateName)}a&&a()}var f=this;this.lockRender||(d?e(d,b):this.loadContents(e,b))},getEl:function(){return $("#"+this.id)},setPosition:function(){var a="CURRENT";if(_.is(this.cat)&&this.cat>this.parentView.cat||_.is(this.tab)&&rules.getTabIndex(this.parentView.section,this.tab)>this.parentView.tabIndex?a="right":(_.is(this.cat)&&this.cat<this.parentView.cat||_.is(this.tab)&&rules.getTabIndex(this.parentView.section,this.tab)<this.parentView.tabIndex)&&(a="left"),"CURRENT"!=a){this.visualPosition=a;{this.$el}this.$el.removeClass("left right").addClass(a)}},prepareView:function(a){var b=!0;this.$el.hasClass("prepared")&&(b=!1),this.$el.removeClass("prepared"),this.setPosition(),this.$el.addClass("prepared");this.show();!b&&a?a():a&&setTimeout(function(){a()},100)},updateView:function(){var a=this.getEl();if(0==this.distanceFromCurrentContentView){if(a.hasClass("current"))return;this.show(),this.currentify()}else 1==this.distanceFromCurrentContentView?(a.removeClass("current"),this.prepareView()):(a.removeClass("current"),this.setPosition(),a.removeClass("prepared shown"))},currentify:function(){$("#"+this.id).addClass("current"),this.callHandlers(),this.parentView.setCurrentContentViewComponent(this)},show:function(){$("#"+this.id).addClass("shown")},hide:function(){$("#"+this.id).removeClass("shown")},callHandlers:function(){if(!this.handlersCalled){var a=this.parentView.templateHandlers.contentTemplate;_.each(a,function(a){a($("#"+this.id))},this),this.handlersCalled=!0}},getHeight:function(){return this.getEl().height()},destroy:function(){$("#"+this.id).empty()}};b.exports=c},{}],183:[function(a,b){var c=a("./view"),d=a("./multiView"),e=a("../util"),f=a("../rules");viewFactory={counter:0,log:!0,cacheEnabled:_.is(preview)&&preview&&!devMode?!1:!0,cache:{},lastViewInDOM:null,currentView:null,lastHash:null,changeViewTo:function(a,b){var c=!1,d=f.getPost("section");if(this.lastHash){var e=f.getPost("section",this.lastHash);e&&e==d&&(c=!0)}c&&this.currentView&&this.currentView.isMultiView?this.updateMultiView():!c&&d&&"multiView"==f.getSectionViewType(appSections[d])?this.createMultiView(a,b):this.createClassicView(a,b),this.lastHash=window.location.hash
},updateMultiView:function(){this.currentView.throttledUpdateView()},createMultiView:function(a,b){this.destroyCurrentView(),this.currentView=new d({model:appSettings,options:{section:f.getSelectedSection()}}),this.currentView.multiRender(this.cache,a,b)},createClassicView:function(a,b){var d,g,h,i=a,j=this.cache[i];_.is(j)&&(d=j.HTML,g=j.refireablePostDOMInsertCallbacks,h=j.alreadyLoadedAsyncContents),this.destroyCurrentView(),this.currentView=new c({model:appSettings,options:{section:f.getSelectedSection()}}),this.cacheEnabled&&void 0!=d&&e.currentViewIsCachable()?this.currentView.render(this.cache,i,b,d,g,h,!0):(this.currentView.render(this.cache,i,b),this.cacheEnabled&&e.currentViewIsCachable()&&(_.not(this.cache[i])&&(this.cache[i]={}),this.cache[i].HTML=this.currentView.$el))},destroyCurrentView:function(){this.currentView&&(this.currentView.destroyEventHandlers(),delete this.currentView)},addPostDOMInsertCallbackToCachedView:function(a,b){var c=this.cache[a];_.is(c)&&(_.not(c.refireablePostDOMInsertCallbacks)&&(c.refireablePostDOMInsertCallbacks=[]),c.refireablePostDOMInsertCallbacks.push(b))},flushCache:function(){this.cache={},this.currentView.cache={}}},b.exports=viewFactory},{"../rules":33,"../util":177,"./multiView":178,"./view":181}]},{},[7]),GridSampler={},GridSampler.checkAndNudgePoints=function(a,b){for(var c=qrcode.width,d=qrcode.height,e=!0,f=0;f<b.length&&e;f+=2){var g=Math.floor(b[f]),h=Math.floor(b[f+1]);if(-1>g||g>c||-1>h||h>d)throw"Error.checkAndNudgePoints ";e=!1,-1==g?(b[f]=0,e=!0):g==c&&(b[f]=c-1,e=!0),-1==h?(b[f+1]=0,e=!0):h==d&&(b[f+1]=d-1,e=!0)}e=!0;for(var f=b.length-2;f>=0&&e;f-=2){var g=Math.floor(b[f]),h=Math.floor(b[f+1]);if(-1>g||g>c||-1>h||h>d)throw"Error.checkAndNudgePoints ";e=!1,-1==g?(b[f]=0,e=!0):g==c&&(b[f]=c-1,e=!0),-1==h?(b[f+1]=0,e=!0):h==d&&(b[f+1]=d-1,e=!0)}},GridSampler.sampleGrid3=function(a,b,c){for(var d=new BitMatrix(b),e=new Array(b<<1),f=0;b>f;f++){for(var g=e.length,h=f+.5,i=0;g>i;i+=2)e[i]=(i>>1)+.5,e[i+1]=h;c.transformPoints1(e),GridSampler.checkAndNudgePoints(a,e);try{for(var i=0;g>i;i+=2){var j=4*Math.floor(e[i])+Math.floor(e[i+1])*qrcode.width*4,k=a[Math.floor(e[i])+qrcode.width*Math.floor(e[i+1])];qrcode.imagedata.data[j]=k?255:0,qrcode.imagedata.data[j+1]=k?255:0,qrcode.imagedata.data[j+2]=0,qrcode.imagedata.data[j+3]=255,k&&d.set_Renamed(i>>1,f)}}catch(l){throw"Error.checkAndNudgePoints"}}return d},GridSampler.sampleGridx=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=PerspectiveTransform.quadrilateralToQuadrilateral(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);return GridSampler.sampleGrid3(a,b,s)},Version.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),Version.VERSIONS=buildVersions(),Version.getVersionForNumber=function(a){if(1>a||a>40)throw"ArgumentException";return Version.VERSIONS[a-1]},Version.getProvisionalVersionForDimension=function(a){if(a%4!=1)throw"Error getProvisionalVersionForDimension";try{return Version.getVersionForNumber(a-17>>2)}catch(b){throw"Error getVersionForNumber"}},Version.decodeVersionInformation=function(a){for(var b=4294967295,c=0,d=0;d<Version.VERSION_DECODE_INFO.length;d++){var e=Version.VERSION_DECODE_INFO[d];if(e==a)return this.getVersionForNumber(d+7);var f=FormatInformation.numBitsDiffering(a,e);b>f&&(c=d+7,b=f)}return 3>=b?this.getVersionForNumber(c):null},PerspectiveTransform.quadrilateralToQuadrilateral=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.quadrilateralToSquare(a,b,c,d,e,f,g,h),r=this.squareToQuadrilateral(i,j,k,l,m,n,o,p);return r.times(q)},PerspectiveTransform.squareToQuadrilateral=function(a,b,c,d,e,f,g,h){return dy2=h-f,dy3=b-d+f-h,0==dy2&&0==dy3?new PerspectiveTransform(c-a,e-c,a,d-b,f-d,b,0,0,1):(dx1=c-e,dx2=g-e,dx3=a-c+e-g,dy1=d-f,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator,new PerspectiveTransform(c-a+a13*c,g-a+a23*g,a,d-b+a13*d,h-b+a23*h,b,a13,a23,1))},PerspectiveTransform.quadrilateralToSquare=function(a,b,c,d,e,f,g,h){return this.squareToQuadrilateral(a,b,c,d,e,f,g,h).buildAdjoint()};var FORMAT_INFO_MASK_QR=21522,FORMAT_INFO_DECODE_LOOKUP=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),BITS_SET_IN_HALF_BYTE=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);FormatInformation.numBitsDiffering=function(a,b){return a^=b,BITS_SET_IN_HALF_BYTE[15&a]+BITS_SET_IN_HALF_BYTE[15&URShift(a,4)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,8)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,12)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,16)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,20)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,24)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,28)]},FormatInformation.decodeFormatInformation=function(a){var b=FormatInformation.doDecodeFormatInformation(a);return null!=b?b:FormatInformation.doDecodeFormatInformation(a^FORMAT_INFO_MASK_QR)},FormatInformation.doDecodeFormatInformation=function(a){for(var b=4294967295,c=0,d=0;d<FORMAT_INFO_DECODE_LOOKUP.length;d++){var e=FORMAT_INFO_DECODE_LOOKUP[d],f=e[0];if(f==a)return new FormatInformation(e[1]);var g=this.numBitsDiffering(a,f);b>g&&(c=e[1],b=g)}return 3>=b?new FormatInformation(c):null},ErrorCorrectionLevel.forBits=function(a){if(0>a||a>=FOR_BITS.length)throw"ArgumentException";return FOR_BITS[a]};var L=new ErrorCorrectionLevel(0,1,"L"),M=new ErrorCorrectionLevel(1,0,"M"),Q=new ErrorCorrectionLevel(2,3,"Q"),H=new ErrorCorrectionLevel(3,2,"H"),FOR_BITS=new Array(M,L,H,Q);DataBlock.getDataBlocks=function(a,b,c){if(a.length!=b.TotalCodewords)throw"ArgumentException";for(var d=b.getECBlocksForLevel(c),e=0,f=d.getECBlocks(),g=0;g<f.length;g++)e+=f[g].Count;for(var h=new Array(e),i=0,j=0;j<f.length;j++)for(var k=f[j],g=0;g<k.Count;g++){var l=k.DataCodewords,m=d.ECCodewordsPerBlock+l;h[i++]=new DataBlock(l,new Array(m))}for(var n=h[0].codewords.length,o=h.length-1;o>=0;){var p=h[o].codewords.length;if(p==n)break;o--}o++;for(var q=n-d.ECCodewordsPerBlock,r=0,g=0;q>g;g++)for(var j=0;i>j;j++)h[j].codewords[g]=a[r++];for(var j=o;i>j;j++)h[j].codewords[q]=a[r++];for(var s=h[0].codewords.length,g=q;s>g;g++)for(var j=0;i>j;j++){var t=o>j?g:g+1;h[j].codewords[t]=a[r++]}return h},DataMask={},DataMask.forReference=function(a){if(0>a||a>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[a]},DataMask.DATA_MASKS=new Array(new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111),GF256.QR_CODE_FIELD=new GF256(285),GF256.DATA_MATRIX_FIELD=new GF256(301),GF256.addOrSubtract=function(a,b){return a^b},Decoder={},Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD),Decoder.correctErrors=function(a,b){for(var c=a.length,d=new Array(c),e=0;c>e;e++)d[e]=255&a[e];var f=a.length-b;try{Decoder.rsDecoder.decode(d,f)}catch(g){throw g}for(var e=0;b>e;e++)a[e]=d[e]},Decoder.decode=function(a){for(var b=new BitMatrixParser(a),c=b.readVersion(),d=b.readFormatInformation().ErrorCorrectionLevel,e=b.readCodewords(),f=DataBlock.getDataBlocks(e,c,d),g=0,h=0;h<f.length;h++)g+=f[h].NumDataCodewords;for(var i=new Array(g),j=0,k=0;k<f.length;k++){var l=f[k],m=l.Codewords,n=l.NumDataCodewords;Decoder.correctErrors(m,n);for(var h=0;n>h;h++)i[j++]=m[h]}var o=new QRCodeDataBlockReader(i,c.VersionNumber,d.Bits);return o},qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(a){if(0==arguments.length){var b=document.getElementById("qr-canvas"),c=b.getContext("2d");return qrcode.width=b.width,qrcode.height=b.height,qrcode.imagedata=c.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(c),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var d=new Image;d.onload=function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c=d.height,e=d.width;if(d.width*d.height>qrcode.maxImgSize){var f=d.width/d.height;c=Math.sqrt(qrcode.maxImgSize/f),e=f*c}a.width=e,a.height=c,b.drawImage(d,0,0,a.width,a.height),qrcode.width=a.width,qrcode.height=a.height;try{qrcode.imagedata=b.getImageData(0,0,a.width,a.height)}catch(g){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(b)}catch(g){qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},d.src=a},qrcode.isUrl=function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)},qrcode.decode_url=function(a){var b="";try{b=escape(a)}catch(c){b=a}var d="";try{d=decodeURIComponent(b)}catch(c){d=b}return d},qrcode.decode_utf8=function(a){return qrcode.isUrl(a)?qrcode.decode_url(a):a},qrcode.process=function(a){var b=((new Date).getTime(),qrcode.grayScaleToBitmap(qrcode.grayscale()));if(qrcode.debug){for(var c=0;c<qrcode.height;c++)for(var d=0;d<qrcode.width;d++){var e=4*d+c*qrcode.width*4;qrcode.imagedata.data[e]=b[d+c*qrcode.width]?0:0,qrcode.imagedata.data[e+1]=b[d+c*qrcode.width]?0:0,qrcode.imagedata.data[e+2]=b[d+c*qrcode.width]?255:0}a.putImageData(qrcode.imagedata,0,0)}var f=new Detector(b),g=f.detect();qrcode.debug&&a.putImageData(qrcode.imagedata,0,0);for(var h=Decoder.decode(g.bits),i=h.DataByte,j="",k=0;k<i.length;k++)for(var l=0;l<i[k].length;l++)j+=String.fromCharCode(i[k][l]);(new Date).getTime();return qrcode.decode_utf8(j)},qrcode.getPixel=function(a,b){if(qrcode.width<a)throw"point error";if(qrcode.height<b)throw"point error";return point=4*a+b*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100},qrcode.binarize=function(a){for(var b=new Array(qrcode.width*qrcode.height),c=0;c<qrcode.height;c++)for(var d=0;d<qrcode.width;d++){var e=qrcode.getPixel(d,c);b[d+c*qrcode.width]=a>=e?!0:!1}return b},qrcode.getMiddleBrightnessPerArea=function(a){for(var b=4,c=Math.floor(qrcode.width/b),d=Math.floor(qrcode.height/b),e=new Array(b),f=0;b>f;f++){e[f]=new Array(b);for(var g=0;b>g;g++)e[f][g]=new Array(0,0)}for(var h=0;b>h;h++)for(var i=0;b>i;i++){e[i][h][0]=255;for(var j=0;d>j;j++)for(var k=0;c>k;k++){var l=a[c*i+k+(d*h+j)*qrcode.width];l<e[i][h][0]&&(e[i][h][0]=l),l>e[i][h][1]&&(e[i][h][1]=l)}}for(var m=new Array(b),n=0;b>n;n++)m[n]=new Array(b);for(var h=0;b>h;h++)for(var i=0;b>i;i++)m[i][h]=Math.floor((e[i][h][0]+e[i][h][1])/2);return m},qrcode.grayScaleToBitmap=function(a){for(var b=qrcode.getMiddleBrightnessPerArea(a),c=b.length,d=Math.floor(qrcode.width/c),e=Math.floor(qrcode.height/c),f=new Array(qrcode.height*qrcode.width),g=0;c>g;g++)for(var h=0;c>h;h++)for(var i=0;e>i;i++)for(var j=0;d>j;j++)f[d*h+j+(e*g+i)*qrcode.width]=a[d*h+j+(e*g+i)*qrcode.width]<b[h][g]?!0:!1;return f},qrcode.grayscale=function(){for(var a=new Array(qrcode.width*qrcode.height),b=0;b<qrcode.height;b++)for(var c=0;c<qrcode.width;c++){var d=qrcode.getPixel(c,b);a[c+b*qrcode.width]=d}return a},Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)};var MIN_SKIP=3,MAX_MODULES=57,INTEGER_MATH_SHIFT=8,CENTER_QUORUM=2;qrcode.orderBestPatterns=function(a){function b(a,b){return xDiff=a.X-b.X,yDiff=a.Y-b.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}function c(a,b,c){var d=b.x,e=b.y;return(c.x-d)*(a.y-e)-(c.y-e)*(a.x-d)}var d,e,f,g=b(a[0],a[1]),h=b(a[1],a[2]),i=b(a[0],a[2]);if(h>=g&&h>=i?(e=a[0],d=a[1],f=a[2]):i>=h&&i>=g?(e=a[1],d=a[0],f=a[2]):(e=a[2],d=a[0],f=a[1]),c(d,e,f)<0){var j=d;d=f,f=j}a[0]=d,a[1]=e,a[2]=f};